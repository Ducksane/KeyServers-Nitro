{"code":"(this[\"webpackJsonpnitro-react\"]=this[\"webpackJsonpnitro-react\"]||[]).push([[0],{183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){\"use strict\";n.r(t);var r=n(69),a=n(128),c=n(3),i=n(113),s=n(8),o=n(7),l=n(4),u=n(1),d=n(2),j=function(e){if(!e)return 0;var t,n=0,r=Object(s.a)(e.achievements);try{for(r.s();!(t=r.n()).done;){n+=t.value.levelCount}}catch(a){r.e(a)}finally{r.f()}return n},b=function(){function e(t){Object(u.a)(this,e),this._code=void 0,this._achievements=void 0,this._code=t,this._achievements=[]}return Object(d.a)(e,[{key:\"getProgress\",value:function(){return f(this)}},{key:\"getMaxProgress\",value:function(){return j(this)}},{key:\"code\",get:function(){return this._code}},{key:\"achievements\",get:function(){return this._achievements},set:function(e){this._achievements=e}}]),e}(),O=function(e){if(!e)return null;var t=e.badgeId;return e.finalLevel||(t=F().getPreviousLevelBadgeId(t)),t},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=L(\"achievements.images.url\"),a=n?\"achicon_\":\"achcategory_\";return a+=e.code,null!==t&&(a+=\"_\".concat(t>0?\"active\":\"inactive\")),r.replace(\"%image%\",a)},f=function(e){if(!e)return 0;var t,n=0,r=Object(s.a)(e.achievements);try{for(r.s();!(t=r.n()).done;){var a=t.value;n+=a.finalLevel?a.level:a.level-1}}catch(c){r.e(c)}finally{r.f()}return n},g=function(e){if(!e)return 0;var t,n=0,r=Object(s.a)(e.achievements);try{for(r.s();!(t=r.n()).done;){t.value.unseen>0&&n++}}catch(a){r.e(a)}finally{r.f()}return n},m=function(e){return!!e&&!!(e.finalLevel||e.level-1>0)},v=function(e){return e?e.finalLevel?e.level:e.level-1:0},p=function(){function e(t,n,r){Object(u.a)(this,e),this._productName=void 0,this._customImage=void 0,this._furnitureClassName=void 0,this._productName=t,this._customImage=n,this._furnitureClassName=r}return Object(d.a)(e,[{key:\"productName\",get:function(){return this._productName}},{key:\"customImage\",get:function(){return this._customImage}},{key:\"furnitureClassName\",get:function(){return this._furnitureClassName}}]),e}(),x=Object(d.a)((function e(){Object(u.a)(this,e)}));x.STATE_UNLOCKED=1,x.STATE_LOCKED_AVAILABLE=2,x.STATE_LOCKED_EXPIRED=3,x.STATE_LOCKED_FUTURE=4;var _=Object(d.a)((function e(){Object(u.a)(this,e)}));_.OKAY=0,_.MISSING_OFFER=1,_.FURNI_LIMIT_REACHED=2,_.NOT_IN_ROOM=3,_.NOT_ROOM_OWNER=4,_.GUILD_ROOM=5,_.VISITORS_IN_ROOM=6;var E=function(){function e(t,n,r){Object(u.a)(this,e),this._depth=0,this._localization=\"\",this._pageId=-1,this._pageName=\"\",this._iconId=0,this._children=void 0,this._offerIds=void 0,this._parent=void 0,this._isVisible=void 0,this._isActive=void 0,this._isOpen=void 0,this._depth=n,this._parent=r,this._localization=t.localization,this._pageId=t.pageId,this._pageName=t.pageName,this._iconId=t.icon,this._children=[],this._offerIds=t.offerIds,this._isVisible=t.visible,this._isActive=!1,this._isOpen=!1}return Object(d.a)(e,[{key:\"activate\",value:function(){this._isActive=!0}},{key:\"deactivate\",value:function(){this._isActive=!1}},{key:\"open\",value:function(){this._isOpen=!0}},{key:\"close\",value:function(){this._isOpen=!1}},{key:\"addChild\",value:function(e){e&&this._children.push(e)}},{key:\"depth\",get:function(){return this._depth}},{key:\"isBranch\",get:function(){return this._children.length>0}},{key:\"isLeaf\",get:function(){return 0===this._children.length}},{key:\"localization\",get:function(){return this._localization}},{key:\"pageId\",get:function(){return this._pageId}},{key:\"pageName\",get:function(){return this._pageName}},{key:\"iconId\",get:function(){return this._iconId}},{key:\"children\",get:function(){return this._children}},{key:\"offerIds\",get:function(){return this._offerIds}},{key:\"parent\",get:function(){return this._parent}},{key:\"isVisible\",get:function(){return this._isVisible}},{key:\"isActive\",get:function(){return this._isActive}},{key:\"isOpen\",get:function(){return this._isOpen}}]),e}(),I=function(){function e(t,n,r,a,c){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;Object(u.a)(this,e),this._pageId=void 0,this._layoutCode=void 0,this._localization=void 0,this._offers=void 0,this._acceptSeasonCurrencyAsCredits=void 0,this._mode=void 0,this._pageId=t,this._layoutCode=n,this._localization=r,this._offers=a,this._acceptSeasonCurrencyAsCredits=c;var o,l=Object(s.a)(a);try{for(l.s();!(o=l.n()).done;){var d=o.value;d.page=this}}catch(j){l.e(j)}finally{l.f()}this._mode=-1===i?e.MODE_NORMAL:i}return Object(d.a)(e,[{key:\"pageId\",get:function(){return this._pageId}},{key:\"layoutCode\",get:function(){return this._layoutCode}},{key:\"localization\",get:function(){return this._localization}},{key:\"offers\",get:function(){return this._offers}},{key:\"acceptSeasonCurrencyAsCredits\",get:function(){return this._acceptSeasonCurrencyAsCredits}},{key:\"mode\",get:function(){return this._mode}}]),e}();I.MODE_NORMAL=0;var y=Object(d.a)((function e(){Object(u.a)(this,e)}));y.DUCKET_INFO=\"ducket_info\",y.CREDITS=\"credits\",y.AVATAR_EFFECTS=\"avatar_effects\",y.HC_MEMBERSHIP=\"hc_membership\",y.CLUB_GIFTS=\"club_gifts\",y.LIMITED_SOLD=\"limited_sold\",y.PET_ACCESSORIES=\"pet_accessories\",y.TRAX_SONGS=\"trax_songs\",y.NEW_ADDITIONS=\"new_additions\",y.QUEST_SHELL=\"quest_shell\",y.QUEST_SNOWFLAKES=\"quest_snowflakes\",y.VAL_QUESTS=\"val_quests\",y.GUILD_CUSTOM_FURNI=\"guild_custom_furni\",y.GIFT_SHOP=\"gift_shop\",y.HORSE_STYLES=\"horse_styles\",y.HORSE_SHOE=\"horse_shoe\",y.SET_EASTER=\"set_easter\",y.ECOTRON_TRANSFORM=\"ecotron_transform\",y.LOYALTY_INFO=\"loyalty_info\",y.ROOM_BUNDLES=\"room_bundles\",y.ROOM_BUNDLES_MOBILE=\"room_bundles_mobile\",y.HABBO_CLUB_DESKTOP=\"habbo_club_desktop\",y.MOBILE_SUBSCRIPTIONS=\"mobile_subscriptions\";var C=Object(d.a)((function e(t,n){Object(u.a)(this,e),this.breed=t,this.palettes=n})),T=Object(d.a)((function e(){Object(u.a)(this,e)}));T.NONE=0,T.CONFIRM=1,T.PURCHASE=2,T.NO_CREDITS=3,T.NO_POINTS=4,T.SOLD_OUT=5,T.FAILED=6;var S=Object(d.a)((function e(){Object(u.a)(this,e)}));function N(){return l.Je.instance}function R(e){N().addLinkEventTracker(e)}S.NORMAL=\"NORMAL\",S.BUILDER=\"BUILDERS_CLUB\";function k(){return N().avatar}function A(e){return k().structureData.getPalette(e)}function w(e){return k().structureData.getSetType(e)}function D(){return N().cameraManager}function U(e){e=e.startsWith(\"event:\")?e.substring(6):e,N().createLinkEvent(e)}function P(){return N().communication}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return N().getConfiguration(e,t)}function M(){return P().connection}function F(){return N().localization}function H(){return N().ticker}function B(e){N().removeLinkEventTracker(e)}function G(){return N().roomEngine}var W=!1,V=0,q=0,Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.clientX,r=e.clientY,a=e.type;switch(a===l.xe.MOUSE_CLICK&&(V&&(q=1,V>=Date.now()-300&&q++),V=Date.now(),2===q&&(W||(a=l.xe.DOUBLE_CLICK),q=0,V=null)),a){case l.xe.MOUSE_CLICK:case l.xe.DOUBLE_CLICK:break;case l.xe.MOUSE_MOVE:W=!0;break;case l.xe.MOUSE_DOWN:W=!1;break;case l.xe.MOUSE_UP:case l.xe.RIGHT_CLICK:break;default:return}G().dispatchMouseEvent(t,n,r,a,e.altKey,e.ctrlKey||e.metaKey,e.shiftKey,!1)},z=!1,K=0,Q=0,X=null,J=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=t.type;r&&(s=l.Nh.TOUCH_LONG),s!==l.Nh.TOUCH_END||z||(s=l.xe.MOUSE_CLICK,K&&(Q=1,K>=Date.now()-300&&Q++),K=Date.now(),2===Q&&(s=l.xe.DOUBLE_CLICK,Q=0,K=null)),X&&clearTimeout(X);var o=0,u=0;switch(t.touches[0]?(o=t.touches[0].clientX,u=t.touches[0].clientY):t.changedTouches[0]&&(o=t.changedTouches[0].clientX,u=t.changedTouches[0].clientY),s){case l.xe.MOUSE_CLICK:case l.xe.DOUBLE_CLICK:break;case l.Nh.TOUCH_START:X=setTimeout((function(){z||e(t,n,!0)}),300),s=l.xe.MOUSE_DOWN,z=!1;break;case l.Nh.TOUCH_MOVE:s=l.xe.MOUSE_MOVE,z=!0;break;case l.Nh.TOUCH_END:s=l.xe.MOUSE_UP;break;case l.Nh.TOUCH_LONG:s=l.xe.MOUSE_DOWN_LONG;break;default:return}G().dispatchMouseEvent(n,o,u,s,a,c,i,!1)};function Z(e){return!(!e||!e.model)&&ae().userId===e.model.getValue(l.Ig.FURNITURE_OWNER_ID)}function $(e,t,n){return!!e&&(e.controllerLevel>=l.Yf.GUEST||ae().isModerator||Z(G().getRoomObject(e.roomId,t,n)))}function ee(){return N().roomSessionManager}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ee().createSession(e,t)}function ne(){var e=he();return e?e.model.getValue(l.Ig.FIGURE_CAN_STAND_UP):l.k.POSTURE_STAND}function re(){var e=he();if(!e)return!1;var t=e.model.getValue(l.Ig.FIGURE_EFFECT);return!(29===t||30===t||185===t)}function ae(){return N().sessionDataManager}function ce(){return L(\"hc.disabled\",!1)?l.zd.VIP:ae().clubLevel}function ie(e,t){var n=null;switch(t.toLowerCase()){case aa.FLOOR:n=ae().getFloorItemData(e);break;case aa.WALL:n=ae().getWallItemData(e)}return n}function se(e,t,n){var r=G().getRoomObject(e,t,n);if(r){var a=r.model.getValue(l.Ig.FURNITURE_TYPE_ID);switch(n){case l.Cg.FLOOR:return ae().getFloorItemData(a);case l.Cg.WALL:return ae().getWallItemData(a)}return null}}function oe(){var e=he();return e?e.model.getValue(l.Ig.FIGURE_POSTURE):l.k.POSTURE_STAND}function le(e){return e?ae().getProductData(e):null}function ue(){return ee().getSession(-1)}function de(){ea(new l.qb)}function je(){return ae().clubLevel>=l.zd.CLUB}function be(){return ae().clubLevel>=l.zd.VIP}var Oe=function(){ue()&&(de(),ee().removeSession(-1))};function he(){for(var e=ae().userId,t=G().activeRoomId,n=l.Cg.UNIT,r=G().getTotalObjectsForManager(t,n),a=0;a<r;){var c=G().getRoomObjectByIndex(t,a,n);if(c){var i=ue().userDataManager.getUserDataByIndex(c.id);if(i&&i.webID===e)return c}a++}return null}var fe=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=G().getRoomObjectBoundingRectangle(e,t,n,r);return a?(a.x=Math.round(a.x),a.y=Math.round(a.y),a):null},ge=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=G().getRoomObjectScreenLocation(e,t,n,r);return a?(a.x=Math.round(a.x),a.y=Math.round(a.y),a):null},me=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=G(),a=r.activeRoomId;r.initializeRoomInstanceRenderingCanvas(a,n,e,t)};function ve(e,t,n){G().processRoomObjectOperation(e,t,n)}function pe(e){G().setActiveRoomId(e)}var xe=function(){function e(t,n,r,a){Object(u.a)(this,e),this._id=void 0,this._type=void 0,this._color=void 0,this._brightness=void 0,this._id=t,this._type=n,this._color=r,this._brightness=a}return Object(d.a)(e,[{key:\"id\",get:function(){return this._id}},{key:\"type\",get:function(){return this._type}},{key:\"color\",get:function(){return this._color}},{key:\"brightness\",get:function(){return this._brightness}}]),e}(),_e=function(){function e(t,n,r){Object(u.a)(this,e),this._id=void 0,this._category=void 0,this._name=void 0,this._id=t,this._category=n,this._name=r}return Object(d.a)(e,[{key:\"id\",get:function(){return this._id}},{key:\"category\",get:function(){return this._category}},{key:\"name\",get:function(){return this._name}}]),e}(),Ee=n(5),Ie=n(6),ye=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(l.Oe),Ce=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i){var s;return Object(u.a)(this,n),(s=t.call(this,n.AVATAR_INFO))._userId=void 0,s._userName=void 0,s._userType=void 0,s._roomIndex=void 0,s._allowNameChange=void 0,s._userId=e,s._userName=r,s._userType=a,s._roomIndex=c,s._allowNameChange=i,s}return Object(d.a)(n,[{key:\"userId\",get:function(){return this._userId}},{key:\"userName\",get:function(){return this._userName}},{key:\"userType\",get:function(){return this._userType}},{key:\"roomIndex\",get:function(){return this._roomIndex}},{key:\"allowNameChange\",get:function(){return this._allowNameChange}}]),n}(ye);Ce.AVATAR_INFO=\"RWAIE_AVATAR_INFO\";var Te=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._items=void 0,a._items=r,a}return Object(d.a)(n,[{key:\"items\",get:function(){return this._items}}]),n}(ye);Te.USER_CHOOSER_CONTENT=\"RWCCE_USER_CHOOSER_CONTENT\",Te.FURNI_CHOOSER_CONTENT=\"RWCCE_FURNI_CHOOSER_CONTENT\";var Se=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.FLOOD_CONTROL))._seconds=0,r._seconds=e,r}return Object(d.a)(n,[{key:\"seconds\",get:function(){return this._seconds}}]),n}(ye);Se.FLOOD_CONTROL=\"RWFCE_FLOOD_CONTROL\";var Ne=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i,s){var o;return Object(u.a)(this,n),(o=t.call(this,e))._roomIndex=void 0,o._category=void 0,o._id=void 0,o._name=void 0,o._userType=void 0,o._roomIndex=r,o._category=a,o._id=c,o._name=i,o._userType=s,o}return Object(d.a)(n,[{key:\"roomIndex\",get:function(){return this._roomIndex}},{key:\"category\",get:function(){return this._category}},{key:\"id\",get:function(){return this._id}},{key:\"name\",get:function(){return this._name}},{key:\"userType\",get:function(){return this._userType}}]),n}(ye);Ne.TYPE=\"RWONE_TYPE\";var Re=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._id=-1,a._summary=void 0,a._headline=void 0,a._numQuestions=0,a._startMessage=\"\",a._endMessage=\"\",a._questionArray=null,a._pollType=\"\",a._npsPoll=!1,a._id=r,a}return Object(d.a)(n,[{key:\"id\",get:function(){return this._id}},{key:\"summary\",get:function(){return this._summary},set:function(e){this._summary=e}},{key:\"headline\",get:function(){return this._headline},set:function(e){this._headline=e}},{key:\"numQuestions\",get:function(){return this._numQuestions},set:function(e){this._numQuestions=e}},{key:\"startMessage\",get:function(){return this._startMessage},set:function(e){this._startMessage=e}},{key:\"endMessage\",get:function(){return this._endMessage},set:function(e){this._endMessage=e}},{key:\"questionArray\",get:function(){return this._questionArray},set:function(e){this._questionArray=e}},{key:\"pollType\",get:function(){return this._pollType},set:function(e){this._pollType=e}},{key:\"npsPoll\",get:function(){return this._npsPoll},set:function(e){this._npsPoll=e}}]),n}(ye);Re.OFFER=\"RWPUW_OFFER\",Re.ERROR=\"RWPUW_ERROR\",Re.CONTENT=\"RWPUW_CONTENT\";var ke=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(u.a)(this,n),(r=t.call(this,e))._hue=void 0,r._saturation=void 0,r._lightness=void 0,r._hue=a,r._saturation=c,r._lightness=i,r}return Object(d.a)(n,[{key:\"hue\",get:function(){return this._hue}},{key:\"saturation\",get:function(){return this._saturation}},{key:\"lightness\",get:function(){return this._lightness}}]),n}(ye);ke.PREVIEW=\"RWUBCPE_PREVIEW\",ke.CLEAR_PREVIEW=\"RWUBCPE_CLEAR_PREVIEW\";var Ae=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i,s,o,l,d,j,b,O){var h,f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,g=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,m=arguments.length>14&&void 0!==arguments[14]?arguments[14]:null;return Object(u.a)(this,n),(h=t.call(this,e))._userId=void 0,h._text=void 0,h._chatType=void 0,h._userName=void 0,h._links=void 0,h._userX=void 0,h._userY=void 0,h._userImage=void 0,h._userColor=void 0,h._roomId=void 0,h._userCategory=void 0,h._userType=void 0,h._petType=void 0,h._styleId=void 0,h._userId=r,h._text=a,h._chatType=f,h._userName=c,h._userCategory=i,h._userType=s,h._petType=o,h._links=m,h._userX=l,h._userY=d,h._userImage=j,h._userColor=b,h._roomId=O,h._styleId=g,h}return Object(d.a)(n,[{key:\"userId\",get:function(){return this._userId}},{key:\"text\",get:function(){return this._text}},{key:\"chatType\",get:function(){return this._chatType}},{key:\"userName\",get:function(){return this._userName}},{key:\"userCategory\",get:function(){return this._userCategory}},{key:\"userType\",get:function(){return this._userType}},{key:\"petType\",get:function(){return this._petType}},{key:\"links\",get:function(){return this._links}},{key:\"userX\",get:function(){return this._userX}},{key:\"userY\",get:function(){return this._userY}},{key:\"userImage\",get:function(){return this._userImage}},{key:\"userColor\",get:function(){return this._userColor}},{key:\"roomId\",get:function(){return this._roomId}},{key:\"styleId\",get:function(){return this._styleId}}]),n}(ye);Ae.CHAT_EVENT=\"RWUCE_CHAT_EVENT\",Ae.CHAT_TYPE_SPEAK=0,Ae.CHAT_TYPE_WHISPER=1,Ae.CHAT_TYPE_SHOUT=2,Ae.CHAT_TYPE_RESPECT=3,Ae.CHAT_TYPE_PETRESPECT=4,Ae.CHAT_TYPE_NOTIFY=5,Ae.CHAT_TYPE_PETTREAT=6,Ae.CHAT_TYPE_PETREVIVE=7,Ae.CHAT_TYPE_PET_REBREED_FERTILIZE=8,Ae.CHAT_TYPE_PET_SPEED_FERTILIZE=9,Ae.CHAT_TYPE_BOT_SPEAK=10,Ae.CHAT_TYPE_BOT_SHOUT=11,Ae.CHAT_TYPE_BOT_WHISPER=12;var we=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,n.CHAT_INPUT_CONTENT))._chatMode=\"\",a._userName=\"\",a._chatMode=e,a._userName=r,a}return Object(d.a)(n,[{key:\"chatMode\",get:function(){return this._chatMode}},{key:\"userName\",get:function(){return this._userName}}]),n}(ye);we.CHAT_INPUT_CONTENT=\"RWUCICE_CHAT_INPUT_CONTENT\",we.WHISPER=\"whisper\",we.SHOUT=\"shout\";var De=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c){var i;return Object(u.a)(this,n),(i=t.call(this,e))._objectId=void 0,i._value=void 0,i._furniType=void 0,i._objectId=r,i._value=a,i._furniType=c,i}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"value\",get:function(){return this._value}},{key:\"furniType\",get:function(){return this._furniType}}]),n}(ye);De.CREDIT_FURNI_UPDATE=\"RWUCFE_CREDIT_FURNI_UPDATE\";var Ue=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(u.a)(this,n),(r=t.call(this,n.UPDATE_CUSTOM_STACK_HEIGHT))._objectId=void 0,r._height=void 0,r._objectId=e,r._height=a,r}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"height\",get:function(){return this._height}}]),n}(ye);Ue.UPDATE_CUSTOM_STACK_HEIGHT=\"RWUCSHE_UPDATE_CUSTOM_STACK_HEIGHT\";var Pe=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.UPDATE_DANCE))._isDancing=void 0,r._isDancing=e,r}return Object(d.a)(n,[{key:\"isDancing\",get:function(){return this._isDancing}}]),n}(ye);Pe.UPDATE_DANCE=\"RWUDSE_UPDATE_DANCE\";var Le=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.UPDATE_DECORATE))._isDecorating=void 0,r._isDecorating=e,r}return Object(d.a)(n,[{key:\"isDecorating\",get:function(){return this._isDecorating}}]),n}(ye);Le.UPDATE_DECORATE=\"RWUDME_UPDATE_DECORATE\";var Me=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e))._selectedPresetId=0,r._presets=void 0,r._presets=[],r}return Object(d.a)(n,[{key:\"presetCount\",get:function(){return this._presets.length}},{key:\"presets\",get:function(){return this._presets}},{key:\"selectedPresetId\",get:function(){return this._selectedPresetId},set:function(e){this._selectedPresetId=e}},{key:\"setPresetValues\",value:function(e,t,n,r){var a=new xe(e,t,n,r);this._presets[e-1]=a}},{key:\"getPresetNumber\",value:function(e){return this._presets[e]}}]),n}(ye);Me.PRESETS=\"RWUDE_PRESETS\",Me.HIDE=\"RWUDE_HIDE\";var Fe=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i){var s;return Object(u.a)(this,n),(s=t.call(this,n.DIMMER_STATE))._state=void 0,s._presetId=void 0,s._effectId=void 0,s._color=void 0,s._brightness=void 0,s._state=e,s._presetId=r,s._effectId=a,s._color=c,s._brightness=i,s}return Object(d.a)(n,[{key:\"state\",get:function(){return this._state}},{key:\"presetId\",get:function(){return this._presetId}},{key:\"effectId\",get:function(){return this._effectId}},{key:\"color\",get:function(){return this._color}},{key:\"brightness\",get:function(){return this._brightness}}]),n}(ye);Fe.DIMMER_STATE=\"RWUDSE_DIMMER_STATE\";var He=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(u.a)(this,n),(r=t.call(this,n.UPDATE_EXTERNAL_IMAGE))._objectId=void 0,r._photoData=void 0,r._objectId=e,r._photoData=a,r}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"photoData\",get:function(){return this._photoData}}]),n}(ye);He.UPDATE_EXTERNAL_IMAGE=\"RWUEIE_UPDATE_EXTERNAL_IMAGE\";var Be=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(ye),Ge=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).id=0,e.category=0,e.name=\"\",e.description=\"\",e.image=null,e.isWallItem=!1,e.isStickie=!1,e.isRoomOwner=!1,e.roomControllerLevel=0,e.isAnyRoomController=!1,e.expiration=-1,e.purchaseCatalogPageId=-1,e.purchaseOfferId=-1,e.extraParam=\"\",e.isOwner=!1,e.stuffData=null,e.groupId=0,e.ownerId=0,e.ownerName=\"\",e.usagePolicy=0,e.rentCatalogPageId=-1,e.rentOfferId=-1,e.purchaseCouldBeUsedForBuyout=!1,e.rentCouldBeUsedForBuyout=!1,e.availableForBuildersClub=!1,e.tileSizeX=1,e.tileSizeY=1,e}return Object(d.a)(n)}(Be);Ge.FURNI=\"RWUIFE_FURNI\";var We=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).level=0,e.maximumLevel=0,e.experience=0,e.levelExperienceGoal=0,e.energy=0,e.maximumEnergy=0,e.happyness=0,e.maximumHappyness=0,e.respectsPetLeft=0,e.respect=0,e.age=0,e.name=\"\",e.id=-1,e.image=null,e.petType=0,e.petBreed=0,e.petFigure=\"\",e.posture=\"std\",e.isOwner=!1,e.ownerId=-1,e.ownerName=\"\",e.canRemovePet=!1,e.roomIndex=0,e.unknownRarityLevel=0,e.saddle=!1,e.rider=!1,e.breedable=!1,e.skillTresholds=[],e.publiclyRideable=0,e.fullyGrown=!1,e.dead=!1,e.rarityLevel=0,e.maximumTimeToLive=0,e.remainingTimeToLive=0,e.remainingGrowTime=0,e.publiclyBreedable=!1,e}return Object(d.a)(n)}(Be);We.PET_INFO=\"RWUIPE_PET_INFO\";var Ve=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).name=\"\",e.motto=\"\",e.webID=0,e.figure=\"\",e.badges=[],e.carryItem=0,e.roomIndex=0,e.amIOwner=!1,e.amIAnyRoomController=!1,e.roomControllerLevel=0,e.ownerId=-1,e.ownerName=\"\",e.botSkills=[],e}return Object(d.a)(n)}(Be);Ve.RENTABLE_BOT=\"RWUIRBE_RENTABLE_BOT\";var qe=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).name=\"\",e.motto=\"\",e.achievementScore=0,e.webID=0,e.xp=0,e.userType=-1,e.figure=\"\",e.badges=[],e.groupId=0,e.groupName=\"\",e.groupBadgeId=\"\",e.carryItem=0,e.roomIndex=0,e.isSpectatorMode=!1,e.allowNameChange=!1,e.amIOwner=!1,e.amIAnyRoomController=!1,e.roomControllerLevel=0,e.canBeKicked=!1,e.canBeBanned=!1,e.canBeMuted=!1,e.respectLeft=0,e.isIgnored=!1,e.isGuildRoom=!1,e.canTrade=!1,e.canTradeReason=0,e.targetRoomControllerLevel=0,e.isAmbassador=!1,e}return Object(d.a)(n,[{key:\"isOwnUser\",get:function(){return this.type===n.OWN_USER}}]),n}(Be);qe.OWN_USER=\"RWUIUE_OWN_USER\",qe.PEER=\"RWUIUE_PEER\",qe.BOT=\"RWUIUE_BOT\",qe.TRADE_REASON_OK=0,qe.TRADE_REASON_SHUTDOWN=2,qe.TRADE_REASON_NO_TRADING=3,qe.DEFAULT_BOT_BADGE_ID=\"BOT\";var Ye=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i){var s;return Object(u.a)(this,n),(s=t.call(this,e))._objectId=void 0,s._figure=void 0,s._gender=void 0,s._name=void 0,s._objectId=r,s._figure=a,s._gender=c,s._name=i,s}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"figure\",get:function(){return this._figure}},{key:\"gender\",get:function(){return this._gender}},{key:\"name\",get:function(){return this._name}}]),n}(ye);Ye.MANNEQUIN_UPDATE=\"RWUME_MANNEQUIN_UPDATE\";var ze=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a){var c,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return Object(u.a)(this,n),(c=t.call(this,e))._objectId=-1,c._classId=0,c._itemType=\"\",c._giftMessage=\"\",c._imageUrl=null,c._isController=void 0,c._purchaserName=void 0,c._purchaserFigure=void 0,c._placedItemId=-1,c._placedItemType=\"\",c._placedInRoom=void 0,c._objectId=r,c._giftMessage=a,c._imageUrl=s,c._isController=i,c._purchaserName=o,c._purchaserFigure=l,c}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"classId\",get:function(){return this._classId},set:function(e){this._classId=e}},{key:\"itemType\",get:function(){return this._itemType},set:function(e){this._itemType=e}},{key:\"giftMessage\",get:function(){return this._giftMessage}},{key:\"imageUrl\",get:function(){return this._imageUrl}},{key:\"isController\",get:function(){return this._isController}},{key:\"purchaserName\",get:function(){return this._purchaserName}},{key:\"purchaserFigure\",get:function(){return this._purchaserFigure}},{key:\"placedItemId\",get:function(){return this._placedItemId},set:function(e){this._placedItemId=e}},{key:\"placedInRoom\",get:function(){return this._placedInRoom},set:function(e){this._placedInRoom=e}},{key:\"placedItemType\",get:function(){return this._placedItemType},set:function(e){this._placedItemType=e}}]),n}(ye);ze.PACKAGEINFO=\"RWUPDE_PACKAGEINFO\",ze.CONTENTS=\"RWUPDE_CONTENTS\",ze.CONTENTS_CLUB=\"RWUPDE_CONTENTS_CLUB\",ze.CONTENTS_FLOOR=\"RWUPDE_CONTENTS_FLOOR\",ze.CONTENTS_LANDSCAPE=\"RWUPDE_CONTENTS_LANDSCAPE\",ze.CONTENTS_WALLPAPER=\"RWUPDE_CONTENTS_WALLPAPER\",ze.CONTENTS_IMAGE=\"RWUPDE_CONTENTS_IMAGE\";var Ke=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i,s,o){var l;return Object(u.a)(this,n),(l=t.call(this,n.UPDATE_CHAT))._objectId=void 0,l._category=void 0,l._botId=void 0,l._chat=void 0,l._automaticChat=void 0,l._chatDelay=void 0,l._mixSentences=void 0,l._objectId=e,l._category=r,l._botId=a,l._chat=c,l._automaticChat=i,l._chatDelay=s,l._mixSentences=o,l}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"category\",get:function(){return this._category}},{key:\"botId\",get:function(){return this._botId}},{key:\"chat\",get:function(){return this._chat}},{key:\"automaticChat\",get:function(){return this._automaticChat}},{key:\"chatDelay\",get:function(){return this._chatDelay}},{key:\"mixSentences\",get:function(){return this._mixSentences}}]),n}(ye);Ke.UPDATE_CHAT=\"RWURBCE_UPDATE_CHAT\";var Qe=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._roomId=0,a._roomId=r,a}return Object(d.a)(n,[{key:\"roomId\",get:function(){return this._roomId}}]),n}(ye);Qe.GAME_MODE=\"RWUREE_GAME_MODE\",Qe.NORMAL_MODE=\"RWUREE_NORMAL_MODE\";var Xe=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c){var i;return Object(u.a)(this,n),(i=t.call(this,e))._id=void 0,i._category=void 0,i._roomId=void 0,i._id=r,i._category=a,i._roomId=c,i}return Object(d.a)(n,[{key:\"id\",get:function(){return this._id}},{key:\"category\",get:function(){return this._category}},{key:\"roomId\",get:function(){return this._roomId}}]),n}(ye);Xe.OBJECT_SELECTED=\"RWUROE_OBJECT_SELECTED\",Xe.OBJECT_DESELECTED=\"RWUROE_OBJECT_DESELECTED\",Xe.USER_REMOVED=\"RWUROE_USER_REMOVED\",Xe.FURNI_REMOVED=\"RWUROE_FURNI_REMOVED\",Xe.FURNI_ADDED=\"RWUROE_FURNI_ADDED\",Xe.USER_ADDED=\"RWUROE_USER_ADDED\",Xe.OBJECT_ROLL_OVER=\"RWUROE_OBJECT_ROLL_OVER\",Xe.OBJECT_ROLL_OUT=\"RWUROE_OBJECT_ROLL_OUT\",Xe.OBJECT_REQUEST_MANIPULATION=\"RWUROE_OBJECT_REQUEST_MANIPULATION\";var Je=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c){var i;return Object(u.a)(this,n),(i=t.call(this,e))._songId=void 0,i._songName=void 0,i._songAuthor=void 0,i._songId=r,i._songName=a,i._songAuthor=c,i}return Object(d.a)(n,[{key:\"songId\",get:function(){return this._songId}},{key:\"songName\",get:function(){return this._songName}},{key:\"songAuthor\",get:function(){return this._songAuthor}}]),n}(ye);Je.PLAYING_CHANGED=\"RWUSE_PLAYING_CHANGED\",Je.DATA_RECEIVED=\"RWUSE_DATA_RECEIVED\",(function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i,s){var o;return Object(u.a)(this,n),(o=t.call(this,e))._color=void 0,o._name=void 0,o._date=void 0,o._message=void 0,o._extra=void 0,o._color=r,o._name=a,o._date=c,o._message=i,o._extra=s,o}return Object(d.a)(n,[{key:\"color\",get:function(){return this._color}},{key:\"name\",get:function(){return this._name}},{key:\"date\",get:function(){return this._date}},{key:\"message\",get:function(){return this._message}},{key:\"extra\",get:function(){return this._extra}}]),n}(ye)).TROPHY_UPDATE=\"RWUTE_TROPHY_UPDATE\";var Ze=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.call(this,n.USER_DATA_UPDATED)}return Object(d.a)(n)}(ye);Ze.USER_DATA_UPDATED=\"RWUUDE_USER_DATA_UPDATED\";var $e=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(u.a)(this,n),(r=t.call(this,n.UPDATE_YOUTUBE_DISPLAY))._objectId=void 0,r._hasControl=void 0,r._objectId=e,r._hasControl=a,r}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"hasControl\",get:function(){return this._hasControl}}]),n}(ye);$e.UPDATE_YOUTUBE_DISPLAY=\"RWUEIE_UPDATE_YOUTUBE_DISPLAY\";var et=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._items=void 0,a._items=r,a}return Object(d.a)(n,[{key:\"items\",get:function(){return this._items}}]),n}(ye);et.USE_PRODUCT_BUBBLES=\"RWUPBE_USE_PRODUCT_BUBBLES\";var tt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._id=-1,a._pollType=null,a._pollId=-1,a._questionId=-1,a._duration=-1,a._question=null,a._userId=-1,a._value=void 0,a._answerCounts=void 0,a._id=r,a}return Object(d.a)(n,[{key:\"id\",get:function(){return this._id}},{key:\"pollType\",get:function(){return this._pollType},set:function(e){this._pollType=e}},{key:\"pollId\",get:function(){return this._pollId},set:function(e){this._pollId=e}},{key:\"questionId\",get:function(){return this._questionId},set:function(e){this._questionId=e}},{key:\"duration\",get:function(){return this._duration},set:function(e){this._duration=e}},{key:\"question\",get:function(){return this._question},set:function(e){this._question=e}},{key:\"userId\",get:function(){return this._userId},set:function(e){this._userId=e}},{key:\"value\",get:function(){return this._value},set:function(e){this._value=e}},{key:\"answerCounts\",get:function(){return this._answerCounts},set:function(e){this._answerCounts=e}}]),n}(ye);tt.NEW_QUESTION=\"RWPUW_NEW_QUESTION\",tt.QUESTION_FINISHED=\"RWPUW_QUESION_FINSIHED\",tt.QUESTION_ANSWERED=\"RWPUW_QUESTION_ANSWERED\";var nt=function(){function e(t,n,r,a,c,i,s){Object(u.a)(this,e),this._id=void 0,this._category=void 0,this._name=void 0,this._requestRoomObjectId=void 0,this._targetRoomObjectId=void 0,this._requestInventoryStripId=void 0,this._replace=void 0,this._id=t,this._category=n,this._name=r,this._requestRoomObjectId=a,this._requestInventoryStripId=i,this._replace=s}return Object(d.a)(e,[{key:\"id\",get:function(){return this._id}},{key:\"category\",get:function(){return this._category}},{key:\"name\",get:function(){return this._name}},{key:\"requestRoomObjectId\",get:function(){return this._requestRoomObjectId}},{key:\"requestInventoryStripId\",get:function(){return this._requestInventoryStripId}},{key:\"replace\",get:function(){return this._replace}}]),e}(),rt=function(e){if(null==e||\"object\"!=typeof e)return e;var t=new e.constructor;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},at=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:\"makeColorHex\",value:function(e){return\"#\"+e}},{key:\"makeColorNumberHex\",value:function(e){var t=e.toString(16);if(t.length<6)for(var n=6-t.length,r=0;r<n;r++)t=\"0\"+t;return\"#\"+t}},{key:\"convertFromHex\",value:function(e){return parseInt(e.replace(\"#\",\"\"),16)}}]),e}(),ct=function(e){var t=N().localization.getBadgeDesc(e);return t&&t.length||(t=\"badge_desc_\".concat(e)),t},it=function(e){var t=N().localization.getBadgeName(e);return t&&t.length||(t=\"badge_name_\".concat(e)),t};function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return N().getLocalizationWithParameters(e,t,n)}var ot=Object(d.a)((function e(){Object(u.a)(this,e)}));ot.CATALOG_PLACE_MULTIPLE_OBJECTS=\"catalogPlaceMultipleObjects\",ot.CATALOG_SKIP_PURCHASE_CONFIRMATION=\"catalogSkipPurchaseConfirmation\";var lt=n(58),ut=n(16);function dt(e,t){Object(c.useEffect)((function(){var n=new e(t);return P().registerMessageEvent(n),function(){return P().removeMessageEvent(n)}}),[e,t])}var jt=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)(null),O=Object(o.a)(j,2),h=O[0],f=O[1],m=Object(c.useState)(-1),v=Object(o.a)(m,2),p=v[0],x=v[1],_=Object(c.useState)(0),E=Object(o.a)(_,2),I=E[0],y=E[1],C=Object(c.useMemo)((function(){var e=0;return u.forEach((function(t){return e+=g(t)})),e}),[u]),T=Object(c.useMemo)((function(){var e=0;return u.forEach((function(t){return e+=t.getProgress()})),e}),[u]),S=Object(c.useMemo)((function(){var e=0;return u.forEach((function(t){return e+=t.getMaxProgress()})),e}),[u]),N=Object(c.useMemo)((function(){return~~(100*(T-0)/(S-0)+0)}),[T,S]),R=Object(c.useCallback)((function(e,t){d((function(n){var r,a=Object(ut.a)(n),c=Object(s.a)(a);try{for(c.s();!(r=c.n()).done;){var i=r.value;if(i.code===e){var o,l=Object(s.a)(i.achievements);try{for(l.s();!(o=l.n()).done;){var u=o.value;u.achievementId===t&&(u.unseen=0)}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){c.e(d)}finally{c.f()}return a}))}),[]),k=Object(c.useCallback)((function(e){var t=e.getParser().achievement;d((function(e){var n=Object(ut.a)(e),r=n.findIndex((function(e){return e.code===t.category}));if(-1===r){var a=new b(t.category);a.achievements.push(t),n.push(a)}else{var c=rt(n[r]),i=Object(ut.a)(c.achievements),s=i.findIndex((function(e){return e.achievementId===t.achievementId})),o=null;-1===s?i.push(t):(o=i[s],i[s]=t),function(e){if(!e)return!1;var t=L(\"achievements.unseen.ignored\"),n=e.badgeId.replace(/[0-9]/g,\"\");return t.indexOf(n)>=0}(t)||(t.unseen++,o&&(t.unseen+=o.unseen)),c.achievements=i,n[r]=c}return n}))}),[]);dt(l.b,k);var A=Object(c.useCallback)((function(e){var t,n=e.getParser(),r=[],a=Object(s.a)(n.achievements);try{var c=function(){var e=t.value,n=e.category,a=r.find((function(e){return e.code===n}));a||(a=new b(n),r.push(a)),a.achievements.push(e)};for(a.s();!(t=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}d(r)}),[]);dt(l.d,A);var w=Object(c.useCallback)((function(e){var t=e.getParser();y(t.score)}),[]);return dt(l.e,w),Object(c.useEffect)((function(){n&&(ea(new l.Kf),r(!1))}),[n]),{achievementCategories:u,selectedCategoryCode:h,setSelectedCategoryCode:f,selectedAchievementId:p,setSelectedAchievementId:x,achievementScore:I,getTotalUnseen:C,getProgress:T,getMaxProgress:S,scaledProgressPercent:N,setAchievementSeen:R}},bt=n(11),Ot=n(36),ht=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(l.Oe);ht.SHOW_CATALOG=\"CE_SHOW_CATALOG\",ht.HIDE_CATALOG=\"CE_HIDE_CATALOG\",ht.TOGGLE_CATALOG=\"CE_TOGGLE_CATALOG\",ht.SOLD_OUT=\"CE_SOLD_OUT\",ht.APPROVE_NAME_RESULT=\"CE_APPROVE_NAME_RESULT\",ht.PURCHASE_APPROVED=\"CE_PURCHASE_APPROVED\",ht.INIT_GIFT=\"CE_INIT_GIFT\",ht.CATALOG_RESET=\"CE_RESET\",ht.CATALOG_INVISIBLE_PAGE_VISITED=\"CE_CATALOG_INVISIBLE_PAGE_VISITED\";var ft=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a){var c;return Object(u.a)(this,n),(c=t.call(this,ht.INIT_GIFT))._pageId=void 0,c._offerId=void 0,c._extraData=void 0,c._pageId=e,c._offerId=r,c._extraData=a,c}return Object(d.a)(n,[{key:\"pageId\",get:function(){return this._pageId}},{key:\"offerId\",get:function(){return this._offerId}},{key:\"extraData\",get:function(){return this._extraData}}]),n}(ht),gt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.POST_MARKETPLACE))._item=void 0,r._item=e,r}return Object(d.a)(n,[{key:\"item\",get:function(){return this._item}}]),n}(ht);gt.POST_MARKETPLACE=\"CE_POST_MARKETPLACE\";var mt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.PURCHASE_SUCCESS))._purchase=void 0,r._purchase=e,r}return Object(d.a)(n,[{key:\"purchase\",get:function(){return this._purchase}}]),n}(l.Oe);mt.PURCHASE_SUCCESS=\"CPE_PURCHASE_SUCCESS\";var vt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.PURCHASE_FAILED))._code=void 0,r._code=e,r}return Object(d.a)(n,[{key:\"code\",get:function(){return this._code}}]),n}(l.Oe);vt.PURCHASE_FAILED=\"CPFE_PURCHASE_FAILED\";var pt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.NOT_ALLOWED))._code=void 0,r._code=e,r}return Object(d.a)(n,[{key:\"code\",get:function(){return this._code}}]),n}(l.Oe);pt.NOT_ALLOWED=\"CPNAE_NOT_ALLOWED\";var xt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(l.Oe);xt.WIDGETS_INITIALIZED=\"CWE_CWE_WIDGETS_INITIALIZED\",xt.SELECT_PRODUCT=\"CWE_SELECT_PRODUCT\",xt.SET_EXTRA_PARM=\"CWE_CWE_SET_EXTRA_PARM\",xt.PURCHASE=\"CWE_PURCHASE\",xt.COLOUR_ARRAY=\"CWE_COLOUR_ARRAY\",xt.MULTI_COLOUR_ARRAY=\"CWE_MULTI_COLOUR_ARRAY\",xt.COLOUR_INDEX=\"CWE_COLOUR_INDEX\",xt.TEXT_INPUT=\"CWE_TEXT_INPUT\",xt.DROPMENU_SELECT=\"CWE_CWE_DROPMENU_SELECT\",xt.PURCHASE_OVERRIDE=\"CWE_PURCHASE_OVERRIDE\",xt.SELLABLE_PET_PALETTES=\"CWE_SELLABLE_PET_PALETTES\",xt.UPDATE_ROOM_PREVIEW=\"CWE_UPDATE_ROOM_PREVIEW\",xt.GUILD_SELECTED=\"CWE_GUILD_SELECTED\",xt.TOTAL_PRICE_WIDGET_INITIALIZED=\"CWE_TOTAL_PRICE_WIDGET_INITIALIZED\",xt.PRODUCT_OFFER_UPDATED=\"CWE_CWE_PRODUCT_OFFER_UPDATED\",xt.SET_PREVIEWER_STUFFDATA=\"CWE_CWE_SET_PREVIEWER_STUFFDATA\",xt.EXTRA_PARAM_REQUIRED_FOR_BUY=\"CWE_CWE_EXTRA_PARAM_REQUIRED_FOR_BUY\",xt.TOGGLE=\"CWE_CWE_TOGGLE\",xt.BUILDER_SUBSCRIPTION_UPDATED=\"CWE_CWE_BUILDER_SUBSCRIPTION_UPDATED\",xt.ROOM_CHANGED=\"CWE_CWE_ROOM_CHANGED\",xt.SHOW_WARNING_TEXT=\"CWE_CWE_SHOW_WARNING_TEXT\";l.Oe;var _t=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.call(this,n.SOLD_OUT)}return Object(d.a)(n)}(l.Oe);_t.SOLD_OUT=\"CPSOE_SOLD_OUT\";l.Oe;(function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,n.UPDATE_STUFF_DATA))._offer=void 0,a._stuffData=void 0,a._offer=e,a._stuffData=r,a}return Object(d.a)(n,[{key:\"offer\",get:function(){return this._offer}},{key:\"stuffData\",get:function(){return this._stuffData}}]),n}(l.Oe)).UPDATE_STUFF_DATA=\"SRPSA_UPDATE_STUFF_DATA\";var Et=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(l.Oe);Et.SHOW_GUIDE_TOOL=\"GTE_SHOW_GUIDE_TOOL\",Et.HIDE_GUIDE_TOOL=\"GTE_HIDE_GUIDE_TOOL\",Et.TOGGLE_GUIDE_TOOL=\"GTE_TOGGLE_GUIDE_TOOL\",Et.CREATE_HELP_REQUEST=\"GTE_CREATE_HELP_REQUEST\",Et.CREATE_BULLY_REQUEST=\"GTE_CREATE_BULLY_REQUEST\";var It=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(n(25).a);It.INIT=\"HC_NAME_CHANGE_INIT\";var yt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.REPORT_USER))._reportedUserId=void 0,r._reportedUserId=e,r}return Object(d.a)(n,[{key:\"reportedUserId\",get:function(){return this._reportedUserId}}]),n}(l.Oe);yt.REPORT_USER=\"HCE_HELP_CENTER_REPORT_USER\";var Ct=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a){var c;return Object(u.a)(this,n),(c=t.call(this,n.FURNI_ADDED)).id=e,c.spriteId=r,c.category=a,c}return Object(d.a)(n)}(l.Oe);Ct.FURNI_ADDED=\"IFAE_FURNI_ADDED\";var Tt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(l.Oe);Tt.SHOW_MOD_TOOLS=\"MTE_SHOW_MOD_TOOLS\",Tt.HIDE_MOD_TOOLS=\"MTE_HIDE_MOD_TOOLS\",Tt.TOGGLE_MOD_TOOLS=\"MTE_TOGGLE_MOD_TOOLS\",Tt.OPEN_ROOM_INFO=\"MTE_OPEN_ROOM_INFO\",Tt.OPEN_ROOM_CHATLOG=\"MTE_OPEN_ROOM_CHATLOG\",Tt.OPEN_USER_INFO=\"MTE_OPEN_USER_INFO\",Tt.OPEN_USER_CHATLOG=\"MTE_OPEN_USER_CHATLOG\";var St=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,Tt.OPEN_ROOM_CHATLOG))._roomId=void 0,r._roomId=e,r}return Object(d.a)(n,[{key:\"roomId\",get:function(){return this._roomId}}]),n}(Tt),Nt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,Tt.OPEN_ROOM_INFO))._roomId=void 0,r._roomId=e,r}return Object(d.a)(n,[{key:\"roomId\",get:function(){return this._roomId}}]),n}(Tt),Rt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,Tt.OPEN_USER_CHATLOG))._userId=void 0,r._userId=e,r}return Object(d.a)(n,[{key:\"userId\",get:function(){return this._userId}}]),n}(Tt),kt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,Tt.OPEN_USER_INFO))._userId=void 0,r._userId=e,r}return Object(d.a)(n,[{key:\"userId\",get:function(){return this._userId}}]),n}(Tt),At=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return Object(u.a)(this,n),(r=t.call(this,n.ALERT))._messages=void 0,r._alertType=void 0,r._clickUrl=void 0,r._clickUrlText=void 0,r._title=void 0,r._imageUrl=void 0,r._messages=e,r._alertType=a,r._clickUrl=c,r._clickUrlText=i,r._title=s,r._imageUrl=o,r}return Object(d.a)(n,[{key:\"messages\",get:function(){return this._messages}},{key:\"alertType\",get:function(){return this._alertType}},{key:\"clickUrl\",get:function(){return this._clickUrl}},{key:\"clickUrlText\",get:function(){return this._clickUrlText}},{key:\"title\",get:function(){return this._title}},{key:\"imageUrl\",get:function(){return this._imageUrl}}]),n}(l.Oe);At.ALERT=\"NAE_ALERT\";var wt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c){var i;return Object(u.a)(this,n),(i=t.call(this,n.NEW_BUBBLE))._message=void 0,i._notificationType=void 0,i._imageUrl=void 0,i._linkUrl=void 0,i._message=e,i._notificationType=r,i._imageUrl=a,i._linkUrl=c,i}return Object(d.a)(n,[{key:\"message\",get:function(){return this._message}},{key:\"notificationType\",get:function(){return this._notificationType}},{key:\"imageUrl\",get:function(){return this._imageUrl}},{key:\"linkUrl\",get:function(){return this._linkUrl}}]),n}(l.Oe);wt.NEW_BUBBLE=\"NBE_NEW_BUBBLE\";var Dt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(u.a)(this,n),(a=t.call(this,e))._message=void 0,a._clickUrl=void 0,a._headerText=void 0,a._message=r,a._clickUrl=c,a._headerText=i,a}return Object(d.a)(n,[{key:\"message\",get:function(){return this._message}},{key:\"clickUrl\",get:function(){return this._clickUrl}},{key:\"headerText\",get:function(){return this._headerText}}]),n}(l.Oe);Dt.HOTEL_ALERT=\"NCAE_HOTEL_ALERT\";var Ut=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(l.Oe);Ut.SHOW_NOTIFICATION_CENTER=\"NCE_SHOW_NOTIFICATION_CENTER\",Ut.HIDE_NOTIFICATION_CENTER=\"NCE_HIDE_NOTIFICATION_CENTER\",Ut.TOGGLE_NOTIFICATION_CENTER=\"NCE_TOGGLE_NOTIFICATION_CENTER\",Ut.ADD_NOTIFICATION=\"NCE_ADD_NOTIFICATION\";var Pt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i,s,o){var l;return Object(u.a)(this,n),(l=t.call(this,n.CONFIRM))._confirmType=void 0,l._message=void 0,l._onConfirm=void 0,l._onCancel=void 0,l._confirmText=void 0,l._cancelText=void 0,l._title=void 0,l._confirmType=e,l._message=r,l._onConfirm=a,l._onCancel=c,l._confirmText=i,l._cancelText=s,l._title=o,l}return Object(d.a)(n,[{key:\"confirmType\",get:function(){return this._confirmType}},{key:\"message\",get:function(){return this._message}},{key:\"onConfirm\",get:function(){return this._onConfirm}},{key:\"onCancel\",get:function(){return this._onCancel}},{key:\"confirmText\",get:function(){return this._confirmText}},{key:\"cancelText\",get:function(){return this._cancelText}},{key:\"title\",get:function(){return this._title}}]),n}(l.Oe);Pt.CONFIRM=\"NCE_CONFIRM\";var Lt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(l.Oe);Lt.SHOW_THUMBNAIL=\"NE_SHOW_THUMBNAIL\",Lt.HIDE_THUMBNAIL=\"NE_HIDE_THUMBNAIL\",Lt.TOGGLE_THUMBNAIL=\"NE_TOGGLE_THUMBNAIL\";var Mt=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(l.Oe);Mt.SAVE_WIRED=\"WE_SAVE_WIRED\";var Ft=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return Object(u.a)(this,n),(e=t.call(this,n.SELECT_OBJECT))._objectId=void 0,e._category=void 0,e._objectId=r,e._category=a,e}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"category\",get:function(){return this._category}}]),n}(Mt);Ft.SELECT_OBJECT=\"WE_SELECT_OBJECT\";var Ht=function(e,t,n){Object(c.useEffect)((function(){return t.addEventListener(e,n),function(){return t.removeEventListener(e,n)}}),[e,t,n])},Bt=function(e,t){return Ht(e,Oa().events,t)},Gt=function(e,t){return e.dispatchEvent(t)},Wt=function(e){return Gt(N().events,e)},Vt=function(e,t){return Ht(e,N().events,t)},qt=function(e,t){return Ht(e,G().events,t)},Yt=function(e,t){return Ht(e,ee().events,t)},zt=new l.vb,Kt=function(e){return Gt(zt,e)},Qt=function(e,t){return Ht(e,zt,t)},Xt=function(e,t){var n=Object(c.useState)((function(){if(\"undefined\"===typeof window)return t;try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return t}})),r=Object(o.a)(n,2),a=r[0],i=r[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;i(n),\"undefined\"!==typeof window&&window.localStorage.setItem(e,JSON.stringify(n))}catch(r){l.Re.error(r)}}]},Jt=function(){return Xt(ot.CATALOG_PLACE_MULTIPLE_OBJECTS,!1)},Zt=function(){return Object(Ot.a)(Jt)},$t=function(){return Xt(ot.CATALOG_SKIP_PURCHASE_CONFIRMATION,!1)},en=function(){return Object(Ot.a)($t)},tn=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)(-1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(-1),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(S.NORMAL),x=Object(o.a)(p,2),y=x[0],T=(x[1],Object(c.useState)(null)),R=Object(o.a)(T,2),k=R[0],A=R[1],w=Object(c.useState)(null),D=Object(o.a)(w,2),P=D[0],L=D[1],M=Object(c.useState)(null),F=Object(o.a)(M,2),H=F[0],B=F[1],W=Object(c.useState)(null),V=Object(o.a)(W,2),q=V[0],Y=V[1],z=Object(c.useState)([]),K=Object(o.a)(z,2),Q=K[0],X=K[1],J=Object(c.useState)(null),Z=Object(o.a)(J,2),$=Z[0],ee=Z[1],te=Object(c.useState)([]),ne=Object(o.a)(te,2),re=ne[0],ae=ne[1],ce=Object(c.useState)(null),se=Object(o.a)(ce,2),oe=se[0],de=se[1],je=Object(c.useState)(!1),be=Object(o.a)(je,2),Oe=be[0],he=be[1],fe=Object(c.useState)({quantity:1,extraData:null,extraParamRequired:!1,previewStuffData:null}),ge=Object(o.a)(fe,2),me=ge[0],ve=ge[1],pe=Object(c.useState)({}),xe=Object(o.a)(pe,2),_e=xe[0],Ee=xe[1],Ie=Object(c.useState)(!1),ye=Object(o.a)(Ie,2),Ce=ye[0],Te=ye[1],Se=Zt(),Ne=Object(o.a)(Se,2),Re=Ne[0],ke=(Ne[1],en()),Ae=Object(o.a)(ke,2),we=Ae[0],De=(Ae[1],Object(c.useState)(null)),Ue=Object(o.a)(De,2),Pe=Ue[0],Le=Ue[1],Me=Object(c.useState)(null),Fe=Object(o.a)(Me,2),He=Fe[0],Be=Fe[1],Ge=Object(c.useState)(0),We=Object(o.a)(Ge,2),Ve=We[0],qe=We[1],Ye=Object(c.useState)(0),ze=Object(o.a)(Ye,2),Ke=ze[0],Qe=ze[1],Xe=Object(c.useState)(0),Je=Object(o.a)(Xe,2),Ze=(Je[0],Je[1]),$e=Object(c.useState)(0),et=Object(o.a)($e,2),tt=et[0],nt=et[1],rt=Object(c.useState)(0),at=Object(o.a)(rt,2),ct=(at[0],at[1]),it=Object(c.useState)(0),ot=Object(o.a)(it,2),lt=(ot[0],ot[1]),jt=Object(c.useRef)(new da),Ot=Object(c.useCallback)((function(){h(-1),v(-1),A(null),L(null),B(null),Y(null),X([]),ee(null),ae([]),r(!1)}),[]),ht=Object(c.useCallback)((function(e){if(!e)return _.MISSING_OFFER;if(Ve<0||Ve>=Ke)return _.FURNI_LIMIT_REACHED;var t=ue();if(!t)return _.NOT_IN_ROOM;if(!t.isRoomOwner)return _.NOT_ROOM_OWNER;if(tt<=0)for(var n=G(),r=n.getRoomObjectCount(t.roomId,l.Cg.UNIT);r>0;){var a=n.getRoomObjectByIndex(t.roomId,r,l.Cg.UNIT),c=t.userDataManager.getUserDataByIndex(a.id);if(c&&c.type===l.Gg.USER&&c.roomIndex!==t.ownRoomIndex&&!c.isModerator)return _.VISITORS_IN_ROOM;r--}return _.OKAY}),[Ve,Ke,tt]),ft=Object(c.useCallback)((function(e){var t=ue();return!(!(t&&e.page&&\"sold_ltd_items\"!==e.page.layoutCode&&y===S.NORMAL&&(t.isRoomOwner||t.isGuildRoom&&t.controllerLevel>=l.Yf.GUILD_MEMBER)||y===S.BUILDER&&ht(e)===_.OKAY)||e.pricingModel===ia.PRICING_MODEL_BUNDLE||e.product.productType===aa.EFFECT||e.product.productType===aa.HABBO_CLUB)}),[y,ht]),gt=Object(c.useCallback)((function(e){if(ft(e)){var t=e.product;if(t){var n=0;switch(t.productType){case aa.FLOOR:n=l.Cg.FLOOR;break;case aa.WALL:n=l.Cg.WALL}G().processRoomObjectPlacement(l.Fg.CATALOG,-e.offerId,n,t.productClassId,t.extraParam)&&(Le(e),Te(!0),r(!1))}}}),[ft]),xt=Object(c.useCallback)((function(e,t){var n=G(),r=n.getRoomInstanceVariable(n.activeRoomId,l.Ig.ROOM_WALL_TYPE),a=n.getRoomInstanceVariable(n.activeRoomId,l.Ig.ROOM_FLOOR_TYPE),c=n.getRoomInstanceVariable(n.activeRoomId,l.Ig.ROOM_LANDSCAPE_TYPE);switch(r=r&&r.length?r:\"101\",a=a&&a.length?a:\"101\",c=c&&c.length?c:\"1.1\",e){case\"floor\":return void n.updateRoomInstancePlaneType(n.activeRoomId,t,r,c,!0);case\"wallpaper\":return void n.updateRoomInstancePlaneType(n.activeRoomId,a,t,c,!0);case\"landscape\":return void n.updateRoomInstancePlaneType(n.activeRoomId,a,r,t,!0);default:return void n.updateRoomInstancePlaneType(n.activeRoomId,a,r,c,!0)}}),[]),Et=Object(c.useCallback)((function(){Pe&&(G().cancelRoomObjectInsert(),Te(!1),Le(null))}),[Pe]),It=Object(c.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Te((function(t){return t&&e&&U(\"catalog/open\"),!1}))}),[]),yt=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||It(),Be((function(e){if(e)switch(e.category){case l.Cg.FLOOR:G().removeRoomObjectFloor(e.roomId,e.objectId);break;case l.Cg.WALL:switch(e.furniData.className){case\"floor\":case\"wallpaper\":case\"landscape\":xt(\"reset\",\"\");break;default:G().removeRoomObjectWall(e.roomId,e.objectId)}break;default:G().deleteRoomObject(e.objectId,e.category)}return null}))}),[It,xt]),Tt=Object(c.useCallback)((function(e,t){if(t.pageId===e&&t!==k)return t;var n,r=Object(s.a)(t.children);try{for(r.s();!(n=r.n()).done;){var a=n.value,c=Tt(e,a);if(c)return c}}catch(i){r.e(i)}finally{r.f()}return null}),[k]),St=Object(c.useCallback)((function(e,t){if(t.pageName===e&&t!==k)return t;var n,r=Object(s.a)(t.children);try{for(r.s();!(n=r.n()).done;){var a=n.value,c=St(e,a);if(c)return c}}catch(i){r.e(i)}finally{r.f()}return null}),[k]),Nt=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!P||!P.size)return null;if(t){var n=[],r=P.get(e);if(r&&r.length){var a,c=Object(s.a)(r);try{for(c.s();!(a=c.n()).done;){var i=a.value;i.isVisible&&n.push(i)}}catch(o){c.e(o)}finally{c.f()}}if(n.length)return n}return P.get(e)}),[P]),Rt=Object(c.useCallback)((function(e,t){e<0||(d(!0),h(e),e>-1&&ea(new l.cc(e,t,y)))}),[y]),kt=Object(c.useCallback)((function(e,t,n,r,a,c){var i=new I(e,t,n,r,c);if(B(i),v((function(t){return-1!==e?e:t})),he(!1),a>-1&&i.offers.length){var o,l=Object(s.a)(i.offers);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(u.offerId===a){Y(u);break}}}catch(d){l.e(d)}finally{l.f()}}}),[]),At=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(Et(),\"root\"===e.parent.pageName&&e.children.length){var n,r=Object(s.a)(e.children);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.isVisible){e=a;break}}}catch(o){r.e(o)}finally{r.f()}}for(var c=[],i=e;i&&\"root\"!==i.pageName;)c.push(i),i=i.parent;c.reverse(),X((function(t){var n,r=t.indexOf(e)>=0,a=e.isOpen,i=Object(s.a)(t);try{for(i.s();!(n=i.n()).done;){var l=n.value;l.deactivate(),-1===c.indexOf(l)&&l.close()}}catch(o){i.e(o)}finally{i.f()}var u,d=Object(s.a)(c);try{for(d.s();!(u=d.n()).done;){var j=u.value;j.activate(),j.parent&&j.open(),j===e.parent&&j.children.length&&j.open()}}catch(o){d.e(o)}finally{d.f()}return r&&a?e.close():e.open(),c})),e.pageId>-1&&Rt(e.pageId,t)}),[X,Rt,Et]),wt=Object(c.useCallback)((function(e){if(ee(null),n){var t=Tt(e,k);t&&At(t)}else jt.current.requestById=e,r(!0)}),[n,k,Tt,At]),Dt=Object(c.useCallback)((function(e){if(ee(null),n){var t=St(e,k);t&&At(t)}else jt.current.requestByName=e,r(!0)}),[n,k,St,At]),Ut=Object(c.useCallback)((function(e){if(ee(null),n){var t=Nt(e);if(!t||!t.length)return;At(t[0],e)}else jt.current.requestedByOfferId=e,r(!0)}),[n,Nt,At]),Pt=Object(c.useCallback)((function(){}),[]),Lt=Object(c.useCallback)((function(e){var t=e.getParser(),n=new Map;A(function e(t,r,a){var c,i=new E(t,r,a),o=Object(s.a)(i.offerIds);try{for(o.s();!(c=o.n()).done;){var l=c.value;n.has(l)?n.get(l).push(i):n.set(l,[i])}}catch(b){o.e(b)}finally{o.f()}r++;var u,d=Object(s.a)(t.children);try{for(d.s();!(u=d.n()).done;){var j=u.value;i.addChild(e(j,r,i))}}catch(b){d.e(b)}finally{d.f()}return i}(t.root,0,null)),L(n)}),[A,L]);dt(l.W,Lt);var Mt=Object(c.useCallback)((function(e){var t=e.getParser();if(t.catalogType===y){var n,r=[],a=Object(s.a)(t.offers);try{for(a.s();!(n=a.n()).done;){var c,i=n.value,o=[],l=le(i.localizationId),u=Object(s.a)(i.products);try{for(u.s();!(c=u.n()).done;){var j=c.value,b=ie(j.furniClassId,j.productType);o.push(new ca(j.productType,j.furniClassId,j.extraParam,j.productCount,l,b,j.uniqueLimitedItem,j.uniqueLimitedSeriesSize,j.uniqueLimitedItemsLeft))}}catch(f){u.e(f)}finally{u.f()}if(o.length){var h=new ia(i.offerId,i.localizationId,i.rent,i.priceCredits,i.priceActivityPoints,i.priceActivityPointsType,i.giftable,i.clubLevel,o,i.bundlePurchaseAllowed);(y===S.NORMAL||h.pricingModel!==ia.PRICING_MODEL_BUNDLE&&h.pricingModel!==ia.PRICING_MODEL_MULTI)&&r.push(h)}}}catch(f){a.e(f)}finally{a.f()}t.frontPageItems&&t.frontPageItems.length&&ae(t.frontPageItems),d(!1),O===t.pageId&&kt(t.pageId,t.layoutCode,new la(t.localization.images.concat(),t.localization.texts.concat()),r,t.offerId,t.acceptSeasonCurrencyAsCredits)}}),[y,O,ae,d,kt]);dt(l.U,Mt);var Ft=Object(c.useCallback)((function(e){var t=e.getParser();Kt(new mt(t.offer))}),[]);dt(l.zf,Ft);var Ht=Object(c.useCallback)((function(e){var t=e.getParser();Kt(new vt(t.code))}),[]);dt(l.vf,Ht);var Bt=Object(c.useCallback)((function(e){var t=e.getParser();Kt(new pt(t.code))}),[]);dt(l.yf,Bt);var Gt=Object(c.useCallback)((function(e){e.getParser();Kt(new _t)}),[]);dt(l.Sd,Gt);var Wt=Object(c.useCallback)((function(e){var t=e.getParser().offer;if(t&&t.products.length){t.products[0].uniqueLimitedItem;var n,r=[],a=le(t.localizationId),c=Object(s.a)(t.products);try{for(c.s();!(n=c.n()).done;){var i=n.value,o=ie(i.furniClassId,i.productType);r.push(new ca(i.productType,i.furniClassId,i.extraParam,i.productCount,a,o,i.uniqueLimitedItem,i.uniqueLimitedSeriesSize,i.uniqueLimitedItemsLeft))}}catch(u){c.e(u)}finally{c.f()}var l=new ia(t.offerId,t.localizationId,t.rent,t.priceCredits,t.priceActivityPoints,t.priceActivityPointsType,t.giftable,t.clubLevel,r,t.bundlePurchaseAllowed);(y===S.NORMAL||l.pricingModel!==ia.PRICING_MODEL_BUNDLE&&l.pricingModel!==ia.PRICING_MODEL_MULTI)&&(l.page=H,Y(l),l.product&&l.product.productType===aa.WALL&&ve((function(e){var t=Object(bt.a)({},e);return t.extraData=l.product.extraParam||null,t})))}}),[y,H,Y,ve]);dt(l.tf,Wt);var Vt=Object(c.useCallback)((function(e){var t=e.getParser(),n=new C(t.productCode,t.palettes.slice());Ee((function(e){var t=[];e.petPalettes&&t.push.apply(t,Object(ut.a)(e.petPalettes));for(var r=0;r<t.length;r++){if(t[r].breed===n.breed){t.splice(r,1);break}}return t.push(n),Object(bt.a)(Object(bt.a)({},e),{},{petPalettes:t})}))}),[Ee]);dt(l.Dh,Vt);var Yt=Object(c.useCallback)((function(e){var t=e.getParser();Ee((function(e){var n=t.offers;return Object(bt.a)(Object(bt.a)({},e),{},{clubOffers:n})}))}),[Ee]);dt(l.Ad,Yt);var zt=Object(c.useCallback)((function(e){var t=e.getParser();Ee((function(e){var n=t.groups;return Object(bt.a)(Object(bt.a)({},e),{},{groups:n})}))}),[Ee]);dt(l.xd,zt);var Xt=Object(c.useCallback)((function(e){var t=e.getParser();Ee((function(e){var n=new oa(t);return Object(bt.a)(Object(bt.a)({},e),{},{giftConfiguration:n})}))}),[Ee]);dt(l.Ac,Xt);var Jt=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=\"\";n=1===t.result?st(\"inventory.marketplace.result.title.success\"):st(\"inventory.marketplace.result.title.failure\");var r=st(\"inventory.marketplace.result.\".concat(t.result));Ha.simpleAlert(r,Ua.DEFAULT,null,null,n)}}),[]);dt(l.de,Jt);var $t=Object(c.useCallback)((function(e){var t=e.getParser();Ee((function(e){var n=t;return Object(bt.a)(Object(bt.a)({},e),{},{clubGifts:n})}))}),[Ee]);dt(l.fb,$t);var tn=Object(c.useCallback)((function(e){var t=n;Ot(),t&&Ha.simpleAlert(st(\"catalog.alert.published.description\"),Ua.ALERT,null,null,st(\"catalog.alert.published.title\"))}),[n,Ot]);dt(l.X,tn);var nn=Object(c.useCallback)((function(e){var t=e.getParser();qe(t.furniCount),Pt()}),[Pt]);dt(l.D,nn);var rn=Object(c.useCallback)((function(e){var t=e.getParser();Qe(t._Str_15864),Ze(t._Str_24094),nt(t._Str_3709),ct(N().time),lt(t._Str_24379),Pt()}),[Pt]);dt(l.H,rn);var an=Object(c.useCallback)((function(e){wn(dr.CREDITS)}),[]);Qt(mt.PURCHASE_SUCCESS,an);var cn=Object(c.useCallback)((function(e){if(Ce&&e.type===l.kg.PLACED)if(yt(!0),Pe){var t=!1,n=Pe.product;if(e.category===l.Cg.WALL)switch(n.furnitureData.className){case\"floor\":case\"wallpaper\":case\"landscape\":t=e.placedOnFloor||e.placedOnWall;break;default:t=e.placedInRoom}else t=e.placedInRoom;if(t)switch(Be(new ua(e.roomId,e.objectId,e.category,e.wallLocation,e.x,e.y,e.direction,Pe)),y){case S.NORMAL:switch(e.category){case l.Cg.FLOOR:G().addFurnitureFloor(e.roomId,e.objectId,n.productClassId,new l.Oi(e.x,e.y,e.z),new l.Oi(e.direction),0,new l.Qd);break;case l.Cg.WALL:switch(n.furnitureData.className){case\"floor\":case\"wallpaper\":case\"landscape\":xt(n.furnitureData.className,n.extraParam);break;default:G().addFurnitureWall(e.roomId,e.objectId,n.productClassId,new l.Oi(e.x,e.y,e.z),new l.Oi(45*e.direction),0,e.instanceData,0)}}var r=G().getRoomObject(e.roomId,e.objectId,e.category);r&&r.model.setValue(l.Ig.FURNITURE_ALPHA_MULTIPLIER,.5),we?(ea(new l.xf(O,Pe.offerId,n.extraParam,1)),Re&&gt(Pe)):Re&&gt(Pe);break;case S.BUILDER:var a=Pe.page.pageId;switch(-12345678===a&&(a=-1),e.category){case l.Cg.FLOOR:ea(new l.E(a,Pe.offerId,n.extraParam,e.x,e.y,e.direction));break;case l.Cg.WALL:ea(new l.F(a,Pe.offerId,n.extraParam,e.wallLocation))}Re&&gt(Pe)}else It()}else It()}),[Ce,Pe,Re,we,y,O,yt,It,xt,gt]);qt(l.kg.PLACED,cn);var sn=Object(c.useCallback)((function(e){var t=G();if(He&&He.productClassId===e.spriteId&&He.roomId===t.activeRoomId){switch(e.category){case Un.FLOOR:var n=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_FLOOR_TYPE);He.extraParam!==n&&ea(new l.Ub(e.id));break;case Un.WALL_PAPER:var r=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_WALL_TYPE);He.extraParam!==r&&ea(new l.Ub(e.id));break;case Un.LANDSCAPE:var a=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_LANDSCAPE_TYPE);He.extraParam!==a&&ea(new l.Ub(e.id));break;default:ea(new l.Tb(e.id,He.category,He.wallLocation,He.x,He.y,He.direction))}Re||yt()}}),[He,Re,yt]);return Qt(Ct.FURNI_ADDED,sn),Object(c.useEffect)((function(){return function(){return Y(null)}}),[H]),Object(c.useEffect)((function(){if(n&&k&&jt.current)switch(jt.current.requestType){case da.REQUEST_TYPE_NONE:if(H)return;if(k.isBranch){var e,t=Object(s.a)(k.children);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r&&r.isVisible)return void At(r)}}catch(a){t.e(a)}finally{t.f()}}return;case da.REQUEST_TYPE_ID:return wt(jt.current.requestById),void jt.current.resetRequest();case da.REQUEST_TYPE_OFFER:return Ut(jt.current.requestedByOfferId),void jt.current.resetRequest();case da.REQUEST_TYPE_NAME:return Dt(jt.current.requestByName),void jt.current.resetRequest()}}),[n,k,H,At,wt,Ut,Dt]),Object(c.useEffect)((function(){!$&&H&&-1===H.pageId&&wt(m)}),[$,H,m,wt]),Object(c.useEffect)((function(){n&&!k&&(ea(new l.ic),ea(new l.fc),ea(new l.bc(y)),ea(new l.G))}),[n,k,y]),Object(c.useEffect)((function(){return de(new l.Kg(G(),++l.Kg.PREVIEW_COUNTER)),function(){de((function(e){return e.dispose(),null}))}}),[]),{isVisible:n,setIsVisible:r,isBusy:u,pageId:O,previousPageId:m,currentType:y,rootNode:k,offersToNodes:P,currentPage:H,setCurrentPage:B,currentOffer:q,setCurrentOffer:Y,activeNodes:Q,searchResult:$,setSearchResult:ee,frontPageItems:re,roomPreviewer:oe,navigationHidden:Oe,setNavigationHidden:he,purchaseOptions:me,setPurchaseOptions:ve,catalogOptions:_e,setCatalogOptions:Ee,getNodeById:Tt,getNodeByName:St,activateNode:At,openPageById:wt,openPageByName:Dt,openPageByOfferId:Ut,requestOfferToMover:gt}},nn=function(){return Object(Ot.a)(tn)},rn=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)([]),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useMemo)((function(){var e=n.filter((function(e){return e.online}));return e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),e}),[n]),x=Object(c.useMemo)((function(){var e=n.filter((function(e){return!e.online}));return e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),e}),[n]),_=Object(c.useCallback)((function(e){return ea(new l.Db(e.id))}),[]),E=Object(c.useCallback)((function(e,t){return t!==e.relationshipStatus&&ea(new l.Ih(e.id,t))}),[]),I=Object(c.useCallback)((function(e){var t,r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.id===e)return a}}catch(c){r.e(c)}finally{r.f()}return null}),[n]),y=Object(c.useCallback)((function(e){return!I(e)&&(!u.find((function(t){return t.requesterUserId===e}))&&!(O.indexOf(e)>=0))}),[u,O,I]),C=Object(c.useCallback)((function(e,t){if(!y(e))return!1;h((function(t){var n=Object(ut.a)(t);return n.push(e),n})),ea(new l.Of(t))}),[y]),T=Object(c.useCallback)((function(e,t){-1!==e||t?d((function(n){var r=Object(ut.a)(n),a=r.findIndex((function(t){return t.id===e}));return-1===a?n:(ea(t?new l.a(r[a].id):new l.ob(!1,r[a].id)),r.splice(a,1),r)})):(ea(new l.ob(!0)),d([]))}),[]),S=Object(c.useCallback)((function(e){var t=e.getParser();v(new va(t.userFriendLimit,t.normalFriendLimit,t.extendedFriendLimit,t.categories)),ea(new l.hc)}),[]);dt(l.ge,S);var N=Object(c.useCallback)((function(e){var t=e.getParser();r((function(e){var n,r=Object(ut.a)(e),a=Object(s.a)(t.fragment);try{var c=function(){var e=n.value,t=r.findIndex((function(t){return t.id===e.id})),a=new qr;a.populate(e),t>-1?r[t]=a:r.push(a)};for(a.s();!(n=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}return r}))}),[]);dt(l.Fb,N);var R=Object(c.useCallback)((function(e){var t=e.getParser();r((function(e){var n,r=Object(ut.a)(e),a=function(e){var t=r.findIndex((function(t){return t.id===e.id}));if(-1===t){var n=new qr;n.populate(e),r.unshift(n)}else r[t].populate(e)},c=Object(s.a)(t.addedFriends);try{for(c.s();!(n=c.n()).done;){a(n.value)}}catch(j){c.e(j)}finally{c.f()}var i,o=Object(s.a)(t.updatedFriends);try{for(o.s();!(i=o.n()).done;){a(i.value)}}catch(j){o.e(j)}finally{o.f()}var l,u=Object(s.a)(t.removedFriendIds);try{var d=function(){var e=l.value,t=r.findIndex((function(t){return t.id===e}));t>-1&&r.splice(t,1)};for(u.s();!(l=u.n()).done;)d()}catch(j){u.e(j)}finally{u.f()}return r}))}),[]);dt(l.Gb,R);var k=Object(c.useCallback)((function(e){var t=e.getParser();d((function(e){var n,r=Object(ut.a)(e),a=Object(s.a)(t.requests);try{var c=function(){var e=n.value,t=r.findIndex((function(t){return t.requesterUserId===e.requesterUserId}));if(t>0)r[t]=rt(r[t]),r[t].populate(e);else{var a=new ma;a.populate(e),r.push(a)}};for(a.s();!(n=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}return r}))}),[]);dt(l.Hb,k);var A=Object(c.useCallback)((function(e){var t=e.getParser().request;d((function(e){var n=Object(ut.a)(e);if(-1===n.findIndex((function(e){return e.requesterUserId===t.requesterUserId}))){var r=new ma;r.populate(t),n.push(r)}return n}))}),[]);return dt(l.Ie,A),Object(c.useEffect)((function(){ea(new l.fe)}),[]),{friends:n,requests:u,sentRequests:O,settings:m,onlineFriends:p,offlineFriends:x,getFriend:I,canRequestFriend:y,requestFriend:C,requestResponse:T,followFriend:_,updateRelationship:E}},an=function(){return Object(Ot.a)(rn)},cn=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(-1),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)([]),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(ga.HIDDEN),g=Object(o.a)(f,2),m=g[0],v=g[1],p=an().getFriend,x=void 0===p?null:p,_=Object(c.useMemo)((function(){return n.filter((function(e){return-1===O.indexOf(e.threadId)}))}),[n,O]),E=Object(c.useMemo)((function(){return u>0&&_.find((function(e){return e.threadId===u||null}))}),[u,_]),I=Object(c.useCallback)((function(e){var t=n.find((function(t){return t.participant&&t.participant.id===e}));if(t)return t;var a=x(e);return a?(t=new _a(a),r((function(e){var n=Object(ut.a)(e);return n.push(t),n})),h((function(e){var n=e.indexOf(t.threadId);if(-1===n)return e;var r=Object(ut.a)(e);return r.splice(n,1),r})),t):null}),[n,x]),y=Object(c.useCallback)((function(e){var t=e.getParser();r((function(e){var n=Object(ut.a)(e),r=n.findIndex((function(e){return e.participant&&e.participant.id===t.senderId})),a=null;if(-1===r){var c=x(t.senderId);c&&(a=new _a(c),n.push(a))}else n[r]=rt(n[r]),a=n[r];return a.addMessage(t.senderId,t.messageText,t.secondsSinceSent,t.extraData),u===a.threadId&&a.setRead(),a.unreadCount>0&&wn(dr.MESSENGER_MESSAGE_RECEIVED),n}))}),[u,x]);dt(l.He,y);var C=Object(c.useCallback)((function(e){var t=e.getParser();r((function(e){var n=Object(ut.a)(e),r=n.findIndex((function(e){return e.participant&&e.participant.id===t.senderId})),a=null;if(-1===r){var c=x(t.senderId);c&&(a=new _a(c),n.push(a))}else n[r]=rt(n[r]),a=n[r];return a.addMessage(null,t.messageText,0,null,pa.ROOM_INVITE),u===a.threadId&&a.setRead(),a.unreadCount>0&&wn(dr.MESSENGER_MESSAGE_RECEIVED),n}))}),[u,x]);dt(l.yg,C);var T=Object(c.useCallback)((function(e){var t=e.getParser(),n=\"Received room invite error: errorCode: \"+t.errorCode+\", recipients: \"+t.failedRecipients;Ha.simpleAlert(n,Ua.DEFAULT,null,null,st(\"friendlist.alert.title\"))}),[]);return dt(l.xg,T),Object(c.useEffect)((function(){u<=0||r((function(e){var t=Object(ut.a)(e),n=t.findIndex((function(e){return e.threadId===u}));if(-1!==n)return t[n]=rt(t[n]),t[n].setRead(),t}))}),[u]),Object(c.useEffect)((function(){v((function(e){if(!_.length)return ga.HIDDEN;var t,n=!1,r=Object(s.a)(_);try{for(r.s();!(t=r.n()).done;){if(t.value.unreadCount>0){n=!0;break}}}catch(a){r.e(a)}finally{r.f()}return n?ga.UNREAD:ga.SHOW}))}),[_]),{messageThreads:n,activeThread:E,iconState:m,visibleThreads:_,getMessageThread:I,setActiveThreadId:d,closeThread:function(e){h((function(t){var n=Object(ut.a)(t);return n.indexOf(e)>=0?t:(n.push(e),n)}))},sendMessage:function(e,t){e&&t&&t.length&&(ea(new l.Eh(e.participant.id,t)),1===n.length&&1===e.groups.length&&wn(dr.MESSENGER_NEW_THREAD),r((function(n){var r=Object(ut.a)(n),a=r.findIndex((function(t){return t.threadId===e.threadId}));return-1===a?n:(r[a]=rt(r[a]),(e=r[a]).addMessage(ae().userId,t,0,null,pa.CHAT),u===e.threadId&&e.setRead(),r)})))}}},sn=function(){return Object(Ot.a)(cn)},on=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return{isVisible:Object(c.useMemo)((function(){return!!n.length}),[n]),activate:Object(c.useCallback)((function(){var e=-1;return r((function(t){var n=Object(ut.a)(t);return e=n.length?n[n.length-1]+1:0,n.push(e),n})),e}),[]),deactivate:Object(c.useCallback)((function(e){r((function(t){var n=Object(ut.a)(t),r=n.indexOf(e);return-1===r?t:(n.splice(r,1),n)}))}),[])}},ln=n(53),un=function(){var e=Object(c.useState)(new Map),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useCallback)((function(e){var t;return(null===(t=n.get(e))||void 0===t?void 0:t.length)||0}),[n]),i=Object(c.useMemo)((function(){var e,t=0,r=Object(s.a)(n.keys());try{for(r.s();!(e=r.n()).done;){var c=e.value;t+=a(c)}}catch(i){r.e(i)}finally{r.f()}return t}),[n,a]),u=Object(c.useCallback)((function(e){var t=!0;return r((function(n){if(!n.has(e))return t=!1,n;var r=new Map(n);return r.delete(e),function(e){ea(new l.ki(e))}(e),r})),t}),[]),d=Object(c.useCallback)((function(e,t){var n=!0;return r((function(r){if(!r.has(e))return n=!1,r;var a=new Map(r),c=a.get(e);if(c){var i,o=Object(s.a)(t);try{for(o.s();!(i=o.n()).done;){var u=i.value;c.splice(c.indexOf(u),1)}}catch(d){o.e(d)}finally{o.f()}}return function(e,t){ea(Object(ln.a)(l.li,[e].concat(Object(ut.a)(t))))}(e,t),a})),n}),[]),j=Object(c.useCallback)((function(e,t){return!!n.has(e)&&n.get(e).indexOf(t)>=0}),[n]),b=Object(c.useCallback)((function(e,t){r((function(n){if(!n.has(e))return n;var r=new Map(n),a=r.get(e),c=a.indexOf(t);return c>=0&&a.splice(c,1),r}))}),[]),O=Object(c.useCallback)((function(e){var t=e.getParser();r((function(e){var n,r=new Map(e),a=Object(s.a)(t.categories);try{for(a.s();!(n=a.n()).done;){var c=n.value,i=r.get(c);i||(i=[],r.set(c,i));var o,l=t.getItemsByCategory(c),u=Object(s.a)(l);try{for(u.s();!(o=u.n()).done;){var d=o.value;-1===i.indexOf(d)&&i.push(d)}}catch(j){u.e(j)}finally{u.f()}}}catch(j){a.e(j)}finally{a.f()}return r}))}),[]);return dt(l.ji,O),{getCount:a,getFullCount:i,resetCategory:u,resetItems:d,isUnseen:j,removeUnseen:b}},dn=function(){return Object(Ot.a)(un)},jn=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)([]),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)([]),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(null),x=Object(o.a)(p,2),_=x[0],E=x[1],I=on(),y=I.isVisible,C=void 0!==y&&y,T=I.activate,S=void 0===T?null:T,N=I.deactivate,R=void 0===N?null:N,k=dn(),A=k.isUnseen,w=void 0===A?null:A,D=k.resetCategory,U=void 0===D?null:D,P=L(\"user.badges.max.slots\",5),M=function(){return m.length<P},F=Object(c.useCallback)((function(e){var t,n=e.getParser(),r=n.getAllBadgeCodes(),a=[],c=Object(s.a)(r);try{for(c.s();!(t=c.n()).done;){var i=t.value;a.push(n.getBadgeId(i))}}catch(o){c.e(o)}finally{c.f()}d(r),h(a),v(n.getActiveBadgeCodes())}),[]);dt(l.v,F);var H=Object(c.useCallback)((function(e){var t=e.getParser(),n=w(Jn.BADGE,t.badgeId);d((function(e){var r=Object(ut.a)(e);return n?r.unshift(t.badgeCode):r.push(t.badgeCode),r})),h((function(e){var r=Object(ut.a)(e);return n?r.unshift(t.badgeId):r.push(t.badgeId),r}))}),[w]);return dt(l.u,H),Object(c.useEffect)((function(){u&&u.length&&E((function(e){var t=e;return t&&-1===u.indexOf(t)&&(t=null),t||(t=u[0]),t}))}),[u]),Object(c.useEffect)((function(){if(C)return function(){U(Jn.BADGE)}}),[C,U]),Object(c.useEffect)((function(){C&&n&&(ea(new l.Lf),r(!1))}),[C,n]),{badgeCodes:u,activeBadgeCodes:m,selectedBadgeCode:_,setSelectedBadgeCode:E,isWearingBadge:function(e){return m.indexOf(e)>=0},canWearBadges:M,toggleBadge:function(e){v((function(t){var n=Object(ut.a)(t),r=n.indexOf(e);if(-1===r){if(!M())return t;n.push(e)}else n.splice(r,1);for(var a=new l.Gh,c=0;c<P;c++)a.addActivatedBadge(n[c]||null);return ea(a),n}))},getBadgeId:function(e){var t=u.indexOf(e);return-1===t?0:O[t]||0},activate:S,deactivate:R}},bn=function(){return Object(Ot.a)(jn)},On=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=on(),g=f.isVisible,m=void 0!==g&&g,v=f.activate,p=void 0===v?null:v,x=f.deactivate,_=void 0===x?null:x,E=dn(),I=E.isUnseen,y=void 0===I?null:I,C=E.resetCategory,T=void 0===C?null:C,S=Object(c.useCallback)((function(e){var t=e.getParser();d((function(e){var n,r=Object(ut.a)(e),a=r.map((function(e){return e.botData.id})),c=[],i=Object(s.a)(t.items.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;-1===a.indexOf(o.id)&&c.push(o)}}catch(f){i.e(f)}finally{i.f()}var l,u=Object(s.a)(a);try{var d=function(){var e,n=l.value,a=!0,c=Object(s.a)(t.items.values());try{for(c.s();!(e=c.n()).done;){if(e.value.id===n){a=!1;break}}}catch(f){c.e(f)}finally{c.f()}if(!a)return\"continue\";var i=r.findIndex((function(e){return e.botData.id===n})),o=r[i];if(-1===i||!o)return\"continue\";qn()===o.botData.id&&(zn(),U(\"inventory/open\")),r.splice(i,1)};for(u.s();!(l=u.n()).done;)d()}catch(f){u.e(f)}finally{u.f()}for(var j=0,b=c;j<b.length;j++){var O=b[j],h={botData:O};y(Jn.BOT,O.id)?r.unshift(h):r.push(h)}return r}))}),[y]);dt(l.z,S);var N=Object(c.useCallback)((function(e){var t=e.getParser();d((function(e){var n=Object(ut.a)(e);if(n.findIndex((function(e){return e.botData.id===t.item.id}))>=0)return e;var r={botData:t.item};return y(Jn.BOT,r.botData.id)?n.unshift(r):n.push(r),n}))}),[y]);dt(l.x,N);var R=Object(c.useCallback)((function(e){var t=e.getParser();d((function(e){var n=Object(ut.a)(e),r=n.findIndex((function(e){return e.botData.id===t.itemId}));return-1===r?e:(n.splice(r,1),qn()===t.itemId&&(zn(),U(\"inventory/show\")),n)}))}),[]);return dt(l.B,R),Object(c.useEffect)((function(){u&&u.length&&h((function(e){var t=e;return t&&-1===u.indexOf(t)&&(t=null),t||(t=u[0]),t}))}),[u]),Object(c.useEffect)((function(){if(m)return function(){T(Jn.BOT)}}),[m,T]),Object(c.useEffect)((function(){m&&n&&(ea(new l.ac),r(!1))}),[m,n]),{botItems:u,selectedBot:O,setSelectedBot:h,activate:p,deactivate:_}},hn=function(){return Object(Ot.a)(On)},fn=null,gn=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=on(),g=f.isVisible,m=void 0!==g&&g,v=f.activate,p=void 0===v?null:v,x=f.deactivate,_=void 0===x?null:x,E=dn(),I=E.isUnseen,y=void 0===I?null:I,C=E.resetCategory,T=void 0===C?null:C,S=Object(c.useCallback)((function(e){var t=e.getParser();d((function(e){var n,r=Object(ut.a)(e),a=Object(s.a)(t.items);try{for(a.s();!(n=a.n()).done;){for(var c=n.value,i=0,o=null;i<r.length;){for(var l=r[i],u=0;u<l.items.length;){var d=l.items[u];if(d.id===c.itemId){d.update(c);var j=Object(ut.a)(l.items);j[u]=d,l.items=j,o=l;break}u++}if(o)break;i++}if(o)o.hasUnseenItems=!0,r[i]=rt(o);else{var b=new Pn(c);Fn(r,b,y(Jn.FURNI,c.itemId)),Kt(new Ct(b.id,b.type,b.category))}}}catch(O){a.e(O)}finally{a.f()}return r}))}),[y]);dt(l.Lb,S);var N=Object(c.useCallback)((function(e){var t=e.getParser();fn||(fn=new Array(t.totalFragments));var n=Hn(t.fragment,t.totalFragments,t.fragmentNumber,fn);n&&(d((function(e){var t,r=Object(ut.a)(e),a=Bn(r),c=Object(s.a)(a);try{for(c.s();!(t=c.n()).done;){var i=t.value;if(!n.get(i))for(var o=0;o<r.length;){var l=r[o],u=l.remove(i);if(u){qn()===u.ref&&(zn(),Qn(l)||U(\"inventory/show\")),l.getTotalCount()<=0&&(r.splice(o,1),l.dispose());break}o++}}}catch(f){c.e(f)}finally{c.f()}var d,j=Object(s.a)(n.keys());try{for(j.s();!(d=j.n()).done;){var b=d.value;if(!(a.indexOf(b)>=0)){var O=n.get(b);if(O){var h=new Pn(O);Fn(r,h,y(Jn.FURNI,b)),Kt(new Ct(h.id,h.type,h.category))}}}}catch(f){j.e(f)}finally{j.f()}return r})),fn=null)}),[y]);dt(l.Nb,N);var R=Object(c.useCallback)((function(e){r(!0)}),[]);dt(l.Ob,R);var k=Object(c.useCallback)((function(e){var t=e.getParser();d((function(e){for(var n=Object(ut.a)(e),r=0;r<n.length;){var a=n[r],c=a.remove(t.itemId);if(c){qn()===c.ref&&(zn(),Qn(a)||U(\"inventory/show\")),a.getTotalCount()<=0&&(n.splice(r,1),a.dispose());break}r++}return n}))}),[]);dt(l.Pb,k);var A=Object(c.useCallback)((function(e){}),[]);return dt(l.Vb,A),Object(c.useEffect)((function(){u&&u.length&&h((function(e){var t=e;return t&&-1===u.indexOf(t)&&(t=null),t||(t=u[0]),t}))}),[u]),Object(c.useEffect)((function(){if(m)return function(){T(Jn.FURNI)&&d((function(e){var t,n=Object(ut.a)(e),r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.hasUnseenItems=!1}}catch(a){r.e(a)}finally{r.f()}return n}))}}),[m,T]),Object(c.useEffect)((function(){m&&n&&(ea(new l.Mb),r(!1))}),[m,n]),{isVisible:m,groupItems:u,setGroupItems:d,selectedItem:O,setSelectedItem:h,activate:p,deactivate:_}},mn=function(){return Object(Ot.a)(gn)},vn=null,pn=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(o.a)(a,2),s=i[0],u=i[1],d=Object(c.useState)(null),j=Object(o.a)(d,2),b=j[0],O=j[1],h=on(),f=h.isVisible,g=void 0!==f&&f,m=h.activate,v=void 0===m?null:m,p=h.deactivate,x=void 0===p?null:p,_=dn(),E=_.isUnseen,I=void 0===E?null:E,y=_.resetCategory,C=void 0===y?null:y,T=Object(c.useCallback)((function(e){var t=e.getParser();vn||(vn=new Array(t.totalFragments));var n=tr(t.fragment,t.totalFragments,t.fragmentNumber,vn);n&&(u((function(e){var t=Object(ut.a)(e);return er(t,n,I),t})),vn=null)}),[I]);dt(l.kf,T);var S=Object(c.useCallback)((function(e){var t=e.getParser();u((function(e){var n=Object(ut.a)(e);return Zn(t.pet,n,I(Jn.PET,t.pet.id)),n}))}),[I]);dt(l.hf,S);var N=Object(c.useCallback)((function(e){var t=e.getParser();u((function(e){var n=Object(ut.a)(e);return $n(t.petId,n),n}))}),[]);return dt(l.nf,N),Object(c.useEffect)((function(){s&&s.length&&O((function(e){var t=e;return t&&-1===s.indexOf(t)&&(t=null),t||(t=s[0]),t}))}),[s]),Object(c.useEffect)((function(){if(g)return function(){C(Jn.PET)}}),[g,C]),Object(c.useEffect)((function(){g&&n&&(ea(new l.Pf),r(!1))}),[g,n]),{petItems:s,selectedPet:b,setSelectedPet:O,activate:v,deactivate:x}},xn=function(){return Object(Ot.a)(pn)},_n=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)(nr.TRADING_STATE_READY),b=Object(o.a)(j,2),O=b[0],h=b[1],f=mn(),g=f.groupItems,m=void 0===g?[]:g,v=f.setGroupItems,p=void 0===v?null:v,x=f.activate,_=void 0===x?null:x,E=f.deactivate,I=void 0===E?null:E,y=O>=nr.TRADING_STATE_RUNNING,C=Object(c.useCallback)((function(e){var t=e.getParser();n&&u&&(n.userId===t.userID?r((function(e){var n=rt(e);return n.accepts=t.userAccepts,n})):u.userId===t.userID&&d((function(e){var n=rt(e);return n.accepts=t.userAccepts,n})))}),[n,u]);dt(l.Ph,C);var T=Object(c.useCallback)((function(e){var t=e.getParser();t.reason===l.Th.ERROR_WHILE_COMMIT?cr(ar.ERROR_WHILE_COMMIT):n&&t.userID!==n.userId&&cr(ar.THEY_CANCELLED),r(null),d(null),h(nr.TRADING_STATE_READY)}),[n]);dt(l.Sh,T);var S=Object(c.useCallback)((function(e){e.getParser();r(null),d(null),h(nr.TRADING_STATE_READY)}),[]);dt(l.Uh,S);var N=Object(c.useCallback)((function(e){e.getParser();h(nr.TRADING_STATE_COUNTDOWN)}),[]);dt(l.Wh,N);var R=Object(c.useCallback)((function(e){var t=e.getParser(),n=sr(t.firstUserItemArray),a=sr(t.secondUserItemArray);r((function(e){var r=rt(e);r.userId===t.firstUserID?(r.creditsCount=t.firstUserNumCredits,r.itemCount=t.firstUserNumItems,r.userItems=n):(r.creditsCount=t.secondUserNumCredits,r.itemCount=t.secondUserNumItems,r.userItems=a);var c,i=[],o=Object(s.a)(r.userItems.getValues());try{for(o.s();!(c=o.n()).done;)for(var l=c.value,u=0;u<l.getTotalCount();){var d=l.getItemByIndex(u);d&&i.push(d.ref),u++}}catch(j){o.e(j)}finally{o.f()}return p((function(e){var t,n=Object(ut.a)(e),r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.lockItemIds(i)}}catch(j){r.e(j)}finally{r.f()}return n})),r})),d((function(e){var r=rt(e);return r.userId===t.firstUserID?(r.creditsCount=t.firstUserNumCredits,r.itemCount=t.firstUserNumItems,r.userItems=n):(r.creditsCount=t.secondUserNumCredits,r.itemCount=t.secondUserNumItems,r.userItems=a),r}))}),[p]);dt(l.Zh,R);var k=Object(c.useCallback)((function(e){e.getParser()}),[]);dt(l.bi,k);var A=Object(c.useCallback)((function(e){var t=e.getParser(),n=new rr,a=ue().userDataManager.getUserData(t.userID);n.userItems=new l.g;var c=new rr,i=ue().userDataManager.getUserData(t.otherUserID);c.userItems=new l.g,a.webID===ae().userId?(n.userId=a.webID,n.userName=a.name,n.canTrade=t.userCanTrade,c.userId=i.webID,c.userName=i.name,c.canTrade=t.otherUserCanTrade):i.webID===ae().userId&&(n.userId=i.webID,n.userName=i.name,n.canTrade=t.otherUserCanTrade,c.userId=a.webID,c.userName=a.name,c.canTrade=t.userCanTrade),r(n),d(c),h(nr.TRADING_STATE_RUNNING)}),[]);dt(l.di,A);var w=Object(c.useCallback)((function(e){var t=e.getParser();cr(t.reason,t.otherUserName)}),[]);dt(l.ei,w);var D=Object(c.useCallback)((function(e){e.getParser();cr(ar.THEY_NOT_ALLOWED)}),[]);dt(l.fi,D);var U=Object(c.useCallback)((function(e){e.getParser();cr(ar.YOU_NOT_ALLOWED)}),[]);return dt(l.hi,U),Object(c.useEffect)((function(){if(O!==nr.TRADING_STATE_READY){var e=_();return function(){return I(e)}}}),[O,_,I]),{ownUser:n,otherUser:u,tradeState:O,setTradeState:h,isTrading:y,groupItems:m,progressTrade:function(){switch(O){case nr.TRADING_STATE_RUNNING:return u.itemCount||n.accepts||Ha.simpleAlert(st(\"inventory.trading.warning.other_not_offering\"),null,null,null),void(n.accepts?ea(new l.gi):ea(new l.Oh));case nr.TRADING_STATE_CONFIRMING:return ea(new l.Vh),void h(nr.TRADING_STATE_CONFIRMED)}},removeItem:function(e){var t=e.getLastItem();t&&ea(new l.ai(t.id))},stopTrading:function(){y&&(O!==nr.TRADING_STATE_RUNNING?ea(new l.Qh):ea(new l.Rh))}}},En=function(){return Object(Ot.a)(_n)},In=function(){return Object(c.useState)({settingsReceived:!1,homeRoomId:0,enteredGuestRoom:null,currentRoomOwner:!1,currentRoomId:0,currentRoomIsStaffPick:!1,createdFlatId:0,avatarId:0,roomPicker:!1,eventMod:!1,currentRoomRating:0,canRate:!0})},yn=function(){return Object(Ot.a)(In)},Cn=function(){var e=Object(c.useState)(new Ba),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useMemo)((function(){return L(\"hc.disabled\",!1)}),[]),i=Object(c.useMemo)((function(){return a||n.clubDays>0?Sa.ACTIVE:n.pastVipDays>0||n.pastVipDays>0?Sa.EXPIRED:Sa.NONE}),[n,a]),u=Object(c.useCallback)((function(e){var t=e.getParser();r((function(e){var n=rt(e);return n.credits=parseFloat(t.credits),e.credits!==n.credits&&wn(dr.CREDITS),n}))}),[]);dt(l.si,u);var d=Object(c.useCallback)((function(e){var t=e.getParser();r((function(e){var n=rt(e);return n.activityPoints=t.currencies,n}))}),[]);dt(l.ui,d);var j=Object(c.useCallback)((function(e){var t=e.getParser();r((function(e){var n=rt(e);return n.activityPoints=new Map(n.activityPoints),n.activityPoints.set(t.type,t.amount),0===t.type&&wn(dr.DUCKETS),n}))}),[]);dt(l.f,j);var b=Object(c.useCallback)((function(e){var t=e.getParser(),n=t.productName;\"club_habbo\"!==n&&\"habbo_club\"!==n||r((function(e){var n=rt(e);return n.clubDays=Math.max(0,t.daysToPeriodEnd),n.clubPeriods=Math.max(0,t.periodsSubscribedAhead),n.isVip=t.isVip,n.pastClubDays=t.pastClubDays,n.pastVipDays=t.pastVipDays,n.isExpiring=t.responseType===l.Mi.RESPONSE_TYPE_DISCOUNT_AVAILABLE,n.minutesUntilExpiration=t.minutesUntilExpiration,n.minutesSinceLastModified=t.minutesSinceLastModified,n}))}),[]);return dt(l.Li,b),Object(c.useEffect)((function(){if(!a){ea(new l.Ki(\"habbo_club\"));var e=setInterval((function(){return ea(new l.Ki(\"habbo_club\"))}),5e4);return function(){return clearInterval(e)}}}),[a]),Object(c.useEffect)((function(){ea(new l.ti)}),[]),{purse:n,hcDisabled:a,clubStatus:i,getCurrencyAmount:function(e){if(-1===e)return n.credits;var t,r=Object(s.a)(n.activityPoints.entries());try{for(r.s();!(t=r.n()).done;){var a=Object(o.a)(t.value,2),c=a[0],i=a[1];if(c===e)return i}}catch(l){r.e(l)}finally{r.f()}return 0}}},Tn=function(){return Object(Ot.a)(Cn)},Sn=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useCallback)((function(e){n.indexOf(e)>=0||r([].concat(Object(ut.a)(n),[e]))}),[n]),i=Object(c.useCallback)((function(e){var t=n.indexOf(e);if(-1!==t){var a=Object(ut.a)(n);a.splice(t,1),r(a)}}),[n]),s=Object(c.useCallback)((function(e,t){ue().sendDoorbellApprovalMessage(e,t),i(e)}),[i]),u=Object(c.useCallback)((function(e){switch(e.type){case l.Qg.DOORBELL:return void a(e.userName);case l.Qg.RSDE_REJECTED:case l.Qg.RSDE_ACCEPTED:return void i(e.userName)}}),[a,i]);return Yt(l.Qg.DOORBELL,u),Yt(l.Qg.RSDE_REJECTED,u),Yt(l.Qg.RSDE_ACCEPTED,u),{users:n,addUser:a,removeUser:i,answer:s}},Nn=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),i=Object(o.a)(a,2),s=i[0],u=i[1],d=Object(c.useCallback)((function(e){var t=e.getParser();r(t.userInfo),u(t.userInfo.figure)}),[]);dt(l.zi,d);var j=Object(c.useCallback)((function(e){var t=e.getParser();u(t.figure)}),[]);return dt(l.xb,j),{userInfo:n,userFigure:s}},Rn=function(){return Object(Ot.a)(Nn)},kn=function(e){return t=function(){return e()},Object(c.useEffect)(t,[]);var t},An=!1,wn=function(e){An&&Wt(new lt.a(lt.a.PLAY_SOUND,e))},Dn=[l.xe.MOUSE_CLICK];!function(){var e=function(){return Dn.forEach((function(e){return window.removeEventListener(e,t)}))},t=function(t){return(An=!0)&&e()};Dn.forEach((function(e){return window.addEventListener(e,t)}))}();var Un=Object(d.a)((function e(){Object(u.a)(this,e)}));Un.DEFAULT=1,Un.WALL_PAPER=2,Un.FLOOR=3,Un.LANDSCAPE=4,Un.POST_IT=5,Un.POSTER=6,Un.SOUND_SET=7,Un.TRAX_SONG=8,Un.PRESENT=9,Un.ECOTRON_BOX=10,Un.TROPHY=11,Un.CREDIT_FURNI=12,Un.PET_SHAMPOO=13,Un.PET_CUSTOM_PART=14,Un.PET_CUSTOM_PART_SHAMPOO=15,Un.PET_SADDLE=16,Un.GUILD_FURNI=17,Un.GAME_FURNI=18,Un.MONSTERPLANT_SEED=19,Un.MONSTERPLANT_REVIVAL=20,Un.MONSTERPLANT_REBREED=21,Un.MONSTERPLANT_FERTILIZE=22,Un.FIGURE_PURCHASABLE_SET=23;var Pn=function(){function e(t){Object(u.a)(this,e),this._expirationTimeStamp=void 0,this._isWallItem=void 0,this._songId=void 0,this._locked=void 0,this._id=void 0,this._ref=void 0,this._category=void 0,this._type=void 0,this._stuffData=void 0,this._extra=void 0,this._recyclable=void 0,this._tradeable=void 0,this._groupable=void 0,this._sellable=void 0,this._secondsToExpiration=void 0,this._hasRentPeriodStarted=void 0,this._creationDay=void 0,this._creationMonth=void 0,this._creationYear=void 0,this._slotId=void 0,this._isRented=void 0,this._flatId=void 0,t&&(this._locked=!1,this._id=t.itemId,this._type=t.spriteId,this._ref=t.ref,this._category=t.category,this._groupable=t.isGroupable&&!t.rentable,this._tradeable=t.tradable,this._recyclable=t.isRecycleable,this._sellable=t.sellable,this._stuffData=t.stuffData,this._extra=t.extra,this._secondsToExpiration=t.secondsToExpiration,this._expirationTimeStamp=t.expirationTimeStamp,this._hasRentPeriodStarted=t.hasRentPeriodStarted,this._creationDay=t.creationDay,this._creationMonth=t.creationMonth,this._creationYear=t.creationYear,this._slotId=t.slotId,this._songId=t.songId,this._flatId=t.flatId,this._isRented=t.rentable,this._isWallItem=t.isWallItem)}return Object(d.a)(e,[{key:\"rentable\",get:function(){return this._isRented}},{key:\"id\",get:function(){return this._id}},{key:\"ref\",get:function(){return this._ref}},{key:\"category\",get:function(){return this._category}},{key:\"type\",get:function(){return this._type}},{key:\"stuffData\",get:function(){return this._stuffData},set:function(e){this._stuffData=e}},{key:\"extra\",get:function(){return this._extra}},{key:\"recyclable\",get:function(){return this._recyclable}},{key:\"isTradable\",get:function(){return this._tradeable}},{key:\"isGroupable\",get:function(){return this._groupable}},{key:\"sellable\",get:function(){return this._sellable}},{key:\"secondsToExpiration\",get:function(){if(-1===this._secondsToExpiration)return-1;var e=-1;return this._hasRentPeriodStarted?(e=this._secondsToExpiration-(N().time-this._expirationTimeStamp)/1e3)<0&&(e=0):e=this._secondsToExpiration,e}},{key:\"creationDay\",get:function(){return this._creationDay}},{key:\"creationMonth\",get:function(){return this._creationMonth}},{key:\"creationYear\",get:function(){return this._creationYear}},{key:\"slotId\",get:function(){return this._slotId}},{key:\"songId\",get:function(){return this._songId}},{key:\"locked\",get:function(){return this._locked},set:function(e){this._locked=e}},{key:\"flatId\",get:function(){return this._flatId}},{key:\"isWallItem\",get:function(){return this._isWallItem}},{key:\"hasRentPeriodStarted\",get:function(){return this._hasRentPeriodStarted}},{key:\"expirationTimeStamp\",get:function(){return this._expirationTimeStamp}},{key:\"update\",value:function(e){this._type=e.spriteId,this._ref=e.ref,this._category=e.category,this._groupable=e.isGroupable&&!e.rentable,this._tradeable=e.tradable,this._recyclable=e.isRecycleable,this._sellable=e.sellable,this._stuffData=e.stuffData,this._extra=e.extra,this._secondsToExpiration=e.secondsToExpiration,this._expirationTimeStamp=e.expirationTimeStamp,this._hasRentPeriodStarted=e.hasRentPeriodStarted,this._creationDay=e.creationDay,this._creationMonth=e.creationMonth,this._creationYear=e.creationYear,this._slotId=e.slotId,this._songId=e.songId,this._flatId=e.flatId,this._isRented=e.rentable,this._isWallItem=e.isWallItem}},{key:\"clone\",value:function(){var t=new e(null);return t._expirationTimeStamp=this._expirationTimeStamp,t._isWallItem=this._isWallItem,t._songId=this._songId,t._locked=this._locked,t._id=this._id,t._ref=this._ref,t._category=this._category,t._type=this._type,t._stuffData=this._stuffData,t._extra=this._extra,t._recyclable=this._recyclable,t._tradeable=this._tradeable,t._groupable=this._groupable,t._sellable=this._sellable,t._secondsToExpiration=this._secondsToExpiration,t._hasRentPeriodStarted=this._hasRentPeriodStarted,t._creationDay=this._creationDay,t._creationMonth=this._creationMonth,t._creationYear=this._creationYear,t._slotId=this._slotId,t._isRented=this._isRented,t._flatId=this._flatId,t}}]),e}(),Ln=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;Object(u.a)(this,e),this._type=void 0,this._category=void 0,this._roomEngine=void 0,this._stuffData=void 0,this._extra=void 0,this._isWallItem=void 0,this._iconUrl=void 0,this._name=void 0,this._description=void 0,this._locked=void 0,this._selected=void 0,this._hasUnseenItems=void 0,this._items=void 0,this._type=t,this._category=n,this._roomEngine=r,this._stuffData=a,this._extra=c,this._isWallItem=!1,this._iconUrl=null,this._name=null,this._description=null,this._locked=!1,this._selected=!1,this._hasUnseenItems=!1,this._items=[]}return Object(d.a)(e,[{key:\"clone\",value:function(){var t=new e;return t._type=this._type,t._category=this._category,t._roomEngine=this._roomEngine,t._stuffData=this._stuffData,t._extra=this._extra,t._isWallItem=this._isWallItem,t._iconUrl=this._iconUrl,t._name=this._name,t._description=this._description,t._locked=this._locked,t._selected=this._selected,t._hasUnseenItems=this._hasUnseenItems,t._items=this._items,t}},{key:\"prepareGroup\",value:function(){this.setIcon(),this.setName(),this.setDescription()}},{key:\"dispose\",value:function(){}},{key:\"getItemByIndex\",value:function(e){return this._items[e]}},{key:\"getItemById\",value:function(e){var t,n=Object(s.a)(this._items);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return r}}catch(a){n.e(a)}finally{n.f()}return null}},{key:\"getTradeItems\",value:function(e){var t=[],n=this.getLastItem();if(!n)return t;for(var r=0,a=0;a<this._items.length&&!(r>=e);){var c=this.getItemByIndex(a);!c.locked&&c.isTradable&&c.type===n.type&&(t.push(c),r++),a++}return t}},{key:\"push\",value:function(e){for(var t=Object(ut.a)(this._items),n=0;n<t.length;){var r=t[n];if(r.id===e.id)return(r=r.clone()).locked=!1,t.splice(n,1),t.push(r),void(this._items=t);n++}t.push(e),this._items=t,1===this._items.length&&this.prepareGroup()}},{key:\"pop\",value:function(){var e=Object(ut.a)(this._items),t=null;if(e.length>0){var n=e.length-1;t=e[n],e.splice(n,1)}return this._items=e,t}},{key:\"remove\",value:function(e){for(var t=Object(ut.a)(this._items),n=0;n<t.length;){var r=t[n];if(r.id===e)return t.splice(n,1),this._items=t,r;n++}return null}},{key:\"getTotalCount\",value:function(){if(this._category===Un.POST_IT){for(var e=0,t=0;t<this._items.length;){var n=this.getItemByIndex(t);e+=parseInt(n.stuffData.getLegacyString()),t++}return e}return this._items.length}},{key:\"getUnlockedCount\",value:function(){if(this.category===Un.POST_IT)return this.getTotalCount();for(var e=0,t=0;t<this._items.length;){this.getItemByIndex(t).locked||e++,t++}return e}},{key:\"getLastItem\",value:function(){return this._items.length?this.getItemByIndex(this._items.length-1):null}},{key:\"unlockAllItems\",value:function(){for(var e=Object(ut.a)(this._items),t=0;t<e.length;){var n=e[t];if(n.locked){var r=n.clone();r.locked=!1,e[t]=r}t++}this._items=e}},{key:\"lockItemIds\",value:function(e){for(var t=Object(ut.a)(this._items),n=0,r=!1;n<t.length;){var a=t[n],c=e.indexOf(a.ref)>=0;if(a.locked!==c){r=!0;var i=a.clone();i.locked=c,t[n]=i}n++}return this._items=t,r}},{key:\"setName\",value:function(){var e=this.getLastItem();if(e){var t=\"\";switch(this._category){case Un.POSTER:t=\"poster_\"+e.stuffData.getLegacyString()+\"_name\";break;case Un.TRAX_SONG:return void(this._name=\"SONG_NAME\");default:t=this.isWallItem?\"wallItem.name.\"+e.type:\"roomItem.name.\"+e.type}this._name=st(t)}else this._name=\"\"}},{key:\"setDescription\",value:function(){this._description=\"\"}},{key:\"setIcon\",value:function(){if(!this._iconUrl){var e=null;(e=this.isWallItem?this._roomEngine.getFurnitureWallIconUrl(this._type,this._stuffData.getLegacyString()):this._roomEngine.getFurnitureFloorIconUrl(this._type))&&(this._iconUrl=e)}}},{key:\"type\",get:function(){return this._type}},{key:\"category\",get:function(){return this._category}},{key:\"stuffData\",get:function(){return this._stuffData}},{key:\"extra\",get:function(){return this._extra}},{key:\"iconUrl\",get:function(){return this._iconUrl}},{key:\"name\",get:function(){return this._name}},{key:\"description\",get:function(){return this._description}},{key:\"hasUnseenItems\",get:function(){return this._hasUnseenItems},set:function(e){this._hasUnseenItems=e}},{key:\"locked\",get:function(){return this._locked},set:function(e){this._locked=e}},{key:\"selected\",get:function(){return this._selected},set:function(e){this._selected=e}},{key:\"isWallItem\",get:function(){var e=this.getItemByIndex(0);return!!e&&e.isWallItem}},{key:\"isGroupable\",get:function(){var e=this.getItemByIndex(0);return!!e&&e.isGroupable}},{key:\"isSellable\",get:function(){var e=this.getItemByIndex(0);return!!e&&e.sellable}},{key:\"items\",get:function(){return this._items},set:function(e){this._items=e}}]),e}(),Mn=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;return new Ln(e,t,G(),n,r)},Fn=function(e,t,n){t.isGroupable?function(e,t,n){var r,a=null,c=Object(s.a)(e);try{for(c.s();!(r=c.n()).done;){var i=r.value;if(i.type===t.type&&i.isWallItem===t.isWallItem&&i.isGroupable)if(t.category===Un.POSTER){if(i.stuffData.getLegacyString()===t.stuffData.getLegacyString()){a=i;break}}else{if(t.category!==Un.GUILD_FURNI){a=i;break}if(t.stuffData.compare(i.stuffData)){a=i;break}}}}catch(l){c.e(l)}finally{c.f()}if(a){if(a.push(t),n){a.hasUnseenItems=!0;var o=e.indexOf(a);o>=0&&e.splice(o,1),e.unshift(a)}return a}(a=Mn(t.type,t.category,t.stuffData,t.extra)).push(t),n?(a.hasUnseenItems=!0,e.unshift(a)):e.push(a)}(e,t,n):function(e,t,n){var r,a=[],c=Object(s.a)(e);try{for(c.s();!(r=c.n()).done;){var i=r.value;i.type===t.type&&a.push(i)}}catch(j){c.e(j)}finally{c.f()}for(var o=0,l=a;o<l.length;o++){var u=l[o];if(u.getItemById(t.id))return u}var d=Mn(t.type,t.category,t.stuffData,t.extra);d.push(t),n?(d.hasUnseenItems=!0,e.unshift(d)):e.push(d)}(e,t,n)},Hn=function(e,t,n,r){if(1===t)return e;r[n]=e;var a,c=Object(s.a)(r);try{for(c.s();!(a=c.n()).done;){if(!a.value)return null}}catch(g){c.e(g)}finally{c.f()}var i,l=new Map,u=Object(s.a)(r);try{for(u.s();!(i=u.n()).done;){var d,j=i.value,b=Object(s.a)(j);try{for(b.s();!(d=b.n()).done;){var O=Object(o.a)(d.value,2),h=O[0],f=O[1];l.set(h,f)}}catch(g){b.e(g)}finally{b.f()}j.clear()}}catch(g){u.e(g)}finally{u.f()}return r=null,l},Bn=function(e){var t,n=[],r=Object(s.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,c=a.getTotalCount();a.category===Un.POST_IT&&(c=1);for(var i=0;i<c;)n.push(a.getItemByIndex(i).id),i++}}catch(o){r.e(o)}finally{r.f()}return n},Gn=!1,Wn=-1,Vn=function(e){return Gn=e},qn=function(){return Wn},Yn=function(e){return Wn=e},zn=function(){-1!==qn()&&(G().cancelRoomObjectPlacement(),Yn(-1),Vn(!1))},Kn=function(e){var t=e.petData;if(!t)return!1;var n=ee().getSession(1);return!!n&&(!(!n.isRoomOwner&&!n.allowPets)&&(U(\"inventory/hide\"),G().processRoomObjectPlacement(l.Fg.INVENTORY,-t.id,l.Cg.UNIT,l.Gg.PET,t.figureData.figuredata)&&(Yn(t.id),Vn(!0)),!0))},Qn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!e.getUnlockedCount())return!1;var n=e.getLastItem();if(!n)return!1;if(n.category===Un.FLOOR||n.category===Un.WALL_PAPER||n.category===Un.LANDSCAPE)return t||ea(new l.Ub(n.id)),!1;U(\"inventory/hide\");var r=0;return r=n.isWallItem?l.Cg.WALL:l.Cg.FLOOR,(n.category===Un.POSTER?G().processRoomObjectPlacement(l.Fg.INVENTORY,n.id,r,n.type,n.stuffData.getLegacyString()):G().processRoomObjectPlacement(l.Fg.INVENTORY,n.id,r,n.type,n.extra.toString(),n.stuffData))&&(Yn(n.ref),Vn(!0)),!0},Xn=function(e){var t=e.botData;if(!t)return!1;var n=ee().getSession(1);return!(!n||!n.isRoomOwner)&&(U(\"inventory/hide\"),G().processRoomObjectPlacement(l.Fg.INVENTORY,-t.id,l.Cg.UNIT,l.Gg.RENTABLE_BOT,t.figure)&&(Yn(t.id),Vn(!0)),!0)},Jn=Object(d.a)((function e(){Object(u.a)(this,e)}));Jn.FURNI=1,Jn.RENTABLE=2,Jn.PET=3,Jn.BADGE=4,Jn.BOT=5,Jn.GAMES=6;var Zn=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={petData:e};return n?t.unshift(r):t.push(r),r},$n=function(e,t){for(var n=0;n<t.length;){var r=t[n];if(r&&r.petData.id===e)return qn()===r.petData.id&&(zn(),U(\"inventory/open\")),t.splice(n,1),r;n++}return null},er=function(e,t,n){var r,a=e.map((function(e){return e.petData.id})),c=[],i=[],o=Object(s.a)(t.keys());try{for(o.s();!(r=o.n()).done;){var l=r.value;-1===a.indexOf(l)&&c.push(l)}}catch(p){o.e(p)}finally{o.f()}var u,d=Object(s.a)(a);try{for(d.s();!(u=d.n()).done;){var j=u.value;!t.get(j)&&i.push(j)}}catch(p){d.e(p)}finally{d.f()}a.length;for(var b=0,O=i;b<O.length;b++){var h=O[b];$n(h,e)}for(var f=0,g=c;f<g.length;f++){var m=g[f],v=t.get(m);v&&Zn(v,e,n(Jn.PET,v.id))}return e},tr=function(e,t,n,r){if(1===t)return e;r[n]=e;var a,c=Object(s.a)(r);try{for(c.s();!(a=c.n()).done;){if(!a.value)return null}}catch(g){c.e(g)}finally{c.f()}var i,l=new Map,u=Object(s.a)(r);try{for(u.s();!(i=u.n()).done;){var d,j=i.value,b=Object(s.a)(j);try{for(b.s();!(d=b.n()).done;){var O=Object(o.a)(d.value,2),h=O[0],f=O[1];l.set(h,f)}}catch(g){b.e(g)}finally{b.f()}j.clear()}}catch(g){u.e(g)}finally{u.f()}return r=null,l},nr=Object(d.a)((function e(){Object(u.a)(this,e)}));nr.TRADING_STATE_READY=0,nr.TRADING_STATE_RUNNING=1,nr.TRADING_STATE_COUNTDOWN=2,nr.TRADING_STATE_CONFIRMING=3,nr.TRADING_STATE_CONFIRMED=4,nr.TRADING_STATE_COMPLETED=5,nr.TRADING_STATE_CANCELLED=6;var rr=Object(d.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new l.g,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(u.a)(this,e),this.userId=t,this.userName=n,this.userItems=r,this.itemCount=a,this.creditsCount=c,this.accepts=i,this.canTrade=s})),ar=Object(d.a)((function e(){Object(u.a)(this,e)}));ar.ALERT_SCAM=0,ar.HOTEL_TRADING_DISABLED=1,ar.YOU_NOT_ALLOWED=2,ar.THEY_NOT_ALLOWED=4,ar.ROOM_DISABLED=6,ar.YOU_OPEN=7,ar.THEY_OPEN=8,ar.ERROR_WHILE_COMMIT=9,ar.THEY_CANCELLED=10;var cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";switch(e){case ar.ALERT_SCAM:return void Ha.simpleAlert(st(\"inventory.trading.warning.other_not_offering\"),null,null,null,st(\"inventory.trading.notification.title\"));case ar.HOTEL_TRADING_DISABLED:case ar.YOU_NOT_ALLOWED:case ar.THEY_NOT_ALLOWED:case ar.ROOM_DISABLED:case ar.YOU_OPEN:case ar.THEY_OPEN:return void Ha.simpleAlert(st(\"inventory.trading.openfail.\".concat(e),[\"otherusername\"],[t]),null,null,null,st(\"inventory.trading.openfail.title\"));case ar.ERROR_WHILE_COMMIT:return void Ha.simpleAlert(\"\".concat(st(\"inventory.trading.notification.caption\"),\", \").concat(st(\"inventory.trading.notification.commiterror.info\")),null,null,null,st(\"inventory.trading.notification.title\"));case ar.THEY_CANCELLED:return void Ha.simpleAlert(st(\"inventory.trading.info.closed\"),null,null,null,st(\"inventory.trading.notification.title\"))}},ir=function(e){var t;return(null===(t=ae().getWallItemData(e))||void 0===t?void 0:t.isExternalImage)||!1},sr=function(e){var t=new l.g;if(e.length){var n,r=Object(s.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,c=a.spriteId,i=a.category,o=a.furniType+c;a.isGroupable&&!ir(c)||(o=\"itemid\"+a.itemId),a.category===Un.POSTER?o=a.itemId+\"poster\"+a.stuffData.getLegacyString():a.category===Un.GUILD_FURNI&&(o=\"\");var u=a.isGroupable&&!ir(a.spriteId)?t.getValue(o):null;u||(u=Mn(c,i,a.stuffData),t.add(o,u)),u.push(new Pn(a))}}catch(d){r.e(d)}finally{r.f()}}return t},or=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:\"getProductImageUrl\",value:function(e,t,n){var r=null;switch(e){case l.V.S:r=G().getFurnitureFloorIconUrl(t);break;case l.V.I:var a=this.getProductCategory(l.V.I,t);if(1===a)r=G().getFurnitureWallIconUrl(t,n);else switch(a){case Un.WALL_PAPER:case Un.LANDSCAPE:case Un.FLOOR:}case l.V.E:}return r}},{key:\"getProductCategory\",value:function(e,t){if(e===l.V.S)return 1;if(e===l.V.I){if(3001===t)return Un.WALL_PAPER;if(3002===t)return Un.FLOOR;if(4057===t)return Un.LANDSCAPE}return 1}}]),e}(),lr=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:\"getRandomNumber\",value:function(e){return Math.floor(Math.random()*e)}},{key:\"getRandomElement\",value:function(e){return e[this.getRandomNumber(e.length)]}},{key:\"getRandomElements\",value:function(e,t){for(var n=new Array(t),r=e.length,a=new Array(r);t--;){var c=this.getRandomNumber(r);n[t]=e[c in a?a[c]:c],a[c]=--r in a?a[r]:r}return n}}]),e}(),ur=new Map;ur.set(\"r\",\"red\"),ur.set(\"b\",\"blue\"),ur.set(\"g\",\"green\"),ur.set(\"y\",\"yellow\"),ur.set(\"w\",\"white\"),ur.set(\"o\",\"orange\"),ur.set(\"c\",\"cyan\"),ur.set(\"br\",\"brown\"),ur.set(\"pr\",\"purple\"),ur.set(\"pk\",\"pink\"),ur.set(\"red\",\"red\"),ur.set(\"blue\",\"blue\"),ur.set(\"green\",\"green\"),ur.set(\"yellow\",\"yellow\"),ur.set(\"white\",\"white\"),ur.set(\"orange\",\"orange\"),ur.set(\"cyan\",\"cyan\"),ur.set(\"brown\",\"brown\"),ur.set(\"purple\",\"purple\"),ur.set(\"pink\",\"pink\");var dr=Object(d.a)((function e(){Object(u.a)(this,e)}));dr.CAMERA_SHUTTER=\"camera_shutter\",dr.CREDITS=\"credits\",dr.DUCKETS=\"duckets\",dr.MESSENGER_NEW_THREAD=\"messenger_new_thread\",dr.MESSENGER_MESSAGE_RECEIVED=\"messenger_message_received\",dr.MODTOOLS_NEW_TICKET=\"modtools_new_ticket\";var jr=function(){function e(t){Object(u.a)(this,e),this._type=void 0,this._type=t}return Object(d.a)(e,[{key:\"type\",get:function(){return this._type}}]),e}(),br=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.AVATAR_EXPRESSION))._animation=void 0,r._animation=e,r}return Object(d.a)(n,[{key:\"animation\",get:function(){return this._animation}}]),n}(jr);br.AVATAR_EXPRESSION=\"RWAEM_MESSAGE_AVATAR_EXPRESSION\";var Or=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.CHANGE_MOTTO))._motto=void 0,r._motto=e,r}return Object(d.a)(n,[{key:\"motto\",get:function(){return this._motto}}]),n}(jr);Or.CHANGE_MOTTO=\"RWCMM_CHANGE_MOTTO\";var hr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.CHANGE_POSTURE))._posture=void 0,r._posture=e,r}return Object(d.a)(n,[{key:\"posture\",get:function(){return this._posture}}]),n}(jr);hr.CHANGE_POSTURE=\"RWCPM_MESSAGE_CHANGE_POSTURE\",hr.POSTURE_STAND=0,hr.POSTURE_SIT=1;var fr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i){var s;return Object(u.a)(this,n),(s=t.call(this,e))._chatType=void 0,s._text=void 0,s._recipientName=void 0,s._styleId=void 0,s._text=r,s._chatType=a,s._recipientName=c,s._styleId=i,s}return Object(d.a)(n,[{key:\"text\",get:function(){return this._text}},{key:\"chatType\",get:function(){return this._chatType}},{key:\"recipientName\",get:function(){return this._recipientName}},{key:\"styleId\",get:function(){return this._styleId}}]),n}(jr);fr.MESSAGE_CHAT=\"RWCM_MESSAGE_CHAT\",fr.CHAT_DEFAULT=0,fr.CHAT_WHISPER=1,fr.CHAT_SHOUT=2;var gr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c){var i;return Object(u.a)(this,n),(i=t.call(this,e))._objectId=void 0,i._userName=void 0,i._roomId=void 0,i._objectId=r,i._userName=a,i._roomId=c,i}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"userName\",get:function(){return this._userName}},{key:\"roomId\",get:function(){return this._roomId}}]),n}(jr);gr.MESSAGE_SELECT_AVATAR=\"RWCSAM_MESSAGE_SELECT_AVATAR\";var mr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.TYPING_STATUS))._isTyping=void 0,r._isTyping=e,r}return Object(d.a)(n,[{key:\"isTyping\",get:function(){return this._isTyping}}]),n}(jr);mr.TYPING_STATUS=\"RWCTM_TYPING_STATUS\";var vr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._objectId=void 0,a._objectId=r,a}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}}]),n}(jr);vr.REDEEM=\"RWCFRM_REDEEM\";var pr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,n.DANCE))._style=0,r._style=e,r}return Object(d.a)(n,[{key:\"style\",get:function(){return this._style}}]),n}(jr);pr.DANCE=\"RWDM_MESSAGE_DANCE\",pr.NORMAL_STYLE=0,pr.CLUB_STYLE=[2,3,4];var xr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.call(this,n.CHANGE_STATE)}return Object(d.a)(n)}(jr);xr.CHANGE_STATE=\"RWCDSM_CHANGE_STATE\";var _r=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a){var c;return Object(u.a)(this,n),(c=t.call(this,n.PREVIEW_DIMMER_PRESET))._color=void 0,c._brightness=void 0,c._bgOnly=void 0,c._color=e,c._brightness=r,c._bgOnly=a,c}return Object(d.a)(n,[{key:\"color\",get:function(){return this._color}},{key:\"brightness\",get:function(){return this._brightness}},{key:\"bgOnly\",get:function(){return this._bgOnly}}]),n}(jr);_r.PREVIEW_DIMMER_PRESET=\"RWDPM_PREVIEW_DIMMER_PRESET\";var Er=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c,i){var s;return Object(u.a)(this,n),(s=t.call(this,n.SAVE_PRESET))._presetNumber=void 0,s._effectTypeId=void 0,s._color=void 0,s._brightness=void 0,s._apply=void 0,s._presetNumber=e,s._effectTypeId=r,s._color=a,s._brightness=c,s._apply=i,s}return Object(d.a)(n,[{key:\"presetNumber\",get:function(){return this._presetNumber}},{key:\"effectTypeId\",get:function(){return this._effectTypeId}},{key:\"color\",get:function(){return this._color}},{key:\"brightness\",get:function(){return this._brightness}},{key:\"apply\",get:function(){return this._apply}}]),n}(jr);Er.SAVE_PRESET=\"RWSDPM_SAVE_PRESET\";var Ir=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a){var c,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Object(u.a)(this,n),(c=t.call(this,e))._furniId=void 0,c._furniCategory=void 0,c._offerId=void 0,c._objectData=void 0,c._furniId=r,c._furniCategory=a,c._offerId=i,c._objectData=s,c}return Object(d.a)(n,[{key:\"furniId\",get:function(){return this._furniId}},{key:\"furniCategory\",get:function(){return this._furniCategory}},{key:\"objectData\",get:function(){return this._objectData}},{key:\"offerId\",get:function(){return this._offerId}}]),n}(jr);Ir.ROTATE=\"RWFAM_ROTATE\",Ir.MOVE=\"RWFAM_MOVE\",Ir.PICKUP=\"RWFAM_PICKUP\",Ir.EJECT=\"RWFAM_EJECT\",Ir.USE=\"RWFAM_USE\",Ir.OPEN_WELCOME_GIFT=\"RWFAM_OPEN_WELCOME_GIFT\",Ir.SAVE_STUFF_DATA=\"RWFAM_SAVE_STUFF_DATA\";var yr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a,c){var i;return Object(u.a)(this,n),(i=t.call(this,e))._objectId=void 0,i._category=void 0,i._roomId=void 0,i._objectId=r,i._category=a,i._roomId=c,i}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"category\",get:function(){return this._category}},{key:\"roomId\",get:function(){return this._roomId}}]),n}(jr);yr.REQUEST_CREDITFURNI=\"RWFWM_MESSAGE_REQUEST_CREDITFURNI\",yr.REQUEST_STICKIE=\"RWFWM_MESSAGE_REQUEST_STICKIE\",yr.REQUEST_PRESENT=\"RWFWM_MESSAGE_REQUEST_PRESENT\",yr.REQUEST_TROPHY=\"RWFWM_MESSAGE_REQUEST_TROPHY\",yr.REQUEST_TEASER=\"RWFWM_MESSAGE_REQUEST_TEASER\",yr.REQUEST_ECOTRONBOX=\"RWFWM_MESSAGE_REQUEST_ECOTRONBOX\",yr.REQUEST_DIMMER=\"RWFWM_MESSAGE_REQUEST_DIMMER\",yr.REQUEST_PLACEHOLDER=\"RWFWM_MESSAGE_REQUEST_PLACEHOLDER\",yr.REQUEST_CLOTHING_CHANGE=\"RWFWM_MESSAGE_REQUEST_CLOTHING_CHANGE\",yr.REQUEST_PLAYLIST_EDITOR=\"RWFWM_MESSAGE_REQUEST_PLAYLIST_EDITOR\",yr.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING=\"RWFWM_WIDGET_MESSAGE_REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING\",yr.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED=\"RWFWM_WIDGET_MESSAGE_REQUEST_ACHIEVEMENT_RESOLUTION_FAILED\",yr.REQUEST_BADGE_DISPLAY_ENGRAVING=\"RWFWM_WIDGET_MESSAGE_REQUEST_BADGE_DISPLAY_ENGRAVING\";var Cr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._id=-1,a._questionId=0,a._answers=null,a._id=r,a}return Object(d.a)(n,[{key:\"id\",get:function(){return this._id}},{key:\"questionId\",get:function(){return this._questionId},set:function(e){this._questionId=e}},{key:\"answers\",get:function(){return this._answers},set:function(e){this._answers=e}}]),n}(jr);Cr.START=\"RWPM_START\",Cr.REJECT=\"RWPM_REJECT\",Cr.ANSWER=\"RWPM_ANSWER\";var Tr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._objectId=void 0,a._objectId=r,a}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}}]),n}(jr);Tr.OPEN_PRESENT=\"RWPOM_OPEN_PRESENT\";var Sr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n)}(jr);Sr.USER_CHOOSER=\"RWRWM_USER_CHOOSER\",Sr.FURNI_CHOOSER=\"RWRWM_FURNI_CHOOSER\",Sr.ME_MENU=\"RWRWM_ME_MENU\",Sr.EFFECTS=\"RWRWM_EFFECTS\",Sr.FLOOR_EDITOR=\"RWRWM_FLOOR_EDITOR\";var Nr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r,a){var c;return Object(u.a)(this,n),(c=t.call(this,e))._id=void 0,c._category=void 0,c._id=r,c._category=a,c}return Object(d.a)(n,[{key:\"id\",get:function(){return this._id}},{key:\"category\",get:function(){return this._category}}]),n}(jr);Nr.GET_OBJECT_INFO=\"RWROM_GET_OBJECT_INFO\",Nr.GET_OBJECT_NAME=\"RWROM_GET_OBJECT_NAME\",Nr.SELECT_OBJECT=\"RWROM_SELECT_OBJECT\",Nr.GET_OWN_CHARACTER_INFO=\"RWROM_GET_OWN_CHARACTER_INFO\",Nr.GET_AVATAR_LIST=\"RWROM_GET_AVATAR_LIST\";var Rr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Object(u.a)(this,n),(a=t.call(this,e))._objectId=void 0,a._petId=void 0,a._objectId=r,a._petId=c,a}return Object(d.a)(n,[{key:\"objectId\",get:function(){return this._objectId}},{key:\"petId\",get:function(){return this._petId}}]),n}(jr);Rr.PET_PRODUCT=\"RWUPM_PET_PRODUCT\",Rr.MONSTERPLANT_SEED=\"RWUPM_MONSTERPLANT_SEED\";var kr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e))._userId=void 0,a._userId=r,a}return Object(d.a)(n,[{key:\"userId\",get:function(){return this._userId}}]),n}(jr);kr.WHISPER_USER=\"RWUAM_WHISPER_USER\",kr.IGNORE_USER=\"RWUAM_IGNORE_USER\",kr.IGNORE_USER_BUBBLE=\"RWUAM_IGNORE_USER_BUBBLE\",kr.UNIGNORE_USER=\"RWUAM_UNIGNORE_USER\",kr.KICK_USER=\"RWUAM_KICK_USER\",kr.BAN_USER_HOUR=\"RWUAM_BAN_USER_HOUR\",kr.BAN_USER_DAY=\"RWUAM_BAN_USER_DAY\",kr.BAN_USER_PERM=\"RWUAM_BAN_USER_PERM\",kr.MUTE_USER_2MIN=\"RWUAM_MUTE_USER_2MIN\",kr.MUTE_USER_5MIN=\"RWUAM_MUTE_USER_5MIN\",kr.MUTE_USER_10MIN=\"RWUAM_MUTE_USER_10MIN\",kr.RESPECT_USER=\"RWUAM_RESPECT_USER\",kr.GIVE_RIGHTS=\"RWUAM_GIVE_RIGHTS\",kr.TAKE_RIGHTS=\"RWUAM_TAKE_RIGHTS\",kr.START_TRADING=\"RWUAM_START_TRADING\",kr.OPEN_HOME_PAGE=\"RWUAM_OPEN_HOME_PAGE\",kr.REPORT=\"RWUAM_REPORT\",kr.PICKUP_PET=\"RWUAM_PICKUP_PET\",kr.MOUNT_PET=\"RWUAM_MOUNT_PET\",kr.TOGGLE_PET_RIDING_PERMISSION=\"RWUAM_TOGGLE_PET_RIDING_PERMISSION\",kr.TOGGLE_PET_BREEDING_PERMISSION=\"RWUAM_TOGGLE_PET_BREEDING_PERMISSION\",kr.DISMOUNT_PET=\"RWUAM_DISMOUNT_PET\",kr.SADDLE_OFF=\"RWUAM_SADDLE_OFF\",kr.TRAIN_PET=\"RWUAM_TRAIN_PET\",kr.RESPECT_PET=\" RWUAM_RESPECT_PET\",kr.TREAT_PET=\"RWUAM_TREAT_PET\",kr.REQUEST_PET_UPDATE=\"RWUAM_REQUEST_PET_UPDATE\",kr.START_NAME_CHANGE=\"RWUAM_START_NAME_CHANGE\",kr.PASS_CARRY_ITEM=\"RWUAM_PASS_CARRY_ITEM\",kr.DROP_CARRY_ITEM=\"RWUAM_DROP_CARRY_ITEM\",kr.GIVE_CARRY_ITEM_TO_PET=\"RWUAM_GIVE_CARRY_ITEM_TO_PET\",kr.GIVE_WATER_TO_PET=\"RWUAM_GIVE_WATER_TO_PET\",kr.GIVE_LIGHT_TO_PET=\"RWUAM_GIVE_LIGHT_TO_PET\",kr.REQUEST_BREED_PET=\"RWUAM_REQUEST_BREED_PET\",kr.HARVEST_PET=\"RWUAM_HARVEST_PET\",kr.REVIVE_PET=\"RWUAM_REVIVE_PET\",kr.COMPOST_PLANT=\"RWUAM_COMPOST_PLANT\",kr.GET_BOT_INFO=\"RWUAM_GET_BOT_INFO\",kr.REPORT_CFH_OTHER=\"RWUAM_REPORT_CFH_OTHER\",kr.AMBASSADOR_ALERT_USER=\"RWUAM_AMBASSADOR_ALERT_USER\",kr.AMBASSADOR_KICK_USER=\"RWUAM_AMBASSADOR_KICK_USER\",kr.AMBASSADOR_MUTE_USER_2MIN=\"RWUAM_AMBASSADOR_MUTE_2MIN\",kr.AMBASSADOR_MUTE_USER_10MIN=\"RWUAM_AMBASSADOR_MUTE_10MIN\",kr.AMBASSADOR_MUTE_USER_60MIN=\"RWUAM_AMBASSADOR_MUTE_60MIN\",kr.AMBASSADOR_MUTE_USER_18HOUR=\"RWUAM_AMBASSADOR_MUTE_18HOUR\",kr.RELATIONSHIP_NONE=\"RWUAM_RELATIONSHIP_NONE\",kr.RELATIONSHIP_HEART=\"RWUAM_RELATIONSHIP_HEART\",kr.RELATIONSHIP_SMILE=\"RWUAM_RELATIONSHIP_SMILE\",kr.RELATIONSHIP_BOBBA=\"RWUAM_RELATIONSHIP_BOBBA\";var Ar=function(){function e(){Object(u.a)(this,e),this._container=null}return Object(d.a)(e,[{key:\"container\",get:function(){return this._container},set:function(e){this._container=e}}]),e}(),wr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){}},{key:\"processWidgetMessage\",value:function(e){if(!e)return null;switch(e.type){case Sr.FURNI_CHOOSER:this.processChooser();break;case Nr.SELECT_OBJECT:this.selectRoomObject(e)}return null}},{key:\"processChooser\",value:function(){var e=this.container.roomSession.roomId,t=[],n=G().getRoomObjects(e,l.Cg.WALL),r=G().getRoomObjects(e,l.Cg.FLOOR);n.forEach((function(e){var n=e.type;if(n.startsWith(\"poster\"))n=st(\"poster_\".concat(n.replace(\"poster\",\"\"),\"_name\"));else{var r=e.model.getValue(l.Ig.FURNITURE_TYPE_ID),a=ae().getWallItemData(r);a&&a.name.length&&(n=a.name)}t.push(new _e(e.id,l.Cg.WALL,n))})),r.forEach((function(e){var n=e.type,r=e.model.getValue(l.Ig.FURNITURE_TYPE_ID),a=ae().getFloorItemData(r);a&&a.name.length&&(n=a.name),t.push(new _e(e.id,l.Cg.FLOOR,n))})),t.sort((function(e,t){return e.name<t.name?-1:1})),this.container.eventDispatcher.dispatchEvent(new Te(Te.FURNI_CHOOSER_CONTENT,t))}},{key:\"selectRoomObject\",value:function(e){e.category!==l.Cg.WALL&&e.category!==l.Cg.FLOOR||G().selectRoomObject(this.container.roomSession.roomId,e.id,e.category)}},{key:\"type\",get:function(){return l.sh.FURNI_CHOOSER}},{key:\"eventTypes\",get:function(){return[]}},{key:\"messageTypes\",get:function(){return[Sr.FURNI_CHOOSER,Nr.SELECT_OBJECT]}}]),n}(Ar),Dr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){}},{key:\"processWidgetMessage\",value:function(e){if(e.type===Rr.MONSTERPLANT_SEED){var t=e;this.container.roomSession.useMultistateItem(t.objectId)}return null}},{key:\"type\",get:function(){return l.sh.FURNITURE_CONTEXT_MENU}},{key:\"eventTypes\",get:function(){return[l.mg.OPEN_FURNI_CONTEXT_MENU,l.mg.CLOSE_FURNI_CONTEXT_MENU]}},{key:\"messageTypes\",get:function(){return[Rr.MONSTERPLANT_SEED]}}]),n}(Ar),Ur=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){}},{key:\"processWidgetMessage\",value:function(e){switch(e.type){case yr.REQUEST_CREDITFURNI:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n||!Z(n))return;this.container.eventDispatcher.dispatchEvent(new De(De.CREDIT_FURNI_UPDATE,t.objectId,n.model.getValue(l.Ig.FURNITURE_CREDIT_VALUE),n.model.getValue(l.Ig.FURNITURE_TYPE_ID)+\"_\"+t.type+\"_\"+t.objectId));break;case vr.REDEEM:var r=e;this.container.roomSession.connection.send(new l.Kb(r.objectId))}return null}},{key:\"type\",get:function(){return l.sh.FURNI_CREDIT_WIDGET}},{key:\"eventTypes\",get:function(){return[]}},{key:\"messageTypes\",get:function(){return[yr.REQUEST_CREDITFURNI,vr.REDEEM]}}]),n}(Ar),Pr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a)))._lastFurniId=-1,e}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){switch(e.type){case l.mg.OPEN_WIDGET:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return;return this._lastFurniId=t.objectId,void this.container.eventDispatcher.dispatchEvent(new Ue(this._lastFurniId,n.getLocation().z));case l.mg.CLOSE_WIDGET:if(e.objectId!==this._lastFurniId)return;return void this.container.eventDispatcher.dispatchEvent(new Ue(-1))}}},{key:\"processWidgetMessage\",value:function(e){return e.type,null}},{key:\"type\",get:function(){return l.sh.CUSTOM_STACK_HEIGHT}},{key:\"eventTypes\",get:function(){return[]}},{key:\"messageTypes\",get:function(){return[]}}]),n}(Ar),Lr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){switch(e.type){case l.Pg.ROOM_DIMMER_PRESETS:var t=e,n=new Me(Me.PRESETS);n.selectedPresetId=t.selectedPresetId;for(var r=0;r<t.presetCount;){var a=t.getPreset(r);a&&n.setPresetValues(a.id,a.type,a.color,a.brightness),r++}return void this.container.eventDispatcher.dispatchEvent(n);case l.hg.ROOM_COLOR:var c=e;return void this.container.eventDispatcher.dispatchEvent(new Fe(c.state,c.presetId,c.effectId,c.color,c.brightness));case l.mg.REMOVE_DIMMER:return void this.container.eventDispatcher.dispatchEvent(new Me(Me.HIDE))}}},{key:\"processWidgetMessage\",value:function(e){switch(e.type){case yr.REQUEST_DIMMER:this.canOpenWidget()&&this.container.roomSession.requestMoodlightSettings();break;case Er.SAVE_PRESET:if(this.canOpenWidget()){var t=e;this.container.roomSession.updateMoodlightData(t.presetNumber,t.effectTypeId,t.color,t.brightness,t.apply)}break;case xr.CHANGE_STATE:this.canOpenWidget()&&this.container.roomSession.toggleMoodlightState();break;case _r.PREVIEW_DIMMER_PRESET:var n=this.container.roomSession.roomId,r=e;G().updateObjectRoomColor(n,r.color,r.brightness,r.bgOnly)}return null}},{key:\"canOpenWidget\",value:function(){return this.container.roomSession.isRoomOwner||this.container.roomSession.controllerLevel>=l.Yf.GUEST||ae().isModerator}},{key:\"type\",get:function(){return l.sh.ROOM_DIMMER}},{key:\"eventTypes\",get:function(){return[l.Pg.ROOM_DIMMER_PRESETS,l.hg.ROOM_COLOR,l.mg.REMOVE_DIMMER]}},{key:\"messageTypes\",get:function(){return[yr.REQUEST_DIMMER,Er.SAVE_PRESET,xr.CHANGE_STATE,_r.PREVIEW_DIMMER_PRESET]}}]),n}(Ar),Mr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a)))._lastFurniId=-1,e}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){switch(e.type){case l.mg.OPEN_WIDGET:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return;this._lastFurniId=t.objectId;var r=n.model.getValue(l.Ig.FURNITURE_DATA),a=JSON.parse(r);return void this.container.eventDispatcher.dispatchEvent(new He(n.id,a));case l.mg.CLOSE_WIDGET:if(e.objectId!==this._lastFurniId)return;return void this.container.eventDispatcher.dispatchEvent(new He(-1))}}},{key:\"processWidgetMessage\",value:function(e){return e.type,null}},{key:\"type\",get:function(){return l.sh.EXTERNAL_IMAGE}},{key:\"eventTypes\",get:function(){return[]}},{key:\"messageTypes\",get:function(){return[]}}]),n}(Ar),Fr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){if(e&&e.type===l.mg.REQUEST_INTERNAL_LINK){var t=e,r=G();if(!t||!r)return;var a=r.getRoomObject(t.roomId,t.objectId,t.category);if(a){var c=a.model.getValue(l.Ig.FURNITURE_DATA)[n.INTERNALLINK];c&&c.length||(c=a.model.getValue(l.Ig.FURNITURE_INTERNAL_LINK)),c&&c.length&&U(c)}}}},{key:\"processWidgetMessage\",value:function(e){return null}},{key:\"type\",get:function(){return l.sh.INTERNAL_LINK}},{key:\"eventTypes\",get:function(){return[l.mg.REQUEST_INTERNAL_LINK]}},{key:\"messageTypes\",get:function(){return[]}}]),n}(Ar);Fr.INTERNALLINK=\"internalLink\";var Hr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){if(e.type!==l.mg.REQUEST_MANNEQUIN);else{var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return;var r=n.model,a=r.getValue(l.Ig.FURNITURE_MANNEQUIN_FIGURE),c=r.getValue(l.Ig.FURNITURE_MANNEQUIN_GENDER),i=r.getValue(l.Ig.FURNITURE_MANNEQUIN_NAME);this.container.eventDispatcher.dispatchEvent(new Ye(Ye.MANNEQUIN_UPDATE,n.id,a,c,i))}}},{key:\"processWidgetMessage\",value:function(e){return e.type,null}},{key:\"type\",get:function(){return l.sh.MANNEQUIN}},{key:\"eventTypes\",get:function(){return[l.mg.REQUEST_MANNEQUIN]}},{key:\"messageTypes\",get:function(){return[]}}]),n}(Ar),Br=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a)))._lastFurniId=-1,e._name=null,e}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){if(e.type!==l.Xg.RSPE_PRESENT_OPENED);else{var t=e,r=null;t.itemType===aa.FLOOR?r=ae().getFloorItemData(t.classId):t.itemType===aa.WALL&&(r=ae().getWallItemData(t.classId));var a=!1;if(t.placedInRoom){var c=G().getRoomObject(this.container.roomSession.roomId,t.placedItemId,l.Cg.FLOOR);c&&(a=Z(c))}var i=null,s=null;switch(t.itemType){case aa.WALL:if(r)switch(r.className){case n.FLOOR:s=new ze(ze.CONTENTS_FLOOR,0,st(\"inventory.furni.item.floor.name\"),a);break;case n.LANDSCAPE:s=new ze(ze.CONTENTS_LANDSCAPE,0,st(\"inventory.furni.item.landscape.name\"),a);break;case n.WALLPAPER:s=new ze(ze.CONTENTS_WALLPAPER,0,st(\"inventory.furni.item.wallpaper.name\"),a);break;case n.POSTER:var o=t.productCode,u=null;0===o.indexOf(\"poster\")&&(u=o.replace(\"poster\",\"\")),i=G().getFurnitureWallIconUrl(t.classId,u);var d=ae().getProductData(o);d?this._name=d.name:r&&(this._name=r.name),s=new ze(ze.CONTENTS,0,this._name,a,i);break;default:i=G().getFurnitureWallIconUrl(t.classId),r&&(this._name=r.name),s=new ze(ze.CONTENTS,0,this._name,a,i)}break;case aa.HABBO_CLUB:s=new ze(ze.CONTENTS_CLUB,0,st(\"widget.furni.present.hc\"),!1);break;default:if(t.placedItemType===aa.PET){var j=t.petFigureString;if(j&&j.length){var b=new l.jf(j),O=G().getRoomObjectPetImage(b.typeId,b.paletteId,b.color,new l.Oi(90),64,this,!0,0,b.customParts);O&&(i=O.getImage().src)}}if(!i){var h=G().getFurnitureFloorImage(t.classId,new l.Oi(90),64,this);h&&(i=h.getImage().src)}var f=ae().getProductData(t.productCode);this._name=f?f.name:r.name,i&&(s=new ze(ze.CONTENTS,0,this._name,a,i))}s&&(s.classId=t.classId,s.itemType=t.itemType,s.placedItemId=t.placedItemId,s.placedInRoom=t.placedInRoom,s.placedItemType=t.placedItemType,this.container.eventDispatcher.dispatchEvent(s))}}},{key:\"processWidgetMessage\",value:function(e){switch(e.type){case yr.REQUEST_PRESENT:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return null;this._lastFurniId=t.objectId;var r=n.model.getValue(l.Ig.FURNITURE_DATA)||\"\",a=n.model.getValue(l.Ig.FURNITURE_PURCHASER_NAME),c=n.model.getValue(l.Ig.FURNITURE_PURCHASER_FIGURE),i=n.model.getValue(l.Ig.FURNITURE_TYPE_ID),s=n.model.getValue(l.Ig.FURNITURE_EXTRAS),o=G().getFurnitureFloorImage(i,new l.Oi(180),64,null,0,s);this.container.eventDispatcher.dispatchEvent(new ze(ze.PACKAGEINFO,t.objectId,r,Z(n),o.getImage().src,a,c));break;case Tr.OPEN_PRESENT:var u=e;if(u.objectId!==this._lastFurniId)return null;this.container.roomSession.openGift(u.objectId),G().changeObjectModelData(G().activeRoomId,u.objectId,l.Cg.FLOOR,l.Ig.FURNITURE_DISABLE_PICKING_ANIMATION,1)}return null}},{key:\"imageReady\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;n?r=n.src:t&&(r=l.Mh.generateImageUrl(t)),this.container.eventDispatcher.dispatchEvent(new ze(ze.CONTENTS_IMAGE,0,this._name,!1,r))}},{key:\"imageFailed\",value:function(e){}},{key:\"type\",get:function(){return l.sh.FURNI_PRESENT_WIDGET}},{key:\"eventTypes\",get:function(){return[l.Xg.RSPE_PRESENT_OPENED]}},{key:\"messageTypes\",get:function(){return[yr.REQUEST_PRESENT,Tr.OPEN_PRESENT]}}]),n}(Ar);Br.FLOOR=\"floor\",Br.WALLPAPER=\"wallpaper\",Br.LANDSCAPE=\"landscape\",Br.POSTER=\"poster\";var Gr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"onRoomInfo\",value:function(e){}},{key:\"processEvent\",value:function(e){if(e&&e.type===l.mg.REQUEST_ROOM_LINK){var t=e,r=G();if(!t||!r)return;var a=r.getRoomObject(t.roomId,t.objectId,t.category);if(a){var c=a.model.getValue(l.Ig.FURNITURE_DATA)[n.INTERNALLINK];c&&c.length||(c=a.model.getValue(l.Ig.FURNITURE_INTERNAL_LINK)),c&&c.length&&U(\"navigator/goto/\"+c)}}}},{key:\"processWidgetMessage\",value:function(e){return null}},{key:\"type\",get:function(){return l.sh.ROOM_LINK}},{key:\"eventTypes\",get:function(){return[l.mg.REQUEST_ROOM_LINK]}},{key:\"messageTypes\",get:function(){return[]}}]),n}(Ar);Gr.INTERNALLINK=\"internalLink\";var Wr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a)))._lastFurniId=-1,e}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){switch(e.type){case l.mg.OPEN_WIDGET:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return;this._lastFurniId=t.objectId;var r=ae().hasSecurity(l.Bh.EMPLOYEE)||Z(n);return this.container.eventDispatcher.dispatchEvent(new $e(n.id,r)),void ea(new l.yc(this._lastFurniId));case l.mg.CLOSE_WIDGET:if(e.objectId!==this._lastFurniId)return;return void this.container.eventDispatcher.dispatchEvent(new $e(-1))}}},{key:\"processWidgetMessage\",value:function(e){return e.type,null}},{key:\"type\",get:function(){return l.sh.YOUTUBE}},{key:\"eventTypes\",get:function(){return[]}},{key:\"messageTypes\",get:function(){return[]}}]),n}(Ar);Wr.CONTROL_COMMAND_PREVIOUS_VIDEO=0,Wr.CONTROL_COMMAND_NEXT_VIDEO=1,Wr.CONTROL_COMMAND_PAUSE_VIDEO=2,Wr.CONTROL_COMMAND_CONTINUE_VIDEO=3;var Vr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){var t,n=e;switch(e.type){case l.Wg.OFFER:(t=new Re(Re.OFFER,n.id)).summary=n.summary,t.headline=n.headline;break;case l.Wg.ERROR:(t=new Re(Re.ERROR,n.id)).summary=n.summary,t.headline=n.headline;break;case l.Wg.CONTENT:(t=new Re(Re.CONTENT,n.id)).startMessage=n.startMessage,t.endMessage=n.endMessage,t.numQuestions=n.numQuestions,t.questionArray=n.questionArray,t.npsPoll=n.npsPoll}t&&this.container.eventDispatcher.dispatchEvent(t)}},{key:\"processWidgetMessage\",value:function(e){var t=e;switch(e.type){case Cr.START:this.container.roomSession.sendPollStartMessage(t.id);break;case Cr.REJECT:this.container.roomSession.sendPollRejectMessage(t.id);break;case Cr.ANSWER:this.container.roomSession.sendPollAnswerMessage(t.id,t.questionId,t.answers)}return null}},{key:\"type\",get:function(){return l.sh.ROOM_POLL}},{key:\"eventTypes\",get:function(){return[l.Wg.OFFER,l.Wg.ERROR,l.Wg.CONTENT]}},{key:\"messageTypes\",get:function(){return[Cr.ANSWER,Cr.REJECT,Cr.START]}}]),n}(Ar),qr=function(){function e(){Object(u.a)(this,e),this.id=-1,this.name=null,this.gender=0,this.online=!1,this.followingAllowed=!1,this.figure=null,this.categoryId=0,this.motto=null,this.realName=null,this.lastAccess=null,this.persistedMessageUser=!1,this.vipMember=!1,this.pocketHabboUser=!1,this.relationshipStatus=-1,this.unread=0}return Object(d.a)(e,[{key:\"populate\",value:function(e){this.id=e.id,this.name=e.name,this.gender=e.gender,this.online=e.online,this.followingAllowed=e.followingAllowed,this.figure=e.figure,this.categoryId=e.categoryId,this.motto=e.motto,this.realName=e.realName,this.lastAccess=e.lastAccess,this.persistedMessageUser=e.persistedMessageUser,this.vipMember=e.vipMember,this.pocketHabboUser=e.pocketHabboUser,this.relationshipStatus=e.relationshipStatus}}]),e}();qr.RELATIONSHIP_NONE=0,qr.RELATIONSHIP_HEART=1,qr.RELATIONSHIP_SMILE=2,qr.RELATIONSHIP_BOBBA=3;var Yr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){switch(e.type){case l.Zg.USER_DATA_UPDATED:return void this.container.eventDispatcher.dispatchEvent(new Ze);case l.Og.RSDE_DANCE:var t=e,n=!1,r=this.container.roomSession.userDataManager.getUserData(ae().userId);return r&&r.roomIndex===t.roomIndex&&(n=0!==t.danceId),void this.container.eventDispatcher.dispatchEvent(new Pe(n));case l.ng.USE_PRODUCT_FROM_INVENTORY:return;case l.ng.USE_PRODUCT_FROM_ROOM:return void this.processUsableRoomObject(e.objectId);case l.Vg.PET_STATUS_UPDATE:return void this.processRoomSessionPetStatusUpdateEvent(e)}}},{key:\"processWidgetMessage\",value:function(e){var t=0;switch(e instanceof kr&&(t=e.userId),e.type){case Nr.GET_OWN_CHARACTER_INFO:this.processOwnCharacterInfo();break;case kr.START_NAME_CHANGE:case kr.REQUEST_PET_UPDATE:break;case Rr.PET_PRODUCT:var n=e;this.container.roomSession.usePetProduct(n.objectId,n.petId);break;case kr.HARVEST_PET:this.container.roomSession.harvestPet(t);break;case kr.COMPOST_PLANT:this.container.roomSession.compostPlant(t);break;case pr.DANCE:var r=e;this.container.roomSession.sendDanceMessage(r.style);break;case br.AVATAR_EXPRESSION:var a=e;this.container.roomSession.sendExpressionMessage(a.animation.ordinal);break;case hr.CHANGE_POSTURE:var c=e;this.container.roomSession.sendPostureMessage(c.posture);break;case kr.RELATIONSHIP_NONE:ea(new l.Ih(t,qr.RELATIONSHIP_NONE));break;case kr.RELATIONSHIP_HEART:ea(new l.Ih(t,qr.RELATIONSHIP_HEART));break;case kr.RELATIONSHIP_SMILE:ea(new l.Ih(t,qr.RELATIONSHIP_SMILE));break;case kr.RELATIONSHIP_BOBBA:ea(new l.Ih(t,qr.RELATIONSHIP_BOBBA))}return null}},{key:\"processOwnCharacterInfo\",value:function(){var e=ae().userId,t=ae().userName,n=ae().canChangeName,r=this.container.roomSession.userDataManager.getUserData(e);r&&this.container.eventDispatcher.dispatchEvent(new Ce(e,t,r.type,r.roomIndex,n))}},{key:\"processUsableRoomObject\",value:function(e){var t=this.container.roomSession.roomId,n=G().getRoomObject(t,e,l.Cg.FLOOR);if(n&&Z(n)){var r=n.model.getValue(l.Ig.FURNITURE_OWNER_ID),a=n.model.getValue(l.Ig.FURNITURE_TYPE_ID),c=ae().getFloorItemData(a),i=c.customParams.split(\" \"),s=i.length?parseInt(i[0]):-1;-1!==s&&this.processUseableProduct(t,e,s,c.specialType,r)}}},{key:\"processUseableProduct\",value:function(e,t,n,r,a){var c,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,o=[],u=G().getRoomObjects(e,l.Cg.UNIT),d=Object(s.a)(u);try{for(d.s();!(c=d.n()).done;){var j=c.value,b=this.container.roomSession.userDataManager.getUserDataByIndex(j.id),O=!1;if(b&&b.type===l.Gg.PET){if(b.ownerId===a){b.hasSaddle&&r===Un.PET_SADDLE&&(O=!0);var h=b.figure.split(\" \"),f=h.length?parseInt(h[0]):-1;if(f===n){if(r===Un.MONSTERPLANT_REVIVAL&&!b.canRevive)continue;if(r===Un.MONSTERPLANT_REBREED&&(b.petLevel<7||b.canRevive||b.canBreed))continue;if(r===Un.MONSTERPLANT_FERTILIZE&&(b.petLevel>=7||b.canRevive))continue;o.push(new nt(b.roomIndex,l.Cg.UNIT,b.name,t,j.id,i,O))}}}else;}}catch(g){d.e(g)}finally{d.f()}o.length&&this.container.eventDispatcher.dispatchEvent(new et(et.USE_PRODUCT_BUBBLES,o))}},{key:\"processRoomSessionPetStatusUpdateEvent\",value:function(e){}},{key:\"type\",get:function(){return l.sh.AVATAR_INFO}},{key:\"eventTypes\",get:function(){return[l.Zg.USER_DATA_UPDATED,l.Og.RSDE_DANCE,l.ng.USE_PRODUCT_FROM_INVENTORY,l.ng.USE_PRODUCT_FROM_ROOM,l.Vg.PET_STATUS_UPDATE]}},{key:\"messageTypes\",get:function(){return[Nr.GET_OWN_CHARACTER_INFO,kr.START_NAME_CHANGE,kr.REQUEST_PET_UPDATE,Rr.PET_PRODUCT,kr.REQUEST_BREED_PET,kr.HARVEST_PET,kr.REVIVE_PET,kr.COMPOST_PLANT,pr.DANCE,br.AVATAR_EXPRESSION,hr.CHANGE_POSTURE,kr.RELATIONSHIP_NONE,kr.RELATIONSHIP_HEART,kr.RELATIONSHIP_SMILE,kr.RELATIONSHIP_BOBBA]}}]),n}(Ar),zr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a)))._avatarColorCache=new Map,e._avatarImageCache=new Map,e._petImageCache=new Map,e}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){if(e.type!==l.Ng.CHAT_EVENT);else{var t=e,n=G().getRoomObject(t.session.roomId,t.objectId,l.Cg.UNIT),r=(n?n.getLocation():new l.Oi,ge(t.session.roomId,null===n||void 0===n?void 0:n.id,l.Cg.UNIT)),a=n?this.container.roomSession.userDataManager.getUserDataByIndex(t.objectId):new l.nh(-1),c=\"\",i=0,s=null,o=t.chatType,u=t.style,d=0,j=-1,b=t.message;if(a){d=a.type;var O=a.figure;switch(d){case l.Gg.PET:s=this.getPetImage(O,2,!0,64,n.model.getValue(l.Ig.FIGURE_POSTURE)),j=new l.jf(O).typeId;break;case l.Gg.USER:s=this.getUserImage(O);break;case l.Gg.RENTABLE_BOT:case l.Gg.BOT:u=l.Lh.BOT}i=this._avatarColorCache.get(O),c=a.name}switch(o){case l.Ng.CHAT_TYPE_RESPECT:b=st(\"widgets.chatbubble.respect\",[\"username\"],[c]),Oa().getValue(\"respect.options\").enabled&&wn(Oa().getValue(\"respect.options\").sound);break;case l.Ng.CHAT_TYPE_PETREVIVE:case l.Ng.CHAT_TYPE_PET_REBREED_FERTILIZE:case l.Ng.CHAT_TYPE_PET_SPEED_FERTILIZE:var h=\"widget.chatbubble.petrevived\";o===l.Ng.CHAT_TYPE_PET_REBREED_FERTILIZE?h=\"widget.chatbubble.petrefertilized;\":o===l.Ng.CHAT_TYPE_PET_SPEED_FERTILIZE&&(h=\"widget.chatbubble.petspeedfertilized\");var f=null;if(G().getRoomObject(t.session.roomId,t.extraParam,l.Cg.UNIT)){var g=this.container.roomSession.userDataManager.getUserDataByIndex(n.id);g&&(f=g.name)}b=st(h,[\"petName\",\"userName\"],[c,f]);break;case l.Ng.CHAT_TYPE_PETRESPECT:b=st(\"widget.chatbubble.petrespect\",[\"petname\"],[c]);break;case l.Ng.CHAT_TYPE_PETTREAT:b=st(\"widget.chatbubble.pettreat\",[\"petname\"],[c]);break;case l.Ng.CHAT_TYPE_HAND_ITEM_RECEIVED:b=st(\"widget.chatbubble.handitem\",[\"username\",\"handitem\"],[c,st(\"handitem\"+t.extraParam)]);break;case l.Ng.CHAT_TYPE_MUTE_REMAINING:b=st(\"widget.chatbubble.mutetime\",[\"hours\",\"minutes\",\"seconds\"],[(t.extraParam>0?Math.floor(t.extraParam/3600):0).toString(),(t.extraParam>0?Math.floor(t.extraParam%3600/60):0).toString(),(t.extraParam%60).toString()])}this.container.eventDispatcher.dispatchEvent(new Ae(Ae.CHAT_EVENT,a.roomIndex,b,c,l.Cg.UNIT,d,j,r.x,r.y,s,i,t.session.roomId,o,u,[]))}}},{key:\"processWidgetMessage\",value:function(e){return null}},{key:\"getUserImage\",value:function(e){var t=this._avatarImageCache.get(e);return t||(t=this.setFigureImage(e)),t}},{key:\"setFigureImage\",value:function(e){var t=k().createAvatarImage(e,l.q.LARGE,null,this);if(t){var n=t.getCroppedImage(l.r.HEAD),r=t.getPartColor(l.p.CHEST);return this._avatarColorCache.set(e,r&&r.rgb||16777215),t.dispose(),this._avatarImageCache.set(e,n.src),n.src}}},{key:\"getPetImage\",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=this._petImageCache.get(e+a);if(c)return c;var i=new l.jf(e),s=i.typeId,o=G().getRoomObjectPetImage(s,i.paletteId,i.color,new l.Oi(45*t),r,null,!1,0,i.customParts,a);return o&&(c=l.Mh.generateImageUrl(o.data),this._petImageCache.set(e+a,c)),c}},{key:\"resetFigure\",value:function(e){this.setFigureImage(e)}},{key:\"dispose\",value:function(){}},{key:\"disposed\",get:function(){return!1}},{key:\"type\",get:function(){return l.sh.CHAT_WIDGET}},{key:\"eventTypes\",get:function(){return[l.Ng.CHAT_EVENT]}},{key:\"messageTypes\",get:function(){return[]}}]),n}(Ar),Kr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){if(e.type===l.Ng.FLOOD_EVENT){var t=e;this.container.eventDispatcher.dispatchEvent(new Se(parseInt(t.message)))}}},{key:\"processWidgetMessage\",value:function(e){switch(e.type){case mr.TYPING_STATUS:var t=e;this.container.roomSession.sendChatTypingMessage(t.isTyping);break;case fr.MESSAGE_CHAT:var n=e;if(\"\"===n.text)return null;var r=n.text,a=r.split(\" \");if(a.length>0){var c=a[0],i=\"\";if(a.length>1&&(i=a[1]),\":\"===c.charAt(0)&&\"x\"===i){var s=G().selectedAvatarId;if(s>-1){var o=this.container.roomSession.userDataManager.getUserDataByIndex(s);o&&(i=o.name,r=n.text.replace(\" x\",\" \"+o.name))}}switch(c.toLowerCase()){case\":compass\":return U(\"mediaroom/video/BBjCFrR-QqA\"),null;case\":shake\":return l.fh.init(2500,5e3),l.fh.turnVisualizationOn(),null;case\":rotate\":return l.Lg.init(2500,5e3),l.Lg.turnVisualizationOn(),null;case\":d\":case\";d\":ce()===l.zd.VIP&&this.container.roomSession.sendExpressionMessage(l.n.LAUGH.ordinal);break;case\"o/\":case\"_o/\":return this.container.roomSession.sendExpressionMessage(l.n.WAVE.ordinal),null;case\":kiss\":if(ce()===l.zd.VIP)return this.container.roomSession.sendExpressionMessage(l.n.BLOW.ordinal),null;break;case\":jump\":if(ce()===l.zd.VIP)return this.container.roomSession.sendExpressionMessage(l.n.JUMP.ordinal),null;break;case\":idle\":return this.container.roomSession.sendExpressionMessage(l.n.IDLE.ordinal),null;case\"_b\":return this.container.roomSession.sendExpressionMessage(l.n.RESPECT.ordinal),null;case\":sign\":return this.container.roomSession.sendSignMessage(parseInt(i)),null;case\":iddqd\":case\":flip\":return G().events.dispatchEvent(new l.vh(this.container.roomSession.roomId,-1,!0)),null;case\":zoom\":return G().events.dispatchEvent(new l.vh(this.container.roomSession.roomId,parseFloat(i),!1)),null;case\":screenshot\":var u=G().createTextureFromRoom(this.container.roomSession.roomId,1),d=new Image;return d.src=l.Mh.generateImageUrl(u),window.open(\"\").document.write(d.outerHTML),null;case\":pickall\":return(this.container.roomSession.isRoomOwner||ae().isModerator)&&Ha.confirm(st(\"room.confirm.pick_all\"),(function(){ae().sendSpecialCommandMessage(\":pickall\")}),null,null,null,st(\"generic.alert.title\")),null;case\":furni\":return this.container.processWidgetMessage(new Sr(Sr.FURNI_CHOOSER)),null;case\":chooser\":return this.container.processWidgetMessage(new Sr(Sr.USER_CHOOSER)),null;case\":floor\":case\":bcfloor\":return this.container.roomSession.controllerLevel>=l.Yf.ROOM_OWNER&&U(\"floor-editor/show\"),null;case\":togglefps\":return N().ticker.maxFPS>0?N().ticker.maxFPS=0:N().ticker.maxFPS=L(\"system.animation.fps\"),null;case\":client\":case\":nitro\":case\":billsonnn\":return Ha.showNitroAlert(),null;case\":settings\":return(this.container.roomSession.isRoomOwner||ae().isModerator)&&ea(new l.ch(this.container.roomSession.roomId)),null}}var j=n.styleId;if(this.container&&this.container.roomSession)switch(n.chatType){case fr.CHAT_DEFAULT:this.container.roomSession.sendChatMessage(r,j);break;case fr.CHAT_SHOUT:this.container.roomSession.sendShoutMessage(r,j);break;case fr.CHAT_WHISPER:this.container.roomSession.sendWhisperMessage(n.recipientName,r,j)}break;case gr.MESSAGE_SELECT_AVATAR:var b=e;G().setSelectedAvatar(b.roomId,b.objectId)}return null}},{key:\"type\",get:function(){return l.sh.CHAT_INPUT_WIDGET}},{key:\"eventTypes\",get:function(){return[l.Ng.FLOOD_EVENT]}},{key:\"messageTypes\",get:function(){return[mr.TYPING_STATUS,fr.MESSAGE_CHAT,gr.MESSAGE_SELECT_AVATAR]}}]),n}(Ar),Qr=function(){function e(t,n){Object(u.a)(this,e),this._roomSession=void 0,this._eventDispatcher=void 0,this._handlers=[],this._eventMap=new Map,this._messageMap=new Map,this._roomSession=t,this._eventDispatcher=n}return Object(d.a)(e,[{key:\"registerHandler\",value:function(e){var t=e.eventTypes;if(t.push(l.mg.OPEN_WIDGET,l.mg.CLOSE_WIDGET),t&&t.length){var n,r=Object(s.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a){var c=this._eventMap.get(a);c||(c=[],this._eventMap.set(a,c)),c.push(e)}}}catch(b){r.e(b)}finally{r.f()}}var i=e.messageTypes;if(i&&i.length){var o,u=Object(s.a)(i);try{for(u.s();!(o=u.n()).done;){var d=o.value;if(d){var j=this._messageMap.get(d);j||(j=[],this._messageMap.set(d,j)),j.push(e)}}}catch(b){u.e(b)}finally{u.f()}}e.container=this,this._handlers.push(e)}},{key:\"processEvent\",value:function(e){var t=this._eventMap.get(e.type);if(!t||!t.length)return null;var n,r=Object(s.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a){var c=!0;e.type!==l.mg.OPEN_WIDGET&&e.type!==l.mg.CLOSE_WIDGET||e instanceof l.mg&&(c=a.type===e.widget),c&&a.processEvent(e)}}}catch(i){r.e(i)}finally{r.f()}}},{key:\"processWidgetMessage\",value:function(e){var t=this._messageMap.get(e.type);if(!t||!t.length)return null;var n,r=Object(s.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a){var c=a.processWidgetMessage(e);if(c)return c}}}catch(i){r.e(i)}finally{r.f()}return null}},{key:\"roomSession\",get:function(){return this._roomSession}},{key:\"eventDispatcher\",get:function(){return this._eventDispatcher}}]),e}(),Xr=Object(d.a)((function e(){Object(u.a)(this,e)}));Xr.WATER=0,Xr.LIGHT=1;var Jr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){switch(e.type){case l.Ug.PET_INFO:return void this.processPetInfoEvent(e);case l.Yg.RSUBE_BADGES:case l.ah.USER_FIGURE:case l.Tg.FAVOURITE_GROUP_UPDATE:return void this.container.eventDispatcher.dispatchEvent(e)}}},{key:\"processWidgetMessage\",value:function(e){var t=0,n=null,r=0,a=0;if(e instanceof kr){if(t=e.userId,!(n=[kr.REQUEST_PET_UPDATE,kr.RESPECT_PET,kr.PICKUP_PET,kr.MOUNT_PET,kr.TOGGLE_PET_RIDING_PERMISSION,kr.TOGGLE_PET_BREEDING_PERMISSION,kr.DISMOUNT_PET,kr.SADDLE_OFF,kr.GIVE_CARRY_ITEM_TO_PET,kr.GIVE_WATER_TO_PET,kr.GIVE_LIGHT_TO_PET,kr.TREAT_PET].indexOf(e.type)>=0?this.container.roomSession.userDataManager.getPetData(t):this.container.roomSession.userDataManager.getUserData(t)))return null}else e instanceof Ir&&(r=e.furniId,a=e.furniCategory);switch(e.type){case Nr.GET_OBJECT_NAME:return this.processObjectNameMessage(e);case Nr.GET_OBJECT_INFO:return this.processObjectInfoMessage(e);case kr.RESPECT_USER:ae().giveRespect(t);break;case kr.RESPECT_PET:ae().givePetRespect(t);break;case kr.WHISPER_USER:this.container.eventDispatcher.dispatchEvent(new we(we.WHISPER,n.name));break;case kr.IGNORE_USER:ae().ignoreUser(n.name);break;case kr.UNIGNORE_USER:ae().unignoreUser(n.name);break;case kr.KICK_USER:this.container.roomSession.sendKickMessage(e.userId);break;case kr.BAN_USER_DAY:case kr.BAN_USER_HOUR:case kr.BAN_USER_PERM:this.container.roomSession.sendBanMessage(e.userId,e.type);break;case kr.MUTE_USER_2MIN:this.container.roomSession.sendMuteMessage(e.userId,2);break;case kr.MUTE_USER_5MIN:this.container.roomSession.sendMuteMessage(e.userId,5);break;case kr.MUTE_USER_10MIN:this.container.roomSession.sendMuteMessage(e.userId,10);break;case kr.GIVE_RIGHTS:this.container.roomSession.sendGiveRightsMessage(e.userId);break;case kr.TAKE_RIGHTS:this.container.roomSession.sendTakeRightsMessage(e.userId);break;case kr.START_TRADING:ea(new l.ci(n.roomIndex));break;case kr.PICKUP_PET:this.container.roomSession.pickupPet(t);break;case kr.MOUNT_PET:this.container.roomSession.mountPet(t);break;case kr.TOGGLE_PET_RIDING_PERMISSION:this.container.roomSession.togglePetRiding(t);break;case kr.TOGGLE_PET_BREEDING_PERMISSION:this.container.roomSession.togglePetBreeding(t);break;case kr.DISMOUNT_PET:this.container.roomSession.dismountPet(t);break;case kr.SADDLE_OFF:this.container.roomSession.removePetSaddle(t);break;case kr.PASS_CARRY_ITEM:ea(new l.lh(t));break;case kr.GIVE_CARRY_ITEM_TO_PET:ea(new l.mh(t));break;case kr.GIVE_WATER_TO_PET:ea(new l.pf(t,Xr.WATER));break;case kr.GIVE_LIGHT_TO_PET:ea(new l.pf(t,Xr.LIGHT));break;case kr.TREAT_PET:ea(new l.of(t));break;case kr.DROP_CARRY_ITEM:ea(new l.kh);break;case kr.REQUEST_PET_UPDATE:return void this.container.roomSession.userDataManager.requestPetInfo(t);case kr.REPORT:return;case kr.REPORT_CFH_OTHER:return void Kt(new yt(t));case kr.AMBASSADOR_ALERT_USER:return void this.container.roomSession.sendAmbassadorAlertMessage(t);case kr.AMBASSADOR_KICK_USER:return void this.container.roomSession.sendKickMessage(t);case kr.AMBASSADOR_MUTE_USER_2MIN:return void this.container.roomSession.sendMuteMessage(t,2);case kr.AMBASSADOR_MUTE_USER_10MIN:return void this.container.roomSession.sendMuteMessage(t,10);case kr.AMBASSADOR_MUTE_USER_60MIN:return void this.container.roomSession.sendMuteMessage(t,60);case kr.AMBASSADOR_MUTE_USER_18HOUR:return void this.container.roomSession.sendMuteMessage(t,1080);case Ir.ROTATE:return void G().processRoomObjectOperation(r,a,l.Eg.OBJECT_ROTATE_POSITIVE);case Ir.MOVE:return void G().processRoomObjectOperation(r,a,l.Eg.OBJECT_MOVE);case Ir.PICKUP:return void G().processRoomObjectOperation(r,a,l.Eg.OBJECT_PICKUP);case Ir.EJECT:return void G().processRoomObjectOperation(r,a,l.Eg.OBJECT_EJECT);case Ir.USE:return void G().useRoomObject(r,a);case Ir.SAVE_STUFF_DATA:var c=e;if(!c.objectData)return;var i=new Map,u=c.objectData.split(\"\\t\");if(u){var d,j=Object(s.a)(u);try{for(j.s();!(d=j.n()).done;){var b=d.value.split(\"=\",2),O=Object(o.a)(b,2),h=O[0],f=O[1];i.set(h,f)}}catch(g){j.e(g)}finally{j.f()}}return void G().modifyRoomObjectDataWithMap(r,a,l.Eg.OBJECT_SAVE_STUFF_DATA,i);case Or.CHANGE_MOTTO:return void this.container.roomSession.sendMottoMessage(e.motto)}return null}},{key:\"processObjectNameMessage\",value:function(e){var t=-1,n=null,r=0;switch(e.category){case l.Cg.FLOOR:case l.Cg.WALL:var a=G().getRoomObject(this.container.roomSession.roomId,e.id,e.category);if(!a)break;if(0===a.type.indexOf(\"poster\"))n=st(\"${poster_\"+parseInt(a.type.replace(\"poster\",\"\"))+\"_name}\");else{var c=null,i=a.model.getValue(l.Ig.FURNITURE_TYPE_ID);if(e.category===l.Cg.FLOOR?c=ae().getFloorItemData(i):e.category===l.Cg.WALL&&(c=ae().getWallItemData(i)),!c)break;t=c.id,n=c.name}break;case l.Cg.UNIT:var s=this.container.roomSession.userDataManager.getUserDataByIndex(e.id);if(!s)break;t=s.webID,n=s.name,r=s.type}return n&&this.container.eventDispatcher.dispatchEvent(new Ne(Ne.TYPE,e.id,e.category,t,n,r)),null}},{key:\"processObjectInfoMessage\",value:function(e){var t=this.container.roomSession.roomId;switch(e.category){case l.Cg.FLOOR:case l.Cg.WALL:this.processFurniInfoMessage(e,t);break;case l.Cg.UNIT:var n=this.container.roomSession.userDataManager.getUserDataByIndex(e.id);if(!n)break;switch(n.type){case l.Gg.PET:this.container.roomSession.userDataManager.requestPetInfo(n.webID);break;case l.Gg.USER:this.processUserInfoMessage(e,t,n);break;case l.Gg.BOT:this.processBotInfoMessage(e,t,n);break;case l.Gg.RENTABLE_BOT:this.processRentableBotInfoMessage(e,t,n)}}return null}},{key:\"processFurniInfoMessage\",value:function(e,t){var n=new Ge(Ge.FURNI);n.id=e.id,n.category=e.category;var r=G().getRoomObject(t,e.id,e.category);if(r){var a=r.model;a.getValue(l.th.INFOSTAND_EXTRA_PARAM)&&(n.extraParam=a.getValue(l.th.INFOSTAND_EXTRA_PARAM));var c=a.getValue(l.Ig.FURNITURE_DATA_FORMAT),i=l.bf.getData(c);i.initializeFromRoomObjectModel(a),n.stuffData=i;var s=r.type;if(0===s.indexOf(\"poster\")){var o=parseInt(s.replace(\"poster\",\"\"));n.name=st(\"${poster_\"+o+\"_name}\"),n.description=st(\"${poster_\"+o+\"_desc}\")}else{var u=a.getValue(l.Ig.FURNITURE_TYPE_ID),d=null;e.category===l.Cg.FLOOR?d=ae().getFloorItemData(u):e.category===l.Cg.WALL&&(d=ae().getWallItemData(u)),d&&(n.name=d.name,n.description=d.description,n.purchaseOfferId=d.purchaseOfferId,n.purchaseCouldBeUsedForBuyout=d.purchaseCouldBeUsedForBuyout,n.rentOfferId=d.rentOfferId,n.rentCouldBeUsedForBuyout=d.rentCouldBeUsedForBuyout,n.availableForBuildersClub=d.availableForBuildersClub,n.tileSizeX=d.tileSizeX,n.tileSizeY=d.tileSizeY,Kt(new Ft(n.id,n.category)))}s.indexOf(\"post_it\")>-1&&(n.isStickie=!0);var j=a.getValue(l.Ig.FURNITURE_EXPIRY_TIME),b=a.getValue(l.Ig.FURNITURE_EXPIRTY_TIMESTAMP);n.expiration=j<0?j:Math.max(0,j-(N().time-b)/1e3);var O=G().getRoomObjectImage(t,e.id,e.category,new l.Oi(180),64,null);(!O.data||O.data.width>140||O.data.height>200)&&(O=G().getRoomObjectImage(t,e.id,e.category,new l.Oi(180),1,null)),n.image=O.getImage(),n.isWallItem=e.category===l.Cg.WALL,n.isRoomOwner=this.container.roomSession.isRoomOwner,n.roomControllerLevel=this.container.roomSession.controllerLevel,n.isAnyRoomController=ae().isModerator,n.ownerId=a.getValue(l.Ig.FURNITURE_OWNER_ID),n.ownerName=a.getValue(l.Ig.FURNITURE_OWNER_NAME),n.usagePolicy=a.getValue(l.Ig.FURNITURE_USAGE_POLICY);var h=a.getValue(l.Ig.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID);0!==h&&(n.groupId=h),Z(r)&&(n.isOwner=!0),this.container.eventDispatcher.dispatchEvent(n)}}},{key:\"processUserInfoMessage\",value:function(e,t,n){var r=qe.OWN_USER;n.webID!==ae().userId&&(r=qe.PEER);var a=new qe(r);a.isSpectatorMode=this.container.roomSession.isSpectator,a.name=n.name,a.motto=n.custom,a.achievementScore=n.activityPoints,a.webID=n.webID,a.roomIndex=n.roomIndex,a.userType=l.Gg.USER;var c=G().getRoomObject(t,n.roomIndex,e.category);if(c&&(a.carryItem=c.model.getValue(l.Ig.FIGURE_CARRY_OBJECT)||0),r===qe.OWN_USER&&(a.allowNameChange=ae().canChangeName),a.amIOwner=this.container.roomSession.isRoomOwner,a.isGuildRoom=this.container.roomSession.isGuildRoom,a.roomControllerLevel=this.container.roomSession.controllerLevel,a.amIAnyRoomController=ae().isModerator,a.isAmbassador=ae().isAmbassador,r===qe.PEER){if(c){var i=c.model.getValue(l.Ig.FIGURE_FLAT_CONTROL);null!==i&&(a.targetRoomControllerLevel=i),a.canBeMuted=this.canBeMuted(a),a.canBeKicked=this.canBeKicked(a),a.canBeBanned=this.canBeBanned(a)}a.isIgnored=ae().isUserIgnored(n.name),a.respectLeft=ae().respectsLeft;var s=ae().isSystemShutdown,o=this.container.roomSession.tradeMode;if(s)a.canTrade=!1;else switch(o){case l.ih.ROOM_CONTROLLER_REQUIRED:var u=a.roomControllerLevel!==l.Yf.NONE&&a.roomControllerLevel!==l.Yf.GUILD_MEMBER,d=a.targetRoomControllerLevel!==l.Yf.NONE&&a.targetRoomControllerLevel!==l.Yf.GUILD_MEMBER;a.canTrade=u||d;break;case l.ih.NO_TRADING:a.canTrade=!0;break;default:a.canTrade=!1}a.canTradeReason=qe.TRADE_REASON_OK,s&&(a.canTradeReason=qe.TRADE_REASON_SHUTDOWN),o!==l.ih.FREE_TRADING&&(a.canTradeReason=qe.TRADE_REASON_NO_TRADING)}a.groupId=n.groupId,a.groupBadgeId=ae().getGroupBadge(a.groupId),a.groupName=n.groupName,a.badges=this.container.roomSession.userDataManager.getUserBadges(n.webID),a.figure=n.figure,this.container.eventDispatcher.dispatchEvent(a)}},{key:\"processBotInfoMessage\",value:function(e,t,n){var r=new qe(qe.BOT);r.name=n.name,r.motto=n.custom,r.webID=n.webID,r.roomIndex=n.roomIndex,r.userType=n.type;var a=G().getRoomObject(t,n.roomIndex,e.category);a&&(r.carryItem=a.model.getValue(l.Ig.FIGURE_CARRY_OBJECT)||0),r.amIOwner=this.container.roomSession.isRoomOwner,r.isGuildRoom=this.container.roomSession.isGuildRoom,r.roomControllerLevel=this.container.roomSession.controllerLevel,r.amIAnyRoomController=ae().isModerator,r.isAmbassador=ae().isAmbassador,r.badges=[qe.DEFAULT_BOT_BADGE_ID],r.figure=n.figure,this.container.eventDispatcher.dispatchEvent(r)}},{key:\"processRentableBotInfoMessage\",value:function(e,t,n){var r=new Ve(Ve.RENTABLE_BOT);r.name=n.name,r.motto=n.custom,r.webID=n.webID,r.roomIndex=n.roomIndex,r.ownerId=n.ownerId,r.ownerName=n.ownerName,r.botSkills=n.botSkills;var a=G().getRoomObject(t,n.roomIndex,e.category);a&&(r.carryItem=a.model.getValue(l.Ig.FIGURE_CARRY_OBJECT)||0),r.amIOwner=this.container.roomSession.isRoomOwner,r.roomControllerLevel=this.container.roomSession.controllerLevel,r.amIAnyRoomController=ae().isModerator,r.badges=[qe.DEFAULT_BOT_BADGE_ID],r.figure=n.figure,this.container.eventDispatcher.dispatchEvent(r)}},{key:\"processPetInfoEvent\",value:function(e){var t=e.petInfo;if(t){var n=this.container.roomSession.userDataManager.getPetData(t.id);if(n){var r=new l.jf(n.figure),a=null;r.typeId===l.qf.MONSTERPLANT&&(a=t.level>=t.adultLevel?\"std\":\"grw\"+t.level);var c=t.ownerId===ae().userId,i=new We(We.PET_INFO);i.name=n.name,i.id=t.id,i.ownerId=t.ownerId,i.ownerName=t.ownerName,i.rarityLevel=t.rarityLevel,i.petType=r.typeId,i.petBreed=r.paletteId,i.petFigure=n.figure,i.posture=a,i.isOwner=c,i.roomIndex=n.roomIndex,i.level=t.level,i.maximumLevel=t.maximumLevel,i.experience=t.experience,i.levelExperienceGoal=t.levelExperienceGoal,i.energy=t.energy,i.maximumEnergy=t.maximumEnergy,i.happyness=t.happyness,i.maximumHappyness=t.maximumHappyness,i.respect=t.respect,i.respectsPetLeft=ae().respectsPetLeft,i.age=t.age,i.saddle=t.saddle,i.rider=t.rider,i.breedable=t.breedable,i.fullyGrown=t.fullyGrown,i.dead=t.dead,i.rarityLevel=t.rarityLevel,i.skillTresholds=t.skillTresholds,i.canRemovePet=!1,i.publiclyRideable=t.publiclyRideable,i.maximumTimeToLive=t.maximumTimeToLive,i.remainingTimeToLive=t.remainingTimeToLive,i.remainingGrowTime=t.remainingGrowTime,i.publiclyBreedable=t.publiclyBreedable,(c||this.container.roomSession.isRoomOwner||ae().isModerator||this.container.roomSession.controllerLevel>=l.Yf.GUEST)&&(i.canRemovePet=!0),this.container.eventDispatcher.dispatchEvent(i)}}}},{key:\"checkGuildSetting\",value:function(e){return e.isGuildRoom?e.roomControllerLevel>=l.Yf.GUILD_ADMIN:e.roomControllerLevel>=l.Yf.GUEST}},{key:\"canBeMuted\",value:function(e){var t=this;return this.isValidSetting(e,(function(e,n){return n.allowMute===l.Ag.MODERATION_LEVEL_USER_WITH_RIGHTS?t.checkGuildSetting(e):e.roomControllerLevel>=l.Yf.ROOM_OWNER}))}},{key:\"canBeKicked\",value:function(e){var t=this;return this.isValidSetting(e,(function(e,n){switch(n.allowKick){case l.Ag.MODERATION_LEVEL_ALL:return!0;case l.Ag.MODERATION_LEVEL_USER_WITH_RIGHTS:return t.checkGuildSetting(e);default:return e.roomControllerLevel>=l.Yf.ROOM_OWNER}}))}},{key:\"canBeBanned\",value:function(e){var t=this;return this.isValidSetting(e,(function(e,n){return n.allowBan===l.Ag.MODERATION_LEVEL_USER_WITH_RIGHTS?t.checkGuildSetting(e):e.roomControllerLevel>=l.Yf.ROOM_OWNER}))}},{key:\"isValidSetting\",value:function(e,t){if(!this.container.roomSession._Str_7411)return!1;var n=this.container.roomSession.moderationSettings,r=!1;return n&&(r=t(e,n)),r&&e.targetRoomControllerLevel<l.Yf.ROOM_OWNER}},{key:\"type\",get:function(){return l.sh.INFOSTAND}},{key:\"eventTypes\",get:function(){return[l.Ug.PET_INFO,l.Yg.RSUBE_BADGES,l.ah.USER_FIGURE,l.Tg.FAVOURITE_GROUP_UPDATE]}},{key:\"messageTypes\",get:function(){return[Nr.GET_OBJECT_INFO,Nr.GET_OBJECT_NAME,kr.RESPECT_USER,kr.WHISPER_USER,kr.IGNORE_USER,kr.UNIGNORE_USER,kr.KICK_USER,kr.BAN_USER_DAY,kr.BAN_USER_HOUR,kr.BAN_USER_PERM,kr.MUTE_USER_2MIN,kr.MUTE_USER_5MIN,kr.MUTE_USER_10MIN,kr.GIVE_RIGHTS,kr.TAKE_RIGHTS,kr.START_TRADING,kr.OPEN_HOME_PAGE,kr.PASS_CARRY_ITEM,kr.GIVE_CARRY_ITEM_TO_PET,kr.DROP_CARRY_ITEM,kr.REPORT,kr.PICKUP_PET,kr.MOUNT_PET,kr.TOGGLE_PET_RIDING_PERMISSION,kr.TOGGLE_PET_BREEDING_PERMISSION,kr.DISMOUNT_PET,kr.SADDLE_OFF,kr.TRAIN_PET,kr.RESPECT_PET,kr.REQUEST_PET_UPDATE,kr.GIVE_LIGHT_TO_PET,kr.GIVE_WATER_TO_PET,kr.TREAT_PET,kr.REPORT_CFH_OTHER,kr.AMBASSADOR_ALERT_USER,kr.AMBASSADOR_KICK_USER,kr.AMBASSADOR_MUTE_USER_2MIN,kr.AMBASSADOR_MUTE_USER_10MIN,kr.AMBASSADOR_MUTE_USER_60MIN,kr.AMBASSADOR_MUTE_USER_18HOUR,Or.CHANGE_MOTTO,Ir.MOVE,Ir.ROTATE,Ir.EJECT,Ir.PICKUP,Ir.USE,Ir.SAVE_STUFF_DATA]}}]),n}(Ar),Zr=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){}},{key:\"processWidgetMessage\",value:function(e){if(!e)return null;switch(e.type){case Sr.USER_CHOOSER:this.processChooser();break;case Nr.SELECT_OBJECT:this.selectRoomObject(e)}return null}},{key:\"processChooser\",value:function(){var e=this,t=this.container.roomSession.roomId,n=[];G().getRoomObjects(t,l.Cg.UNIT).forEach((function(t){var r=e.container.roomSession.userDataManager.getUserDataByIndex(t.id);r&&n.push(new _e(r.roomIndex,l.Cg.UNIT,r.name))})),n.sort((function(e,t){return e.name<t.name?-1:1})),this.container.eventDispatcher.dispatchEvent(new Te(Te.USER_CHOOSER_CONTENT,n))}},{key:\"selectRoomObject\",value:function(e){e.category===l.Cg.UNIT&&G().selectRoomObject(this.container.roomSession.roomId,e.id,e.category)}},{key:\"type\",get:function(){return l.sh.USER_CHOOSER}},{key:\"eventTypes\",get:function(){return[]}},{key:\"messageTypes\",get:function(){return[Sr.USER_CHOOSER,Nr.SELECT_OBJECT]}}]),n}(Ar),$r=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"processEvent\",value:function(e){var t,n=e;switch(e.type){case l.bh.ANSWERED:var r=this.container.roomSession.roomId,a=this.container.roomSession.userDataManager.getUserData(n.userId);if(!a)return;(t=new tt(tt.QUESTION_ANSWERED,n.id)).value=n.value,t.userId=n.userId,t.answerCounts=n.answerCounts,\"0\"===t.value?G().updateRoomObjectUserGesture(r,a.roomIndex,l.k.getGestureId(l.k.GESTURE_SAD)):G().updateRoomObjectUserGesture(r,a.roomIndex,l.k.getGestureId(l.k.GESTURE_SMILE));break;case l.bh.FINISHED:(t=new tt(tt.QUESTION_FINISHED,n.id)).pollId=n.pollId,t.questionId=n.questionId,t.answerCounts=n.answerCounts;break;case l.bh.QUESTION:(t=new tt(tt.NEW_QUESTION,n.id)).question=n.question,t.duration=n.duration,t.pollType=n.pollType,t.questionId=n.questionId,t.pollId=n.pollId}t&&this.container.eventDispatcher.dispatchEvent(t)}},{key:\"processWidgetMessage\",value:function(e){return null}},{key:\"type\",get:function(){return l.sh.WORD_QUIZZ}},{key:\"eventTypes\",get:function(){return[l.bh.ANSWERED,l.bh.FINISHED,l.bh.QUESTION]}},{key:\"messageTypes\",get:function(){return[]}}]),n}(Ar),ea=function(e){return M().send(e)},ta=function(e){N().sendWorkerEvent(e)},na=function(e,t){var n=e.get(t),r=[];if(n&&n.length){var a,c=Object(s.a)(n);try{for(c.s();!(a=c.n()).done;){var i=a.value;i.isVisible&&r.push(i)}}catch(o){c.e(o)}finally{c.f()}}return r},ra=function e(t,n,r,a){if(r.isVisible&&r.pageId>0){var c=!1,i=[r.pageName,r.localization].join(\" \").toLowerCase().replace(/ /gi,\"\");if(i.indexOf(t)>-1&&(a.push(r),c=!0),!c){var o,l=Object(s.a)(n);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(i.indexOf(u)>=0){a.push(r);break}}}catch(b){l.e(b)}finally{l.f()}}}var d,j=Object(s.a)(r.children);try{for(j.s();!(d=j.n()).done;){e(t,n,d.value,a)}}catch(b){j.e(b)}finally{j.f()}};var aa=Object(d.a)((function e(){Object(u.a)(this,e)}));aa.WALL=\"i\",aa.FLOOR=\"s\",aa.EFFECT=\"e\",aa.HABBO_CLUB=\"h\",aa.BADGE=\"b\",aa.GAME_TOKEN=\"GAME_TOKEN\",aa.PET=\"p\",aa.ROBOT=\"r\";var ca=function(){function e(t,n,r,a,c,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;Object(u.a)(this,e),this._productType=void 0,this._productClassId=void 0,this._extraParam=void 0,this._productCount=void 0,this._productData=void 0,this._furnitureData=void 0,this._isUniqueLimitedItem=void 0,this._uniqueLimitedItemSeriesSize=void 0,this._uniqueLimitedItemsLeft=void 0,this._productType=t.toLowerCase(),this._productClassId=n,this._extraParam=r,this._productCount=a,this._productData=c,this._furnitureData=i,this._isUniqueLimitedItem=s,this._uniqueLimitedItemSeriesSize=o,this._uniqueLimitedItemsLeft=l}return Object(d.a)(e,[{key:\"getIconUrl\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(this._productType){case aa.FLOOR:return G().getFurnitureFloorIconUrl(this.productClassId);case aa.WALL:if(e&&this._furnitureData){var t=\"\";switch(this._furnitureData.className){case\"floor\":t=[\"th\",this._furnitureData.className,e.product.extraParam].join(\"_\");break;case\"wallpaper\":t=[\"th\",\"wall\",e.product.extraParam].join(\"_\");break;case\"landscape\":t=[\"th\",this._furnitureData.className,(e.product.extraParam||\"\").replace(\".\",\"_\"),\"001\"].join(\"_\")}if(\"\"!==t){var n=L(\"catalog.asset.url\");return\"\".concat(n,\"/\").concat(t,\".png\")}}return G().getFurnitureWallIconUrl(this.productClassId,this._extraParam);case aa.EFFECT:case aa.HABBO_CLUB:return this.productClassId,\"\";case aa.BADGE:return ae().getBadgeUrl(this._extraParam);case aa.ROBOT:return null}return null}},{key:\"productType\",get:function(){return this._productType}},{key:\"productClassId\",get:function(){return this._productClassId}},{key:\"extraParam\",get:function(){return this._extraParam},set:function(e){this._extraParam=e}},{key:\"productCount\",get:function(){return this._productCount}},{key:\"productData\",get:function(){return this._productData}},{key:\"furnitureData\",get:function(){return this._furnitureData}},{key:\"isUniqueLimitedItem\",get:function(){return this._isUniqueLimitedItem}},{key:\"uniqueLimitedItemSeriesSize\",get:function(){return this._uniqueLimitedItemSeriesSize}},{key:\"uniqueLimitedItemsLeft\",get:function(){return this._uniqueLimitedItemsLeft},set:function(e){this._uniqueLimitedItemsLeft=e}}],[{key:\"stripAddonProducts\",value:function(t){return 1===t.length?t:t.filter((function(t){return t.productType!==aa.BADGE&&t.productType!==aa.EFFECT&&t.productClassId!==e.EFFECT_CLASSID_NINJA_DISAPPEAR}))}}]),e}();ca.EFFECT_CLASSID_NINJA_DISAPPEAR=108;var ia=function(){function e(t,n,r,a,c,i,o,l,d,j){Object(u.a)(this,e),this._pricingModel=void 0,this._priceType=void 0,this._offerId=void 0,this._localizationId=void 0,this._priceInCredits=void 0,this._priceInActivityPoints=void 0,this._activityPointType=void 0,this._giftable=void 0,this._isRentOffer=void 0,this._page=void 0,this._clubLevel=0,this._products=void 0,this._badgeCode=void 0,this._bundlePurchaseAllowed=!1,this._offerId=t,this._localizationId=n,this._isRentOffer=r,this._priceInCredits=a,this._priceInActivityPoints=c,this._activityPointType=i,this._giftable=o,this._clubLevel=l,this._products=d,this._bundlePurchaseAllowed=j,this.setPricingModelForProducts(),this.setPricingType();var b,O=Object(s.a)(d);try{for(O.s();!(b=O.n()).done;){var h=b.value;if(h.productType===aa.BADGE){this._badgeCode=h.extraParam;break}}}catch(f){O.e(f)}finally{O.f()}}return Object(d.a)(e,[{key:\"activate\",value:function(){}},{key:\"clubLevel\",get:function(){return this._clubLevel}},{key:\"page\",get:function(){return this._page},set:function(e){this._page=e}},{key:\"offerId\",get:function(){return this._offerId}},{key:\"localizationId\",get:function(){return this._localizationId}},{key:\"priceInCredits\",get:function(){return this._priceInCredits}},{key:\"priceInActivityPoints\",get:function(){return this._priceInActivityPoints}},{key:\"activityPointType\",get:function(){return this._activityPointType}},{key:\"giftable\",get:function(){return this._giftable}},{key:\"product\",get:function(){if(!this._products||!this._products.length)return null;if(1===this._products.length)return this._products[0];var e=ca.stripAddonProducts(this._products);return e.length?e[0]:null}},{key:\"pricingModel\",get:function(){return this._pricingModel}},{key:\"priceType\",get:function(){return this._priceType}},{key:\"bundlePurchaseAllowed\",get:function(){return this._bundlePurchaseAllowed}},{key:\"isRentOffer\",get:function(){return this._isRentOffer}},{key:\"badgeCode\",get:function(){return this._badgeCode}},{key:\"localizationName\",get:function(){var e=le(this._localizationId);return e?e.name:st(this._localizationId)}},{key:\"localizationDescription\",get:function(){var e=le(this._localizationId);return e?e.description:st(this._localizationId)}},{key:\"isLazy\",get:function(){return!1}},{key:\"products\",get:function(){return this._products}},{key:\"setPricingModelForProducts\",value:function(){var t=ca.stripAddonProducts(this._products);1===t.length?1===t[0].productCount?this._pricingModel=e.PRICING_MODEL_SINGLE:this._pricingModel=e.PRICING_MODEL_MULTI:t.length>1?this._pricingModel=e.PRICING_MODEL_BUNDLE:this._pricingModel=e.PRICING_MODEL_UNKNOWN}},{key:\"setPricingType\",value:function(){this._priceInCredits>0&&this._priceInActivityPoints>0?this._priceType=e.PRICE_TYPE_CREDITS_ACTIVITYPOINTS:this._priceInCredits>0?this._priceType=e.PRICE_TYPE_CREDITS:this._priceInActivityPoints>0?this._priceType=e.PRICE_TYPE_ACTIVITYPOINTS:this._priceType=e.PRICE_TYPE_NONE}},{key:\"clone\",value:function(){var t,n=[],r=le(this.localizationId),a=Object(s.a)(this._products);try{for(a.s();!(t=a.n()).done;){var c=t.value,i=ie(c.productClassId,c.productType);n.push(new ca(c.productType,c.productClassId,c.extraParam,c.productCount,r,i))}}catch(l){a.e(l)}finally{a.f()}var o=new e(this.offerId,this.localizationId,this.isRentOffer,this.priceInCredits,this.priceInActivityPoints,this.activityPointType,this.giftable,this.clubLevel,n,this.bundlePurchaseAllowed);return o.page=this.page,o}}]),e}();ia.PRICING_MODEL_UNKNOWN=\"pricing_model_unknown\",ia.PRICING_MODEL_SINGLE=\"pricing_model_single\",ia.PRICING_MODEL_MULTI=\"pricing_model_multi\",ia.PRICING_MODEL_BUNDLE=\"pricing_model_bundle\",ia.PRICING_MODEL_FURNITURE=\"pricing_model_furniture\",ia.PRICE_TYPE_NONE=\"price_type_none\",ia.PRICE_TYPE_CREDITS=\"price_type_credits\",ia.PRICE_TYPE_ACTIVITYPOINTS=\"price_type_activitypoints\",ia.PRICE_TYPE_CREDITS_ACTIVITYPOINTS=\"price_type_credits_and_activitypoints\";var sa=function(){function e(t){Object(u.a)(this,e),this._furniData=void 0,this._page=void 0,this._product=void 0,this._furniData=t,this._product=new ca(this._furniData.type,this._furniData.id,this._furniData.customParams,1,le(this._furniData.className),this._furniData)}return Object(d.a)(e,[{key:\"activate\",value:function(){ea(new l.rc(this._furniData.rentOfferId>-1?this._furniData.rentOfferId:this._furniData.purchaseOfferId))}},{key:\"offerId\",get:function(){return this.isRentOffer?this._furniData.rentOfferId:this._furniData.purchaseOfferId}},{key:\"priceInActivityPoints\",get:function(){return 0}},{key:\"activityPointType\",get:function(){return 0}},{key:\"priceInCredits\",get:function(){return 0}},{key:\"page\",get:function(){return this._page},set:function(e){this._page=e}},{key:\"priceType\",get:function(){return\"\"}},{key:\"product\",get:function(){return this._product}},{key:\"products\",get:function(){return[this._product]}},{key:\"localizationId\",get:function(){return\"roomItem.name.\"+this._furniData.id}},{key:\"bundlePurchaseAllowed\",get:function(){return!1}},{key:\"isRentOffer\",get:function(){return this._furniData.rentOfferId>-1}},{key:\"giftable\",get:function(){return!1}},{key:\"pricingModel\",get:function(){return ia.PRICING_MODEL_FURNITURE}},{key:\"clubLevel\",get:function(){return 0}},{key:\"badgeCode\",get:function(){return\"\"}},{key:\"localizationName\",get:function(){return this._furniData.name}},{key:\"localizationDescription\",get:function(){return this._furniData.description}},{key:\"isLazy\",get:function(){return!0}}]),e}(),oa=function(){function e(t){Object(u.a)(this,e),this._isEnabled=!1,this._price=null,this._stuffTypes=null,this._boxTypes=null,this._ribbonTypes=null,this._defaultStuffTypes=null,this._isEnabled=t.isEnabled,this._price=t.price,this._boxTypes=t.boxTypes,this._ribbonTypes=t.ribbonTypes,this._stuffTypes=t.giftWrappers,this._defaultStuffTypes=t.giftFurnis}return Object(d.a)(e,[{key:\"isEnabled\",get:function(){return this._isEnabled}},{key:\"price\",get:function(){return this._price}},{key:\"stuffTypes\",get:function(){return this._stuffTypes}},{key:\"boxTypes\",get:function(){return this._boxTypes}},{key:\"ribbonTypes\",get:function(){return this._ribbonTypes}},{key:\"defaultStuffTypes\",get:function(){return this._defaultStuffTypes}}]),e}(),la=function(){function e(t,n){Object(u.a)(this,e),this._images=void 0,this._texts=void 0,this._images=t,this._texts=n}return Object(d.a)(e,[{key:\"getText\",value:function(e){var t=this._texts[e]||\"\";return t&&t.length&&(t=t.replace(/\\r\\n|\\r|\\n/g,\"<br />\")),t}},{key:\"getImage\",value:function(e){var t=this._images[e]||\"\";if(!t||!t.length)return null;var n=L(\"catalog.asset.image.url\");return n=n.replace(\"%name%\",t)}}]),e}(),ua=function(){function e(t,n,r,a,c,i,s,o){Object(u.a)(this,e),this.roomId=t,this.objectId=n,this.category=r,this.wallLocation=a,this.x=c,this.y=i,this.direction=s,this.offer=o}return Object(d.a)(e,[{key:\"offerId\",get:function(){return this.offer.offerId}},{key:\"productClassId\",get:function(){return this.offer.product.productClassId}},{key:\"productData\",get:function(){return this.offer.product.productData}},{key:\"furniData\",get:function(){return this.offer.product.furnitureData}},{key:\"extraParam\",get:function(){return this.offer.product.extraParam}}]),e}(),da=function(){function e(){Object(u.a)(this,e),this._requestType=void 0,this._requestById=void 0,this._requestedByOfferId=void 0,this._requestByName=void 0,this._requestType=e.REQUEST_TYPE_NONE}return Object(d.a)(e,[{key:\"resetRequest\",value:function(){this._requestType=e.REQUEST_TYPE_NONE,this._requestById=-1,this._requestedByOfferId=-1,this._requestByName=null}},{key:\"requestType\",get:function(){return this._requestType}},{key:\"requestById\",get:function(){return this._requestById},set:function(t){this._requestType=e.REQUEST_TYPE_ID,this._requestById=t}},{key:\"requestedByOfferId\",get:function(){return this._requestedByOfferId},set:function(t){this._requestType=e.REQUEST_TYPE_OFFER,this._requestedByOfferId=t}},{key:\"requestByName\",get:function(){return this._requestByName},set:function(t){this._requestType=e.REQUEST_TYPE_NAME,this._requestByName=t}}]),e}();da.REQUEST_TYPE_NONE=0,da.REQUEST_TYPE_ID=1,da.REQUEST_TYPE_OFFER=2,da.REQUEST_TYPE_NAME=3;var ja=Object(d.a)((function e(t,n,r){Object(u.a)(this,e),this.searchValue=t,this.offers=n,this.filteredNodes=r}));function ba(){return N().core}function Oa(){return ba().configuration}var ha=function(e){if(!e||!e.length)return null;var t=e.split(\"/\");return{username:t[0],figure:t[1],userId:parseInt(t[2])}},fa=Object(d.a)((function e(){Object(u.a)(this,e)}));fa.GROUP_CHAT=0,fa.PRIVATE_CHAT=1;var ga=Object(d.a)((function e(){Object(u.a)(this,e)}));ga.HIDDEN=0,ga.SHOW=1,ga.UNREAD=2;var ma=function(){function e(){Object(u.a)(this,e),this._id=void 0,this._name=void 0,this._requesterUserId=void 0,this._figureString=void 0}return Object(d.a)(e,[{key:\"populate\",value:function(e){return!!e&&(this._id=e.requestId,this._name=e.requesterName,this._figureString=e.figureString,this._requesterUserId=e.requesterUserId,!0)}},{key:\"id\",get:function(){return this._id}},{key:\"name\",get:function(){return this._name}},{key:\"requesterUserId\",get:function(){return this._requesterUserId}},{key:\"figureString\",get:function(){return this._figureString}}]),e}(),va=Object(d.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Object(u.a)(this,e),this.userFriendLimit=t,this.normalFriendLimit=n,this.extendedFriendLimit=r,this.categories=a})),pa=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(u.a)(this,e),this._type=void 0,this._senderId=void 0,this._message=void 0,this._secondsSinceSent=void 0,this._extraData=void 0,this._date=void 0,this._type=c,this._senderId=t,this._message=n,this._secondsSinceSent=r,this._extraData=a,this._date=new Date}return Object(d.a)(e,[{key:\"type\",get:function(){return this._type}},{key:\"senderId\",get:function(){return this._senderId}},{key:\"message\",get:function(){return this._message}},{key:\"secondsSinceSent\",get:function(){return this._secondsSinceSent}},{key:\"extraData\",get:function(){return this._extraData}},{key:\"date\",get:function(){return this._date}}]),e}();pa.CHAT=0,pa.ROOM_INVITE=1,pa.STATUS_NOTIFICATION=2,pa.SECURITY_NOTIFICATION=3;var xa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fa.PRIVATE_CHAT;Object(u.a)(this,e),this._userId=void 0,this._chats=void 0,this._type=void 0,this._userId=t,this._chats=[],this._type=n}return Object(d.a)(e,[{key:\"addChat\",value:function(e){this._chats.push(e)}},{key:\"userId\",get:function(){return this._userId}},{key:\"chats\",get:function(){return this._chats}},{key:\"type\",get:function(){return this._type},set:function(e){this._type=e}}]),e}(),_a=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(u.a)(this,e),this._threadId=void 0,this._participant=void 0,this._groups=void 0,this._lastUpdated=void 0,this._unreadCount=void 0,this._threadId=++e.THREAD_ID,this._participant=t,this._groups=[],this._lastUpdated=new Date,this._unreadCount=0,n&&(this.addMessage(null,st(\"messenger.moderationinfo\"),0,null,pa.SECURITY_NOTIFICATION),this._unreadCount=0)}return Object(d.a)(e,[{key:\"addMessage\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=e<0&&r,i=c?ha(r).userId:e,s=this.getLastGroup(i);if(s){c&&(s.type=fa.GROUP_CHAT);var o=new pa(e,t,n,r,a);return s.addChat(o),this._lastUpdated=new Date,this._unreadCount++,o}}},{key:\"getLastGroup\",value:function(e){var t=this._groups[this._groups.length-1];return t&&t.userId===e||(t=new xa(e),this._groups.push(t)),t}},{key:\"setRead\",value:function(){this._unreadCount=0}},{key:\"threadId\",get:function(){return this._threadId}},{key:\"participant\",get:function(){return this._participant}},{key:\"groups\",get:function(){return this._groups}},{key:\"lastUpdated\",get:function(){return this._lastUpdated}},{key:\"unreadCount\",get:function(){return this._unreadCount}},{key:\"unread\",get:function(){return this._unreadCount>0}}]),e}();function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;U(0===e?\"friends-messenger/open\":\"friends-messenger/\".concat(e))}_a.MESSAGE_RECEIVED=\"MT_MESSAGE_RECEIVED\",_a.THREAD_ID=0;function Ia(e){ea(new l.Oc(e,!0))}function ya(e){U(\"groups/manage/\".concat(e))}function Ca(e,t){U(t?\"group-members/\".concat(e,\"/\").concat(t):\"group-members/\".concat(e))}var Ta=function(e){return ea(new l.Qc(e))},Sa=Object(d.a)((function e(){Object(u.a)(this,e)}));Sa.ACTIVE=\"active\",Sa.NONE=\"none\",Sa.EXPIRED=\"expired\";var Na=[\"ACH_VipHC1\",\"ACH_VipHC2\",\"ACH_VipHC3\",\"ACH_VipHC4\",\"ACH_VipHC5\",\"HC1\",\"HC2\",\"HC3\",\"HC4\",\"HC5\"],Ra=Object(d.a)((function e(){Object(u.a)(this,e)}));Ra.NONE=0,Ra.START_DOORBELL=1,Ra.START_PASSWORD=2,Ra.STATE_PENDING_SERVER=3,Ra.UPDATE_STATE=4,Ra.STATE_WAITING=5,Ra.STATE_NO_ANSWER=6,Ra.STATE_WRONG_PASSWORD=7,Ra.STATE_ACCEPTED=8;var ka=Object(d.a)((function e(){Object(u.a)(this,e)}));ka.LIST=0,ka.THUMBNAILS=1,ka.FORCED_THUMBNAILS=2;var Aa=function(){for(var e=[],t=10;t<=100;t+=10)e.push(t);return e}(),wa=[{name:\"anything\",query:null},{name:\"room.name\",query:\"roomname\"},{name:\"owner\",query:\"owner\"},{name:\"tag\",query:\"tag\"},{name:\"group\",query:\"group\"}];function Da(e){ea(new l.wg(e,!1,!0))}var Ua=Object(d.a)((function e(){Object(u.a)(this,e)}));Ua.DEFAULT=\"default\",Ua.MOTD=\"motd\",Ua.MODERATION=\"moderation\",Ua.EVENT=\"event\",Ua.NITRO=\"nitro\",Ua.SEARCH=\"search\",Ua.ALERT=\"alert\";var Pa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ua.DEFAULT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(u.a)(this,e),this._id=void 0,this._messages=void 0,this._alertType=void 0,this._clickUrl=void 0,this._clickUrlText=void 0,this._title=void 0,this._imageUrl=void 0,e.ITEM_ID+=1,this._id=e.ITEM_ID,this._messages=t,this._alertType=n,this._clickUrl=r,this._clickUrlText=a,this._title=c,this._imageUrl=i}return Object(d.a)(e,[{key:\"id\",get:function(){return this._id}},{key:\"messages\",get:function(){return this._messages}},{key:\"alertType\",get:function(){return this._alertType},set:function(e){this._alertType=e}},{key:\"clickUrl\",get:function(){return this._clickUrl}},{key:\"clickUrlText\",get:function(){return this._clickUrlText}},{key:\"title\",get:function(){return this._title}},{key:\"imageUrl\",get:function(){return this._imageUrl}}]),e}();Pa.ITEM_ID=-1;var La=Object(d.a)((function e(){Object(u.a)(this,e)}));La.FRIENDOFFLINE=\"friendoffline\",La.FRIENDONLINE=\"friendonline\",La.THIRDPARTYFRIENDOFFLINE=\"thirdpartyfriendoffline\",La.THIRDPARTYFRIENDONLINE=\"thirdpartyfriendonline\",La.ACHIEVEMENT=\"achievement\",La.BADGE_RECEIVED=\"badge_received\",La.INFO=\"info\",La.RECYCLEROK=\"recyclerok\",La.RESPECT=\"respect\",La.CLUB=\"club\",La.SOUNDMACHINE=\"soundmachine\",La.PETLEVEL=\"petlevel\",La.CLUBGIFT=\"clubgift\",La.BUYFURNI=\"buyfurni\",La.VIP=\"vip\",La.ROOMMESSAGESPOSTED=\"roommessagesposted\";var Ma=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La.INFO,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(u.a)(this,e),this._id=void 0,this._message=void 0,this._notificationType=void 0,this._iconUrl=void 0,this._linkUrl=void 0,e.ITEM_ID+=1,this._id=e.ITEM_ID,this._message=t,this._notificationType=n,this._iconUrl=r,this._linkUrl=a}return Object(d.a)(e,[{key:\"id\",get:function(){return this._id}},{key:\"message\",get:function(){return this._message}},{key:\"notificationType\",get:function(){return this._notificationType}},{key:\"iconUrl\",get:function(){return this._iconUrl}},{key:\"linkUrl\",get:function(){return this._linkUrl}}]),e}();Ma.ITEM_ID=-1;var Fa=function(){function e(t,n,r,a,c,i,s){Object(u.a)(this,e),this._id=void 0,this._confirmType=void 0,this._message=void 0,this._onConfirm=void 0,this._onCancel=void 0,this._confirmText=void 0,this._cancelText=void 0,this._title=void 0,e.ITEM_ID+=1,this._id=e.ITEM_ID,this._confirmType=t,this._message=n,this._onConfirm=r,this._onCancel=a,this._confirmText=c,this._cancelText=i,this._title=s}return Object(d.a)(e,[{key:\"id\",get:function(){return this._id}},{key:\"confirmType\",get:function(){return this._confirmType}},{key:\"message\",get:function(){return this._message}},{key:\"onConfirm\",get:function(){return this._onConfirm}},{key:\"onCancel\",get:function(){return this._onCancel}},{key:\"confirmText\",get:function(){return this._confirmText}},{key:\"cancelText\",get:function(){return this._cancelText}},{key:\"title\",get:function(){return this._title}}]),e}();Fa.ITEM_ID=-1,Object(d.a)((function e(){Object(u.a)(this,e)})).DEFAULT=\"default\";var Ha=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:\"cleanText\",value:function(e){return e.replace(/\\\\r/g,\"\\r\")}},{key:\"getTimeZeroPadded\",value:function(e){var t=\"0\"+e;return t.substr(t.length-2,t.length)}},{key:\"getMainNotificationConfig\",value:function(){return L(\"notification\",{})}},{key:\"getNotificationConfig\",value:function(e){var t=this.getMainNotificationConfig();return t?t[e]:null}},{key:\"getNotificationPart\",value:function(e,t,n,r){if(e.has(n))return e.get(n);var a=[\"notification\",t,n].join(\".\");return N().localization.hasValue(a)||r?st(a,Array.from(e.keys()),Array.from(e.values())):null}},{key:\"getNotificationImageUrl\",value:function(e,t){var n=e.get(\"image\");return n||(n=L(\"image.library.notifications.url\",\"\").replace(\"%image%\",t.replace(/\\./g,\"_\"))),st(n)}},{key:\"showNotification\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=new Map);var n=this.getNotificationConfig(\"notification.\"+e);if(n)for(var r in n)t.set(r,n[r]);var a=this.getNotificationPart(t,e,\"title\",!0),c=this.getNotificationPart(t,e,\"message\",!0).replace(/\\\\r/g,\"\\r\"),i=this.getNotificationPart(t,e,\"linkTitle\",!1),s=this.getNotificationPart(t,e,\"linkUrl\",!1),o=this.getNotificationImageUrl(t,e);\"BUBBLE\"===t.get(\"display\")?this.showSingleBubble(st(c),La.INFO,o,s):this.simpleAlert(c,e,s,i,a,o),t.get(\"sound\")&&wn(t.get(\"sound\"))}},{key:\"showSingleBubble\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.BUBBLES_DISABLED||Kt(new wt(e,t,n,r))}},{key:\"showClubGiftNotification\",value:function(e){e<=0||this.showSingleBubble(e.toString(),La.CLUBGIFT,null,\"catalog/open/\"+L(\"catalog.links\")[\"hc.hc_gifts\"])}},{key:\"handleMOTD\",value:function(e){var t=this;e=e.map((function(e){return t.cleanText(e)})),Kt(new At(e,Ua.MOTD,null,null,st(\"notifications.motd.title\")))}},{key:\"confirm\",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;r&&r.length||(r=st(\"generic.confirm\")),a&&a.length||(a=st(\"generic.cancel\")),c&&c.length||(c=st(\"notifications.broadcast.title\")),Kt(new Pt(i,this.cleanText(e),t,n,r,a,c))}},{key:\"simpleAlert\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;a&&a.length||(a=st(\"notifications.broadcast.title\")),t&&t.length||(t=Ua.DEFAULT),Kt(new At([this.cleanText(e)],t,n,r,a,c))}},{key:\"showNitroAlert\",value:function(){Kt(new At(null,Ua.NITRO))}},{key:\"showModeratorMessage\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.simpleAlert(e,Ua.DEFAULT,t,st(\"mod.alert.link\"),st(\"mod.alert.title\"))}},{key:\"handleModeratorCaution\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.showModeratorMessage(e,t)}},{key:\"handleModeratorMessage\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.showModeratorMessage(e,t,!1)}},{key:\"handleUserBannedMessage\",value:function(e){this.showModeratorMessage(e)}},{key:\"handleHotelClosedMessage\",value:function(e,t,n){this.simpleAlert(st(\"opening.hours.\"+(n?\"disconnected\":\"closed\"),[\"h\",\"m\"],[this.getTimeZeroPadded(e),this.getTimeZeroPadded(t)]),Ua.DEFAULT,null,null,st(\"opening.hours.title\"))}},{key:\"handleHotelMaintenanceMessage\",value:function(e,t){this.simpleAlert(st(\"maintenance.shutdown\",[\"m\",\"d\"],[e.toString(),t.toString()]),Ua.DEFAULT,null,null,st(\"opening.hours.title\"))}},{key:\"handleHotelClosingMessage\",value:function(e){this.simpleAlert(st(\"opening.hours.shutdown\",[\"m\"],[e.toString()]),Ua.DEFAULT,null,null,st(\"opening.hours.title\"))}},{key:\"handleLoginFailedHotelClosedMessage\",value:function(e,t){this.simpleAlert(st(\"opening.hours.disconnected\",[\"h\",\"m\"],[e.toString(),t.toString()]),Ua.DEFAULT,null,null,st(\"opening.hours.title\"))}},{key:\"openUrl\",value:function(e){e&&e.length&&(e.startsWith(\"http\")?l.Ed.openWebPage(e):U(e))}},{key:\"showModerationDisclaimer\",value:function(){var e=this;if(l.og.isRunning()){if(this.MODERATION_DISCLAIMER_TIMEOUT)return;this.MODERATION_DISCLAIMER_TIMEOUT=setTimeout((function(){e.showModerationDisclaimer()}),l.og.totalRunningTime+this.MODERATION_DISCLAIMER_DELAY_MS)}else{if(this.MODERATION_DISCLAIMER_SHOWN)return;this.showSingleBubble(st(\"mod.chatdisclaimer\"),La.INFO),this.MODERATION_DISCLAIMER_SHOWN=!0}}}]),e}();Ha.MODERATION_DISCLAIMER_SHOWN=!1,Ha.MODERATION_DISCLAIMER_DELAY_MS=5e3,Ha.MODERATION_DISCLAIMER_TIMEOUT=null,Ha.BUBBLES_DISABLED=!1;var Ba=function(){function e(){Object(u.a)(this,e),this._credits=0,this._activityPoints=new Map,this._clubDays=0,this._clubPeriods=0,this._isVIP=!1,this._pastClubDays=0,this._pastVipDays=0,this._isExpiring=!1,this._minutesUntilExpiration=0,this._minutesSinceLastModified=0,this._lastUpdated=0}return Object(d.a)(e,[{key:\"credits\",get:function(){return this._credits},set:function(e){this._lastUpdated=N().time,this._credits=e}},{key:\"activityPoints\",get:function(){return this._activityPoints},set:function(e){this._lastUpdated=N().time,this._activityPoints=e}},{key:\"clubDays\",get:function(){return this._clubDays},set:function(e){this._lastUpdated=N().time,this._clubDays=e}},{key:\"clubPeriods\",get:function(){return this._clubPeriods},set:function(e){this._lastUpdated=N().time,this._clubPeriods=e}},{key:\"_Str_13571\",get:function(){return this._clubDays>0||this._clubPeriods>0}},{key:\"isVip\",get:function(){return this._isVIP},set:function(e){this._isVIP=e}},{key:\"pastClubDays\",get:function(){return this._pastClubDays},set:function(e){this._lastUpdated=N().time,this._pastClubDays=e}},{key:\"pastVipDays\",get:function(){return this._pastVipDays},set:function(e){this._lastUpdated=N().time,this._pastVipDays=e}},{key:\"isExpiring\",get:function(){return this._isExpiring},set:function(e){this._isExpiring=e}},{key:\"minutesUntilExpiration\",get:function(){var e=(N().time-this._lastUpdated)/6e4,t=this._minutesUntilExpiration-e;return t>0?t:0},set:function(e){this._lastUpdated=N().time,this._minutesUntilExpiration=e}},{key:\"minutesSinceLastModified\",get:function(){return this._minutesSinceLastModified},set:function(e){this._lastUpdated=N().time,this._minutesSinceLastModified=e}},{key:\"lastUpdated\",get:function(){return this._lastUpdated}},{key:\"clubLevel\",get:function(){return 0===this.clubDays&&0===this.clubPeriods?l.zd.NO_CLUB:this.isVip?l.zd.VIP:l.zd.CLUB}}],[{key:\"from\",value:function(t){var n=new e;return n._credits=t._credits,n._activityPoints=t._activityPoints,n._clubDays=t._clubDays,n._clubPeriods=t._clubPeriods,n._isVIP=t._isVIP,n._pastClubDays=t._pastClubDays,n._pastVipDays=t._pastVipDays,n._isExpiring=t._isExpiring,n._minutesUntilExpiration=t._minutesUntilExpiration,n._minutesSinceLastModified=t._minutesSinceLastModified,n._lastUpdated=t._lastUpdated,n}}]),e}();function Ga(e){ea(new l.Ci(e))}var Wa=function(e){var t=Math.floor(e/2);return e%2?(t+.5).toString():t.toString()},Va=Object(d.a)((function e(){Object(u.a)(this,e)}));Va.TOGGLE_FURNI_STATE=0,Va.RESET=1,Va.SET_FURNI_STATE=3,Va.MOVE_FURNI=4,Va.GIVE_SCORE=6,Va.CHAT=7,Va.TELEPORT=8,Va.JOIN_TEAM=9,Va.LEAVE_TEAM=10,Va.CHASE=11,Va.FLEE=12,Va.MOVE_AND_ROTATE_FURNI=13,Va.GIVE_SCORE_TO_PREDEFINED_TEAM=14,Va.TOGGLE_TO_RANDOM_STATE=15,Va.MOVE_FURNI_TO=16,Va.GIVE_REWARD=17,Va.CALL_ANOTHER_STACK=18,Va.KICK_FROM_ROOM=19,Va.MUTE_USER=20,Va.BOT_TELEPORT=21,Va.BOT_MOVE=22,Va.BOT_TALK=23,Va.BOT_GIVE_HAND_ITEM=24,Va.BOT_FOLLOW_AVATAR=25,Va.BOT_CHANGE_FIGURE=26,Va.BOT_TALK_DIRECT_TO_AVTR=27;var qa=Object(d.a)((function e(){Object(u.a)(this,e)}));qa.STATES_MATCH=0,qa.FURNIS_HAVE_AVATARS=1,qa.ACTOR_IS_ON_FURNI=2,qa.TIME_ELAPSED_MORE=3,qa.TIME_ELAPSED_LESS=4,qa.USER_COUNT_IN=5,qa.ACTOR_IS_IN_TEAM=6,qa.HAS_STACKED_FURNIS=7,qa.STUFF_TYPE_MATCHES=8,qa.STUFFS_IN_FORMATION=9,qa.ACTOR_IS_GROUP_MEMBER=10,qa.ACTOR_IS_WEARING_BADGE=11,qa.ACTOR_IS_WEARING_EFFECT=12,qa.NOT_STATES_MATCH=13,qa.FURNI_NOT_HAVE_HABBO=14,qa.NOT_ACTOR_ON_FURNI=15,qa.NOT_USER_COUNT_IN=16,qa.NOT_ACTOR_IN_TEAM=17,qa.NOT_HAS_STACKED_FURNIS=18,qa.NOT_FURNI_IS_OF_TYPE=19,qa.NOT_STUFFS_IN_FORMATION=20,qa.NOT_ACTOR_IN_GROUP=21,qa.NOT_ACTOR_WEARS_BADGE=22,qa.NOT_ACTOR_WEARING_EFFECT=23,qa.DATE_RANGE_ACTIVE=24,qa.ACTOR_HAS_HANDITEM=25;var Ya=function(e){return\"\".concat(e.getFullYear(),\"/\").concat((\"0\"+(e.getMonth()+1)).slice(-2),\"/\").concat((\"0\"+e.getDate()).slice(-2),\" \").concat((\"0\"+e.getHours()).slice(-2),\":\").concat((\"0\"+e.getMinutes()).slice(-2))},za=Object(d.a)((function e(){Object(u.a)(this,e)}));za.STUFF_SELECTION_OPTION_NONE=0,za.STUFF_SELECTION_OPTION_BY_ID=1,za.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE=2,za.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT=3;var Ka=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,\"\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nuniform mat3 projectionMatrix;\\nvarying vec2 vTextureCoord;\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\",\"\\nvarying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform vec3 lineColor;\\nuniform vec3 color;\\nvoid main(void) {\\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\\n    vec3 colorLine = lineColor * currentColor.a;\\n    vec3 colorOverlay = color * currentColor.a;\\n\\n    if(currentColor.r == 0.0 && currentColor.g == 0.0 && currentColor.b == 0.0 && currentColor.a > 0.0) {\\n        gl_FragColor = vec4(colorLine.r, colorLine.g, colorLine.b, currentColor.a);\\n    } else if(currentColor.a > 0.0) {\\n        gl_FragColor = vec4(colorOverlay.r, colorOverlay.g, colorOverlay.b, currentColor.a);\\n    }\\n}\"))._lineColor=void 0,a._color=void 0,a.uniforms.lineColor=new Float32Array(3),a.uniforms.color=new Float32Array(3),a.lineColor=e,a.color=r,a}return Object(d.a)(n,[{key:\"lineColor\",get:function(){return this._lineColor},set:function(e){var t=this.uniforms.lineColor;\"number\"===typeof e?(l.ib.hex2rgb(e,t),this._lineColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._lineColor=l.ib.rgb2hex(t))}},{key:\"color\",get:function(){return this._color},set:function(e){var t=this.uniforms.color;\"number\"===typeof e?(l.ib.hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._color=l.ib.rgb2hex(t))}}]),n}(l.Pe),Qa=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:\"show\",value:function(t){e.applySelectionShader(e.getRoomObject(t))}},{key:\"hide\",value:function(t){e.clearSelectionShader(e.getRoomObject(t))}},{key:\"clearSelectionShaderFromFurni\",value:function(t){var n,r=Object(s.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.clearSelectionShader(e.getRoomObject(a))}}catch(c){r.e(c)}finally{r.f()}}},{key:\"applySelectionShaderToFurni\",value:function(t){var n,r=Object(s.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.applySelectionShader(e.getRoomObject(a))}}catch(c){r.e(c)}finally{r.f()}}},{key:\"getRoomObject\",value:function(e){var t=G();return t.getRoomObject(t.activeRoomId,e,l.Cg.FLOOR)}},{key:\"applySelectionShader\",value:function(t){if(t){var n=t.visualization;if(n){var r,a=Object(s.a)(n.sprites);try{for(a.s();!(r=a.n()).done;){var c=r.value;1!==c.blendMode&&(c.filters=[e._selectionShader])}}catch(i){a.e(i)}finally{a.f()}}}}},{key:\"clearSelectionShader\",value:function(e){if(e){var t=e.visualization;if(t){var n,r=Object(s.a)(t.sprites);try{for(r.s();!(n=r.n()).done;){n.value.filters=[]}}catch(a){r.e(a)}finally{r.f()}}}}}]),e}();Qa._selectionShader=new Ka([1,1,1],[.6,.6,.6]);var Xa=\"\\t\",Ja=Object(d.a)((function e(){Object(u.a)(this,e)}));Ja.AVATAR_SAYS_SOMETHING=0,Ja.AVATAR_WALKS_ON_FURNI=1,Ja.AVATAR_WALKS_OFF_FURNI=2,Ja.EXECUTE_ONCE=3,Ja.TOGGLE_FURNI=4,Ja.EXECUTE_PERIODICALLY=6,Ja.AVATAR_ENTERS_ROOM=7,Ja.GAME_STARTS=8,Ja.GAME_ENDS=9,Ja.SCORE_ACHIEVED=10,Ja.COLLISION=11,Ja.EXECUTE_PERIODICALLY_LONG=12,Ja.BOT_REACHED_STUFF=13,Ja.BOT_REACHED_AVATAR=14;var Za=n(17),$a=n(0),ec=[\"ref\",\"innerRef\",\"display\",\"fit\",\"grow\",\"shrink\",\"fullWidth\",\"fullHeight\",\"overflow\",\"position\",\"float\",\"pointer\",\"visible\",\"textColor\",\"classNames\",\"className\",\"style\",\"children\"],tc=function(e){e.ref;var t=e.innerRef,n=void 0===t?null:t,r=e.display,a=void 0===r?null:r,i=e.fit,s=void 0!==i&&i,o=e.grow,l=void 0!==o&&o,u=e.shrink,d=void 0!==u&&u,j=e.fullWidth,b=void 0!==j&&j,O=e.fullHeight,h=void 0!==O&&O,f=e.overflow,g=void 0===f?null:f,m=e.position,v=void 0===m?null:m,p=e.float,x=void 0===p?null:p,_=e.pointer,E=void 0!==_&&_,I=e.visible,y=void 0===I?null:I,C=e.textColor,T=void 0===C?null:C,S=e.classNames,N=void 0===S?[]:S,R=e.className,k=void 0===R?\"\":R,A=e.style,w=void 0===A?{}:A,D=e.children,U=void 0===D?null:D,P=Object(Za.a)(e,ec),L=Object(c.useMemo)((function(){var e=[];return a&&a.length&&e.push(\"d-\"+a),(s||b)&&e.push(\"w-100\"),(s||h)&&e.push(\"h-100\"),l&&e.push(\"flex-grow-1\"),d&&e.push(\"flex-shrink-0\"),g&&e.push(\"overflow-\"+g),v&&e.push(\"position-\"+v),x&&e.push(\"float-\"+x),E&&e.push(\"cursor-pointer\"),null!==y&&e.push(y?\"visible\":\"invisible\"),T&&e.push(\"text-\"+T),N.length&&e.push.apply(e,Object(ut.a)(N)),e}),[a,s,l,d,b,h,g,v,x,E,y,T,N]),M=Object(c.useMemo)((function(){var e=L.join(\" \");return k.length&&(e+=\" \"+k),e.trim()}),[L,k]),F=Object(c.useMemo)((function(){var e={};return Object.keys(w).length&&(e=Object(bt.a)(Object(bt.a)({},e),w)),e}),[w]);return Object($a.jsx)(\"div\",Object(bt.a)(Object(bt.a)({ref:n,className:M,style:F},P),{},{children:U}))},nc=Object(c.createContext)({isCssGrid:!1}),rc=function(e){return Object($a.jsx)(nc.Provider,{value:e.value,children:e.children})},ac=[\"inline\",\"gap\",\"maxContent\",\"columnCount\",\"center\",\"alignSelf\",\"alignItems\",\"justifyContent\",\"fullHeight\",\"classNames\",\"style\"],cc=function(e){var t=e.inline,n=void 0!==t&&t,r=e.gap,a=void 0===r?2:r,i=e.maxContent,s=void 0!==i&&i,o=e.columnCount,l=void 0===o?0:o,u=e.center,d=void 0!==u&&u,j=e.alignSelf,b=void 0===j?null:j,O=e.alignItems,h=void 0===O?null:O,f=e.justifyContent,g=void 0===f?null:f,m=e.fullHeight,v=void 0===m||m,p=e.classNames,x=void 0===p?[]:p,_=e.style,E=void 0===_?{}:_,I=Object(Za.a)(e,ac),y=Object(c.useMemo)((function(){var e=[];return n?e.push(\"inline-grid\"):e.push(\"grid\"),a?e.push(\"gap-\"+a):0===a&&e.push(\"gap-0\"),s&&e.push(\"flex-basis-max-content\"),b&&e.push(\"align-self-\"+b),h&&e.push(\"align-items-\"+h),g&&e.push(\"justify-content-\"+g),h||g||!d||e.push(\"align-items-center\",\"justify-content-center\"),x.length&&e.push.apply(e,Object(ut.a)(x)),e}),[n,a,s,b,h,g,d,x]),C=Object(c.useMemo)((function(){var e={};return l&&(e[\"--bs-columns\"]=l.toString()),Object.keys(E).length&&(e=Object(bt.a)(Object(bt.a)({},e),E)),e}),[l,E]);return Object($a.jsx)(rc,{value:{isCssGrid:!0},children:Object($a.jsx)(tc,Object(bt.a)({fullHeight:v,classNames:y,style:C},I))})},ic=[\"columnMinWidth\",\"columnMinHeight\",\"columnCount\",\"fullHeight\",\"maxContent\",\"overflow\",\"style\"],sc=function(e){var t=e.columnMinWidth,n=void 0===t?40:t,r=e.columnMinHeight,a=void 0===r?40:r,i=e.columnCount,s=void 0===i?0:i,o=e.fullHeight,l=void 0!==o&&o,u=(e.maxContent,e.overflow),d=void 0===u?\"auto\":u,j=e.style,b=void 0===j?{}:j,O=Object(Za.a)(e,ic),h=Object(c.useMemo)((function(){var e={};return e[\"--nitro-grid-column-min-height\"]=a+\"px\",s>1&&(e.gridTemplateColumns=\"repeat(auto-fill, minmax(\".concat(n,\"px, 1fr))\")),Object.keys(b).length&&(e=Object(bt.a)(Object(bt.a)({},e),b)),e}),[n,a,s,b]);return Object($a.jsx)(cc,Object(bt.a)({columnCount:s,fullHeight:l,overflow:d,style:h},O))},oc=[\"display\",\"column\",\"reverse\",\"gap\",\"center\",\"alignSelf\",\"alignItems\",\"justifyContent\",\"classNames\"],lc=function(e){var t=e.display,n=void 0===t?\"flex\":t,r=e.column,a=void 0===r?void 0:r,i=e.reverse,s=void 0!==i&&i,o=e.gap,l=void 0===o?null:o,u=e.center,d=void 0!==u&&u,j=e.alignSelf,b=void 0===j?null:j,O=e.alignItems,h=void 0===O?null:O,f=e.justifyContent,g=void 0===f?null:f,m=e.classNames,v=void 0===m?[]:m,p=Object(Za.a)(e,oc),x=Object(c.useMemo)((function(){var e=[];return a?s?e.push(\"flex-column-reverse\"):e.push(\"flex-column\"):s&&e.push(\"flex-row-reverse\"),l&&e.push(\"gap-\"+l),b&&e.push(\"align-self-\"+b),h&&e.push(\"align-items-\"+h),g&&e.push(\"justify-content-\"+g),h||g||!d||e.push(\"align-items-center\",\"justify-content-center\"),v.length&&e.push.apply(e,Object(ut.a)(v)),e}),[a,s,l,d,b,h,g,v]);return Object($a.jsx)(tc,Object(bt.a)({display:n,classNames:x},p))},uc=[\"variant\",\"size\",\"active\",\"disabled\",\"classNames\"],dc=function(e){var t=e.variant,n=void 0===t?\"primary\":t,r=e.size,a=void 0===r?\"sm\":r,i=e.active,s=void 0!==i&&i,o=e.disabled,l=void 0!==o&&o,u=e.classNames,d=void 0===u?[]:u,j=Object(Za.a)(e,uc),b=Object(c.useMemo)((function(){var e=[\"btn\"];return n&&e.push(\"btn-\"+n),a&&e.push(\"btn-\"+a),s&&e.push(\"active\"),l&&e.push(\"disabled\"),d.length&&e.push.apply(e,Object(ut.a)(d)),e}),[n,a,s,l,d]);return Object($a.jsx)(lc,Object(bt.a)({center:!0,classNames:b},j))},jc=[\"classNames\"],bc=function(e){var t=e.classNames,n=void 0===t?[]:t,r=Object(Za.a)(e,jc),a=Object(c.useMemo)((function(){var e=[\"btn-group\"];return n.length&&e.push.apply(e,Object(ut.a)(n)),e}),[n]);return Object($a.jsx)(tc,Object(bt.a)({classNames:a},r))},Oc=Object(c.createContext)({closers:null,setClosers:null,closeAll:null}),hc=function(e){return Object($a.jsx)(Oc.Provider,Object(bt.a)({},e))},fc=[\"alignItems\",\"gap\",\"children\"],gc=function(e){var t=e.alignItems,n=void 0===t?\"center\":t,r=e.gap,a=void 0===r?1:r,c=e.children,i=void 0===c?null:c,s=Object(Za.a)(e,fc);return Object($a.jsx)(lc,Object(bt.a)(Object(bt.a)({alignItems:n,gap:a},s),{},{children:i}))},mc=n(22),vc=[\"headerText\",\"isExpanded\",\"gap\",\"classNames\",\"children\"],pc=function(e){var t=e.headerText,n=void 0===t?\"\":t,r=e.isExpanded,a=void 0!==r&&r,i=e.gap,s=void 0===i?0:i,l=e.classNames,u=void 0===l?[]:l,d=e.children,j=void 0===d?null:d,b=Object(Za.a)(e,vc),O=Object(c.useState)(!1),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useContext)(Oc),v=m.setClosers,p=void 0===v?null:v,x=m.closeAll,_=void 0===x?null:x,E=Object(c.useCallback)((function(){return g(!1)}),[]),I=Object(c.useMemo)((function(){var e=[\"nitro-card-accordion-set\"];return f&&e.push(\"active\"),u&&u.length&&e.push.apply(e,Object(ut.a)(u)),e}),[f,u]);return Object(c.useEffect)((function(){g(a)}),[a]),Object(c.useEffect)((function(){var e=E;return p((function(t){var n=Object(ut.a)(t);return n.push(e),n})),function(){p((function(t){var n=Object(ut.a)(t),r=n.indexOf(e);return r>=0&&n.splice(r,1),n}))}}),[E,p]),Object($a.jsxs)(Jc,Object(bt.a)(Object(bt.a)({classNames:I,gap:s},b),{},{children:[Object($a.jsxs)(lc,{pointer:!0,justifyContent:\"between\",className:\"nitro-card-accordion-set-header px-2 py-1\",onClick:function(){_(),g((function(e){return!e}))},children:[Object($a.jsx)(Hi,{children:n}),Object($a.jsx)(mc.a,{icon:f?\"caret-up\":\"caret-down\"})]}),f&&Object($a.jsx)(Jc,{fullHeight:!0,overflow:\"auto\",gap:0,className:\"nitro-card-accordion-set-content\",children:j})]}))},xc=function(e){var t=Object.assign({},e),n=Object(c.useState)([]),r=Object(o.a)(n,2),a=r[0],i=r[1],l=Object(c.useCallback)((function(){var e,t=Object(s.a)(a);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(n){t.e(n)}finally{t.f()}}),[a]);return Object($a.jsx)(hc,{value:{closers:a,setClosers:i,closeAll:l},children:Object($a.jsx)(Jc,Object(bt.a)({gap:0},t))})},_c=[\"overflow\",\"classNames\"],Ec=function(e){var t=e.overflow,n=void 0===t?\"auto\":t,r=e.classNames,a=void 0===r?[]:r,i=Object(Za.a)(e,_c),s=Object(c.useMemo)((function(){var e=[\"container-fluid\",\"content-area\"];return a.length&&e.push.apply(e,Object(ut.a)(a)),e}),[a]);return Object($a.jsx)(Jc,Object(bt.a)({classNames:s,overflow:n},i))},Ic=Object(c.createContext)({theme:null}),yc=function(e){return Object($a.jsx)(Ic.Provider,{value:e.value,children:e.children})},Cc=[\"headerText\",\"noCloseButton\",\"onCloseClick\",\"justifyContent\",\"alignItems\",\"classNames\",\"children\"],Tc=function(e){var t=e.headerText,n=void 0===t?null:t,r=(e.noCloseButton,e.onCloseClick),a=void 0===r?null:r,i=(e.justifyContent,e.alignItems,e.classNames),s=void 0===i?[]:i,o=(e.children,Object(Za.a)(e,Cc)),l=Object(c.useMemo)((function(){var e=[\"drag-handler\",\"container-fluid\",\"nitro-card-header\"];return s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[s]),u=Object(c.useCallback)((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}),[]);return Object($a.jsx)(Jc,Object(bt.a)(Object(bt.a)({center:!0,position:\"relative\",classNames:l},o),{},{children:Object($a.jsxs)(lc,{fullWidth:!0,center:!0,children:[Object($a.jsx)(\"span\",{className:\"nitro-card-header-text\",children:n}),Object($a.jsx)(tc,{position:\"absolute\",className:\"end-2 nitro-card-header-close\",onMouseDownCapture:u,onClick:a,children:Object($a.jsx)(mc.a,{icon:\"times\"})})]})}))},Sc=[\"justifyContent\",\"classNames\"],Nc=function(e){var t=e.justifyContent,n=void 0===t?\"center\":t,r=e.classNames,a=void 0===r?[]:r,i=Object(Za.a)(e,Sc),s=Object(c.useMemo)((function(){var e=[\"container-fluid\",\"bg-muted\",\"p-1\"];return a.length&&e.push.apply(e,Object(ut.a)(a)),e}),[a]);return Object($a.jsx)(lc,Object(bt.a)({justifyContent:n,classNames:s},i))},Rc=n(38),kc=Object(d.a)((function e(){Object(u.a)(this,e)}));kc.CENTER=\"DWP_CENTER\",kc.TOP_CENTER=\"DWP_TOP_CENTER\",kc.TOP_LEFT=\"DWP_TOP_LEFT\",kc.NOTHING=\"DWP_NOTHING\";var Ac=[],wc=new Map,Dc=function(e){var t=e.uniqueKey,n=void 0===t?null:t,r=e.handleSelector,a=void 0===r?\".drag-handler\":r,i=e.windowPosition,u=void 0===i?kc.CENTER:i,d=e.disableDrag,j=void 0!==d&&d,b=e.dragStyle,O=void 0===b?{}:b,h=e.children,f=void 0===h?null:h,g=e.offsetLeft,m=void 0===g?0:g,v=e.offsetTop,p=void 0===v?0:v,x=Object(c.useState)(null),_=Object(o.a)(x,2),E=_[0],I=_[1],y=Object(c.useState)(null),C=Object(o.a)(y,2),T=C[0],S=C[1],N=Object(c.useState)({x:0,y:0}),R=Object(o.a)(N,2),k=R[0],A=R[1],w=Object(c.useState)(!1),D=Object(o.a)(w,2),U=D[0],P=D[1],L=Object(c.useState)(null),M=Object(o.a)(L,2),F=M[0],H=M[1],B=Object(c.useRef)(),G=Object(c.useCallback)((function(){var e,t=400,n=Object(s.a)(Ac);try{for(n.s();!(e=n.n()).done;){var r=e.value;t+=1,r.style.zIndex=t.toString()}}catch(a){n.e(a)}finally{n.f()}}),[]),W=Object(c.useCallback)((function(){var e=Ac.indexOf(B.current);if(-1===e)Ac.push(B.current);else{if(e===Ac.length-1)return;e>=0&&(Ac.splice(e,1),Ac.push(B.current))}G()}),[G]),V=Object(c.useCallback)((function(e){W()}),[W]),q=Object(c.useCallback)((function(e){W()}),[W]),Y=Object(c.useCallback)((function(e,t){A({x:e,y:t}),P(!0)}),[]),z=Object(c.useCallback)((function(e){Y(e.clientX,e.clientY)}),[Y]),K=Object(c.useCallback)((function(e){var t=e.touches[0];Y(t.clientX,t.clientY)}),[Y]),Q=Object(c.useCallback)((function(e){I({x:e.clientX-k.x,y:e.clientY-k.y})}),[k]),X=Object(c.useCallback)((function(e){var t=e.touches[0];I({x:t.clientX-k.x,y:t.clientY-k.y})}),[k]),J=Object(c.useCallback)((function(){if(B.current&&F){var e=T.x+E.x,t=T.y+E.y,r=B.current.offsetLeft+e,a=B.current.offsetTop+t;a<0?t=-B.current.offsetTop:a+F.offsetHeight>=document.body.offsetHeight-0&&(t=document.body.offsetHeight-B.current.offsetHeight-B.current.offsetTop),r+B.current.offsetWidth<0?e=-B.current.offsetLeft:r>=document.body.offsetWidth-0&&(e=document.body.offsetWidth-B.current.offsetWidth-B.current.offsetLeft),I({x:0,y:0}),S({x:e,y:t}),P(!1),null!==n&&wc.set(n,{x:e,y:t})}}),[F,E,T,n]),Z=Object(c.useCallback)((function(e){J()}),[J]),$=Object(c.useCallback)((function(e){J()}),[J]);return Object(c.useEffect)((function(){var e=B.current;if(e){if(Ac.push(e),G(),!j){var t=e.querySelector(a);t&&H(t)}var r=0,c=0;switch(u){case kc.TOP_CENTER:e.style.top=50+p+\"px\",e.style.left=\"calc(50vw - \".concat(e.offsetWidth/2+m,\"px)\");break;case kc.CENTER:e.style.top=\"calc(50vh - \".concat(e.offsetHeight/2+p,\"px)\"),e.style.left=\"calc(50vw - \".concat(e.offsetWidth/2+m,\"px)\");break;case kc.TOP_LEFT:e.style.top=50+p+\"px\",e.style.left=50+m+\"px\"}if(null!==n){var i=wc.get(n);i&&(r=i.x,c=i.y)}return I({x:0,y:0}),S({x:r,y:c}),function(){var t=Ac.indexOf(e);t>=0&&Ac.splice(t,1)}}}),[a,u,n,j,m,p,G]),Object(c.useEffect)((function(){if(T||E){var e=B.current;e&&(e.style.transform=\"translate(\".concat(T.x+E.x,\"px, \").concat(T.y+E.y,\"px)\"),e.style.visibility=\"visible\")}}),[T,E]),Object(c.useEffect)((function(){if(F)return F.addEventListener(l.xe.MOUSE_DOWN,z),F.addEventListener(l.Nh.TOUCH_START,K),function(){F.removeEventListener(l.xe.MOUSE_DOWN,z),F.removeEventListener(l.Nh.TOUCH_START,K)}}),[F,z,K]),Object(c.useEffect)((function(){if(U)return document.addEventListener(l.xe.MOUSE_UP,Z),document.addEventListener(l.Nh.TOUCH_END,$),document.addEventListener(l.xe.MOUSE_MOVE,Q),document.addEventListener(l.Nh.TOUCH_MOVE,X),function(){document.removeEventListener(l.xe.MOUSE_UP,Z),document.removeEventListener(l.Nh.TOUCH_END,$),document.removeEventListener(l.xe.MOUSE_MOVE,Q),document.removeEventListener(l.Nh.TOUCH_MOVE,X)}}),[U,Z,Q,$,X]),Object(Rc.createPortal)(Object($a.jsx)(tc,{position:\"absolute\",innerRef:B,className:\"draggable-window animate__animated animate__fadeIn\",onMouseDownCapture:V,onTouchStartCapture:q,style:O,children:f}),document.getElementById(\"draggable-windows-container\"))},Uc=[\"theme\",\"uniqueKey\",\"handleSelector\",\"windowPosition\",\"disableDrag\",\"overflow\",\"position\",\"gap\",\"classNames\"],Pc=function(e){var t=e.theme,n=void 0===t?\"primary\":t,r=e.uniqueKey,a=void 0===r?null:r,i=e.handleSelector,s=void 0===i?\".drag-handler\":i,o=e.windowPosition,l=void 0===o?kc.CENTER:o,u=e.disableDrag,d=void 0!==u&&u,j=e.overflow,b=void 0===j?\"hidden\":j,O=e.position,h=void 0===O?\"relative\":O,f=e.gap,g=void 0===f?0:f,m=e.classNames,v=void 0===m?[]:m,p=Object(Za.a)(e,Uc),x=Object(c.useMemo)((function(){var e=[\"nitro-card\",\"rounded\",\"shadow\"];return e.push(\"theme-\".concat(n||\"primary\")),v.length&&e.push.apply(e,Object(ut.a)(v)),e}),[n,v]);return Object($a.jsx)(yc,{value:{theme:n},children:Object($a.jsx)(Dc,{uniqueKey:a,handleSelector:s,windowPosition:l,disableDrag:d,children:Object($a.jsx)(Jc,Object(bt.a)({overflow:b,position:h,gap:g,classNames:x},p))})})},Lc=[\"figure\",\"gender\",\"headOnly\",\"direction\",\"scale\",\"classNames\",\"style\"],Mc=function(e){var t=e.figure,n=void 0===t?\"\":t,r=e.gender,a=void 0===r?\"M\":r,i=e.headOnly,s=void 0!==i&&i,u=e.direction,d=void 0===u?0:u,j=e.scale,b=void 0===j?1:j,O=e.classNames,h=void 0===O?[]:O,f=e.style,g=void 0===f?{}:f,m=Object(Za.a)(e,Lc),v=Object(c.useState)(null),p=Object(o.a)(v,2),x=p[0],_=p[1],E=Object(c.useState)(-1),I=Object(o.a)(E,2),y=I[0],C=I[1],T=Object(c.useRef)(!1),S=Object(c.useMemo)((function(){var e=[\"avatar-image\"];return h.length&&e.push.apply(e,Object(ut.a)(h)),e}),[h]),N=Object(c.useMemo)((function(){var e={};return x&&x.length&&(e.backgroundImage=\"url('\".concat(x,\"')\")),1!==b&&(e.transform=\"scale(\".concat(b,\")\"),b%1||(e.imageRendering=\"pixelated\")),Object.keys(g).length&&(e=Object(bt.a)(Object(bt.a)({},e),g)),e}),[x,b,g]);return Object(c.useEffect)((function(){var e=k().createAvatarImage(n,l.q.LARGE,a,{resetFigure:function(e){T.current||C(Math.random())},dispose:function(){},disposed:!1},null);if(e){var t=l.r.FULL;s&&(t=l.r.HEAD),e.setDirection(t,d);var r=e.getCroppedImage(t);r&&_(r.src),e.dispose()}}),[n,a,d,s,y]),Object(c.useEffect)((function(){return T.current=!1,function(){T.current=!0}}),[]),Object($a.jsx)(tc,Object(bt.a)({classNames:S,style:N},m))},Fc=[\"imageUrl\",\"fit\",\"style\"],Hc=function(e){var t=e.imageUrl,n=void 0===t?null:t,r=e.fit,a=void 0===r||r,i=e.style,s=void 0===i?null:i,o=Object(Za.a)(e,Fc),l=Object(c.useMemo)((function(){var e=Object(bt.a)({},s);return n&&(e.background=\"url(\".concat(n,\") center no-repeat\")),e}),[s,n]);return Object($a.jsx)(tc,Object(bt.a)({fit:a,style:l},o))},Bc=[\"badgeCode\",\"isGroup\",\"showInfo\",\"customTitle\",\"isGrayscale\",\"scale\",\"classNames\",\"style\",\"children\"],Gc=function(e){var t=e.badgeCode,n=void 0===t?null:t,r=e.isGroup,a=void 0!==r&&r,i=e.showInfo,s=void 0!==i&&i,u=e.customTitle,d=void 0===u?null:u,j=e.isGrayscale,b=void 0!==j&&j,O=e.scale,h=void 0===O?1:O,f=e.classNames,g=void 0===f?[]:f,m=e.style,v=void 0===m?{}:m,p=e.children,x=void 0===p?null:p,_=Object(Za.a)(e,Bc),E=Object(c.useState)(null),I=Object(o.a)(E,2),y=I[0],C=I[1],T=Object(c.useMemo)((function(){var e=[\"badge-image\"];return a&&e.push(\"group-badge\"),b&&e.push(\"grayscale\"),g.length&&e.push.apply(e,Object(ut.a)(g)),e}),[g,a,b]),S=Object(c.useMemo)((function(){var e={};return y&&(e.backgroundImage=\"url('\".concat(a||b?y.src:location.protocol+\"//swfs.hgalaxy.net/c_images/album1584/\"+n,\".gif')\"),e.width=y.width,e.height=y.height,1!==h&&(e.transform=\"scale(\".concat(h,\")\"),h%1||(e.imageRendering=\"pixelated\"),e.width=y.width*h,e.height=y.height*h)),Object.keys(v).length&&(e=Object(bt.a)(Object(bt.a)({},e),v)),e}),[y,h,v]);return Object(c.useEffect)((function(){if(n&&n.length){var e=!1,t=function t(r){if(r.badgeId===n){var a=l.Mh.generateImage(new l.Ve(r.image));a.onload=function(){return C(a)},e=!0,ae().events.removeEventListener(l.s.IMAGE_READY,t)}};ae().events.addEventListener(l.s.IMAGE_READY,t);var r=a?ae().getGroupBadgeImage(n):ae().getBadgeImage(n);if(r&&!e){var c=l.Mh.generateImage(new l.Ve(r));c.onload=function(){return C(c)}}return function(){return ae().events.removeEventListener(l.s.IMAGE_READY,t)}}}),[n,a]),Object($a.jsxs)(tc,Object(bt.a)(Object(bt.a)({classNames:T,style:S},_),{},{children:[s&&L(\"badge.descriptions.enabled\",!0)&&Object($a.jsxs)(tc,{className:\"badge-information text-black py-1 px-2 small\",children:[Object($a.jsx)(\"div\",{className:\"fw-bold mb-1\",children:a?d:it(n)}),Object($a.jsx)(\"div\",{children:a?st(\"group.badgepopup.body\"):ct(n)})]}),x]}))},Wc=[\"type\",\"classNames\",\"style\"],Vc=function(e){var t=e.type,n=void 0===t?\"\":t,r=e.classNames,a=void 0===r?[]:r,i=e.style,s=void 0===i?{}:i,o=Object(Za.a)(e,Wc),l=Object(c.useMemo)((function(){var e=[\"nitro-currency-icon\"];return a.length&&e.push.apply(e,Object(ut.a)(a)),e}),[a]),u=Object(c.useMemo)((function(){var e=L(\"currency.asset.icon.url\",\"\");return e=e.replace(\"%type%\",n.toString()),\"url(\".concat(e,\")\")}),[n]),d=Object(c.useMemo)((function(){var e={};return e.backgroundImage=u,Object.keys(s).length&&(e=Object(bt.a)(Object(bt.a)({},e),s)),e}),[s,u]);return Object($a.jsx)(tc,Object(bt.a)({classNames:l,style:d},o))},qc=[\"productType\",\"productClassId\",\"extraData\"],Yc=function(e){var t=e.productType,n=void 0===t?\"s\":t,r=e.productClassId,a=void 0===r?-1:r,c=e.extraData,i=void 0===c?\"\":c,s=Object(Za.a)(e,qc);return Object($a.jsx)(oi,Object(bt.a)({imageUrl:function(){var e=null;switch(n.toLocaleLowerCase()){case aa.FLOOR:e=G().getFurnitureFloorIconUrl(a);break;case aa.WALL:e=G().getFurnitureWallIconUrl(a,i)}return e}(),className:\"furni-image\"},s))},zc=[\"productType\",\"productClassId\",\"direction\",\"extraData\",\"scale\",\"style\"],Kc=function(e){var t=e.productType,n=void 0===t?\"s\":t,r=e.productClassId,a=void 0===r?-1:r,i=e.direction,s=void 0===i?2:i,u=e.extraData,d=void 0===u?\"\":u,j=e.scale,b=void 0===j?1:j,O=e.style,h=void 0===O?{}:O,f=Object(Za.a)(e,zc),g=Object(c.useState)(null),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useMemo)((function(){var e,t={};return null!==v&&void 0!==v&&null!==(e=v.src)&&void 0!==e&&e.length&&(t.backgroundImage=\"url('\".concat(v.src,\"')\"),t.width=v.width,t.height=v.height),1!==b&&(t.transform=\"scale(\".concat(b,\")\"),b%1||(t.imageRendering=\"pixelated\")),Object.keys(h).length&&(t=Object(bt.a)(Object(bt.a)({},t),h)),t}),[v,b,h]),_=Object(c.useCallback)((function(){var e=null,t={imageReady:function(e,t,n){!n&&t&&(n=l.Mh.generateImage(t)),n.onload=function(){return p(n)}},imageFailed:null};switch(n.toLocaleLowerCase()){case aa.FLOOR:e=G().getFurnitureFloorImage(a,new l.Oi(s),64,t,0,d);break;case aa.WALL:e=G().getFurnitureWallImage(a,new l.Oi(s),64,t,0,d)}if(e){var r=e.getImage();r.onload=function(){return p(r)}}}),[n,a,s,d]);return Object(c.useEffect)((function(){_()}),[_]),v?Object($a.jsx)(tc,Object(bt.a)({classNames:[\"furni-image\"],style:x},f)):null},Qc=function(e){var t=e.figure,n=void 0===t?null:t,r=e.userName,a=void 0===r?null:r,c=e.message,i=void 0===c?null:c,s=e.editable,o=void 0!==s&&s,l=e.onChange,u=void 0===l?null:l;return Object($a.jsxs)(lc,{overflow:\"hidden\",className:\"nitro-gift-card text-black\",children:[Object($a.jsxs)(\"div\",{className:\"d-flex align-items-center justify-content-center gift-face flex-shrink-0\",children:[!a&&Object($a.jsx)(\"div\",{className:\"gift-incognito\"}),n&&Object($a.jsx)(\"div\",{className:\"gift-avatar\",children:Object($a.jsx)(Mc,{figure:n,direction:2,headOnly:!0})})]}),Object($a.jsx)(lc,{overflow:\"hidden\",className:\"w-100 pt-4 pb-4 pe-4 ps-3\",children:Object($a.jsxs)(Jc,{grow:!0,overflow:\"auto\",justifyContent:\"between\",children:[!o&&Object($a.jsx)(Hi,{textBreak:!0,className:\"gift-message\",children:i}),o&&null!==u&&Object($a.jsx)(\"textarea\",{className:\"gift-message h-100\",maxLength:140,value:i,onChange:function(e){return u(e.target.value)},placeholder:st(\"catalog.gift_wrapping_new.message_hint\")}),a&&Object($a.jsx)(Hi,{italics:!0,textEnd:!0,className:\"pe-1\",children:st(\"catalog.gift_wrapping_new.message_from\",[\"name\"],[a])})]})})]})},Xc=[\"size\",\"offset\",\"column\",\"gap\",\"classNames\"],Jc=function(e){var t=e.size,n=void 0===t?0:t,r=e.offset,a=void 0===r?0:r,i=e.column,s=void 0===i||i,o=e.gap,l=void 0===o?2:o,u=e.classNames,d=void 0===u?[]:u,j=Object(Za.a)(e,Xc),b=Object(c.useContext)(nc).isCssGrid,O=void 0!==b&&b,h=Object(c.useMemo)((function(){var e=[];if(n){var t=\"col-\".concat(n);O&&(t=\"g-\".concat(t)),e.push(t)}if(a){var r=\"offset-\".concat(a);O&&(r=\"g-start-\".concat(a)),e.push(r)}return d.length&&e.push.apply(e,Object(ut.a)(d)),e}),[n,a,O,d]);return Object($a.jsx)(lc,Object(bt.a)({classNames:h,column:s,gap:l},j))},Zc=[\"count\",\"position\",\"classNames\",\"children\"],$c=function(e){var t=e.count,n=void 0===t?0:t,r=(e.position,e.classNames),a=void 0===r?[]:r,i=e.children,s=void 0===i?null:i,o=Object(Za.a)(e,Zc),l=Object(c.useMemo)((function(){var e=[\"badge\",\"border\",\"border-black\",\"bg-danger\",\"px-1\",\"nitro-item-count\"];return a.length&&e.push.apply(e,Object(ut.a)(a)),e}),[a]);return Object($a.jsxs)(tc,Object(bt.a)(Object(bt.a)({position:\"absolute\",classNames:l},o),{},{children:[n,s]}))},ei=function(e){var t=e.value,n=(void 0===t?0:t).toString().split(\"\");return Object($a.jsx)($a.Fragment,{children:n.map((function(e,t){return Object($a.jsx)(\"i\",{className:\"limited-edition-number n-\"+e},t)}))})},ti=[\"uniqueNumber\",\"uniqueSeries\",\"classNames\",\"children\"],ni=function(e){var t=e.uniqueNumber,n=void 0===t?0:t,r=e.uniqueSeries,a=void 0===r?0:r,i=e.classNames,s=void 0===i?[]:i,o=e.children,l=void 0===o?null:o,u=Object(Za.a)(e,ti),d=Object(c.useMemo)((function(){var e=[\"unique-compact-plate\",\"z-index-1\"];return s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[s]);return Object($a.jsxs)(tc,Object(bt.a)(Object(bt.a)({classNames:d},u),{},{children:[Object($a.jsx)(\"div\",{children:Object($a.jsx)(ei,{value:n})}),Object($a.jsx)(\"div\",{children:Object($a.jsx)(ei,{value:a})}),l]}))},ri=[\"uniqueLimitedItemsLeft\",\"uniqueLimitedSeriesSize\",\"classNames\"],ai=function(e){var t=e.uniqueLimitedItemsLeft,n=void 0===t?0:t,r=e.uniqueLimitedSeriesSize,a=void 0===r?0:r,i=e.classNames,s=void 0===i?[]:i,o=Object(Za.a)(e,ri),l=Object(c.useMemo)((function(){var e=[\"unique-complete-plate\"];return s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[s]);return Object($a.jsx)(tc,Object(bt.a)(Object(bt.a)({classNames:l},o),{},{children:Object($a.jsxs)(Jc,{className:\"plate-container\",gap:0,children:[Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",children:[st(\"unique.items.left\"),Object($a.jsx)(\"div\",{children:Object($a.jsx)(ei,{value:n})})]}),Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",children:[st(\"unique.items.number.sold\"),Object($a.jsx)(\"div\",{children:Object($a.jsx)(ei,{value:a})})]})]})}))},ci=[\"itemImage\",\"itemColor\",\"itemActive\",\"itemCount\",\"itemCountMinimum\",\"itemUniqueSoldout\",\"itemUniqueNumber\",\"itemUnseen\",\"itemHighlight\",\"disabled\",\"center\",\"column\",\"style\",\"classNames\",\"position\",\"overflow\",\"children\"],ii=function(e){var t=e.itemImage,n=void 0===t?void 0:t,r=e.itemColor,a=void 0===r?void 0:r,i=e.itemActive,s=void 0!==i&&i,o=e.itemCount,l=void 0===o?1:o,u=e.itemCountMinimum,d=void 0===u?1:u,j=e.itemUniqueSoldout,b=void 0!==j&&j,O=e.itemUniqueNumber,h=void 0===O?-2:O,f=e.itemUnseen,g=void 0!==f&&f,m=e.itemHighlight,v=void 0!==m&&m,p=e.disabled,x=void 0!==p&&p,_=e.center,E=void 0===_||_,I=e.column,y=void 0===I||I,C=e.style,T=void 0===C?{}:C,S=e.classNames,N=void 0===S?[]:S,R=e.position,k=void 0===R?\"relative\":R,A=e.overflow,w=void 0===A?\"hidden\":A,D=e.children,U=void 0===D?null:D,P=Object(Za.a)(e,ci),L=Object(c.useMemo)((function(){var e=[\"layout-grid-item\",\"border\",\"border-2\",\"border-muted\",\"rounded\"];return s&&e.push(\"active\"),(b||h>0)&&e.push(\"unique-item\"),b&&e.push(\"sold-out\"),g&&e.push(\"unseen\"),v&&e.push(\"has-highlight\"),x&&e.push(\"disabled\"),null===n&&e.push(\"icon\",\"loading-icon\"),N.length&&e.push.apply(e,Object(ut.a)(N)),e}),[s,b,h,g,v,x,n,N]),M=Object(c.useMemo)((function(){var e=Object(bt.a)({},T);return n&&(e.backgroundImage=\"url(\".concat(n,\")\")),a&&(e.backgroundColor=a),Object.keys(T).length&&(e=Object(bt.a)(Object(bt.a)({},e),T)),e}),[T,n,a]);return Object($a.jsxs)(Jc,Object(bt.a)(Object(bt.a)({center:E,pointer:!0,position:k,overflow:w,column:y,classNames:L,style:M},P),{},{children:[l>d&&Object($a.jsx)($c,{count:l}),h>0&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(tc,{fit:!0,className:\"unique-bg-override\",style:{backgroundImage:\"url(\".concat(n,\")\")}}),Object($a.jsx)(\"div\",{className:\"position-absolute bottom-0 unique-item-counter\",children:Object($a.jsx)(ei,{value:h})})]}),U]}))},si=[\"imageUrl\"],oi=function(e){var t=e.imageUrl,n=void 0===t?null:t,r=Object(Za.a)(e,si);return Object($a.jsx)(\"img\",Object(bt.a)({src:n,alt:\"\"},r))},li=function(e){var t=Object.assign({},e);return Object($a.jsxs)(tc,Object(bt.a)(Object(bt.a)({classNames:[\"spinner-container\"]},t),{},{children:[Object($a.jsx)(tc,{className:\"spinner\"}),Object($a.jsx)(tc,{className:\"spinner\"}),Object($a.jsx)(tc,{className:\"spinner\"})]}))},ui=function(e){var t=e.roomId,n=void 0===t?-1:t,r=e.textureReceiver,a=void 0===r?null:r,i=e.onClose,s=void 0===i?null:i,o=Object(c.useRef)(),u=Object(c.useCallback)((function(){if(!o||!o.current)return null;var e=o.current.getBoundingClientRect();return new l.Te(Math.floor(e.x),Math.floor(e.y),Math.floor(e.width),Math.floor(e.height))}),[]),d=Object(c.useCallback)((function(){wn(dr.CAMERA_SHUTTER),a(G().createTextureFromRoom(n,1,u()))}),[n,u,a]);return Object($a.jsx)(Dc,{handleSelector:\".nitro-room-thumbnail-camera\",children:Object($a.jsxs)(\"div\",{className:\"nitro-room-thumbnail-camera px-2\",children:[Object($a.jsx)(\"div\",{ref:o,className:\"camera-frame\"}),Object($a.jsxs)(\"div\",{className:\"d-flex align-items-end h-100 pb-2\",children:[Object($a.jsx)(\"button\",{className:\"btn btn-sm btn-danger w-100 mb-1 me-2\",onClick:s,children:st(\"cancel\")}),Object($a.jsx)(\"button\",{className:\"btn btn-sm btn-success w-100 mb-1\",onClick:d,children:st(\"navigator.thumbeditor.save\")})]})]})})},di=[\"title\",\"close\",\"classNames\",\"children\",\"type\"],ji=function(e){var t=e.title,n=void 0===t?\"\":t,r=e.close,a=void 0===r?null:r,i=e.classNames,s=void 0===i?[]:i,o=e.children,l=void 0===o?null:o,u=e.type,d=void 0===u?Ua.DEFAULT:u,j=Object(Za.a)(e,di),b=Object(c.useMemo)((function(){var e=[\"nitro-alert\"];return e.push(\"nitro-alert-\"+d),s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[s,d]);return Object($a.jsxs)(Pc,Object(bt.a)(Object(bt.a)({classNames:b,theme:\"primary-slim\"},j),{},{children:[Object($a.jsx)(Tc,{headerText:n,onCloseClick:a}),Object($a.jsx)(Ec,{grow:!0,justifyContent:\"between\",overflow:\"hidden\",className:\"text-black\",gap:0,children:l})]}))},bi=n(40),Oi=Object(d.a)((function e(){Object(u.a)(this,e)}));function hi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;switch(e){case Oi.BOUNCE:switch(t){default:return{};case bi.b:return{animationName:\"bounceIn\",animationDuration:\"\".concat(n,\"ms\")};case bi.c:return{animationName:\"bounceOut\",animationDuration:\"\".concat(n,\"ms\")}}case Oi.SLIDE_LEFT:switch(t){default:return{};case bi.b:return{animationName:\"slideInLeft\",animationDuration:\"\".concat(n,\"ms\")};case bi.c:return{animationName:\"slideOutLeft\",animationDuration:\"\".concat(n,\"ms\")}}case Oi.SLIDE_RIGHT:switch(t){default:return{};case bi.b:return{animationName:\"slideInRight\",animationDuration:\"\".concat(n,\"ms\")};case bi.c:return{animationName:\"slideOutRight\",animationDuration:\"\".concat(n,\"ms\")}}case Oi.FLIP_X:switch(t){default:return{};case bi.b:return{animationName:\"flipInX\",animationDuration:\"\".concat(n,\"ms\")};case bi.c:return{animationName:\"flipOutX\",animationDuration:\"\".concat(n,\"ms\")}}case Oi.FADE_UP:switch(t){default:return{};case bi.b:return{animationName:\"fadeInUp\",animationDuration:\"\".concat(n,\"ms\")};case bi.c:return{animationName:\"fadeOutDown\",animationDuration:\"\".concat(n,\"ms\")}}case Oi.FADE_IN:switch(t){default:return{};case bi.b:return{animationName:\"fadeIn\",animationDuration:\"\".concat(n,\"ms\")};case bi.c:return{animationName:\"fadeOut\",animationDuration:\"\".concat(n,\"ms\")}}case Oi.FADE_DOWN:switch(t){default:return{};case bi.b:return{animationName:\"fadeInDown\",animationDuration:\"\".concat(n,\"ms\")};case bi.c:return{animationName:\"fadeOutUp\",animationDuration:\"\".concat(n,\"ms\")}}case Oi.HEAD_SHAKE:return t===bi.b?{animationName:\"headShake\",animationDuration:\"\".concat(n,\"ms\")}:{}}return null}Oi.BOUNCE=\"bounce\",Oi.SLIDE_LEFT=\"slideLeft\",Oi.SLIDE_RIGHT=\"slideRight\",Oi.FLIP_X=\"flipX\",Oi.FADE_IN=\"fadeIn\",Oi.FADE_DOWN=\"fadeDown\",Oi.FADE_UP=\"fadeUp\",Oi.HEAD_SHAKE=\"headShake\";var fi=function(e){var t=e.type,n=void 0===t?null:t,r=e.inProp,a=void 0!==r&&r,i=e.timeout,s=void 0===i?300:i,l=e.className,u=void 0===l?null:l,d=e.children,j=void 0===d?null:d,b=Object(c.useState)(!1),O=Object(o.a)(b,2),h=O[0],f=O[1];return Object(c.useEffect)((function(){var e=null;return a?f(!0):e=setTimeout((function(){f(!1),clearTimeout(s)}),s),function(){e&&clearTimeout(e)}}),[a,s]),Object($a.jsx)(bi.d,{in:a,timeout:s,children:function(e){return Object($a.jsx)(\"div\",{className:(null!==u&&void 0!==u?u:\"\")+\" animate__animated\",style:Object(bt.a)({},hi(n,e,s)),children:h&&j})}})},gi=[\"fadesOut\",\"timeoutMs\",\"close\",\"overflow\",\"classNames\"],mi=function(e){var t=e.fadesOut,n=void 0===t||t,r=e.timeoutMs,a=void 0===r?8e3:r,i=e.close,s=void 0===i?null:i,l=e.overflow,u=void 0===l?\"hidden\":l,d=e.classNames,j=void 0===d?[]:d,b=Object(Za.a)(e,gi),O=Object(c.useState)(!1),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useMemo)((function(){var e=[\"nitro-notification-bubble\",\"rounded\",\"animate__animated animate__backInRight\"];return j.length&&e.push.apply(e,Object(ut.a)(j)),e}),[j]);return Object(c.useEffect)((function(){return g(!0),function(){return g(!1)}}),[]),Object(c.useEffect)((function(){if(n){var e=setTimeout((function(){g(!1),setTimeout((function(){return s()}),300)}),a);return function(){return clearTimeout(e)}}}),[n,a,s]),Object($a.jsx)(fi,{type:Oi.FADE_IN,inProp:f,timeout:300,children:Object($a.jsx)(lc,Object(bt.a)({overflow:u,classNames:m,onClick:s},b))})},vi=[\"figure\",\"typeId\",\"paletteId\",\"petColor\",\"customParts\",\"posture\",\"headOnly\",\"direction\",\"scale\",\"style\"],pi=function(e){var t=e.figure,n=void 0===t?\"\":t,r=e.typeId,a=void 0===r?-1:r,i=e.paletteId,s=void 0===i?-1:i,u=e.petColor,d=void 0===u?16777215:u,j=e.customParts,b=void 0===j?[]:j,O=e.posture,h=void 0===O?\"std\":O,f=e.headOnly,g=void 0!==f&&f,m=e.direction,v=void 0===m?0:m,p=e.scale,x=void 0===p?1:p,_=e.style,E=void 0===_?{}:_,I=Object(Za.a)(e,vi),y=Object(c.useState)(null),C=Object(o.a)(y,2),T=C[0],S=C[1],N=Object(c.useRef)(!1),R=Object(c.useMemo)((function(){var e={};return T&&T.length&&(e.backgroundImage=\"url(\".concat(T,\")\")),1!==x&&(e.transform=\"scale(\".concat(x,\")\"),x%1||(e.imageRendering=\"pixelated\")),Object.keys(E).length&&(e=Object(bt.a)(Object(bt.a)({},e),E)),e}),[T,x,E]);Object(c.useEffect)((function(){var e=a,t=s,r=d,c=b,i=g;if(n&&n.length){var o=new l.jf(n);e=o.typeId,t=o.paletteId,r=o.color,c=o.customParts}16===e&&(i=!1);var u=G().getRoomObjectPetImage(e,t,r,new l.Oi(45*v),64,{imageReady:function(e,t,n){N.current||(n?S(n.src):t&&S(l.Mh.generateImageUrl(t)))},imageFailed:function(e){}},i,0,c,h);if(u){var j=u.getImage();j&&S(j.src)}}),[n,a,s,d,b,h,g,v]),Object(c.useEffect)((function(){return N.current=!1,function(){N.current=!0}}),[]);\"url('\".concat(T,\"')\");return Object($a.jsx)(tc,Object(bt.a)({classNames:[\"pet-image\"],style:R},I))},xi=[\"text\",\"progress\",\"maxProgress\",\"position\",\"justifyContent\",\"classNames\",\"children\"],_i=function(e){var t=e.text,n=void 0===t?\"\":t,r=e.progress,a=void 0===r?0:r,i=e.maxProgress,s=void 0===i?100:i,o=e.position,l=void 0===o?\"relative\":o,u=e.justifyContent,d=void 0===u?\"center\":u,j=e.classNames,b=void 0===j?[]:j,O=e.children,h=void 0===O?null:O,f=Object(Za.a)(e,xi),g=Object(c.useMemo)((function(){var e=[\"nitro-progress-bar\",\"text-white\"];return b.length&&e.push.apply(e,Object(ut.a)(b)),e}),[b]);return Object($a.jsxs)(Jc,Object(bt.a)(Object(bt.a)({position:l,justifyContent:d,classNames:g},f),{},{children:[n&&n.length>0&&Object($a.jsx)(lc,{fit:!0,center:!0,position:\"absolute\",className:\"nitro-progress-bar-text small\",children:n}),Object($a.jsx)(tc,{className:\"nitro-progress-bar-inner\",style:{width:~~(100*(a-0)/(s-0)+0)+\"%\"}}),h]}))},Ei=[\"level\",\"classNames\",\"children\"],Ii=function(e){var t=e.level,n=void 0===t?0:t,r=e.classNames,a=void 0===r?[]:r,i=e.children,s=void 0===i?null:i,o=Object(Za.a)(e,Ei),l=Object(c.useMemo)((function(){var e=[\"nitro-rarity-level\"];return a.length&&e.push.apply(e,Object(ut.a)(a)),e}),[a]);return Object($a.jsxs)(tc,Object(bt.a)(Object(bt.a)({classNames:l},o),{},{children:[Object($a.jsx)(\"div\",{children:n}),s]}))},yi=function(e){var t=e.roomPreviewer,n=void 0===t?null:t,r=e.height,a=void 0===r?0:r,i=e.children,s=void 0===i?null:i,u=Object(c.useState)(null),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useRef)(),h=Object(c.useCallback)((function(e){n&&j&&O.current&&(n.updatePreviewRoomView(),j.canvasUpdated&&(O.current.style.backgroundImage=\"url(\".concat(l.Mh.generateImageUrl(j.master),\")\")))}),[n,j,O]),f=Object(c.useCallback)((function(){if(O.current&&n){var e=document.defaultView.getComputedStyle(O.current,null).backgroundColor;e=(e=l.ib.rgbStringToHex(e)).replace(\"#\",\"0x\"),n.backgroundColor=parseInt(e,16);var t=O.current.parentElement.clientWidth;n.getRoomCanvas(t,a);var r=n.getRenderingCanvas();b(r),r.canvasUpdated=!0,h(-1)}}),[O,a,n,h]);return Object(c.useEffect)((function(){if(n){j||f(),N().ticker.add(h);var e=new ResizeObserver((function(){if(n&&O.current){var e=O.current.parentElement.offsetWidth;n.modifyRoomCanvas(e,a),h(-1)}}));return e.observe(O.current),function(){e.disconnect(),N().ticker.remove(h)}}}),[j,n,O,a,f,h]),Object($a.jsxs)(\"div\",{className:\"room-preview-container\",children:[Object($a.jsx)(\"div\",{ref:O,className:\"room-preview-image\",style:{height:a},onClick:function(e){n&&(e.shiftKey?n.changeRoomObjectDirection():n.changeRoomObjectState())}}),s]})},Ci=[\"roomId\",\"customUrl\",\"shrink\",\"overflow\",\"classNames\",\"children\"],Ti=function(e){var t=e.roomId,n=void 0===t?-1:t,r=e.customUrl,a=void 0===r?null:r,i=e.shrink,s=void 0===i||i,o=e.overflow,l=void 0===o?\"hidden\":o,u=e.classNames,d=void 0===u?[]:u,j=e.children,b=void 0===j?null:j,O=Object(Za.a)(e,Ci),h=Object(c.useMemo)((function(){var e=[\"room-thumbnail\",\"rounded\",\"border\"];return d.length&&e.push.apply(e,Object(ut.a)(d)),e}),[d]),f=Object(c.useMemo)((function(){return a&&a.length?L(\"image.library.url\")+a:L(\"thumbnails.url\").replace(\"%thumbnail%\",n.toString())}),[a,n]);return Object($a.jsxs)(tc,Object(bt.a)(Object(bt.a)({shrink:s,overflow:l,classNames:h},O),{},{children:[f&&Object($a.jsx)(\"img\",{alt:\"\",src:f}),b]}))},Si=function(e){var t=e.color,n=void 0===t?\"\":t,r=e.message,a=void 0===r?\"\":r,c=e.date,i=void 0===c?\"\":c,s=e.senderName,o=void 0===s?\"\":s,l=e.customTitle,u=void 0===l?null:l,d=e.onCloseClick,j=void 0===d?null:d;return Object($a.jsx)(Dc,{handleSelector:\".drag-handler\",children:Object($a.jsxs)(Jc,{gap:0,alignItems:\"center\",className:\"nitro-layout-trophy trophy-\".concat(n),children:[Object($a.jsxs)(lc,{center:!0,fullWidth:!0,position:\"relative\",className:\"trophy-header drag-handler\",children:[Object($a.jsx)(tc,{position:\"absolute\",pointer:!0,className:\"trophy-close\",onClick:j}),Object($a.jsx)(Hi,{bold:!0,children:st(\"widget.furni.trophy.title\")})]}),Object($a.jsxs)(Jc,{className:\"trophy-content py-1\",gap:1,children:[u&&Object($a.jsx)(Hi,{bold:!0,children:u}),a]}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",className:\"trophy-footer mt-1\",children:[Object($a.jsx)(Hi,{bold:!0,children:i}),Object($a.jsx)(Hi,{bold:!0,children:o})]})]})})},Ni=[\"userId\",\"userName\",\"classNames\",\"pointer\",\"children\"],Ri=function(e){var t=e.userId,n=void 0===t?0:t,r=(e.userName,e.classNames),a=void 0===r?[]:r,i=e.pointer,s=void 0===i||i,o=e.children,l=void 0===o?null:o,u=Object(Za.a)(e,Ni),d=Object(c.useMemo)((function(){var e=[\"nitro-friends-spritesheet\",\"icon-profile-sm\"];return a.length&&e.push.apply(e,Object(ut.a)(a)),e}),[a]);return Object($a.jsx)(tc,Object(bt.a)(Object(bt.a)({classNames:d,pointer:s,onClick:function(e){return Ga(n)}},u),{},{children:l}))},ki=[\"isActive\",\"count\",\"overflow\",\"position\",\"pointer\",\"classNames\",\"children\"],Ai=function(e){var t=e.isActive,n=void 0!==t&&t,r=e.count,a=void 0===r?0:r,i=e.overflow,s=void 0===i?\"hidden\":i,o=e.position,l=void 0===o?\"relative\":o,u=e.pointer,d=void 0===u||u,j=e.classNames,b=void 0===j?[]:j,O=e.children,h=void 0===O?null:O,f=Object(Za.a)(e,ki),g=Object(c.useMemo)((function(){var e=[\"nav-item\",\"rounded-top\",\"border\"];return n&&e.push(\"active\"),b.length&&e.push.apply(e,Object(ut.a)(b)),e}),[n,b]);return Object($a.jsxs)(lc,Object(bt.a)(Object(bt.a)({overflow:s,pointer:d,position:l,classNames:g},f),{},{children:[Object($a.jsx)(lc,{shrink:!0,center:!0,children:h}),a>0&&Object($a.jsx)($c,{count:a})]}))},wi=[\"justifyContent\",\"gap\",\"classNames\",\"children\"],Di=function(e){var t=e.justifyContent,n=void 0===t?\"center\":t,r=e.gap,a=void 0===r?1:r,i=e.classNames,s=void 0===i?[]:i,o=e.children,l=void 0===o?null:o,u=Object(Za.a)(e,wi),d=Object(c.useMemo)((function(){var e=[\"container-fluid\",\"nitro-card-tabs\",\"pt-1\"];return s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[s]);return Object($a.jsx)(lc,Object(bt.a)(Object(bt.a)({justifyContent:n,gap:a,classNames:d},u),{},{children:l}))},Ui=[\"classNames\"],Pi=function(e){var t=e.classNames,n=void 0===t?[]:t,r=Object(Za.a)(e,Ui),a=Object(c.useMemo)((function(){var e=[\"form-group\"];return n.length&&e.push.apply(e,Object(ut.a)(n)),e}),[n]);return Object($a.jsx)(lc,Object(bt.a)({classNames:a},r))},Li=[\"variant\",\"height\",\"classNames\",\"style\"],Mi=function(e){var t=e.variant,n=void 0===t?\"black\":t,r=e.height,a=void 0===r?1:r,i=e.classNames,s=void 0===i?[]:i,o=e.style,l=void 0===o?{}:o,u=Object(Za.a)(e,Li),d=Object(c.useMemo)((function(){var e=[];return n&&e.push(\"bg-\"+n),s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[n,s]),j=Object(c.useMemo)((function(){var e={display:\"list-item\"};return a>0&&(e.height=a),Object.keys(l).length&&(e=Object(bt.a)(Object(bt.a)({},e),l)),e}),[a,l]);return Object($a.jsx)(tc,Object(bt.a)({classNames:d,style:j},u))},Fi=[\"variant\",\"fontWeight\",\"fontSize\",\"align\",\"bold\",\"underline\",\"italics\",\"truncate\",\"center\",\"textEnd\",\"small\",\"wrap\",\"noWrap\",\"textBreak\"],Hi=function(e){var t=e.variant,n=void 0===t?\"black\":t,r=e.fontWeight,a=void 0===r?null:r,i=e.fontSize,s=void 0===i?0:i,o=e.align,l=void 0===o?null:o,u=e.bold,d=void 0!==u&&u,j=e.underline,b=void 0!==j&&j,O=e.italics,h=void 0!==O&&O,f=e.truncate,g=void 0!==f&&f,m=e.center,v=void 0!==m&&m,p=e.textEnd,x=void 0!==p&&p,_=e.small,E=void 0!==_&&_,I=e.wrap,y=void 0!==I&&I,C=e.noWrap,T=void 0!==C&&C,S=e.textBreak,N=void 0!==S&&S,R=Object(Za.a)(e,Fi),k=Object(c.useMemo)((function(){var e=[\"d-inline\"];return n&&e.push(\"text-\"+n),d&&e.push(\"fw-bold\"),a&&e.push(\"fw-\"+a),s&&e.push(\"fs-\"+s),l&&e.push(\"text-\"+l),b&&e.push(\"text-decoration-underline\"),h&&e.push(\"fst-italic\"),g&&e.push(\"text-truncate\"),v&&e.push(\"text-center\"),x&&e.push(\"text-end\"),E&&e.push(\"small\"),y&&e.push(\"text-wrap\"),T&&e.push(\"text-nowrap\"),N&&e.push(\"text-break\"),e}),[n,a,s,l,d,b,h,g,v,x,E,y,T,N]);return Object($a.jsx)(tc,Object(bt.a)({classNames:k},R))},Bi=n(19),Gi=n(15),Wi=n.n(Gi),Vi=n(132),qi=n(129),Yi=n(133),zi=function(e){var t=e.isError,n=void 0!==t&&t,r=e.message,a=void 0===r?\"\":r,i=e.percent,s=void 0===i?0:i,o=Object(c.useCallback)(function(){var e=Object(Bi.a)(Wi.a.mark((function e(t){return Wi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Object(qi.a)(t);case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);Object(c.useCallback)(function(){var e=Object(Bi.a)(Wi.a.mark((function e(t){return Wi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log(t);case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(c.useEffect)((function(){n&&Ha.simpleAlert(a,null,null,null,\"Connection Error\")}),[n,a]),Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(Jc,{fullHeight:!0,position:\"relative\",className:\"nitro-loading\",children:[Object($a.jsx)(Vi.a,{options:{fpsLimit:60,particles:{color:{value:\"#008cff\",animation:{enable:!0,speed:10}},move:{attract:{enable:!0,rotate:{x:2e3,y:2e3}},direction:\"none\",enable:!0,outModes:{default:\"destroy\"},path:{clamp:!1,enable:!0,delay:{value:0},generator:Yi.a,options:{sides:6,turnSteps:30,angle:30}},random:!1,speed:3,straight:!1,trail:{fillColor:\"#000\",length:20,enable:!0}},number:{density:{enable:!0,area:800},value:0},opacity:{value:1},shape:{type:\"circle\"},size:{value:2}},fullScreen:{zIndex:-1},detectRetina:!0,emitters:{direction:\"none\",rate:{quantity:1,delay:.25},size:{width:0,height:0},position:{x:50,y:50}}},init:o}),Object($a.jsx)(tc,{fullHeight:!0,className:\"container h-100\",children:Object($a.jsxs)(Jc,{fullHeight:!0,alignItems:\"center\",justifyContent:\"end\",children:[Object($a.jsx)(tc,{className:\"connecting-duck animate__animated animate__pulse animate__faster animate__infinite\"}),Object($a.jsx)(Jc,{size:6,className:\"text-center py-4\",children:n&&a&&a.length?Object($a.jsx)(tc,{className:\"fs-4 text-shadow\",children:a}):Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Hi,{fontSize:4,variant:\"white\",className:\"text-shadow\",children:[s.toFixed(),\"%\"]}),Object($a.jsx)(_i,{progress:s,className:\"mt-2 large\"})]})})]})})]})})},Ki=[\"achievement\",\"scale\"],Qi=function(e){var t=e.achievement,n=void 0===t?null:t,r=e.scale,a=void 0===r?1:r,c=Object(Za.a)(e,Ki);return n?Object($a.jsx)(Gc,Object(bt.a)({badgeCode:O(n),isGrayscale:!m(n),scale:a},c)):null},Xi=[\"achievement\",\"selectedAchievementId\",\"setSelectedAchievementId\",\"children\"],Ji=function(e){var t=e.achievement,n=void 0===t?null:t,r=e.selectedAchievementId,a=void 0===r?-1:r,c=e.setSelectedAchievementId,i=void 0===c?null:c,s=e.children,o=void 0===s?null:s,l=Object(Za.a)(e,Xi);return n?Object($a.jsxs)(ii,Object(bt.a)(Object(bt.a)({itemActive:a===n.achievementId,itemUnseen:n.unseen>0,onClick:function(e){return i(n.achievementId)}},l),{},{children:[Object($a.jsx)(Qi,{achievement:n}),o]})):null},Zi=[\"achievements\",\"selectedAchievementId\",\"setSelectedAchievementId\",\"children\"],$i=function(e){var t=e.achievements,n=void 0===t?null:t,r=e.selectedAchievementId,a=void 0===r?-1:r,c=e.setSelectedAchievementId,i=void 0===c?null:c,s=e.children,o=void 0===s?null:s,l=Object(Za.a)(e,Zi);return Object($a.jsxs)(sc,Object(bt.a)(Object(bt.a)({columnCount:6,columnMinWidth:50,columnMinHeight:50},l),{},{children:[n&&n.length>0&&n.map((function(e,t){return Object($a.jsx)(Ji,{achievement:e,selectedAchievementId:a,setSelectedAchievementId:i},t)})),o]}))},es=[\"achievement\",\"children\"],ts=function(e){var t=e.achievement,n=void 0===t?null:t,r=e.children,a=void 0===r?null:r,c=Object(Za.a)(e,es);return n?Object($a.jsxs)(lc,Object(bt.a)(Object(bt.a)({shrink:!0,className:\"bg-muted rounded p-2 text-black\",gap:2,overflow:\"hidden\"},c),{},{children:[Object($a.jsxs)(Jc,{center:!0,gap:1,children:[Object($a.jsx)(Qi,{className:\"nitro-achievements-badge-image\",achievement:n,scale:2}),Object($a.jsx)(Hi,{fontWeight:\"bold\",children:st(\"achievements.details.level\",[\"level\",\"limit\"],[v(n).toString(),n.levelCount.toString()])})]}),Object($a.jsxs)(Jc,{fullWidth:!0,justifyContent:\"center\",overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{fontWeight:\"bold\",truncate:!0,children:it(O(n))}),Object($a.jsx)(Hi,{textBreak:!0,children:ct(O(n))})]}),(n.levelRewardPoints>0||n.scoreLimit>0)&&Object($a.jsxs)(Jc,{gap:1,children:[n.levelRewardPoints>0&&Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{truncate:!0,className:\"small\",children:st(\"achievements.details.reward\")}),Object($a.jsxs)(lc,{center:!0,className:\"fw-bold small\",gap:1,children:[n.levelRewardPoints,Object($a.jsx)(Vc,{type:n.levelRewardPointType})]})]}),n.scoreLimit>0&&Object($a.jsx)(_i,{text:st(\"achievements.details.progress\",[\"progress\",\"limit\"],[(n.currentPoints+n.scoreAtStartOfLevel).toString(),(n.scoreLimit+n.scoreAtStartOfLevel).toString()]),progress:n.currentPoints+n.scoreAtStartOfLevel,maxProgress:n.scoreLimit+n.scoreAtStartOfLevel})]})]}),a]})):null},ns=function(e){var t=e.category,n=void 0===t?null:t,r=e.selectedAchievementId,a=void 0===r?-1:r,i=e.setSelectedAchievementId,s=void 0===i?null:i,o=e.setAchievementSeen,l=void 0===o?null:o,u=Object(c.useMemo)((function(){return-1===a?null:n.achievements.find((function(e){return e.achievementId===a}))}),[n,a]);return Object(c.useEffect)((function(){u||n.achievements.length&&s(n.achievements[0].achievementId)}),[u,n,s]),Object(c.useEffect)((function(){u&&l(n.code,u.achievementId)}),[u,n,l]),n?Object($a.jsxs)(Jc,{fullHeight:!0,justifyContent:\"between\",children:[Object($a.jsx)($i,{achievements:n.achievements,selectedAchievementId:a,setSelectedAchievementId:s}),!!u&&Object($a.jsx)(ts,{achievement:u})]}):null},rs=[\"category\",\"selectedCategoryCode\",\"setSelectedCategoryCode\",\"children\"],as=function(e){var t=e.category,n=void 0===t?null:t,r=e.selectedCategoryCode,a=void 0===r?null:r,c=e.setSelectedCategoryCode,i=void 0===c?null:c,s=e.children,o=void 0===s?null:s,l=Object(Za.a)(e,rs);if(!n)return null;var u=f(n),d=j(n),b=h(n,u),O=g(n);return Object($a.jsxs)(ii,Object(bt.a)(Object(bt.a)({itemActive:a===n.code,itemCount:O,itemCountMinimum:0,gap:1,onClick:function(e){return i(n.code)}},l),{},{children:[Object($a.jsx)(Hi,{fullWidth:!0,center:!0,small:!0,className:\"pt-1\",children:st(\"quests.\".concat(n.code,\".name\"))}),Object($a.jsx)(Hc,{position:\"relative\",imageUrl:b,children:Object($a.jsxs)(Hi,{fullWidth:!0,center:!0,position:\"absolute\",variant:\"white\",style:{fontSize:12,bottom:9},children:[u,\" / \",d]})}),o]}))},cs=[\"categories\",\"selectedCategoryCode\",\"setSelectedCategoryCode\",\"children\"],is=function(e){var t=e.categories,n=void 0===t?null:t,r=e.selectedCategoryCode,a=void 0===r?null:r,c=e.setSelectedCategoryCode,i=void 0===c?null:c,s=e.children,o=void 0===s?null:s,l=Object(Za.a)(e,cs);return Object($a.jsxs)(sc,Object(bt.a)(Object(bt.a)({columnCount:3,columnMinWidth:90,columnMinHeight:100},l),{},{children:[n&&n.length>0&&n.map((function(e,t){return Object($a.jsx)(as,{category:e,selectedCategoryCode:a,setSelectedCategoryCode:i},t)})),o]}))},ss=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=jt(),s=i.achievementCategories,l=void 0===s?[]:s,u=i.selectedCategoryCode,d=void 0===u?null:u,j=i.setSelectedCategoryCode,b=void 0===j?null:j,O=i.selectedAchievementId,f=void 0===O?-1:O,g=i.setSelectedAchievementId,m=void 0===g?null:g,v=i.achievementScore,p=void 0===v?0:v,x=i.getProgress,_=void 0===x?0:x,E=i.getMaxProgress,I=void 0===E?0:E,y=i.setAchievementSeen,C=void 0===y?null:y,T=Object(c.useMemo)((function(){return null===d?null:l.find((function(e){return e.code===d}))}),[l,d]);return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void a(!0);case\"hide\":return void a(!1);case\"toggle\":return void a((function(e){return!e}))}},eventUrlPrefix:\"achievements/\"};return R(e),function(){return B(e)}}),[]),r?Object($a.jsxs)(Pc,{uniqueKey:\"achievements\",className:\"nitro-achievements\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"inventory.achievements\"),onCloseClick:function(e){return a(!1)}}),T&&Object($a.jsxs)(Nc,{position:\"relative\",className:\"justify-content-center align-items-center cursor-pointer\",gap:3,children:[Object($a.jsx)(tc,{onClick:function(e){return b(null)},className:\"nitro-achievements-back-arrow\"}),Object($a.jsxs)(Jc,{grow:!0,gap:0,children:[Object($a.jsx)(Hi,{fontSize:4,fontWeight:\"bold\",className:\"text-small\",children:st(\"quests.\".concat(T.code,\".name\"))}),Object($a.jsx)(Hi,{children:st(\"achievements.details.categoryprogress\",[\"progress\",\"limit\"],[T.getProgress().toString(),T.getMaxProgress().toString()])})]}),Object($a.jsx)(oi,{imageUrl:h(T,null,!0)})]}),Object($a.jsxs)(Ec,{gap:1,children:[!T&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(is,{categories:l,selectedCategoryCode:d,setSelectedCategoryCode:b}),Object($a.jsxs)(Jc,{grow:!0,justifyContent:\"end\",gap:1,children:[Object($a.jsx)(Hi,{small:!0,center:!0,children:st(\"achievements.categories.score\",[\"score\"],[p.toString()])}),Object($a.jsx)(_i,{text:st(\"achievements.categories.totalprogress\",[\"progress\",\"limit\"],[_.toString(),I.toString()]),progress:_,maxProgress:I})]})]}),T&&Object($a.jsx)(ns,{category:T,selectedAchievementId:f,setSelectedAchievementId:m,setAchievementSeen:C})]})]}):null},os=Object(d.a)((function e(){Object(u.a)(this,e)}));os.ACTION_SAVE=\"AEA_ACTION_SAVE\",os.ACTION_CLEAR=\"AEA_ACTION_CLEAR\",os.ACTION_RESET=\"AEA_ACTION_RESET\",os.ACTION_RANDOMIZE=\"AEA_ACTION_RANDOMIZE\";var ls=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(u.a)(this,e),this._partColor=void 0,this._isDisabled=void 0,this._isHC=void 0,this._isSelected=void 0,this._notifier=void 0,this._partColor=t,this._isDisabled=n,this._isHC=this._partColor.clubLevel>0,this._isSelected=!1}return Object(d.a)(e,[{key:\"dispose\",value:function(){this._partColor=null}},{key:\"partColor\",get:function(){return this._partColor}},{key:\"color\",get:function(){return l.ib.int2rgb(this._partColor.rgb)}},{key:\"isDisabled\",get:function(){return this._isDisabled}},{key:\"isHC\",get:function(){return this._isHC}},{key:\"isSelected\",get:function(){return this._isSelected},set:function(e){this._isSelected=e,this.notify&&this.notify()}},{key:\"notify\",get:function(){return this._notifier},set:function(e){this._notifier=e}}]),e}(),us=function(){function e(){Object(u.a)(this,e),this._data=void 0,this._colors=void 0,this._gender=\"M\",this._direction=e.DEFAULT_DIRECTION,this._avatarEffectType=-1,this._notifier=null}return Object(d.a)(e,[{key:\"loadAvatarData\",value:function(e,t){this._data=new Map,this._colors=new Map,this._gender=t,this.parseFigureString(e),this.updateView()}},{key:\"parseFigureString\",value:function(e){if(e){var t=e.split(\".\");if(t&&t.length){var n,r=Object(s.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value.split(\"-\");if(a.length){for(var c=a[0],i=parseInt(a[1]),o=[],l=2;l<a.length;)o.push(parseInt(a[l])),l++;o.length||o.push(0),this.savePartSetId(c,i,!1),this.savePartSetColourId(c,o,!1)}}}catch(u){r.e(u)}finally{r.f()}}}}},{key:\"getPartSetId\",value:function(e){var t=this._data.get(e);return void 0!==t?t:-1}},{key:\"getColorIds\",value:function(e){var t=this._colors.get(e);return void 0!==t?t:[bs.avatarSetFirstSelectableColor(e)]}},{key:\"getFigureString\",value:function(){var e,t=\"\",n=[],r=Object(s.a)(this._data.entries());try{for(r.s();!(e=r.n()).done;){var a=Object(o.a)(e.value,2),c=a[0],i=a[1],l=this._colors.get(c),u=c+\"-\"+i;if(l&&l.length)for(var d=0;d<l.length;)u=u+\"-\"+l[d],d++;n.push(u)}}catch(b){r.e(b)}finally{r.f()}for(var j=0;j<n.length;)t+=n[j],j<n.length-1&&(t+=\".\"),j++;return t}},{key:\"savePartData\",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.savePartSetId(e,t,r),this.savePartSetColourId(e,n,r)}},{key:\"savePartSetId\",value:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(t){case e.FACE:case e.HAIR:case e.HAT:case e.HEAD_ACCESSORIES:case e.EYE_ACCESSORIES:case e.FACE_ACCESSORIES:case e.SHIRT:case e.JACKET:case e.CHEST_ACCESSORIES:case e.CHEST_PRINTS:case e.TROUSERS:case e.SHOES:case e.TROUSER_ACCESSORIES:n>=0?this._data.set(t,n):this._data.delete(t)}r&&this.updateView()}},{key:\"savePartSetColourId\",value:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(t){case e.FACE:case e.HAIR:case e.HAT:case e.HEAD_ACCESSORIES:case e.EYE_ACCESSORIES:case e.FACE_ACCESSORIES:case e.SHIRT:case e.JACKET:case e.CHEST_ACCESSORIES:case e.CHEST_PRINTS:case e.TROUSERS:case e.SHOES:case e.TROUSER_ACCESSORIES:this._colors.set(t,n)}r&&this.updateView()}},{key:\"getFigureStringWithFace\",value:function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=\"\",a=[e.FACE],c=[],i=0,s=a;i<s.length;i++){var o=s[i],l=this._colors.get(o);if(l){var u=this._data.get(o);o===e.FACE&&n&&(u=t);var d=o+\"-\"+u;if(u>=0)for(var j=0;j<l.length;)d=d+\"-\"+l[j],j++;c.push(d)}}for(var b=0;b<c.length;)r+=c[b],b<c.length-1&&(r+=\".\"),b++;return r}},{key:\"updateView\",value:function(){this.notify&&this.notify()}},{key:\"gender\",get:function(){return this._gender}},{key:\"direction\",get:function(){return this._direction},set:function(e){this._direction=e,this.updateView()}},{key:\"avatarEffectType\",get:function(){return this._avatarEffectType},set:function(e){this._avatarEffectType=e}},{key:\"notify\",get:function(){return this._notifier},set:function(e){this._notifier=e}}]),e}();us.DEFAULT_DIRECTION=4,us.MALE=\"M\",us.FEMALE=\"F\",us.UNISEX=\"U\",us.SCALE=\"h\",us.STD=\"std\",us.DEFAULT_FRAME=\"0\",us.FACE=\"hd\",us.HAIR=\"hr\",us.HAT=\"ha\",us.HEAD_ACCESSORIES=\"he\",us.EYE_ACCESSORIES=\"ea\",us.FACE_ACCESSORIES=\"fa\",us.JACKET=\"cc\",us.SHIRT=\"ch\",us.CHEST_ACCESSORIES=\"ca\",us.CHEST_PRINTS=\"cp\",us.TROUSERS=\"lg\",us.SHOES=\"sh\",us.TROUSER_ACCESSORIES=\"wa\",us.SET_TYPES=[us.FACE,us.HAIR,us.HAT,us.HEAD_ACCESSORIES,us.EYE_ACCESSORIES,us.FACE_ACCESSORIES,us.JACKET,us.SHIRT,us.CHEST_ACCESSORIES,us.CHEST_PRINTS,us.TROUSERS,us.SHOES,us.TROUSERS];var ds=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Object(u.a)(this,e),this._renderManager=void 0,this._partSet=void 0,this._partColors=void 0,this._useColors=void 0,this._isDisabled=void 0,this._thumbContainer=void 0,this._imageUrl=void 0,this._maxColorIndex=void 0,this._isValidFigure=void 0,this._isHC=void 0,this._isSellable=void 0,this._isClear=void 0,this._isSelected=void 0,this._disposed=void 0,this._isInitalized=void 0,this._notifier=void 0,this._renderManager=k(),this._partSet=t,this._partColors=n,this._useColors=r,this._isDisabled=a,this._thumbContainer=null,this._imageUrl=null,this._maxColorIndex=0,this._isValidFigure=!1,this._isHC=!1,this._isSellable=!1,this._isClear=!1,this._isSelected=!1,this._disposed=!1,this._isInitalized=!1,t){var c,i=t.parts,o=Object(s.a)(i);try{for(o.s();!(c=o.n()).done;){var l=c.value;this._maxColorIndex=Math.max(this._maxColorIndex,l.colorLayerIndex)}}catch(d){o.e(d)}finally{o.f()}}}return Object(d.a)(e,[{key:\"init\",value:function(){this._isInitalized||(this._isInitalized=!0,this.update())}},{key:\"dispose\",value:function(){this._disposed||(this._renderManager=null,this._partSet=null,this._partColors=null,this._imageUrl=null,this._disposed=!0,this._isInitalized=!1,this._thumbContainer&&(this._thumbContainer.destroy(),this._thumbContainer=null))}},{key:\"update\",value:function(){this.updateThumbVisualization()}},{key:\"analyzeFigure\",value:function(){if(!this._renderManager||!this._partSet||!this._partSet.parts||!this._partSet.parts.length)return!1;var e=this._renderManager.createFigureContainer(this.partSet.type+\"-\"+this.partSet.id);return this._renderManager.isFigureContainerReady(e)?(this._isValidFigure=!0,!0):(this._renderManager.downloadAvatarFigure(e,this),!1)}},{key:\"renderThumb\",value:function(){if(!this._renderManager||!this._partSet)return null;if(!this._isValidFigure&&!this.analyzeFigure())return null;var t,n=this._partSet.parts.concat().sort(this.sortByDrawOrder),r=new l.Ne,a=Object(s.a)(n);try{for(a.s();!(t=a.n()).done;){var c=t.value;if(c){for(var i=null,o=0,u=!1;!u&&o<e.THUMB_DIRECTIONS.length;){var d=us.SCALE+\"_\"+us.STD+\"_\"+c.type+\"_\"+c.id+\"_\"+e.THUMB_DIRECTIONS[o]+\"_\"+us.DEFAULT_FRAME;(i=this._renderManager.getAssetByName(d))&&i.texture?u=!0:o++}if(u){var j=i.offsetX,b=i.offsetY,O=null;if(this._useColors&&c.colorLayerIndex>0){var h=this._partColors[c.colorLayerIndex-1];h&&(O=h)}var f=new l.Ve(i.texture);f.position.set(j,b),O&&(f.tint=O.rgb),r.addChild(f)}}}}catch(g){a.e(g)}finally{a.f()}return r}},{key:\"updateThumbVisualization\",value:function(){if(this._isInitalized){var e=this._thumbContainer;e||(e=this.renderThumb()),e&&(this._partSet?(this._isHC=this._partSet.clubLevel>0,this._isSellable=this._partSet.isSellable):(this._isHC=!1,this._isSellable=!1),this._isDisabled&&this.setAlpha(e,.2),this._imageUrl=l.Mh.generateImageUrl(e),this.notify&&this.notify())}}},{key:\"setAlpha\",value:function(t,n){return t.filters=[e.ALPHA_FILTER],t}},{key:\"sortByDrawOrder\",value:function(t,n){var r=e.DRAW_ORDER.indexOf(t.type),a=e.DRAW_ORDER.indexOf(n.type);return r<a?-1:r>a?1:t.index<n.index?-1:t.index>n.index?1:0}},{key:\"resetFigure\",value:function(e){this.analyzeFigure()&&this.update()}},{key:\"disposed\",get:function(){return this._disposed}},{key:\"id\",get:function(){return this._partSet?this._partSet.id:-1}},{key:\"partSet\",get:function(){return this._partSet}},{key:\"partColors\",set:function(e){this._partColors=e,this.update()}},{key:\"isDisabled\",get:function(){return this._isDisabled}},{key:\"thumbContainer\",set:function(e){this._thumbContainer=e,this.update()}},{key:\"imageUrl\",get:function(){return this._imageUrl}},{key:\"maxColorIndex\",get:function(){return this._maxColorIndex}},{key:\"isHC\",get:function(){return this._isHC}},{key:\"isSellable\",get:function(){return this._isSellable}},{key:\"isClear\",get:function(){return this._isClear},set:function(e){this._isClear=e}},{key:\"isSelected\",get:function(){return this._isSelected},set:function(e){this._isSelected=e,this.notify&&this.notify()}},{key:\"notify\",get:function(){return this._notifier},set:function(e){this._notifier=e}}]),e}();ds.ALPHA_FILTER=new l.Le(.2),ds.THUMB_DIRECTIONS=[2,6,0,4,3,1],ds.DRAW_ORDER=[l.p.LEFT_HAND_ITEM,l.p.LEFT_HAND,l.p.LEFT_SLEEVE,l.p.LEFT_COAT_SLEEVE,l.p.BODY,l.p.SHOES,l.p.LEGS,l.p.CHEST,l.p.CHEST_ACCESSORY,l.p.COAT_CHEST,l.p.CHEST_PRINT,l.p.WAIST_ACCESSORY,l.p.RIGHT_HAND,l.p.RIGHT_SLEEVE,l.p.RIGHT_COAT_SLEEVE,l.p.HEAD,l.p.FACE,l.p.EYES,l.p.HAIR,l.p.HAIR_BIG,l.p.FACE_ACCESSORY,l.p.EYE_ACCESSORY,l.p.HEAD_ACCESSORY,l.p.HEAD_ACCESSORY_EXTRA,l.p.RIGHT_HAND_ITEM];var js=function(){function e(t,n,r){Object(u.a)(this,e),this._name=void 0,this._parts=void 0,this._palettes=void 0,this._selectedPartIndex=-1,this._paletteIndexes=void 0,this._name=t,this._parts=n,this._palettes=r,this._selectedPartIndex=-1}return Object(d.a)(e,[{key:\"init\",value:function(){var e,t=Object(s.a)(this._parts);try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&n.init()}}catch(r){t.e(r)}finally{t.f()}}},{key:\"dispose\",value:function(){if(this._parts){var e,t=Object(s.a)(this._parts);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(o){t.e(o)}finally{t.f()}this._parts=null}if(this._palettes){var n,r=Object(s.a)(this._palettes);try{for(r.s();!(n=r.n()).done;){var a,c=n.value,i=Object(s.a)(c);try{for(i.s();!(a=i.n()).done;){a.value.dispose()}}catch(o){i.e(o)}finally{i.f()}}}catch(o){r.e(o)}finally{r.f()}this._palettes=null}this._selectedPartIndex=-1,this._paletteIndexes=null}},{key:\"selectPartId\",value:function(e){if(this._parts)for(var t=0;t<this._parts.length;){if(this._parts[t].id===e)return void this.selectPartIndex(t);t++}}},{key:\"selectColorIds\",value:function(e){if(e&&this._palettes){this._paletteIndexes=new Array(e.length);for(var t=0;t<this._palettes.length;){var n=this.getPalette(t);if(n){var r=0;if(e.length>t)r=e[t];else{var a=n[0];a&&a.partColor&&(r=a.partColor.id)}for(var c=0;c<n.length;){var i=n[c];i.partColor.id===r?(this._paletteIndexes[t]=c,i.isSelected=!0):i.isSelected=!1,c++}}t++}this.updatePartColors()}}},{key:\"selectPartIndex\",value:function(e){if(!this._parts)return null;if(this._selectedPartIndex>=0&&this._parts.length>this._selectedPartIndex){var t=this._parts[this._selectedPartIndex];t&&(t.isSelected=!1)}if(this._parts.length>e){var n=this._parts[e];if(n)return n.isSelected=!0,this._selectedPartIndex=e,n}return null}},{key:\"selectColorIndex\",value:function(e,t){var n=this.getPalette(t);if(!n)return null;if(n.length<=e)return null;this.deselectColorIndex(this._paletteIndexes[t],t),this._paletteIndexes[t]=e;var r=n[e];return r?(r.isSelected=!0,this.updatePartColors(),r):null}},{key:\"getCurrentColorIndex\",value:function(e){return this._paletteIndexes[e]}},{key:\"deselectColorIndex\",value:function(e,t){var n=this.getPalette(t);if(n&&!(n.length<=e)){var r=n[e];r&&(r.isSelected=!1)}}},{key:\"getSelectedColorIds\",value:function(){if(!this._paletteIndexes||!this._paletteIndexes.length)return null;if(!this._palettes||!this._palettes.length)return null;var e=this._palettes[0];if(!e||!e.length)return null;var t=e[0];if(!t||!t.partColor)return null;for(var n=t.partColor.id,r=[],a=0;a<this._paletteIndexes.length;){var c=this._palettes[a];if(c&&!(c.length<=a))if(c.length>this._paletteIndexes[a]){var i=c[this._paletteIndexes[a]];i&&i.partColor?r.push(i.partColor.id):r.push(n)}else r.push(n);a++}var s=this.getCurrentPart();return s?r.slice(0,Math.max(s.maxColorIndex,1)):null}},{key:\"getSelectedColors\",value:function(){for(var e=[],t=0;t<this._paletteIndexes.length;){var n=this.getSelectedColor(t);n?e.push(n.partColor):e.push(null),t++}return e}},{key:\"getSelectedColor\",value:function(e){var t=this.getPalette(e);return!t||t.length<=this._paletteIndexes[e]?null:t[this._paletteIndexes[e]]}},{key:\"getSelectedColorId\",value:function(e){var t=this.getSelectedColor(e);return t&&t.partColor?t.partColor.id:0}},{key:\"getPalette\",value:function(e){return!this._paletteIndexes||!this._palettes||this._palettes.length<=e?null:this._palettes[e]}},{key:\"getCurrentPart\",value:function(){return this._parts[this._selectedPartIndex]}},{key:\"updatePartColors\",value:function(){var e,t=this.getSelectedColors(),n=Object(s.a)(this._parts);try{for(n.s();!(e=n.n()).done;){var r=e.value;r&&(r.partColors=t)}}catch(a){n.e(a)}finally{n.f()}}},{key:\"hasClubSelectionsOverLevel\",value:function(e){var t=!1,n=this.getSelectedColors();if(n)for(var r=0;r<n.length;){var a=n[r];a&&a.clubLevel>e&&(t=!0),r++}var c=this.getCurrentPart();if(c&&c.partSet){var i=c.partSet;i&&i.clubLevel>e&&(t=!0)}return t}},{key:\"hasInvalidSelectedItems\",value:function(e){var t=this.getCurrentPart();if(!t)return!1;var n=t.partSet;return n&&n.isSellable?e.indexOf(n.id)>-1:void 0}},{key:\"stripClubItemsOverLevel\",value:function(e){var t=this.getCurrentPart();if(t&&t.partSet&&t.partSet.clubLevel>e){var n=this.selectPartIndex(0);return n&&!n.partSet&&this.selectPartIndex(1),!0}return!1}},{key:\"stripClubColorsOverLevel\",value:function(t){var n=[],r=this.getSelectedColors(),a=this.getPalette(0),c=!1,i=e.defaultColorId(a,t);if(-1===i)return!1;for(var s=0;s<r.length;){var o=r[s];o?o.clubLevel>t?(n.push(i),c=!0):n.push(o.id):(n.push(i),c=!0),s++}return c&&this.selectColorIds(n),c}},{key:\"name\",get:function(){return this._name}},{key:\"parts\",get:function(){return this._parts}},{key:\"selectedPartIndex\",get:function(){return this._selectedPartIndex}}],[{key:\"defaultColorId\",value:function(e,t){if(!e||!e.length)return-1;for(var n=0;n<e.length;){var r=e[n];if(r.partColor&&r.partColor.clubLevel<=t)return r.partColor.id;n++}return-1}}]),e}(),bs=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:\"getGender\",value:function(e){switch(e){case us.MALE:case\"m\":case\"M\":e=us.MALE;break;case us.FEMALE:case\"f\":case\"F\":e=us.FEMALE;break;default:e=us.MALE}return e}},{key:\"hasFigureSetId\",value:function(e){return this.FIGURE_SET_IDS.indexOf(e)>=0}},{key:\"createCategory\",value:function(e,t){if(!e||!t||!this.CURRENT_FIGURE)return null;for(var n=[],r=[],a=0;a<this.MAX_PALETTES;)r.push([]),a++;var c=w(t);if(!c)return null;var i=A(c.paletteID);if(!i)return null;var o=this.CURRENT_FIGURE.getColorIds(t);o||(o=[]);var l,u=new Array(o.length),d=this.clubItemsDimmed,j=ce(),b=Object(s.a)(i.colors.getValues());try{for(b.s();!(l=b.n()).done;){var O=l.value;if(O.isSelectable&&(d||j>=O.clubLevel)){for(var h=0;h<this.MAX_PALETTES;){var f=j<O.clubLevel,g=new ls(O,f);r[h].push(g),h++}if(t!==us.FACE)for(var m=0;m<o.length;)O.id===o[m]&&(u[m]=O),m++}}}catch(C){b.e(C)}finally{b.f()}if(-1===(d?k().getMandatoryAvatarPartSetIds(this.CURRENT_FIGURE.gender,2):k().getMandatoryAvatarPartSetIds(this.CURRENT_FIGURE.gender,j)).indexOf(t)){var v=new ds(null,null,!1);v.isClear=!0,n.push(v)}var p=t!==us.FACE,x=c.partSets;for(a=x.length-1;a>=0;){var _=x.getWithIndex(a),E=!1;if((_.gender===us.UNISEX||_.gender===this.CURRENT_FIGURE.gender)&&(E=!0),_.isSelectable&&E&&(d||j>=_.clubLevel)){var I=j<_.clubLevel,y=!0;_.isSellable&&(y=this.hasFigureSetId(_.id)),y&&n.push(new ds(_,u,p,I))}a--}for(n.sort(this.clubItemsFirst?this.clubSorter:this.noobSorter),a=0;a<this.MAX_PALETTES;)r[a].sort(this.colorSorter),a++;return new js(t,n,r)}},{key:\"clubSorter\",value:function(e,t){var n=e.partSet?e.partSet.clubLevel:9999999999,r=t.partSet?t.partSet.clubLevel:9999999999,a=!!e.partSet&&e.partSet.isSellable,c=!!t.partSet&&t.partSet.isSellable;return a&&!c?1:c&&!a||n>r?-1:n<r?1:e.partSet.id>t.partSet.id?-1:e.partSet.id<t.partSet.id?1:0}},{key:\"colorSorter\",value:function(e,t){var n=e.partColor?e.partColor.clubLevel:-1,r=t.partColor?t.partColor.clubLevel:-1;return n<r?-1:n>r?1:e.partColor.index<t.partColor.index?-1:e.partColor.index>t.partColor.index?1:0}},{key:\"noobSorter\",value:function(e,t){var n=e.partSet?e.partSet.clubLevel:-1,r=t.partSet?t.partSet.clubLevel:-1,a=!!e.partSet&&e.partSet.isSellable,c=!!t.partSet&&t.partSet.isSellable;return a&&!c?1:c&&!a||n<r?-1:n>r?1:e.partSet.id<t.partSet.id?-1:e.partSet.id>t.partSet.id?1:0}},{key:\"avatarSetFirstSelectableColor\",value:function(e){var t=w(e);if(!t)return-1;var n=A(t.paletteID);if(!n)return-1;var r,a=Object(s.a)(n.colors.getValues());try{for(a.s();!(r=a.n()).done;){var c=r.value;if(c.isSelectable&&!(ce()<c.clubLevel))return c.id}}catch(i){a.e(i)}finally{a.f()}return-1}},{key:\"clubItemsFirst\",get:function(){return L(\"avatareditor.show.clubitems.first\",!0)}},{key:\"clubItemsDimmed\",get:function(){return L(\"avatareditor.show.clubitems.dimmed\",!0)}}]),e}();bs.MAX_PALETTES=2,bs.CURRENT_FIGURE=null,bs.FIGURE_SET_IDS=[],bs.BOUND_FURNITURE_NAMES=[];var Os=n(10),hs=n(9),fs=function(){function e(){Object(u.a)(this,e),this._categories=void 0,this._isInitalized=void 0,this._maxPaletteCount=void 0,this._disposed=void 0,this._isInitalized=!1,this._maxPaletteCount=0}return Object(d.a)(e,[{key:\"dispose\",value:function(){this._categories=null,this._disposed=!0}},{key:\"disposed\",get:function(){return this._disposed}},{key:\"init\",value:function(){this._categories||(this._categories=new Map)}},{key:\"reset\",value:function(){if(this._isInitalized=!1,this._categories){var e,t=Object(s.a)(this._categories.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&n.dispose()}}catch(r){t.e(r)}finally{t.f()}}this._categories=new Map}},{key:\"addCategory\",value:function(e){var t=this._categories.get(e);t||(t=bs.createCategory(this,e))&&(this._categories.set(e,t),this.updateSelectionsFromFigure(e))}},{key:\"updateSelectionsFromFigure\",value:function(e){var t=this._categories.get(e);if(t){var n=bs.CURRENT_FIGURE.getPartSetId(e),r=bs.CURRENT_FIGURE.getColorIds(e);r||(r=[]),t.selectPartId(n),t.selectColorIds(r)}}},{key:\"hasClubSelectionsOverLevel\",value:function(e){if(!this._categories)return!1;var t,n=Object(s.a)(this._categories.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r&&r.hasClubSelectionsOverLevel(e))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:\"hasInvalidSelectedItems\",value:function(e){if(!this._categories)return!1;var t,n=Object(s.a)(this._categories.values());try{for(n.s();!(t=n.n()).done;){if(t.value.hasInvalidSelectedItems(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:\"stripClubItemsOverLevel\",value:function(e){if(!this._categories)return!1;var t,n=!1,r=Object(s.a)(this._categories.entries());try{for(r.s();!(t=r.n()).done;){var a=Object(o.a)(t.value,2),c=a[0],i=a[1],l=!1;if(i.stripClubItemsOverLevel(e)&&(l=!0),i.stripClubColorsOverLevel(e)&&(l=!0),l){var u=i.getCurrentPart();u&&bs.CURRENT_FIGURE&&bs.CURRENT_FIGURE.savePartData(c,u.id,i.getSelectedColorIds(),!0),n=!0}}}catch(d){r.e(d)}finally{r.f()}return n}},{key:\"stripInvalidSellableItems\",value:function(){if(!this._categories)return!1;var e,t=!1,n=Object(s.a)(this._categories.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(o.a)(e.value,2);r[0],r[1]}}catch(a){n.e(a)}finally{n.f()}return t}},{key:\"selectPart\",value:function(e,t){var n=this._categories.get(e);if(n){var r=n.selectedPartIndex;n.selectPartIndex(t);var a=n.getCurrentPart();a&&(a.isDisabled?n.selectPartIndex(r):(this._maxPaletteCount=a.maxColorIndex,bs.CURRENT_FIGURE.savePartData(e,a.id,n.getSelectedColorIds(),!0)))}}},{key:\"selectColor\",value:function(e,t,n){var r=this._categories.get(e);if(r){var a=r.getCurrentColorIndex(n);r.selectColorIndex(t,n),r.getSelectedColor(n).isDisabled?r.selectColorIndex(a,n):bs.CURRENT_FIGURE.savePartSetColourId(e,r.getSelectedColorIds(),!0)}}},{key:\"getCategoryData\",value:function(e){return this._isInitalized||this.init(),this._categories?this._categories.get(e):null}},{key:\"categories\",get:function(){return this._categories}},{key:\"canSetGender\",get:function(){return!1}},{key:\"maxPaletteCount\",get:function(){return this._maxPaletteCount||1},set:function(e){this._maxPaletteCount=e}},{key:\"name\",get:function(){return null}}]),e}(),gs=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a)))._imageCallBackHandled=!1,e}return Object(d.a)(n,[{key:\"init\",value:function(){Object(Os.a)(Object(hs.a)(n.prototype),\"init\",this).call(this),this.addCategory(us.FACE),this._isInitalized=!0}},{key:\"selectColor\",value:function(e,t,r){Object(Os.a)(Object(hs.a)(n.prototype),\"selectColor\",this).call(this,e,t,r),this.updateSelectionsFromFigure(us.FACE)}},{key:\"updateSelectionsFromFigure\",value:function(e){if(this._categories&&bs.CURRENT_FIGURE){var t=this._categories.get(e);if(t){var n=bs.CURRENT_FIGURE.getPartSetId(e),r=bs.CURRENT_FIGURE.getColorIds(e);r||(r=[]),t.selectPartId(n),t.selectColorIds(r);var a,c=Object(s.a)(t.parts);try{var i=function(){var e=a.value;!function t(n){var r=bs.CURRENT_FIGURE.getFigureStringWithFace(e.id),a=k().createAvatarImage(r,l.q.LARGE,null,{resetFigure:t,dispose:null,disposed:!1}),c=a.getImageAsSprite(l.r.HEAD);c&&(c.y=10,e.thumbContainer=c,setTimeout((function(){return a.dispose()}),0))}()};for(c.s();!(a=c.n()).done;)i()}catch(o){c.e(o)}finally{c.f()}}}}},{key:\"canSetGender\",get:function(){return!0}},{key:\"name\",get:function(){return l.m.GENERIC}}]),n}(fs);function ms(e){var t,n=e.parts,r=0,a=Object(s.a)(n);try{for(a.s();!(t=a.n()).done;){var c=t.value;r=Math.max(r,c.colorLayerIndex)}}catch(i){a.e(i)}finally{a.f()}return r}function vs(e,t){return t=t.filter((function(t){return-1===e.indexOf(t)})),[].concat(Object(ut.a)(e),Object(ut.a)(lr.getRandomElements(t,lr.getRandomNumber(t.length)+1)))}function ps(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)return null;var a=e.partSets.getValues().filter((function(e){return!e.isSelectable||\"U\"!==e.gender&&e.gender!==t||e.clubLevel>n||e.isSellable&&-1===r.indexOf(e.id)?null:e}));return a&&a.length?lr.getRandomElement(a):null}function xs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)return[];var r=e.colors.getValues().filter((function(e){return!e.isSelectable||e.clubLevel>n?null:e}));return r&&r.length?lr.getRandomElements(r,ms(t)):null}var _s=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"init\",value:function(){Object(Os.a)(Object(hs.a)(n.prototype),\"init\",this).call(this),this.addCategory(us.HAIR),this.addCategory(us.HAT),this.addCategory(us.HEAD_ACCESSORIES),this.addCategory(us.EYE_ACCESSORIES),this.addCategory(us.FACE_ACCESSORIES),this._isInitalized=!0}},{key:\"name\",get:function(){return l.m.HEAD}}]),n}(fs),Es=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"init\",value:function(){Object(Os.a)(Object(hs.a)(n.prototype),\"init\",this).call(this),this.addCategory(us.TROUSERS),this.addCategory(us.SHOES),this.addCategory(us.TROUSER_ACCESSORIES),this._isInitalized=!0}},{key:\"name\",get:function(){return l.m.LEGS}}]),n}(fs),Is=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:\"init\",value:function(){Object(Os.a)(Object(hs.a)(n.prototype),\"init\",this).call(this),this.addCategory(us.SHIRT),this.addCategory(us.CHEST_PRINTS),this.addCategory(us.JACKET),this.addCategory(us.CHEST_ACCESSORIES),this._isInitalized=!0}},{key:\"name\",get:function(){return l.m.TORSO}}]),n}(fs),ys=[\"icon\",\"selected\",\"classNames\",\"children\"],Cs=function(e){var t=e.icon,n=void 0===t?null:t,r=e.selected,a=void 0!==r&&r,i=e.classNames,s=void 0===i?[]:i,o=(e.children,Object(Za.a)(e,ys)),l=Object(c.useMemo)((function(){var e=[\"nitro-avatar-editor-spritesheet\"];return n&&n.length&&e.push(n+\"-icon\"),a&&e.push(\"selected\"),s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[n,a,s]);return Object($a.jsx)(tc,Object(bt.a)({classNames:l},o))},Ts=function(e){var t=e.figureData,n=void 0===t?null:t,r=Object(c.useState)(-1),a=Object(o.a)(r,2),i=(a[0],a[1]),s=Object(c.useCallback)((function(){i((function(e){return e+1}))}),[]),u=Object(c.useCallback)((function(e){e<l.l.MIN_DIRECTION&&(e=l.l.MAX_DIRECTION+(e+1)),e>l.l.MAX_DIRECTION&&(e-=l.l.MAX_DIRECTION+1),n.direction=e}),[n]);return Object(c.useEffect)((function(){if(n)return n.notify=s,function(){n.notify=null}}),[n,s]),Object($a.jsxs)(Jc,{className:\"figure-preview-container\",overflow:\"hidden\",position:\"relative\",children:[Object($a.jsx)(Mc,{figure:n.getFigureString(),direction:n.direction,scale:2}),Object($a.jsx)(Cs,{className:\"avatar-spotlight\",icon:\"spotlight\"}),Object($a.jsx)(tc,{className:\"avatar-shadow\"}),Object($a.jsxs)(tc,{className:\"arrow-container\",children:[Object($a.jsx)(Cs,{pointer:!0,icon:\"arrow-left\",onClick:function(e){return u(n.direction+1)}}),Object($a.jsx)(Cs,{pointer:!0,icon:\"arrow-right\",onClick:function(e){return u(n.direction-1)}})]})]})},Ss=[\"partItem\",\"children\"],Ns=function(e){var t=e.partItem,n=void 0===t?null:t,r=e.children,a=void 0===r?null:r,i=Object(Za.a)(e,Ss),s=Object(c.useState)(-1),l=Object(o.a)(s,2),u=(l[0],l[1]),d=L(\"hc.disabled\",!1),j=Object(c.useCallback)((function(){u((function(e){return e+1}))}),[]);return Object(c.useEffect)((function(){return n.notify=j,function(){n.notify=null}}),[n,j]),Object($a.jsxs)(ii,Object(bt.a)(Object(bt.a)({itemImage:n.isClear?void 0:n.imageUrl,itemActive:n.isSelected},i),{},{children:[!d&&n.isHC&&Object($a.jsx)(Vc,{className:\"position-absolute end-1 bottom-1\",type:\"hc\"}),n.isClear&&Object($a.jsx)(Cs,{icon:\"clear\"}),n.isSellable&&Object($a.jsx)(Cs,{icon:\"sellable\",position:\"absolute\",className:\"end-1 bottom-1\"}),a]}))},Rs=function(e){var t=e.model,n=void 0===t?null:t,r=e.category,a=void 0===r?null:r,i=e.setMaxPaletteCount,s=void 0===i?null:i,o=Object(c.useCallback)((function(e){var t=a.parts.indexOf(e);if(-1!==t){n.selectPart(a.name,t);var r=a.getCurrentPart();s(r.maxColorIndex||1)}}),[n,a,s]);return Object($a.jsx)(sc,{columnCount:3,columnMinHeight:50,children:a.parts.length>0&&a.parts.map((function(e,t){return Object($a.jsx)(Ns,{partItem:e,onClick:function(t){return o(e)}},t)}))})},ks=[\"colorItem\",\"children\"],As=function(e){var t=e.colorItem,n=void 0===t?null:t,r=e.children,a=void 0===r?null:r,i=Object(Za.a)(e,ks),s=Object(c.useState)(-1),l=Object(o.a)(s,2),u=(l[0],l[1]),d=L(\"hc.disabled\",!1),j=Object(c.useCallback)((function(){u((function(e){return e+1}))}),[]);return Object(c.useEffect)((function(){return n.notify=j,function(){return n.notify=null}})),Object($a.jsxs)(ii,Object(bt.a)(Object(bt.a)({itemHighlight:!0,itemColor:n.color,itemActive:n.isSelected,className:\"clear-bg\"},i),{},{children:[!d&&n.isHC&&Object($a.jsx)(Vc,{className:\"position-absolute end-1 bottom-1\",type:\"hc\"}),a]}))},ws=function(e){var t=e.model,n=void 0===t?null:t,r=e.category,a=void 0===r?null:r,i=e.paletteSet,s=void 0===i?[]:i,o=e.paletteIndex,l=void 0===o?-1:o,u=Object(c.useCallback)((function(e){var t=s.indexOf(e);-1!==t&&n.selectColor(a.name,t,l)}),[n,a,s,l]);return Object($a.jsx)(sc,{gap:1,columnCount:5,columnMinWidth:30,children:s.length>0&&s.map((function(e,t){return Object($a.jsx)(As,{colorItem:e,onClick:function(t){return u(e)}},t)}))})},Ds=function(e){var t=e.model,n=void 0===t?null:t,r=e.gender,a=void 0===r?null:r,i=e.setGender,l=void 0===i?null:i,u=Object(c.useState)(null),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(1),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useCallback)((function(e){var t=n.categories.get(e);if(t){t.init(),b(t);var r,a=Object(s.a)(t.parts);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(c&&c.isSelected){g(c.maxColorIndex||1);break}}}catch(i){a.e(i)}finally{a.f()}}}),[n]);return Object(c.useEffect)((function(){n.init();var e,t=Object(s.a)(n.categories.keys());try{for(t.s();!(e=t.n()).done;){var r=e.value;m(r);break}}catch(a){t.e(a)}finally{t.f()}}),[n,m]),n&&j?Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:2,children:[n.canSetGender&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"category-item\",onClick:function(e){return l(us.MALE)},children:Object($a.jsx)(Cs,{icon:\"male\",selected:a===us.MALE})}),Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"category-item\",onClick:function(e){return l(us.FEMALE)},children:Object($a.jsx)(Cs,{icon:\"female\",selected:a===us.FEMALE})})]}),!n.canSetGender&&n.categories&&n.categories.size>0&&Array.from(n.categories.keys()).map((function(e){var t=n.categories.get(e);return Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"category-item\",onClick:function(t){return m(e)},children:Object($a.jsx)(Cs,{icon:t.name,selected:j===t})},e)}))]}),Object($a.jsx)(Jc,{size:5,overflow:\"hidden\",children:Object($a.jsx)(Rs,{model:n,category:j,setMaxPaletteCount:g})}),Object($a.jsxs)(Jc,{size:5,overflow:\"hidden\",children:[f>=1&&Object($a.jsx)(ws,{model:n,category:j,paletteSet:j.getPalette(0),paletteIndex:0}),2===f&&Object($a.jsx)(ws,{model:n,category:j,paletteSet:j.getPalette(1),paletteIndex:1})]})]}):null},Us=function(e){var t=e.figureData,n=void 0===t?null:t,r=e.savedFigures,a=void 0===r?[]:r,i=e.setSavedFigures,s=void 0===i?null:i,u=e.loadAvatarInEditor,d=void 0===u?null:u,j=L(\"hc.disabled\",!1),b=Object(c.useCallback)((function(e){if(!(e>=a.length||e<0)){var t=Object(o.a)(a[e],2),n=t[0],r=t[1];d(n.getFigureString(),r)}}),[a,d]),O=Object(c.useCallback)((function(e){if(!(!n||e>=a.length||e<0)){var t=Object(ut.a)(a),r=n.getFigureString(),c=n.gender;t[e]=[k().createFigureContainer(r),c],s(t),ea(new l.yh(e+1,r,c))}}),[n,a,s]),h=Object(c.useMemo)((function(){if(!a||!a.length)return[];var e=[];return a.forEach((function(t,n){var r=Object(o.a)(t,2),a=r[0],c=r[1],i=0;a&&(i=k().getFigureClubLevel(a,c)),e.push(Object($a.jsxs)(ii,{position:\"relative\",overflow:\"hidden\",className:\"nitro-avatar-editor-wardrobe-figure-preview\",children:[a&&Object($a.jsx)(Mc,{figure:a.getFigureString(),gender:c,direction:2}),Object($a.jsx)(tc,{className:\"avatar-shadow\"}),!j&&i>0&&Object($a.jsx)(Vc,{className:\"position-absolute top-1 start-1\",type:\"hc\"}),Object($a.jsxs)(lc,{gap:1,className:\"button-container\",children:[Object($a.jsx)(dc,{variant:\"link\",fullWidth:!0,onClick:function(e){return O(n)},children:st(\"avatareditor.wardrobe.save\")}),a&&Object($a.jsx)(dc,{variant:\"link\",fullWidth:!0,onClick:function(e){return b(n)},disabled:i>ce(),children:st(\"generic_usable.button.use\")})]})]},n))})),e}),[a,j,O,b]);return Object($a.jsx)(sc,{columnCount:5,columnMinWidth:80,columnMinHeight:140,children:h})},Ps=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(null),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(null),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useState)(null),_=Object(o.a)(x,2),E=_[0],I=_[1],y=Object(c.useState)([]),C=Object(o.a)(y,2),T=C[0],S=C[1],N=Object(c.useState)([]),A=Object(o.a)(N,2),w=A[0],D=A[1],U=Object(c.useState)([]),P=Object(o.a)(U,2),M=P[0],F=P[1],H=Object(c.useState)(!1),G=Object(o.a)(H,2),W=G[0],V=G[1],q=Object(c.useState)(null),Y=Object(o.a)(q,2),z=Y[0],K=Y[1],Q=Object(c.useState)(null),X=Object(o.a)(Q,2),J=X[0],Z=X[1],$=Object(c.useState)(!0),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=Object(c.useState)(!1),ie=Object(o.a)(re,2),se=ie[0],oe=ie[1],le=Object(c.useMemo)((function(){return L(\"avatar.wardrobe.max.slots\",10)}),[]),ue=Object(c.useCallback)((function(e){var t=e.getParser();S(t.figureSetIds),D(t.boundsFurnitureNames)}),[]);dt(l.wb,ue);var de=Object(c.useCallback)((function(e){for(var t=e.getParser(),n=[],r=0;r<le;)n.push([null,null]),r++;var a,c=Object(s.a)(t.looks.entries());try{for(c.s();!(a=c.n()).done;){var i=Object(o.a)(a.value,2),l=i[0],u=Object(o.a)(i[1],2),d=u[0],j=u[1],b=k().createFigureContainer(d);n[l-1]=[b,j]}}catch(O){c.e(O)}finally{c.f()}F(n)}),[le]);dt(l.Ni,de);var je=Object(c.useCallback)((function(e){v&&I(v.get(e))}),[v]),be=Object(c.useCallback)((function(){var e=new Map;e.set(l.m.GENERIC,new gs),e.set(l.m.HEAD,new _s),e.set(l.m.TORSO,new Is),e.set(l.m.LEGS,new Es),p(e)}),[]),Oe=Object(c.useCallback)((function(){var e=new Map,t=new us,n=new us;t.loadAvatarData(\"hr-100.hd-180-7.ch-215-66.lg-270-79.sh-305-62.ha-1002-70.wa-2007\",us.MALE),n.loadAvatarData(\"hr-515-33.hd-600-1.ch-635-70.lg-716-66-62.sh-735-68\",us.FEMALE),e.set(us.MALE,t),e.set(us.FEMALE,n),j(e),f(e.get(us.MALE))}),[]),he=Object(c.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=bs.getGender(t);var r=h;t!==r.gender&&(r=d.get(t)),e!==r.getFigureString()&&r.loadAvatarData(e,t),r!==h&&f(r),n&&(K(h.getFigureString()),Z(h.gender))}),[d,h]),fe=Object(c.useCallback)((function(e){switch(e){case os.ACTION_CLEAR:return he(h.getFigureStringWithFace(0,!1),h.gender,!1),void be();case os.ACTION_RESET:return he(z,J),void be();case os.ACTION_RANDOMIZE:var t=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=k().structure,o=new l.o(\"\"),u=vs(i.getMandatorySetTypeIds(t,r),us.SET_TYPES),d=Object(s.a)(c);try{for(d.s();!(n=d.n()).done;){var j=n.value,b=e.getPartSetId(j),O=e.getColorIds(j);o.updatePart(j,b,O)}}catch(x){d.e(x)}finally{d.f()}var h,f=Object(s.a)(u);try{for(f.s();!(h=f.n()).done;){var g=h.value;if(!o.hasPartType(g)){var m=i.figureData.getSetType(g),v=ps(m,t,r,a);if(v){var p=[];v.isColorable&&(p=xs(i.figureData.getPalette(m.paletteID),v,r).map((function(e){return e.id}))),o.updatePart(m.type,v.id,p)}}}}catch(x){f.e(x)}finally{f.f()}return o.getFigureString()}(h,h.gender,ce(),T,[us.FACE]);return he(t,h.gender,!1),void be();case os.ACTION_SAVE:return ea(new l.xi(h.gender,h.getFigureString())),void a(!1)}}),[h,z,J,T,he,be]),ge=Object(c.useCallback)((function(e){e=bs.getGender(e),f(d.get(e))}),[d]),me=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void a(!0);case\"hide\":return void a(!1);case\"toggle\":return void a((function(e){return!e}))}}),[]);return Object(c.useEffect)((function(){var e={linkReceived:me,eventUrlPrefix:\"avatar-editor/\"};return R(e),function(){return B(e)}}),[me]),Object(c.useEffect)((function(){F(new Array(le))}),[le]),Object(c.useEffect)((function(){W&&(I(null),ea(new l.xc))}),[W]),Object(c.useEffect)((function(){E&&V(!1)}),[E]),Object(c.useEffect)((function(){v&&je(l.m.GENERIC)}),[v,je]),Object(c.useEffect)((function(){if(h)return bs.CURRENT_FIGURE=h,be(),function(){return bs.CURRENT_FIGURE=null}}),[h,be]),Object(c.useEffect)((function(){return bs.FIGURE_SET_IDS=T,bs.BOUND_FURNITURE_NAMES=w,be(),function(){bs.FIGURE_SET_IDS=null,bs.BOUND_FURNITURE_NAMES=null}}),[T,w,be]),Object(c.useEffect)((function(){if(r)return d?void 0:(Oe(),void oe(!0))}),[r,d,Oe]),Object(c.useEffect)((function(){r&&se&&te&&(he(ae().figure,ae().gender),ne(!1))}),[r,se,te,he]),Object(c.useEffect)((function(){if(!r)return function(){ne(!0)}}),[r]),r&&h?Object($a.jsxs)(Pc,{uniqueKey:\"avatar-editor\",className:\"nitro-avatar-editor\",children:[Object($a.jsx)(Tc,{headerText:st(\"avatareditor.title\"),onCloseClick:function(e){return a(!1)}}),Object($a.jsxs)(Di,{children:[v&&v.size>0&&Array.from(v.keys()).map((function(e){var t=E&&E.name===e;return Object($a.jsx)(Ai,{isActive:t,onClick:function(t){return je(e)},children:st(\"avatareditor.category.\".concat(e))},e)})),Object($a.jsx)(Ai,{isActive:W,onClick:function(e){return V(!0)},children:st(\"avatareditor.category.wardrobe\")})]}),Object($a.jsx)(Ec,{children:Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:9,overflow:\"hidden\",children:[E&&!W&&Object($a.jsx)(Ds,{model:E,gender:h.gender,setGender:ge}),W&&Object($a.jsx)(Us,{figureData:h,savedFigures:M,setSavedFigures:F,loadAvatarInEditor:he})]}),Object($a.jsxs)(Jc,{size:3,overflow:\"hidden\",children:[Object($a.jsx)(Ts,{figureData:h}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsxs)(bc,{children:[Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(e){return fe(os.ACTION_RESET)},children:Object($a.jsx)(mc.a,{icon:\"undo\"})}),Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(e){return fe(os.ACTION_CLEAR)},children:Object($a.jsx)(mc.a,{icon:\"trash\"})}),Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(e){return fe(os.ACTION_RANDOMIZE)},children:Object($a.jsx)(mc.a,{icon:\"dice\"})})]}),Object($a.jsx)(dc,{className:\"w-100\",variant:\"success\",onClick:function(e){return fe(os.ACTION_SAVE)},children:st(\"avatareditor.save\")})]})]})]})})]}):null},Ls=n(192),Ms=n(193),Fs=function(e){var t=new URLSearchParams(window.location.search).get(\"sso\"),n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],i=r[1];function s(e){fetch(\"https://int.ultrahabbo.fun/?type=changebanner&banner=\"+e+\"&sso=\"+t),i(!1)}return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void i(!0);case\"hide\":return void i(!1)}},eventUrlPrefix:\"banners/\"};return R(e),function(){return B(e)}}),[i]),Object($a.jsx)($a.Fragment,{children:a&&Object($a.jsxs)(Pc,{children:[Object($a.jsx)(Tc,{headerText:\"Mis banners\",onCloseClick:function(e){return i(!1)}}),Object($a.jsxs)(Ec,{children:[Object($a.jsxs)(\"div\",{className:\"alert alert-primary text-center\",children:[\"Los banners son im\\xe1genes para configurar la vista de tu personaje.\",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"b\",{children:\"\\xa1Selecciona el que mas te guste!\"})]}),Object($a.jsxs)(Ls.a,{children:[Object($a.jsxs)(Ms.a,{md:2,style:{marginBottom:20},children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner0.png\",style:{marginLeft:2}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return s(0)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),Object($a.jsxs)(Ms.a,{md:2,style:{marginBottom:20},children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner1.png\",style:{marginLeft:2}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return s(1)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),Object($a.jsxs)(Ms.a,{md:2,style:{marginBottom:20},children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner2.png\",style:{marginLeft:2}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return s(2)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),Object($a.jsxs)(Ms.a,{md:2,style:{marginBottom:20},children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner3.png\",style:{marginLeft:2}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return s(3)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),Object($a.jsxs)(Ms.a,{md:2,style:{marginBottom:20},children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner4.png\",style:{marginLeft:2}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return s(4)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),Object($a.jsxs)(Ms.a,{md:2,style:{marginBottom:20},children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner5.png\",style:{marginLeft:2}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return s(5)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]})]})]})]})})},Hs=function(e){var t,n=new URLSearchParams(window.location.search).get(\"sso\"),r=Object(c.useState)(!1),a=Object(o.a)(r,2),i=a[0],s=a[1],l=Object(c.useState)(null),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(\"battlePassMainView\"),O=Object(o.a)(b,2),h=O[0],f=O[1];function g(e){document.getElementById(h).style.display=\"none\",document.getElementById(e).style.display=\"block\",f(e)}return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"open\":return f(\"battlePassMainView\"),void fetch(\"https://int.ultrahabbo.fun/?type=getInfoOpenGalaxyPassEmu&sso=\"+n).then((function(e){return e.json()})).then((function(e){j(e),s(!0)}));case\"update\":return void fetch(\"https://int.ultrahabbo.fun/?type=getInfoOpenGalaxyPassEmu&sso=\"+n).then((function(e){return e.json()})).then((function(e){j(e)}));case\"hide\":return void s(!1)}},eventUrlPrefix:\"battlepass/\"};return R(e),function(){return B(e)}}),[s]),Object($a.jsx)($a.Fragment,{children:i&&Object($a.jsxs)(Pc,{children:[Object($a.jsx)(Tc,{headerText:\"Galaxy Pass\",onCloseClick:function(e){return s(!1)}}),Object($a.jsx)(Ec,{children:null==d?Object($a.jsx)(\"div\",{style:{width:\"600px\",height:\"400px\",fontSize:\"16px\"},className:\"alert alert-primary text-center\",children:\"Cargando, espera por favor\"}):Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"div\",{id:\"battlePassMainView\",style:{width:\"600px\"},children:Object($a.jsxs)(\"div\",{className:\"row g-1\",children:[Object($a.jsx)(\"div\",{className:\"col-md-4\",children:Object($a.jsxs)(\"div\",{style:{padding:\"20px\",backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_rain.gif)\",textAlign:\"center\",borderRadius:\"3px\"},children:[Object($a.jsx)(\"img\",{style:{position:\"relative\",bottom:\"30px\"},src:(t=d.look,\"https://habbo-imaging.hgalaxy.net/avatarimage/\"+t+\"&gesture=sml&direction=2&effect=3&size=l&img_format=gif\"),className:\"img-fluid\"}),Object($a.jsxs)(\"div\",{style:{position:\"relative\",bottom:\"10px\"},children:[Object($a.jsx)(\"h3\",{children:Object($a.jsx)(\"b\",{children:d.name})}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",style:{fontSize:\"15px\",marginBottom:\"3px\"},children:[\"Nivel: \",d.level]}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"span\",{className:\"badge bg-info\",style:{fontSize:\"13px\",marginBottom:\"3px\"},children:[\"Experiencia: \",d.exp]}),d.isActive?Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{})]}):Object($a.jsx)(\"button\",{onClick:function(){return fetch(\"https://int.ultrahabbo.fun/?type=buyGalaxyPass&sso=\"+n),void s(!1)},className:\"btn btn-success btn-sm\",children:\"Comprar (150 cr\\xe9ditos)\"})]})]})}),Object($a.jsxs)(\"div\",{className:\"col-md-8\",children:[Object($a.jsx)(\"div\",{style:{backgroundImage:\"url(https://cdn.discordapp.com/attachments/929069063114752053/1005492439953440910/pantalla1.gif)\",width:\"100%\",height:\"186px\",marginBottom:\"8px\",borderRadius:\"3px\"},children:Object($a.jsx)(\"div\",{style:{margin:0,position:\"absolute\",top:\"32%\",msTransform:\"translateY(-50%)\",transform:\"translateY(-50%)\",right:\"24%\"},children:Object($a.jsx)(\"button\",{onClick:function(){return g(\"battlePassMissionsView\")},className:\"btn btn-dark btn-lg\",children:\"Ver misiones\"})})}),Object($a.jsx)(\"div\",{style:{backgroundImage:\"url(https://cdn.discordapp.com/attachments/929069063114752053/1005492439953440910/pantalla1.gif)\",width:\"100%\",height:\"185px\",borderRadius:\"3px\"},children:Object($a.jsx)(\"div\",{style:{margin:0,position:\"absolute\",top:\"78%\",msTransform:\"translateY(-50%)\",transform:\"translateY(-50%)\",right:\"22%\"},children:Object($a.jsx)(\"button\",{onClick:function(){return g(\"battlePassRewardsView\")},className:\"btn btn-primary btn-lg\",children:\"Ver recompensas\"})})})]})]})}),Object($a.jsxs)(\"div\",{id:\"battlePassMissionsView\",style:{display:\"none\",width:\"900px\"},children:[Object($a.jsx)(\"div\",{className:\"row\",children:d.missionStats.map((function(e){return Object($a.jsx)(\"div\",{className:\"col-md-6\",children:Object($a.jsx)(\"div\",{className:\"alert bg-dark text-white\",children:Object($a.jsxs)(\"div\",{style:{textAlign:\"left\"},children:[Object($a.jsxs)(\"span\",{className:\"badge bg-info\",style:{fontSize:\"15px\"},children:[Object($a.jsx)(\"img\",{src:\"https://4.bp.blogspot.com/-kNQ9Y7U9aq0/WV-zzHKsrLI/AAAAAAAA6uo/_C21AzCd9uQ9utBtdT5pUMsQlBiu9SAKwCKgBGAs/s1600/ed483ed9b79b282bd901da62daee7669.gif\"}),\" Nivel \",e.id]}),\" \\xa0\",e.missionName,Object($a.jsx)(\"span\",{style:{float:\"right\",marginTop:\"5px\"},children:e.expDone==e.expMax?Object($a.jsxs)(\"span\",{className:\"badge bg-success\",children:[e.expDone,\"/\",e.expMax]}):Object($a.jsxs)(\"span\",{className:\"badge bg-danger\",children:[e.expDone,\"/\",e.expMax]})})]})})})}))}),Object($a.jsx)(\"div\",{className:\"col-md-12\",children:Object($a.jsx)(\"button\",{onClick:function(){return g(\"battlePassMainView\")},className:\"btn w-100 btn-success\",children:\"Volver\"})})]}),Object($a.jsxs)(\"div\",{id:\"battlePassRewardsView\",style:{display:\"none\",width:\"500px\"},children:[Object($a.jsxs)(\"div\",{className:\"row g-0\",children:[d.missionStats.map((function(e){return Object($a.jsx)(\"div\",{className:\"col-md-3\",style:{marginBottom:\"6px\"},children:Object($a.jsxs)(\"div\",{style:{textAlign:\"center\",padding:\"10px\",backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_serpentine_darkblue.gif)\",borderRadius:\"3px\",marginRight:\"6px\"},children:[Object($a.jsx)(\"img\",{src:e.imageReward}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",style:{fontSize:\"14px\"},children:[\"Nivel \",e.id]}),Object($a.jsx)(\"br\",{}),e.expDone==e.expMax?Object($a.jsx)(\"span\",{className:\"badge bg-success\",children:\"Conseguido\"}):Object($a.jsx)(\"span\",{className:\"badge bg-danger\",children:\"Por conseguir\"})]})})})),Object($a.jsx)(\"div\",{className:\"col-md-3\",style:{marginBottom:\"6px\"},children:Object($a.jsxs)(\"div\",{style:{textAlign:\"center\",padding:\"10px\",backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_serpntine_darkred.gif)\",borderRadius:\"3px\",marginRight:\"6px\"},children:[Object($a.jsx)(\"img\",{src:\"https://cdn.discordapp.com/attachments/882679902162288651/1007401963345936395/final-1.png\"}),Object($a.jsx)(\"span\",{className:\"badge bg-info\",style:{fontSize:\"14px\"},children:\"Final\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"span\",{className:\"badge bg-danger\",children:\"Por conseguir\"})]})}),Object($a.jsx)(\"div\",{className:\"col-md-3\",style:{marginBottom:\"6px\"},children:Object($a.jsxs)(\"div\",{style:{textAlign:\"center\",padding:\"10px\",backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_serpntine_darkred.gif)\",borderRadius:\"3px\",marginRight:\"6px\"},children:[Object($a.jsx)(\"img\",{src:\"https://cdn.discordapp.com/attachments/882679902162288651/1007401963849261106/final-2.png\"}),Object($a.jsx)(\"span\",{className:\"badge bg-info\",style:{fontSize:\"14px\"},children:\"Final\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"span\",{className:\"badge bg-danger\",children:\"Por conseguir\"})]})})]}),Object($a.jsx)(\"div\",{className:\"col-md-12\",children:Object($a.jsx)(\"button\",{onClick:function(){return g(\"battlePassMainView\")},className:\"btn w-100 btn-success\",children:\"Volver\"})})]})]})})]})})},Bs=function(e){var t=new URLSearchParams(window.location.search).get(\"sso\"),n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(\"0\"),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)(\"0\"),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(\"0\"),g=Object(o.a)(f,2),m=g[0],v=g[1];return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void i(!0);case\"hide\":return void i(!1)}},eventUrlPrefix:\"bawtool/\"};return R(e),function(){return B(e)}}),[i]),Object($a.jsx)($a.Fragment,{children:a&&Object($a.jsxs)(Pc,{style:{width:\"250px\"},children:[Object($a.jsx)(Tc,{headerText:\"Herramienta builder\",onCloseClick:function(e){return i(!1)}}),Object($a.jsxs)(Ec,{children:[Object($a.jsx)(\"button\",{className:\"btn w-100\",onClick:function(){fetch(\"https://int.ultrahabbo.fun/?type=maxFloor&sso=\"+t)},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Maxfloor\"}),Object($a.jsx)(\"button\",{className:\"btn w-100\",onClick:function(){fetch(\"https://int.ultrahabbo.fun/?type=autoFloor&sso=\"+t)},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Autofloor\"}),Object($a.jsx)(\"button\",{className:\"btn w-100\",onClick:function(){fetch(\"https://int.ultrahabbo.fun/?type=reloadRoom&sso=\"+t)},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Reload\"}),Object($a.jsxs)(\"div\",{className:\"row\",style:{marginTop:\"10px\"},children:[Object($a.jsx)(\"div\",{className:\"col-md-4\",children:Object($a.jsx)(\"input\",{type:\"number\",onChange:function(e){return d(e.target.value)},placeholder:\"0\",className:\"form-control\"})}),Object($a.jsx)(\"div\",{className:\"col-md-8\",children:Object($a.jsx)(\"button\",{className:\"btn w-100\",onClick:function(){fetch(\"https://int.ultrahabbo.fun/?type=cambiarAltura&altura=\"+u+\"&sso=\"+t)},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Cambiar altura\"})})]}),Object($a.jsx)(\"button\",{className:\"btn btn-sm w-100\",onClick:function(){fetch(\"https://int.ultrahabbo.fun/?type=cambiarAltura&altura=999&sso=\"+t)},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Restablecer altura\"}),Object($a.jsxs)(\"div\",{className:\"row\",style:{marginTop:\"10px\"},children:[Object($a.jsx)(\"div\",{className:\"col-md-4\",children:Object($a.jsx)(\"input\",{type:\"number\",onChange:function(e){return v(e.target.value)},placeholder:\"0\",className:\"form-control\"})}),Object($a.jsx)(\"div\",{className:\"col-md-8\",children:Object($a.jsx)(\"button\",{className:\"btn w-100\",onClick:function(){fetch(\"https://int.ultrahabbo.fun/?type=cambiarRotacion&rotacion=\"+m+\"&sso=\"+t)},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Cambiar rotaci\\xf3n\"})})]}),Object($a.jsxs)(\"div\",{className:\"row\",children:[Object($a.jsx)(\"div\",{className:\"col-md-4\",children:Object($a.jsx)(\"input\",{type:\"number\",onChange:function(e){return h(e.target.value)},placeholder:\"0\",className:\"form-control\"})}),Object($a.jsx)(\"div\",{className:\"col-md-8\",children:Object($a.jsx)(\"button\",{className:\"btn w-100\",onClick:function(){fetch(\"https://int.ultrahabbo.fun/?type=cambiarEstado&estado=\"+O+\"&sso=\"+t)},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Cambiar estado\"})})]})]})]})})},Gs=Object(c.createContext)({cameraRoll:null,setCameraRoll:null,selectedPictureIndex:null,setSelectedPictureIndex:null}),Ws=function(e){return Object($a.jsx)(Gs.Provider,{value:e.value,children:e.children})},Vs=Object(d.a)((function e(t,n){Object(u.a)(this,e),this.texture=t,this.imageUrl=n})),qs=function(e){var t=e.onClose,n=void 0===t?null:t,r=e.onEdit,a=void 0===r?null:r,i=e.onDelete,s=void 0===i?null:i,o=Object(c.useContext)(Gs),u=o.cameraRoll,d=void 0===u?null:u,j=o.setCameraRoll,b=void 0===j?null:j,O=o.selectedPictureIndex,h=void 0===O?-1:O,f=o.setSelectedPictureIndex,g=void 0===f?null:f,m=Object(c.useRef)(),v=h>-1?d[h]:null,p=Object(c.useCallback)((function(){if(!m||!m.current)return null;var e=m.current.getBoundingClientRect();return new l.Te(Math.floor(e.x),Math.floor(e.y),Math.floor(e.width),Math.floor(e.height))}),[]),x=Object(c.useCallback)((function(){if(h>-1)g(-1);else{var e=G().createTextureFromRoom(ue().roomId,1,p()),t=Object(ut.a)(d);t.length>=5&&(Ha.simpleAlert(st(\"camera.full.body\")),t.pop()),wn(dr.CAMERA_SHUTTER),t.push(new Vs(e,l.Mh.generateImageUrl(e))),b(t)}}),[d,h,p,b,g]);return Object($a.jsx)(Dc,{uniqueKey:\"nitro-camera-capture\",children:Object($a.jsxs)(Jc,{center:!0,className:\"nitro-camera-capture\",gap:0,children:[v&&Object($a.jsx)(\"img\",{alt:\"\",className:\"camera-area\",src:v.imageUrl}),Object($a.jsxs)(\"div\",{className:\"camera-canvas drag-handler\",children:[Object($a.jsx)(\"div\",{className:\"position-absolute header-close\",onClick:n,children:Object($a.jsx)(mc.a,{icon:\"times\"})}),!v&&Object($a.jsx)(\"div\",{ref:m,className:\"camera-area camera-view-finder\"}),v&&Object($a.jsx)(\"div\",{className:\"camera-area camera-frame\",children:Object($a.jsxs)(\"div\",{className:\"camera-frame-preview-actions w-100 position-absolute bottom-0 py-2 text-center\",children:[Object($a.jsx)(\"button\",{className:\"btn btn-success me-3\",title:st(\"camera.editor.button.tooltip\"),onClick:a,children:st(\"camera.editor.button.text\")}),Object($a.jsx)(\"button\",{className:\"btn btn-danger\",onClick:s,children:st(\"camera.delete.button.text\")})]})}),Object($a.jsx)(\"div\",{className:\"d-flex justify-content-center\",children:Object($a.jsx)(\"div\",{className:\"camera-button\",title:st(\"camera.take.photo.button.tooltip\"),onClick:x})})]}),d.length>0&&Object($a.jsx)(lc,{gap:2,justifyContent:\"center\",className:\"camera-roll d-flex justify-content-center py-2\",children:d.map((function(e,t){return Object($a.jsx)(\"img\",{alt:\"\",src:e.imageUrl,onClick:function(e){return g(t)}},t)}))})]})})},Ys=function(e){var t=e.base64Url,n=void 0===t?null:t,r=e.onCloseClick,a=void 0===r?null:r,i=e.onCancelClick,s=void 0===i?null:i,u=e.price,d=void 0===u?null:u,j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(0),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(!1),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(!1),N=Object(o.a)(S,2),R=N[0],k=N[1],A=Object(c.useState)(0),w=Object(o.a)(A,2),D=w[0],P=w[1],M=Object(c.useMemo)((function(){return L(\"camera.publish.disabled\",!1)}),[]),F=Object(c.useCallback)((function(e){E((function(e){return e+1})),k(!1)}),[]);dt(l.M,F);var H=Object(c.useCallback)((function(e){var t=e.getParser();v(t.extraDataId),P(t.secondsToWait),T(t.ok),k(!1)}),[]);dt(l.L,H);var B=Object(c.useCallback)((function(e){var t=e.getParser();h(L(\"camera.url\")+\"/\"+t.url)}),[]);dt(l.N,B);var W=function(e){switch(e){case\"close\":return void a();case\"buy\":if(R)return;return k(!0),void ea(new l.Af(\"\"));case\"publish\":if(R)return;return k(!0),void ea(new l.uf);case\"cancel\":return void s()}};return Object(c.useEffect)((function(){n&&G().saveBase64AsScreenshot(n)}),[n]),d?Object($a.jsxs)(Pc,{className:\"nitro-camera-checkout\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"camera.confirm_phase.title\"),onCloseClick:function(e){return W(\"close\")}}),Object($a.jsxs)(Ec,{children:[Object($a.jsxs)(lc,{center:!0,children:[O&&O.length&&Object($a.jsx)(oi,{className:\"picture-preview border\",imageUrl:O}),(!O||!O.length)&&Object($a.jsx)(lc,{center:!0,className:\"picture-preview border\",children:Object($a.jsx)(Hi,{bold:!0,children:st(\"camera.loading\")})})]}),Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",className:\"bg-muted rounded p-2\",children:[Object($a.jsxs)(Jc,{size:M?10:6,gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"camera.purchase.header\")}),(d.credits>0||d.duckets>0)&&Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Hi,{children:st(\"catalog.purchase.confirmation.dialog.cost\")}),d.credits>0&&Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:d.credits}),Object($a.jsx)(Vc,{type:-1})]}),d.duckets>0&&Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:d.duckets}),Object($a.jsx)(Vc,{type:5})]})]}),_>0&&Object($a.jsxs)(Hi,{children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"camera.purchase.count.info\")}),\" \",_,Object($a.jsx)(\"u\",{className:\"ms-1 cursor-pointer\",onClick:function(){return U(\"inventory/toggle\")},children:st(\"camera.open.inventory\")})]})]}),Object($a.jsx)(lc,{alignItems:\"center\",children:Object($a.jsx)(dc,{variant:\"success\",disabled:R,onClick:function(e){return W(\"buy\")},children:st(_?\"camera.buy.another.button.text\":\"buy\")})})]}),!M&&Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",className:\"bg-muted rounded p-2\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(C?\"camera.publish.successful\":\"camera.publish.explanation\")}),Object($a.jsx)(Hi,{children:st(C?\"camera.publish.success.short.info\":\"camera.publish.detailed.explanation\")}),C&&Object($a.jsx)(\"a\",{href:m,rel:\"noreferrer\",target:\"_blank\",children:st(\"camera.link.to.published\")}),!C&&d.publishDucketPrice>0&&Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Hi,{children:st(\"catalog.purchase.confirmation.dialog.cost\")}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:d.publishDucketPrice}),Object($a.jsx)(Vc,{type:5})]})]}),D>0&&Object($a.jsx)(\"div\",{className:\"mt-1 text-center fw-bold\",children:st(\"camera.publish.wait\",[\"minutes\"],[Math.ceil(D/60).toString()])})]}),!C&&Object($a.jsx)(lc,{className:\"d-flex align-items-end\",children:Object($a.jsx)(dc,{variant:\"success\",disabled:R||D>0,onClick:function(e){return W(\"publish\")},children:st(\"camera.publish.button.text\")})})]}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:!0,children:st(\"camera.warning.disclaimer\")}),Object($a.jsx)(lc,{justifyContent:\"end\",children:Object($a.jsx)(dc,{onClick:function(e){return W(\"cancel\")},children:st(\"generic.cancel\")})})]})]}):null},zs=n(31),Ks=Object(d.a)((function e(){Object(u.a)(this,e)}));Ks.COLORMATRIX=\"colormatrix\",Ks.COMPOSITE=\"composite\";var Qs=Object(d.a)((function e(t,n){Object(u.a)(this,e),this.effectName=t,this.thumbnailUrl=n})),Xs=function(e){var t=e.effect,n=void 0===t?null:t,r=e.thumbnailUrl,a=void 0===r?null:r,c=e.isActive,i=void 0!==c&&c,s=e.isLocked,o=void 0!==s&&s,l=e.selectEffect,u=void 0===l?null:l,d=e.removeEffect,j=void 0===d?null:d;return Object($a.jsxs)(ii,{title:st(o?\"camera.effect.required.level \".concat(n.minLevel):\"camera.effect.name.\".concat(n.name)),itemActive:i,onClick:function(e){return!i&&u()},children:[i&&Object($a.jsx)(dc,{variant:\"danger\",className:\"rounded-circle remove-effect\",onClick:j,children:Object($a.jsx)(mc.a,{icon:\"times\"})}),!o&&a&&a.length>0&&Object($a.jsx)(\"div\",{className:\"effect-thumbnail-image border\",children:Object($a.jsx)(\"img\",{alt:\"\",src:a})}),o&&Object($a.jsxs)(Hi,{center:!0,bold:!0,children:[Object($a.jsx)(\"div\",{children:Object($a.jsx)(mc.a,{icon:\"lock\"})}),n.minLevel]})]})},Js=function(e){var t=e.myLevel,n=void 0===t?0:t,r=e.selectedEffects,a=void 0===r?[]:r,c=e.effects,i=void 0===c?[]:c,s=e.thumbnails,o=void 0===s?[]:s,l=e.processAction,u=void 0===l?null:l;return Object($a.jsx)(cc,{columnCount:3,overflow:\"auto\",children:i&&i.length>0&&i.map((function(e,t){var r=o.find((function(t){return t.effectName===e.name})),c=a.findIndex((function(t){return t.effect.name===e.name}))>-1;return Object($a.jsx)(Xs,{effect:e,thumbnailUrl:r&&r.thumbnailUrl||null,isActive:c,isLocked:e.minLevel>n,selectEffect:function(){return u(\"select_effect\",e.name)},removeEffect:function(){return u(\"remove_effect\",e.name)}},t)}))})},Zs=[Ks.COLORMATRIX,Ks.COMPOSITE],$s=function(e){var t=e.picture,n=void 0===t?null:t,r=e.availableEffects,a=void 0===r?null:r,i=e.myLevel,u=void 0===i?1:i,d=e.onClose,j=void 0===d?null:d,b=e.onCancel,O=void 0===b?null:b,h=e.onCheckout,f=void 0===h?null:h,g=Object(c.useState)(Zs[0]),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useState)(null),_=Object(o.a)(x,2),E=_[0],I=_[1],y=Object(c.useState)([]),C=Object(o.a)(y,2),T=C[0],S=C[1],N=Object(c.useState)([]),R=Object(o.a)(N,2),k=R[0],A=R[1],w=Object(c.useState)(!1),U=Object(o.a)(w,2),P=U[0],L=U[1],M=Object(c.useMemo)((function(){return a.filter((function(e){return e.colorMatrix}))}),[a]),F=Object(c.useMemo)((function(){return a.filter((function(e){return e.texture}))}),[a]),H=Object(c.useCallback)((function(){return v===Ks.COLORMATRIX?M:F}),[v,M,F]),B=Object(c.useCallback)((function(e){return e&&e.length&&T&&T.length?T.findIndex((function(t){return t.effect.name===e})):-1}),[T]),G=Object(c.useMemo)((function(){return B(E)}),[E,B]),W=Object(c.useMemo)((function(){return E&&T[G]||null}),[E,G,T]),V=Object(c.useCallback)((function(e){var t=G;-1!==t&&S((function(n){var r=Object(ut.a)(n),a=r[t];return r[G]=new l.Uf(a.effect,e),r}))}),[G,S]),q=Object(c.useMemo)((function(){return D().applyEffects(n.texture,T,P).src}),[n,T,P]),Y=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case\"close\":return void j();case\"cancel\":return void O();case\"checkout\":return void f(q);case\"change_tab\":return void p(String(t));case\"select_effect\":var n=B(t);if(n>=0)return;var r=a.find((function(e){return e.name===t}));if(!r)return;return S((function(e){return[].concat(Object(ut.a)(e),[new l.Uf(r,1)])})),void I(r.name);case\"remove_effect\":var c=B(t);if(-1===c)return;return S((function(e){var t=Object(ut.a)(e);return t.splice(c,1),t})),void(E===t&&I(null));case\"clear_effects\":return I(null),void S([]);case\"download\":var i=new Image;i.src=q;var s=window.open(\"\");return void s.document.write(i.outerHTML);case\"zoom\":return void L(!P)}}),[P,a,E,q,B,O,f,j,L,S]);return Object(c.useEffect)((function(){var e,t=[],r=Object(s.a)(a);try{for(r.s();!(e=r.n()).done;){var c=e.value;t.push(new Qs(c.name,D().applyEffects(n.texture,[new l.Uf(c,1)],!1).src))}}catch(i){r.e(i)}finally{r.f()}A(t)}),[n,a]),Object($a.jsxs)(Pc,{className:\"nitro-camera-editor\",children:[Object($a.jsx)(Tc,{headerText:st(\"camera.editor.button.text\"),onCloseClick:function(e){return Y(\"close\")}}),Object($a.jsx)(Di,{children:Zs.map((function(e){return Object($a.jsx)(Ai,{isActive:v===e,onClick:function(t){return Y(\"change_tab\",e)},children:Object($a.jsx)(\"i\",{className:\"icon icon-camera-\"+e})},e)}))}),Object($a.jsx)(Ec,{children:Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:5,overflow:\"hidden\",children:Object($a.jsx)(Js,{myLevel:u,selectedEffects:T,effects:H(),thumbnails:k,processAction:Y})}),Object($a.jsxs)(Jc,{size:7,justifyContent:\"between\",overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{center:!0,children:[Object($a.jsx)(oi,{imageUrl:q,className:\"picture-preview\"}),E&&Object($a.jsxs)(Jc,{center:!0,fullWidth:!0,gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"camera.effect.name.\"+E)}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:0,max:1,step:.01,value:W.alpha,onChange:function(e){return V(e)},renderThumb:function(e,t){return Object($a.jsx)(\"div\",Object(bt.a)(Object(bt.a)({},e),{},{children:t.valueNow}))}})]})]}),Object($a.jsxs)(lc,{justifyContent:\"between\",children:[Object($a.jsxs)(bc,{children:[Object($a.jsx)(dc,{onClick:function(e){return Y(\"clear_effects\")},children:Object($a.jsx)(mc.a,{icon:\"trash\"})}),Object($a.jsx)(dc,{onClick:function(e){return Y(\"download\")},children:Object($a.jsx)(mc.a,{icon:\"save\"})}),Object($a.jsx)(dc,{onClick:function(e){return Y(\"zoom\")},children:Object($a.jsx)(mc.a,{icon:P?\"search-minus\":\"search-plus\"})})]}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{onClick:function(e){return Y(\"cancel\")},children:st(\"generic.cancel\")}),Object($a.jsx)(dc,{onClick:function(e){return Y(\"checkout\")},children:st(\"camera.preview.button.text\")})]})]})]})]})})]})},eo=function(e){var t,n,r=Object(c.useState)(0),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)([]),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)([]),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useState)(-1),v=Object(o.a)(m,2),p=v[0],x=v[1],_=Object(c.useState)(10),E=Object(o.a)(_,2),I=E[0],y=(E[1],Object(c.useState)(null)),C=Object(o.a)(y,2),T=C[0],S=C[1],k=Object(c.useState)(null),A=Object(o.a)(k,2),w=A[0],U=A[1],P=Object(c.useCallback)((function(e){b(Array.from(D().effects.values()))}),[]);t=l.Tf.INITIALIZED,n=P,Ht(t,N().cameraManager.events,n);var L=Object(c.useCallback)((function(e){var t=e.getParser();U({credits:t.creditPrice,duckets:t.ducketPrice,publishDucketPrice:t.publishDucketPrice})}),[]);dt(l.Jd,L);var M=Object(c.useCallback)((function(e){s(0)}),[]);Yt(l.Sg.ENDED,M),Object(c.useEffect)((function(){if(!D().isLoaded)return D().init(),void ea(new l.Nf)}),[]);var F=Object(c.useCallback)((function(e){switch(e){case\"close\":return void s(0);case\"edit\":return void s(2);case\"delete\":return void g((function(e){var t=Object(ut.a)(e);return t.splice(p,1),t}));case\"editor_cancel\":return void s(1)}}),[p]),H=Object(c.useCallback)((function(e){S(e),s(3)}),[]),G=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void s(1);case\"hide\":return void s(0);case\"toggle\":return void s((function(e){return e?0:1}))}}),[]);return Object(c.useEffect)((function(){var e={linkReceived:G,eventUrlPrefix:\"camera/\"};return R(e),function(){return B(e)}}),[G]),0===i?null:Object($a.jsxs)(Ws,{value:{cameraRoll:f,setCameraRoll:g,selectedPictureIndex:p,setSelectedPictureIndex:x},children:[1===i&&Object($a.jsx)(qs,{onClose:function(){return F(\"close\")},onEdit:function(){return F(\"edit\")},onDelete:function(){return F(\"delete\")}}),2===i&&Object($a.jsx)($s,{picture:f[p],myLevel:I,onClose:function(){return F(\"close\")},onCancel:function(){return F(\"editor_cancel\")},onCheckout:H,availableEffects:j}),3===i&&Object($a.jsx)(Ys,{base64Url:T,onCloseClick:function(){return F(\"close\")},onCancelClick:function(){return F(\"editor_cancel\")},price:w})]})},to=function(e){var t=e.itemId,n=void 0===t?-1:t,r=e.state,a=void 0===r?null:r,c=e.product,i=void 0===c?null:c,s=e.active,o=void 0!==s&&s,l=e.onClick,u=void 0===l?null:l;return Object($a.jsxs)(Jc,{fit:!0,center:!0,pointer:!0,className:\"campaign-spritesheet campaign-day-generic-bg rounded calendar-item \".concat(o?\"active\":\"\"),onClick:function(){return u(n)},children:[a===x.STATE_UNLOCKED&&Object($a.jsx)(lc,{center:!0,className:\"campaign-spritesheet unlocked-bg\",children:Object($a.jsx)(lc,{center:!0,className:\"campaign-spritesheet campaign-opened\",children:i&&Object($a.jsx)(oi,{imageUrl:i.customImage?L(\"image.library.url\")+i.customImage:function(e){var t=ae().getFloorItemDataByName(e),n=null;return t?n=G().getFurnitureFloorIconUrl(t.id):(t=ae().getWallItemDataByName(e))&&(n=G().getFurnitureWallIconUrl(t.id)),n}(i.productName)})})}),a!==x.STATE_UNLOCKED&&Object($a.jsxs)(lc,{center:!0,className:\"campaign-spritesheet locked-bg\",children:[a===x.STATE_LOCKED_AVAILABLE&&Object($a.jsx)(tc,{className:\"campaign-spritesheet available\"}),(a===x.STATE_LOCKED_EXPIRED||a===x.STATE_LOCKED_FUTURE)&&Object($a.jsx)(tc,{className:\"campaign-spritesheet unavailable\"})]})]})},no=function(e){var t=e.close,n=void 0===t?null:t,r=e.campaignName,a=void 0===r?null:r,i=e.currentDay,s=void 0===i?null:i,l=e.numDays,u=void 0===l?null:l,d=e.missedDays,j=void 0===d?null:d,b=e.openedDays,O=void 0===b?null:b,h=e.openPackage,f=void 0===h?null:h,g=e.receivedProducts,m=void 0===g?null:g,v=Object(c.useState)(s),p=Object(o.a)(v,2),_=p[0],E=p[1],I=Object(c.useState)(Math.max(0,_-1)),y=Object(o.a)(I,2),C=y[0],T=y[1],S=function(e){return O.includes(e)?x.STATE_UNLOCKED:e>s?x.STATE_LOCKED_FUTURE:j.includes(e)?x.STATE_LOCKED_EXPIRED:x.STATE_LOCKED_AVAILABLE},N=function(e){_!==e?E(e):S(e)===x.STATE_LOCKED_AVAILABLE&&f(e,!1)};return Object($a.jsxs)(Pc,{className:\"nitro-campaign-calendar\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"campaign.calendar.\".concat(a,\".title\")),onCloseClick:n}),Object($a.jsxs)(Ec,{children:[Object($a.jsxs)(cc,{fullHeight:!1,justifyContent:\"between\",alignItems:\"center\",children:[Object($a.jsx)(Jc,{size:1}),Object($a.jsx)(Jc,{size:10,children:Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",gap:1,children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{fontSize:3,children:st(\"campaign.calendar.heading.day\",[\"number\"],[(_+1).toString()])}),Object($a.jsx)(Hi,{children:function(e){switch(S(e)){case x.STATE_UNLOCKED:return st(\"campaign.calendar.info.unlocked\");case x.STATE_LOCKED_FUTURE:return st(\"campaign.calendar.info.future\");case x.STATE_LOCKED_EXPIRED:return st(\"campaign.calendar.info.expired\");default:return st(\"campaign.calendar.info.available.desktop\")}}(_)})]}),Object($a.jsx)(\"div\",{children:ae().isModerator&&Object($a.jsx)(dc,{variant:\"danger\",onClick:function(){var e=_;S(e)!==x.STATE_UNLOCKED&&f(e,!0)},children:\"Force open\"})})]})}),Object($a.jsx)(Jc,{size:1})]}),Object($a.jsxs)(lc,{fullHeight:!0,gap:2,children:[Object($a.jsx)(lc,{center:!0,children:Object($a.jsx)(tc,{pointer:!0,className:\"campaign-spritesheet prev\",onClick:function(){var e=_-1;e<0||(E(e),C>e&&T(C-1))}})}),Object($a.jsx)(Jc,{center:!0,fullWidth:!0,children:Object($a.jsx)(cc,{fit:!0,columnCount:5,gap:1,children:Object(ut.a)(Array(5)).map((function(e,t){var n=C+t;return Object($a.jsx)(Jc,{overflow:\"hidden\",children:Object($a.jsx)(to,{itemId:n,state:S(n),active:_===n,product:m.has(n)?m.get(n):null,onClick:N})},t)}))})}),Object($a.jsx)(lc,{center:!0,children:Object($a.jsx)(tc,{pointer:!0,className:\"campaign-spritesheet next\",onClick:function(){var e=_+1;e!==u&&(E(e),C+5<e+1&&T(C+1))}})})]})]})]})},ro=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(new Map),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(!1),g=Object(o.a)(f,2),m=g[0],v=g[1],x=Object(c.useCallback)((function(e){var t=e.getParser();t&&a(t.calendarData)}),[]);dt(l.O,x);var _=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=u;t.doorOpened&&(a((function(e){var t=e.clone();return t.openedDays.push(u),t})),h((function(e){var r=new Map(e);return r.set(n,new p(t.productName,t.customImage,t.furnitureClassName)),r}))),d(-1)}}),[u]);dt(l.P,_);var E=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r&&(d(e),ea(t?new l.cf(r.campaignName,e):new l.df(r.campaignName,e)))}),[r]),I=Object(c.useCallback)((function(){v(!1)}),[]),y=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2)&&\"calendar\"===t[1])v(!0)}),[]);return Object(c.useEffect)((function(){var e={linkReceived:y,eventUrlPrefix:\"openView/\"};return R(e),function(){B(e)}}),[y]),Object($a.jsx)($a.Fragment,{children:r&&m&&Object($a.jsx)(no,{close:I,campaignName:r.campaignName,currentDay:r.currentDay,numDays:r.campaignDays,openedDays:r.openedDays,missedDays:r.missedDays,openPackage:E,receivedProducts:O})})},ao=function(e){var t=new URLSearchParams(window.location.search).get(\"sso\"),n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(\"none\"),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)(\"none\"),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(\"none\"),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(\"none\"),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(\"1\"),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(\"1\"),N=Object(o.a)(S,2),k=N[0],A=N[1],w=Object(c.useState)(\"1\"),D=Object(o.a)(w,2),U=D[0],P=D[1],L=Object(c.useState)(\"1\"),M=Object(o.a)(L,2),F=M[0],H=M[1],G=Object(c.useState)(\"1\"),W=Object(o.a)(G,2),V=W[0],q=W[1],Y=Object(c.useState)(\"1\"),z=Object(o.a)(Y,2),K=z[0],Q=z[1],X=Object(c.useState)(\"1\"),J=Object(o.a)(X,2),Z=J[0],$=J[1],ee=Object(c.useState)(\"1\"),te=Object(o.a)(ee,2),ne=te[0],re=te[1];return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"rouletteColor\":return v(\"block\"),E(\"none\"),d(\"none\"),h(\"none\"),void i(!0);case\"rouletteFloor\":return v(\"none\"),E(\"none\"),d(\"none\"),h(\"block\"),void i(!0);case\"dice\":return v(\"none\"),E(\"none\"),d(\"block\"),h(\"none\"),void i(!0);case\"vendingMachine\":return v(\"none\"),E(\"block\"),d(\"none\"),h(\"none\"),void i(!0);case\"hide\":return void i(!1)}},eventUrlPrefix:\"casino/\"};return R(e),function(){return B(e)}}),[i]),Object($a.jsx)($a.Fragment,{children:a&&Object($a.jsxs)(Pc,{style:{width:\"350px\"},children:[Object($a.jsx)(Tc,{headerText:\"Apostar\",onCloseClick:function(e){return i(!1)}}),Object($a.jsxs)(Ec,{children:[Object($a.jsxs)(\"div\",{id:\"diceView\",style:{display:u},children:[Object($a.jsx)(\"div\",{className:\"alert alert-primary text-center\",children:Object($a.jsx)(\"b\",{children:\"Selecciona un n\\xfamero del 1 al 6. Si el dado saca el mismo n\\xfamero, ganas x2.\"})}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Selecciona un n\\xfamero entre 1 y 6\"}),Object($a.jsx)(\"input\",{onChange:function(e){return T(e.target.value)},className:\"form-control\",type:\"number\",placeholder:\"0\"}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Moneda a apostar:\"}),Object($a.jsxs)(\"select\",{value:k,onChange:function(e){return A(e.target.value)},className:\"form-control\",children:[Object($a.jsx)(\"option\",{value:\"1\",children:\"Cr\\xe9ditos\"}),Object($a.jsx)(\"option\",{value:\"3\",children:\"Cometas\"}),Object($a.jsx)(\"option\",{value:\"2\",children:\"Asteroides\"})]}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Cantidad a apostar:\"}),Object($a.jsx)(\"input\",{onChange:function(e){return P(e.target.value)},className:\"form-control\",type:\"number\",placeholder:\"0\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(){return fetch(\"https://int.ultrahabbo.fun/?type=betDadosCasino&quantity=\"+U+\"&coin=\"+k+\"&number=\"+C+\"&sso=\"+t),void i(!1)},className:\"btn btn-success w-100\",children:\"Apostar\"})]}),Object($a.jsxs)(\"div\",{id:\"rouletteColorsView\",style:{display:m},children:[Object($a.jsx)(\"div\",{className:\"alert alert-primary text-center\",children:Object($a.jsxs)(\"b\",{children:[\"Depende del color, ganas o pierdes.\",Object($a.jsx)(\"br\",{}),\"Verde: x5\",Object($a.jsx)(\"br\",{}),\"Morado: x2\"]})}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Moneda a apostar:\"}),Object($a.jsxs)(\"select\",{value:Z,onChange:function(e){return $(e.target.value)},className:\"form-control\",children:[Object($a.jsx)(\"option\",{value:\"1\",children:\"Cr\\xe9ditos\"}),Object($a.jsx)(\"option\",{value:\"3\",children:\"Cometas\"}),Object($a.jsx)(\"option\",{value:\"2\",children:\"Asteroides\"})]}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Cantidad a apostar:\"}),Object($a.jsx)(\"input\",{onChange:function(e){return re(e.target.value)},className:\"form-control\",type:\"number\",placeholder:\"0\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(){return fetch(\"https://int.ultrahabbo.fun/?type=betRuletaPared&quantity=\"+ne+\"&coin=\"+Z+\"&sso=\"+t),void i(!1)},className:\"btn btn-success w-100\",children:\"Apostar\"})]}),Object($a.jsxs)(\"div\",{id:\"rouletteFloorView\",style:{display:O},children:[Object($a.jsx)(\"div\",{className:\"alert alert-primary text-center\",children:Object($a.jsx)(\"b\",{children:\"Selecciona un n\\xfamero. Si el n\\xfamero es par y toca par, ganar\\xe1s un x1.5. Si toca el mismo n\\xfamero, ganar\\xe1s un x5. Si seleccionas 0 y sale 0 ganar\\xe1s un x10.\"})}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Selecciona un n\\xfamero entre 0 y 32\"}),Object($a.jsx)(\"input\",{onChange:function(e){return H(e.target.value)},className:\"form-control\",type:\"number\",placeholder:\"0\"}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Moneda a apostar:\"}),Object($a.jsxs)(\"select\",{value:V,onChange:function(e){return q(e.target.value)},className:\"form-control\",children:[Object($a.jsx)(\"option\",{value:\"1\",children:\"Cr\\xe9ditos\"}),Object($a.jsx)(\"option\",{value:\"3\",children:\"Cometas\"}),Object($a.jsx)(\"option\",{value:\"2\",children:\"Asteroides\"})]}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Cantidad a apostar:\"}),Object($a.jsx)(\"input\",{onChange:function(e){return Q(e.target.value)},className:\"form-control\",type:\"number\",placeholder:\"0\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(){return fetch(\"https://int.ultrahabbo.fun/?type=betRuletaSuelo&quantity=\"+K+\"&coin=\"+V+\"&number=\"+F+\"&sso=\"+t),void i(!1)},className:\"btn btn-success w-100\",children:\"Apostar\"})]}),Object($a.jsxs)(\"div\",{id:\"vendingMachineView\",style:{display:_},children:[Object($a.jsx)(\"div\",{className:\"alert alert-primary text-center\",children:Object($a.jsx)(\"b\",{children:\"Si la tragaperras te da premio, ganas x2.\"})}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Moneda a apostar:\"}),Object($a.jsxs)(\"select\",{className:\"form-control\",children:[Object($a.jsx)(\"option\",{children:\"Cr\\xe9ditos\"}),Object($a.jsx)(\"option\",{children:\"Cometas\"}),Object($a.jsx)(\"option\",{children:\"Asteroides\"})]}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Cantidad a apostar:\"}),Object($a.jsx)(\"input\",{className:\"form-control\",type:\"number\",placeholder:\"0\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",children:\"Apostar\"})]})]})]})})},co=n(32),io=n.n(co),so=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(0),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(\"\"),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useState)(\"\"),_=Object(o.a)(x,2),E=_[0],I=_[1],y=Object(c.useState)(!0),C=Object(o.a)(y,2),T=C[0],S=C[1],N=Object(c.useState)(\"\"),R=Object(o.a)(N,2),k=R[0],A=R[1],w=Object(c.useState)([]),D=Object(o.a)(w,2),U=D[0],P=D[1],L=Object(c.useState)(0),M=Object(o.a)(L,2),F=M[0],H=M[1],B=Object(c.useState)(0),G=Object(o.a)(B,2),W=G[0],V=G[1],q=Object(c.useState)(0),Y=Object(o.a)(q,2),z=Y[0],K=Y[1],Q=Object(c.useState)(0),X=Object(o.a)(Q,2),J=X[0],Z=X[1],$=Object(c.useState)(0),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=Object(c.useState)(!1),ce=Object(o.a)(re,2),ie=ce[0],se=ce[1],oe=nn().catalogOptions,le=(void 0===oe?null:oe).giftConfiguration,ue=void 0===le?null:le,de=Object(c.useCallback)((function(){a(!1),j(0),f(0),p(\"\"),I(\"\"),S(!0),A(\"\"),H(0),V(0),U.length&&K(U[0].id)}),[U]),je=Object(c.useCallback)((function(e){switch(e.type){case mt.PURCHASE_SUCCESS:return void de();case ht.INIT_GIFT:var t=e;return de(),j(t.pageId),f(t.offerId),p(t.extraData),void a(!0)}}),[de]);Qt(mt.PURCHASE_SUCCESS,je),Qt(ht.INIT_GIFT,je);var be=Object(c.useMemo)((function(){return!ue||ue.defaultStuffTypes.findIndex((function(e){return e===ue.boxTypes[F]}))>-1}),[ue,F]),Oe=Object(c.useMemo)((function(){return ue?(1e3*ue.boxTypes[F]+ue.ribbonTypes[W]).toString():\"\"}),[ue,F,W]),he=Object(c.useMemo)((function(){if(!ue)return!1;var e=ue.boxTypes[F];return!(8===e||e>=3&&e<=6)}),[ue,F]),fe=Object(c.useCallback)((function(e){switch(e){case\"prev_box\":return void H((function(e){return 0===e?J:e-1}));case\"next_box\":return void H((function(e){return e===J?0:e+1}));case\"prev_ribbon\":return void V((function(e){return 0===e?te:e-1}));case\"next_ribbon\":return void V((function(e){return e===te?0:e+1}));case\"buy\":return E&&0!==E.length?void ea(new l.wf(d,h,v,E,k,z,F,W,T)):void se(!0)}}),[v,J,te,k,h,d,E,F,z,W,T]),ge=Object(c.useCallback)((function(){se(!0)}),[]);if(dt(l.zc,ge),Object(c.useEffect)((function(){se(!1)}),[E]),Object(c.useEffect)((function(){if(ue){var e,t=[],n=Object(s.a)(ue.stuffTypes);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=ae().getFloorItemData(r);a&&(a.colors&&a.colors.length>0&&t.push({id:r,color:\"#\".concat(a.colors[0].toString(16))}))}}catch(c){n.e(c)}finally{n.f()}Z(ue.boxTypes.length-1),ne(ue.ribbonTypes.length-1),t.length&&(K(t[0].id),P(t))}}),[ue]),!ue||!ue.isEnabled||!r)return null;var me=\"catalog.gift_wrapping_new.box.\"+(be?\"default\":F),ve=\"catalog.gift_wrapping_new.ribbon.\".concat(W),pe=\"catalog.gift_wrapping_new.\"+(be?\"freeprice\":\"price\");return Object($a.jsxs)(Pc,{uniqueKey:\"catalog-gift\",className:\"nitro-catalog-gift\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"catalog.gift_wrapping.title\"),onCloseClick:de}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[Object($a.jsxs)(Pi,{column:!0,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"catalog.gift_wrapping.receiver\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\"+io()({\" is-invalid\":ie}),value:E,onChange:function(e){return I(e.target.value)}}),ie&&Object($a.jsx)(tc,{className:\"invalid-feedback\",children:st(\"catalog.gift_wrapping.receiver_not_found.title\")})]}),Object($a.jsx)(Qc,{figure:ae().figure,userName:ae().userName,message:k,editable:!0,onChange:function(e){return A(e)}}),Object($a.jsxs)(tc,{className:\"form-check\",children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"showMyFace\",checked:T,onChange:function(e){return S((function(e){return!e}))}}),Object($a.jsx)(\"label\",{style:{color:\"var(--test-galaxytext)\"},className:\"form-check-label\",children:st(\"catalog.gift_wrapping.show_face.title\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[z&&Object($a.jsx)(tc,{className:\"gift-preview\",children:Object($a.jsx)(Kc,{productType:aa.FLOOR,productClassId:z,extraData:Oe})}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsxs)(bc,{children:[Object($a.jsx)(dc,{variant:\"primary\",onClick:function(){return fe(\"prev_box\")},children:Object($a.jsx)(mc.a,{icon:\"chevron-left\"})}),Object($a.jsx)(dc,{variant:\"primary\",onClick:function(){return fe(\"next_box\")},children:Object($a.jsx)(mc.a,{icon:\"chevron-right\"})})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontWeight:\"bold\",children:st(me)}),Object($a.jsxs)(lc,{style:{color:\"var(--test-galaxytext)\"},alignItems:\"center\",gap:1,children:[st(pe,[\"price\"],[ue.price.toString()]),Object($a.jsx)(Vc,{type:-1})]})]})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsxs)(bc,{children:[Object($a.jsx)(dc,{variant:\"primary\",onClick:function(){return fe(\"prev_ribbon\")},children:Object($a.jsx)(mc.a,{icon:\"chevron-left\"})}),Object($a.jsx)(dc,{variant:\"primary\",onClick:function(){return fe(\"next_ribbon\")},children:Object($a.jsx)(mc.a,{icon:\"chevron-right\"})})]}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontWeight:\"bold\",children:st(ve)})]})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontWeight:\"bold\",children:st(\"catalog.gift_wrapping.pick_color\")}),Object($a.jsx)(bc,{fullWidth:!0,children:U.map((function(e){return Object($a.jsx)(dc,{variant:\"dark\",active:e.id===z,disabled:!he,style:{backgroundColor:e.color},onClick:function(){return K(e.id)}},e.id)}))})]}),Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",children:[Object($a.jsx)(dc,{variant:\"link\",onClick:de,style:{color:\"var(--test-galaxytext)\"},children:st(\"cancel\")}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(){return fe(\"buy\")},children:st(\"catalog.gift_wrapping.give_gift\")})]})]})]})},oo=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],j=nn(),b=j.currentType,O=void 0===b?null:b,h=j.rootNode,f=void 0===h?null:h,g=j.offersToNodes,m=void 0===g?null:g,v=j.searchResult,p=void 0===v?null:v,x=j.setSearchResult,_=void 0===x?null:x,E=j.setCurrentPage,y=void 0===E?null:E,C=function(e){e&&e.length?(a(e),d(!0)):(a(\"\"),p&&_(null))},T=Object(c.useCallback)((function(e){if(d(!1),(e=e.toLocaleLowerCase().replace(\" \",\"\"))&&e.length){var t=ae().getAllFurnitureData({loadFurnitureData:null});if(t&&t.length){var n,r=[],a=[],c=Object(s.a)(t);try{for(c.s();!(n=c.n()).done;){var i=n.value;if((O!==S.BUILDER||i.availableForBuildersClub)&&(O!==S.NORMAL||!i.excludeDynamic)){var o=[i.className,i.name,i.description].join(\" \").replace(/ /gi,\"\").toLowerCase();if(O===S.BUILDER&&-1===i.purchaseOfferId&&-1===i.rentOfferId)\"\"!==i.furniLine&&a.indexOf(i.furniLine)<0&&o.indexOf(e)>=0&&a.push(i.furniLine);else if([].concat(Object(ut.a)(na(m,i.purchaseOfferId)),Object(ut.a)(na(m,i.rentOfferId))).length&&(o.indexOf(e)>=0&&r.push(i),250===r.length))break}}}catch(g){c.e(g)}finally{c.f()}for(var l=[],u=0,j=r;u<j.length;u++){var b=j[u];l.push(new sa(b))}var h=[];ra(e,a,f,h),y(new I(-1,\"default_3x3\",new la([],[]),l,!1,1)),_(new ja(e,l,h.filter((function(e){return e.isVisible}))))}}}),[m,O,f,y,_]);return Object(c.useEffect)((function(){if(u){var e=setTimeout((function(){return T(r)}),300);return function(){return clearTimeout(e)}}}),[r,u,T]),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(lc,{fullWidth:!0,alignItems:\"center\",position:\"relative\",children:Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:st(\"generic.search\"),value:r,onChange:function(e){return C(e.target.value)},onKeyDown:function(e){return(\"Enter\"===e.code||\"NumpadEnter\"===e.code)&&T(r)}})}),(!r||!r.length)&&Object($a.jsx)(dc,{variant:\"primary\",className:\"catalog-search-button\",children:Object($a.jsx)(mc.a,{icon:\"search\"})}),r&&!!r.length&&Object($a.jsx)(dc,{variant:\"primary\",className:\"catalog-search-button\",onClick:function(e){return C(\"\")},children:Object($a.jsx)(mc.a,{icon:\"times\"})})]})},lo=function(e){var t=e.icon,n=void 0===t?0:t,r=Object(c.useMemo)((function(){return L(\"catalog.asset.icon.url\").replace(\"%name%\",n.toString())}),[n]);return Object($a.jsx)(oi,{imageUrl:r,style:{width:20,height:20}})},uo=function(e){var t=e.node,n=void 0===t?null:t;return Object($a.jsx)($a.Fragment,{children:n&&n.children.length>0&&n.children.map((function(e,t){return e.isVisible?Object($a.jsx)(jo,{node:e},t):null}))})},jo=function(e){var t=e.node,n=void 0===t?null:t,r=nn().activateNode,a=void 0===r?null:r;return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(ii,{gap:1,column:!1,itemActive:n.isActive,onClick:function(e){return a(n)},children:[Object($a.jsx)(lo,{icon:n.iconId}),Object($a.jsx)(Hi,{grow:!0,truncate:!0,children:n.localization}),n.isBranch&&Object($a.jsx)(mc.a,{icon:n.isOpen?\"caret-up\":\"caret-down\"})]}),n.isOpen&&n.isBranch&&Object($a.jsx)(uo,{node:n})]})},bo=function(e){var t=e.node,n=void 0===t?null:t,r=nn().searchResult,a=void 0===r?null:r;return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(oo,{}),Object($a.jsx)(Jc,{fullHeight:!0,className:\"nitro-catalog-navigation-grid-container rounded p-1\",overflow:\"hidden\",children:Object($a.jsxs)(sc,{gap:1,columnCount:1,children:[a&&a.filteredNodes.length>0&&a.filteredNodes.map((function(e,t){return Object($a.jsx)(jo,{node:e},t)})),!a&&Object($a.jsx)(uo,{node:n})]})})]})},Oo=[\"columnCount\"],ho=function(e){var t=e.columnCount,n=void 0===t?5:t,r=Object(Za.a)(e,Oo),a=Object(c.useState)(!1),i=Object(o.a)(a,2),s=i[0],u=i[1],d=Object(c.useState)(null),j=Object(o.a)(d,2),b=j[0],O=j[1],h=nn(),f=h.currentOffer,g=void 0===f?null:f,m=h.setPurchaseOptions,v=void 0===m?null:m,p=bn(),x=p.badgeCodes,_=void 0===x?[]:x,E=p.activate,I=void 0===E?null:E,y=p.deactivate,C=void 0===y?null:y,T=Object(c.useMemo)((function(){if(!b)return null;var e=new l.Kh;return e.setValue([\"0\",b,\"\",\"\"]),e}),[b]);return Object(c.useEffect)((function(){g&&v((function(e){var t=Object(bt.a)({},e);return t.extraParamRequired=!0,t.extraData=T&&T.getValue(1)||null,t.previewStuffData=T,t}))}),[g,T,v]),Object(c.useEffect)((function(){if(s){var e=I();return function(){return C(e)}}}),[s,I,C]),Object(c.useEffect)((function(){return u(!0),function(){return u(!1)}}),[]),Object($a.jsx)(sc,Object(bt.a)(Object(bt.a)({columnCount:n},r),{},{children:_&&_.length>0&&_.map((function(e,t){return Object($a.jsx)(ii,{itemActive:b===e,onClick:function(t){return O(e)},children:Object($a.jsx)(Gc,{badgeCode:e})},t)}))}))},fo=function(e){var t=nn(),n=t.currentPage,r=void 0===n?null:n,a=t.setCurrentOffer,i=void 0===a?null:a;return Object(c.useEffect)((function(){r&&r.offers.length&&i(r.offers[0])}),[r,i]),null},go=[\"offer\",\"selectOffer\",\"itemActive\"],mo=function(e){var t=e.offer,n=void 0===t?null:t,r=e.selectOffer,a=void 0===r?null:r,i=e.itemActive,s=void 0!==i&&i,u=Object(Za.a)(e,go),d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],O=j[1],h=nn().requestOfferToMover,f=void 0===h?null:h,g=mn().isVisible,m=void 0!==g&&g,v=Object(c.useMemo)((function(){return n.pricingModel===ia.PRICING_MODEL_BUNDLE?null:n.product.getIconUrl(n)}),[n]),p=function(e){switch(e.type){case l.xe.MOUSE_DOWN:return a(n),void O(!0);case l.xe.MOUSE_UP:return void O(!1);case l.xe.ROLL_OUT:if(!b||!s||!m)return;return void f(n)}},x=n.product;return x?Object($a.jsx)(ii,Object(bt.a)(Object(bt.a)({itemImage:v,itemCount:n.pricingModel===ia.PRICING_MODEL_MULTI?x.productCount:1,itemUniqueSoldout:x.uniqueLimitedItemSeriesSize&&!x.uniqueLimitedItemsLeft,itemUniqueNumber:x.uniqueLimitedItemSeriesSize,itemActive:s,onMouseDown:p,onMouseUp:p,onMouseOut:p},u),{},{children:n.product.productType===aa.ROBOT&&Object($a.jsx)(Mc,{figure:n.product.extraParam,headOnly:!0,direction:3})})):null},vo=[\"columnCount\",\"children\"],po=function(e){var t=e.columnCount,n=void 0===t?5:t,r=e.children,a=void 0===r?null:r,c=Object(Za.a)(e,vo),i=nn(),s=i.currentOffer,o=void 0===s?null:s,l=i.setCurrentOffer,u=void 0===l?null:l,d=i.currentPage,j=void 0===d?null:d,b=i.setPurchaseOptions,O=void 0===b?null:b;if(!j)return null;var h=function(e){e.activate(),e.isLazy||(u(e),e.product&&e.product.productType===aa.WALL&&O((function(t){var n=Object(bt.a)({},t);return n.extraData=e.product.extraParam||null,n})))};return Object($a.jsxs)(sc,Object(bt.a)(Object(bt.a)({columnCount:n},c),{},{children:[j.offers&&j.offers.length>0&&j.offers.map((function(e,t){return Object($a.jsx)(mo,{itemActive:o&&o.offerId===e.offerId,offer:e,selectOffer:h},t)})),a]}))},xo=[\"children\"],_o=function(e){var t=e.children,n=void 0===t?null:t,r=Object(Za.a)(e,xo),a=nn().currentOffer,c=void 0===a?null:a;return c&&c.pricingModel===ia.PRICING_MODEL_SINGLE&&c.product.isUniqueLimitedItem?Object($a.jsxs)(tc,Object(bt.a)(Object(bt.a)({},r),{},{children:[Object($a.jsx)(ai,{className:\"mx-auto\",uniqueLimitedItemsLeft:c.product.uniqueLimitedItemsLeft,uniqueLimitedSeriesSize:c.product.uniqueLimitedItemSeriesSize}),n]})):null},Eo=function(e){var t=e.noGiftOption,n=void 0!==t&&t,r=e.purchaseCallback,a=void 0===r?null:r,i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=(s[0],s[1],Object(c.useState)(T.NONE)),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Xt(ot.CATALOG_SKIP_PURCHASE_CONFIRMATION,!1),h=Object(o.a)(O,2),f=(h[0],h[1],nn()),g=f.currentOffer,m=void 0===g?null:g,v=(f.currentPage,f.purchaseOptions),p=void 0===v?null:v,x=f.setPurchaseOptions,_=void 0===x?null:x,E=Tn().getCurrencyAmount,I=void 0===E?null:E,y=Object(c.useCallback)((function(e){switch(e.type){case mt.PURCHASE_SUCCESS:return void b(T.NONE);case vt.PURCHASE_FAILED:case pt.NOT_ALLOWED:return void b(T.FAILED);case _t.SOLD_OUT:return void b(T.SOLD_OUT)}}),[]);Qt(mt.PURCHASE_SUCCESS,y),Qt(vt.PURCHASE_FAILED,y),Qt(pt.NOT_ALLOWED,y),Qt(_t.SOLD_OUT,y);var C=Object(c.useMemo)((function(){if(!m)return!1;if(p.extraParamRequired&&(!p.extraData||!p.extraData.length))return!1;if(m.pricingModel===ia.PRICING_MODEL_SINGLE){var e=m.product;if(e&&e.isUniqueLimitedItem)return!e.uniqueLimitedItemsLeft}return!1}),[m,p]),S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m)if(ce()<m.clubLevel)U(\"habboUI/open/hccenter\");else if(e)Kt(new ft(m.page.pageId,m.offerId,p.extraData));else if(b(T.PURCHASE),a)a();else{var t=m.page.pageId;ea(new l.xf(t,m.offerId,p.extraData,p.quantity))}};if(Object(c.useEffect)((function(){if(m)return function(){b(T.NONE),_({quantity:1,extraData:null,extraParamRequired:!1,previewStuffData:null})}}),[m,_]),Object(c.useEffect)((function(){var e=null;return j!==T.CONFIRM&&j!==T.FAILED||(e=setTimeout((function(){return b(T.NONE)}),3e3)),function(){e&&clearTimeout(e)}}),[j]),!m)return null;var N=function(){var e=m.priceInCredits*p.quantity,t=m.priceInActivityPoints*p.quantity;if(ce()<m.clubLevel)return Object($a.jsx)(dc,{variant:\"danger\",disabled:!0,children:st(\"catalog.alert.hc.required\")});if(C)return Object($a.jsx)(dc,{variant:\"danger\",disabled:!0,children:st(\"catalog.alert.limited_edition_sold_out.title\")});if(e>I(-1))return Object($a.jsx)(dc,{variant:\"danger\",disabled:!0,children:st(\"catalog.alert.notenough.title\")});if(t>I(m.activityPointType))return Object($a.jsx)(dc,{variant:\"danger\",disabled:!0,children:st(\"catalog.alert.notenough.activitypoints.title.\"+m.activityPointType)});switch(j){case T.CONFIRM:return Object($a.jsx)(dc,{variant:\"warning\",onClick:function(e){return S()},children:st(\"catalog.marketplace.confirm_title\")});case T.PURCHASE:return Object($a.jsx)(dc,{disabled:!0,children:Object($a.jsx)(li,{})});case T.FAILED:return Object($a.jsx)(dc,{variant:\"danger\",children:st(\"generic.failed\")});case T.SOLD_OUT:return Object($a.jsx)(dc,{variant:\"danger\",children:st(\"generic.failed\")+\" - \"+st(\"catalog.alert.limited_edition_sold_out.title\")});case T.NONE:default:return Object($a.jsx)(dc,{disabled:p.extraParamRequired&&(!p.extraData||!p.extraData.length),onClick:function(e){return b(T.CONFIRM)},children:st(\"catalog.purchase_confirmation.\"+(m.isRentOffer?\"rent\":\"buy\"))})}};return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(N,{}),!n&&!m.isRentOffer&&Object($a.jsx)(dc,{disabled:p.quantity>1||!m.giftable||C||p.extraParamRequired&&(!p.extraData||!p.extraData.length),onClick:function(e){return S(!0)},children:st(\"catalog.purchase_confirmation.gift\")})]})},Io=function(e){var t=e.offer,n=void 0===t?null:t,r=e.separator,a=void 0!==r&&r,c=nn().purchaseOptions,i=(void 0===c?null:c).quantity,s=void 0===i?1:i;return n?Object($a.jsxs)($a.Fragment,{children:[n.priceInCredits>0&&Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:n.priceInCredits*s}),Object($a.jsx)(Vc,{type:-1})]}),a&&n.priceInCredits>0&&n.priceInActivityPoints>0&&Object($a.jsx)(mc.a,{size:\"xs\",color:\"black\",icon:\"plus\"}),n.priceInActivityPoints>0&&Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:n.priceInActivityPoints*s}),Object($a.jsx)(Vc,{type:n.activityPointType})]})]}):null},yo=[\"gap\"],Co=function(e){var t=e.gap,n=void 0===t?1:t,r=Object(Za.a)(e,yo),a=nn().currentOffer,c=void 0===a?null:a;return Object($a.jsx)(Jc,Object(bt.a)(Object(bt.a)({gap:n},r),{},{children:Object($a.jsx)(Io,{offer:c})}))},To=function(e){var t=nn(),n=t.currentOffer,r=void 0===n?null:n,a=t.roomPreviewer,i=void 0===a?null:a,o=t.purchaseOptions,u=(void 0===o?null:o).previewStuffData,d=void 0===u?null:u;return Object(c.useEffect)((function(){if(r&&r.pricingModel!==ia.PRICING_MODEL_BUNDLE&&i){var e=r.product;if(e)switch(e.productType){case aa.FLOOR:if(!e.furnitureData)return;if(e.furnitureData.specialType===Un.FIGURE_PURCHASABLE_SET){var t,n=ae().getFloorItemData(e.furnitureData.id).customParams.split(\",\").map((function(e){return parseInt(e)})),a=[],c=Object(s.a)(n);try{for(c.s();!(t=c.n()).done;){var o=t.value;k().isValidFigureSetForGender(o,ae().gender)&&a.push(o)}}catch(b){c.e(b)}finally{c.f()}var u=k().getFigureStringWithFigureIds(ae().figure,ae().gender,a);i.addAvatarIntoRoom(u,e.productClassId)}else i.addFurnitureIntoRoom(e.productClassId,new l.Oi(90),d,e.extraParam);return;case aa.WALL:if(!e.furnitureData)return;switch(e.furnitureData.specialType){case Un.FLOOR:return i.reset(!1),void i.updateObjectRoom(e.extraParam);case Un.WALL_PAPER:return i.reset(!1),void i.updateObjectRoom(null,e.extraParam);case Un.LANDSCAPE:i.reset(!1),i.updateObjectRoom(null,null,e.extraParam);var j=ae().getWallItemDataByName(\"ads_twi_windw\");return void(j&&i.addWallItemIntoRoom(j.id,new l.Oi(90),j.customParams));default:return i.updateObjectRoom(\"default\",\"default\",\"default\"),void i.addWallItemIntoRoom(e.productClassId,new l.Oi(90),e.extraParam)}case aa.ROBOT:return void i.addAvatarIntoRoom(e.extraParam,0);case aa.EFFECT:return void i.addAvatarIntoRoom(ae().figure,e.productClassId)}}}),[r,d,i]),r?r.pricingModel===ia.PRICING_MODEL_BUNDLE?Object($a.jsx)(Jc,{fit:!0,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:Object($a.jsx)(sc,{fullWidth:!0,columnCount:4,className:\"nitro-catalog-layout-bundle-grid\",children:r.products.length>0&&r.products.map((function(e,t){return Object($a.jsx)(ii,{itemImage:e.getIconUrl(r),itemCount:e.productCount},t)}))})}):Object($a.jsx)(yi,{roomPreviewer:i,height:140}):null},So=function(e){var t=e.page,n=void 0===t?null:t,r=nn().currentOffer,a=void 0===r?null:r;return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(fo,{}),Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:7,overflow:\"hidden\",children:[Object($a.jsx)(po,{shrink:!0}),Object($a.jsxs)(Jc,{gap:1,overflow:\"hidden\",children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",truncate:!0,shrink:!0,fontWeight:\"bold\",children:st(\"catalog_selectbadge\")}),Object($a.jsx)(ho,{})]})]}),Object($a.jsxs)(Jc,{center:!a,size:5,overflow:\"hidden\",children:[!a&&Object($a.jsxs)($a.Fragment,{children:[!!n.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",src:n.localization.getImage(1)}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:!0,dangerouslySetInnerHTML:{__html:n.localization.getText(0)}})]}),a&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(tc,{position:\"relative\",overflow:\"hidden\",children:[Object($a.jsx)(To,{}),Object($a.jsx)(_o,{fullWidth:!0,position:\"absolute\",className:\"top-1\"})]}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:!0,truncate:!0,children:a.localizationName}),Object($a.jsx)(lc,{justifyContent:\"end\",children:Object($a.jsx)(Co,{alignItems:\"end\"})}),Object($a.jsx)(Eo,{})]})]})]})]})]})},No=function(e){var t=Object.assign({},e),n=nn().currentOffer,r=void 0===n?null:n;return r&&r.badgeCode&&r.badgeCode.length?Object($a.jsx)(Gc,Object(bt.a)({badgeCode:r.badgeCode},t)):null},Ro=function(e){var t=nn(),n=t.currentOffer,r=void 0===n?null:n,a=t.purchaseOptions,c=void 0===a?null:a,i=t.setPurchaseOptions,s=void 0===i?null:i,o=c.quantity,l=void 0===o?1:o,u=function(e){isNaN(e)&&(e=1),e=Math.max(e,1),(e=Math.min(e,100))!==l&&s((function(t){var n=Object(bt.a)({},t);return n.quantity=e,n}))};return r&&r.bundlePurchaseAllowed?Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"catalog.bundlewidget.spinner.select.amount\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(mc.a,{icon:\"caret-left\",className:\"text-black cursor-pointer\",onClick:function(e){return u(l-1)}}),Object($a.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:l,onChange:function(e){return u(e.target.valueAsNumber)}}),Object($a.jsx)(mc.a,{icon:\"caret-right\",className:\"text-black cursor-pointer\",onClick:function(e){return u(l+1)}})]})]}):null},ko=function(e){var t=e.page,n=void 0===t?null:t,r=nn().currentOffer,a=void 0===r?null:r;return Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:7,overflow:\"hidden\",children:Object($a.jsx)(po,{})}),Object($a.jsxs)(Jc,{center:!a,size:5,overflow:\"hidden\",children:[!a&&Object($a.jsxs)($a.Fragment,{children:[!!n.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",src:n.localization.getImage(1)}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:!0,dangerouslySetInnerHTML:{__html:n.localization.getText(0)}})]}),a&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(tc,{position:\"relative\",overflow:\"hidden\",children:[Object($a.jsx)(To,{}),Object($a.jsx)(_o,{fullWidth:!0,position:\"absolute\",className:\"top-1\"}),Object($a.jsx)(No,{position:\"absolute\",className:\"bg-muted rounded bottom-1 end-1\"})]}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:!0,truncate:!0,children:a.localizationName}),Object($a.jsxs)(lc,{justifyContent:\"between\",children:[Object($a.jsx)(Jc,{gap:1,children:Object($a.jsx)(Ro,{})}),Object($a.jsx)(Co,{justifyContent:\"end\",alignItems:\"end\"})]}),Object($a.jsx)(Eo,{})]})]})]})]})},Ao=function(e){var t=Object.assign({},e),n=nn(),r=n.currentOffer,a=void 0===r?null:r,i=n.purchaseOptions,s=(void 0===i?null:i).previewStuffData,o=void 0===s?null:s,l=Object(c.useMemo)((function(){if(!a||!o)return null;var e=o.getValue(2);return e&&e.length?e:null}),[a,o]);return l?Object($a.jsx)(Gc,Object(bt.a)({badgeCode:l,isGroup:!0},t)):null},wo=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),r=n[0],a=n[1],i=nn(),s=i.currentOffer,u=void 0===s?null:s,d=i.catalogOptions,j=void 0===d?null:d,b=i.setPurchaseOptions,O=void 0===b?null:b,h=j.groups,f=void 0===h?null:h,g=Object(c.useMemo)((function(){if(!f||!f.length)return null;var e=f[r];if(!e)return null;var t=new l.Kh;return t.setValue([\"0\",e.groupId.toString(),e.badgeCode,e.colorA,e.colorB]),t}),[r,f]);if(Object(c.useEffect)((function(){u&&O((function(e){var t=Object(bt.a)({},e);return t.extraParamRequired=!0,t.extraData=g&&g.getValue(1)||null,t.previewStuffData=g,t}))}),[u,g,O]),Object(c.useEffect)((function(){ea(new l.T)}),[]),!f||!f.length)return Object($a.jsxs)(tc,{className:\"bg-muted rounded p-1 text-black text-center\",children:[st(\"catalog.guild_selector.members_only\"),Object($a.jsx)(dc,{className:\"mt-1\",children:st(\"catalog.guild_selector.find_groups\")})]});var m=f[r];return Object($a.jsxs)(lc,{gap:1,children:[!!m&&Object($a.jsxs)(lc,{overflow:\"hidden\",className:\"rounded border\",children:[Object($a.jsx)(tc,{fullHeight:!0,style:{width:\"20px\",backgroundColor:\"#\"+m.colorA}}),Object($a.jsx)(tc,{fullHeight:!0,style:{width:\"20px\",backgroundColor:\"#\"+m.colorB}})]}),Object($a.jsx)(\"select\",{className:\"form-select form-select-sm\",value:r,onChange:function(e){return a(parseInt(e.target.value))},children:f.map((function(e,t){return Object($a.jsx)(\"option\",{value:t,children:e.groupName},t)}))})]})},Do=function(e){var t=e.page,n=void 0===t?null:t,r=nn().currentOffer,a=void 0===r?null:r;return Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:7,overflow:\"hidden\",children:Object($a.jsx)(po,{})}),Object($a.jsxs)(Jc,{center:!a,size:5,overflow:\"hidden\",children:[!a&&Object($a.jsxs)($a.Fragment,{children:[!!n.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",src:n.localization.getImage(1)}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:!0,dangerouslySetInnerHTML:{__html:n.localization.getText(0)}})]}),a&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(tc,{position:\"relative\",overflow:\"hidden\",children:[Object($a.jsx)(To,{}),Object($a.jsx)(Ao,{position:\"absolute\",className:\"bottom-1 end-1\"})]}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",truncate:!0,children:a.localizationName}),Object($a.jsx)(tc,{grow:!0,children:Object($a.jsx)(wo,{})}),Object($a.jsx)(lc,{justifyContent:\"end\",children:Object($a.jsx)(Co,{alignItems:\"end\"})}),Object($a.jsx)(Eo,{})]})]})]})]})},Uo=function(e){var t=e.page,n=void 0===t?null:t,r=Object(c.useState)(0),a=Object(o.a)(r,2),i=(a[0],a[1],nn()),s=i.currentOffer,u=void 0===s?null:s,d=(i.setCurrentOffer,i.catalogOptions);(void 0===d?null:d).groups;return Object(c.useEffect)((function(){ea(new l.T)}),[n]),Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(fo,{}),Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{className:\"bg-muted rounded p-2 text-black\",size:7,overflow:\"hidden\",children:Object($a.jsx)(tc,{className:\"overflow-auto\",dangerouslySetInnerHTML:{__html:n.localization.getText(1)}})}),Object($a.jsx)(Jc,{size:5,overflow:\"hidden\",gap:1,children:!!u&&Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{truncate:!0,children:u.localizationName}),Object($a.jsx)(tc,{grow:!0,children:Object($a.jsx)(wo,{})}),Object($a.jsx)(lc,{justifyContent:\"end\",children:Object($a.jsx)(Co,{alignItems:\"end\"})}),Object($a.jsx)(Eo,{noGiftOption:!0})]})})})]})]})},Po=function(e){var t=e.page,n=void 0===t?null:t;return Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:7,overflow:\"hidden\",className:\"bg-muted rounded p-2 text-black\",children:[Object($a.jsx)(tc,{dangerouslySetInnerHTML:{__html:n.localization.getText(2)}}),Object($a.jsx)(tc,{overflow:\"auto\",dangerouslySetInnerHTML:{__html:n.localization.getText(0)}}),Object($a.jsx)(tc,{dangerouslySetInnerHTML:{__html:n.localization.getText(1)}})]}),Object($a.jsxs)(Jc,{center:!0,size:5,overflow:\"hidden\",children:[Object($a.jsx)(oi,{imageUrl:n.localization.getImage(1)}),Object($a.jsx)(dc,{onClick:function(){return U(\"groups/create\")},children:st(\"catalog.start.guild.purchase.button\")})]})]})},Lo=function(e){var t=e.page,n=void 0===t?null:t;return Object($a.jsx)(\"div\",{className:\"h-100 nitro-catalog-layout-info-loyalty text-black d-flex flex-row\",children:Object($a.jsx)(\"div\",{className:\"overflow-auto h-100 d-flex flex-column info-loyalty-content\",children:Object($a.jsx)(\"div\",{dangerouslySetInnerHTML:{__html:n.localization.getText(0)}})})})},Mo=function(e){var t=e.page,n=void 0===t?null:t,r=n.localization.getImage(1);return Object($a.jsxs)(Jc,{grow:!0,className:\"bg-muted rounded text-black p-2\",overflow:\"hidden\",children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[r&&Object($a.jsx)(\"img\",{alt:\"\",src:r}),Object($a.jsx)(tc,{className:\"fs-5\",dangerouslySetInnerHTML:{__html:n.localization.getText(1)}})]}),Object($a.jsx)(Jc,{grow:!0,alignItems:\"center\",overflow:\"auto\",children:Object($a.jsx)(tc,{dangerouslySetInnerHTML:{__html:n.localization.getText(2)}})}),Object($a.jsx)(lc,{alignItems:\"center\",children:Object($a.jsx)(tc,{className:\"fw-bold\",dangerouslySetInnerHTML:{__html:n.localization.getText(3)}})})]})},Fo=function(e){return Object($a.jsx)(Mo,Object(bt.a)({},e))},Ho=[\"columnCount\",\"children\"],Bo=function(e){e.columnCount;var t=e.children,n=void 0===t?null:t,r=Object(Za.a)(e,Ho),a=nn().currentOffer,c=void 0===a?null:a;return c?Object($a.jsxs)(sc,Object(bt.a)(Object(bt.a)({columnCount:5},r),{},{children:[c.products&&c.products.length>0&&c.products.map((function(e,t){return Object($a.jsx)(ii,{itemImage:e.getIconUrl(),itemCount:e.productCount},t)})),n]})):null},Go=[\"gap\"],Wo=function(e){var t=e.gap,n=void 0===t?1:t,r=Object(Za.a)(e,Go),a=nn().currentOffer,c=void 0===a?null:a;return Object($a.jsx)(lc,Object(bt.a)(Object(bt.a)({gap:n,alignItems:\"center\",classNames:[\"bg-muted\",\"p-1\",\"rounded\"]},r),{},{children:Object($a.jsx)(Io,{separator:!0,offer:c})}))},Vo=function(e){var t=e.page,n=void 0===t?null:t;return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(fo,{}),Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:7,overflow:\"hidden\",children:[!!n.localization.getText(2)&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",dangerouslySetInnerHTML:{__html:n.localization.getText(2)}}),Object($a.jsx)(Jc,{grow:!0,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:Object($a.jsx)(Bo,{fullWidth:!0,className:\"nitro-catalog-layout-bundle-grid\"})})]}),Object($a.jsxs)(Jc,{size:5,overflow:\"hidden\",gap:1,children:[!!n.localization.getText(1)&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:!0,small:!0,overflow:\"auto\",children:n.localization.getText(1)}),Object($a.jsxs)(Jc,{grow:!0,position:\"relative\",overflow:\"hidden\",gap:0,children:[!!n.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",className:\"flex-grow-1\",src:n.localization.getImage(1)}),Object($a.jsx)(No,{position:\"absolute\",className:\"bg-muted rounded bottom-0 start-0\"}),Object($a.jsx)(Wo,{position:\"absolute\",className:\"bottom-0 end-0\"})]}),Object($a.jsx)(Jc,{gap:1,children:Object($a.jsx)(Eo,{})})]})]})]})},qo=function(e){var t=e.page,n=void 0===t?null:t;return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(fo,{}),Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:7,overflow:\"hidden\",children:[!!n.localization.getText(2)&&Object($a.jsx)(Hi,{dangerouslySetInnerHTML:{__html:n.localization.getText(2)}}),Object($a.jsx)(Jc,{grow:!0,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:Object($a.jsx)(Bo,{fullWidth:!0,className:\"nitro-catalog-layout-bundle-grid\"})})]}),Object($a.jsxs)(Jc,{size:5,overflow:\"hidden\",gap:1,children:[!!n.localization.getText(1)&&Object($a.jsx)(Hi,{center:!0,small:!0,overflow:\"auto\",children:n.localization.getText(1)}),Object($a.jsxs)(Jc,{grow:!0,position:\"relative\",overflow:\"hidden\",gap:0,children:[!!n.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",className:\"flex-grow-1\",src:n.localization.getImage(1)}),Object($a.jsx)(No,{position:\"absolute\",className:\"bg-muted rounded bottom-0 start-0\"}),Object($a.jsx)(Wo,{position:\"absolute\",className:\"bottom-0 end-0\"})]}),Object($a.jsx)(Jc,{gap:1,children:Object($a.jsx)(Eo,{})})]})]})]})},Yo=[\"columnCount\",\"children\"],zo=[\"floors\",\"walls\",\"views\"],Ko=function(e){var t=e.columnCount,n=void 0===t?5:t,r=e.children,a=void 0===r?null:r,i=Object(Za.a)(e,Yo),l=Object(c.useState)(null),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(-1),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(null),m=Object(o.a)(g,2),v=m[0],p=m[1],x=nn(),_=x.currentPage,E=void 0===_?null:_,I=x.currentOffer,y=void 0===I?null:I,C=x.setCurrentOffer,T=void 0===C?null:C,S=x.setPurchaseOptions,N=void 0===S?null:S;if(Object(c.useEffect)((function(){if(E){var e,t=[[],[],[]],n=Object(s.a)(E.offers);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.pricingModel===ia.PRICING_MODEL_SINGLE||r.pricingModel===ia.PRICING_MODEL_MULTI){var a=r.product;if(a&&(a.productType===aa.WALL||a.productType===aa.FLOOR)&&a.furnitureData)switch(a.furnitureData.className){case\"floor\":t[0].push(r);break;case\"wallpaper\":t[1].push(r);break;case\"landscape\":t[2].push(r)}}}}catch(c){n.e(c)}finally{n.f()}j(t),f(0),p([t[0][0],t[1][0],t[2][0]])}}),[E]),Object(c.useEffect)((function(){-1!==h&&v&&T(v[h])}),[h,v,T]),Object(c.useEffect)((function(){-1!==h&&v&&y&&N((function(e){var t=Object(bt.a)({},e);return t.extraData=v[h].product.extraParam,t.extraParamRequired=!0,t}))}),[y,h,v,N]),!d||-1===h)return null;var R=d[h];return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(bc,{children:zo.map((function(e,t){return Object($a.jsx)(dc,{active:h===t,onClick:function(e){return f(t)},children:st(\"catalog.spaces.tab.\".concat(e))},t)}))}),Object($a.jsxs)(sc,Object(bt.a)(Object(bt.a)({columnCount:n},i),{},{children:[R&&R.length>0&&R.map((function(e,t){return Object($a.jsx)(mo,{itemActive:y&&y===e,offer:e,selectOffer:function(e){return function(e){e&&p((function(t){var n=Object(ut.a)(t);return n[h]=e,n}))}(e)}},t)})),a]}))]})},Qo=function(e){var t=e.page,n=void 0===t?null:t,r=nn(),a=r.currentOffer,i=void 0===a?null:a,s=r.roomPreviewer,o=void 0===s?null:s;return Object(c.useEffect)((function(){o.updatePreviewObjectBoundingRectangle(new l.Se)}),[o]),Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:7,overflow:\"hidden\",children:Object($a.jsx)(Ko,{})}),Object($a.jsxs)(Jc,{center:!i,size:5,overflow:\"hidden\",children:[!i&&Object($a.jsxs)($a.Fragment,{children:[!!n.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",src:n.localization.getImage(1)}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:!0,dangerouslySetInnerHTML:{__html:n.localization.getText(0)}})]}),i&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(tc,{position:\"relative\",overflow:\"hidden\",children:Object($a.jsx)(To,{})}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:!0,truncate:!0,children:i.localizationName}),Object($a.jsx)(lc,{justifyContent:\"end\",children:Object($a.jsx)(Co,{alignItems:\"end\"})}),Object($a.jsx)(Eo,{})]})]})]})]})},Xo=function(e){var t=e.page,n=void 0===t?null:t,r=Object(c.useState)(\"\"),a=Object(o.a)(r,2),i=a[0],s=a[1],l=nn(),u=l.currentOffer,d=void 0===u?null:u,j=l.setPurchaseOptions,b=void 0===j?null:j;return Object(c.useEffect)((function(){d&&b((function(e){var t=Object(bt.a)({},e);return t.extraData=i,t}))}),[d,i,b]),Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:7,overflow:\"hidden\",children:[Object($a.jsx)(po,{}),Object($a.jsx)(\"textarea\",{className:\"flex-grow-1 form-control w-100\",defaultValue:i||\"\",onChange:function(e){return s(e.target.value)}})]}),Object($a.jsxs)(Jc,{center:!d,size:5,overflow:\"hidden\",children:[!d&&Object($a.jsxs)($a.Fragment,{children:[!!n.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",src:n.localization.getImage(1)}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:!0,dangerouslySetInnerHTML:{__html:n.localization.getText(0)}})]}),d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(To,{}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:!0,truncate:!0,children:d.localizationName}),Object($a.jsx)(lc,{justifyContent:\"end\",children:Object($a.jsx)(Co,{alignItems:\"end\"})}),Object($a.jsx)(Eo,{})]})]})]})]})},Jo=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(T.NONE),s=Object(o.a)(i,2),u=s[0],d=s[1],j=nn(),b=j.currentPage,O=void 0===b?null:b,h=j.catalogOptions,f=void 0===h?null:h,g=Tn(),m=g.purse,v=void 0===m?null:m,p=g.getCurrencyAmount,x=void 0===p?null:p,_=f.clubOffers,E=void 0===_?null:_,I=Object(c.useCallback)((function(e){switch(e.type){case mt.PURCHASE_SUCCESS:return void d(T.NONE);case vt.PURCHASE_FAILED:return void d(T.FAILED)}}),[]);Qt(mt.PURCHASE_SUCCESS,I),Qt(vt.PURCHASE_FAILED,I);var y=Object(c.useCallback)((function(e){var t=\"\";return e.months>0&&(t=st(\"catalog.vip.item.header.months\",[\"num_months\"],[e.months.toString()])),e.extraDays>0&&(\"\"!==t&&(t+=\" \"),t+=\" \"+st(\"catalog.vip.item.header.days\",[\"num_days\"],[e.extraDays.toString()])),t}),[]),C=Object(c.useCallback)((function(){if(!v)return\"\";var e=v.clubDays>0||v.clubPeriods>0?\"extension.\":\"subscription.\",t=0===r.months?\"days\":\"months\",n=0===r.months?r.extraDays:r.months;return st(\"catalog.vip.buy.confirm.\"+e+t).replace(\"%NUM_\"+t.toUpperCase()+\"%\",n.toString())}),[r,v]),S=Object(c.useCallback)((function(){var e=st(\"catalog.vip.buy.confirm.end_date\");return e=(e=(e=e.replace(\"%month%\",r.month.toString())).replace(\"%day%\",r.day.toString())).replace(\"%year%\",r.year.toString())}),[r]),N=Object(c.useMemo)((function(){var e=v.clubDays;return st(\"catalog.vip.extend.info\",[\"days\"],[(31*v.clubPeriods+e).toString()])}),[v]),R=Object(c.useCallback)((function(){r&&(d(T.PURCHASE),ea(new l.xf(O.pageId,r.offerId,null,1)))}),[r,O]),k=Object(c.useCallback)((function(e){d(T.NONE),a(e)}),[]),A=Object(c.useCallback)((function(){if(!r)return null;if(r.priceCredits>x(-1))return Object($a.jsx)(dc,{fullWidth:!0,variant:\"danger\",children:st(\"catalog.alert.notenough.title\")});if(r.priceActivityPoints>x(r.priceActivityPointsType))return Object($a.jsx)(dc,{fullWidth:!0,variant:\"danger\",children:st(\"catalog.alert.notenough.activitypoints.title.\"+r.priceActivityPointsType)});switch(u){case T.CONFIRM:return Object($a.jsx)(dc,{fullWidth:!0,variant:\"warning\",onClick:R,children:st(\"catalog.marketplace.confirm_title\")});case T.PURCHASE:return Object($a.jsx)(dc,{fullWidth:!0,variant:\"primary\",disabled:!0,children:Object($a.jsx)(li,{})});case T.FAILED:return Object($a.jsx)(dc,{fullWidth:!0,variant:\"danger\",disabled:!0,children:st(\"generic.failed\")});case T.NONE:default:return Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(){return d(T.CONFIRM)},children:st(\"buy\")})}}),[r,u,R,x]);return Object(c.useEffect)((function(){E||ea(new l.gc(1))}),[E]),Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{fullHeight:!0,size:7,overflow:\"hidden\",justifyContent:\"between\",children:[Object($a.jsx)(sc,{columnCount:1,className:\"nitro-catalog-layout-vip-buy-grid\",children:E&&E.length>0&&E.map((function(e,t){return Object($a.jsxs)(ii,{column:!1,center:!1,alignItems:\"center\",justifyContent:\"between\",itemActive:r===e,className:\"p-1\",onClick:function(){return k(e)},children:[Object($a.jsx)(\"i\",{className:\"icon-hc-banner\"}),Object($a.jsxs)(Jc,{justifyContent:\"end\",gap:0,children:[Object($a.jsx)(Hi,{textEnd:!0,children:y(e)}),Object($a.jsxs)(lc,{justifyContent:\"end\",gap:1,children:[e.priceCredits>0&&Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object($a.jsx)(Hi,{children:e.priceCredits}),Object($a.jsx)(Vc,{type:-1})]}),e.priceActivityPoints>0&&Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object($a.jsx)(Hi,{children:e.priceActivityPoints}),Object($a.jsx)(Vc,{type:e.priceActivityPointsType})]})]})]})]},t)}))}),Object($a.jsx)(Hi,{center:!0,dangerouslySetInnerHTML:{__html:st(\"catalog.vip.buy.hccenter\")}})]}),Object($a.jsxs)(Jc,{size:5,overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{fullHeight:!0,center:!0,overflow:\"hidden\",children:[O.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",src:O.localization.getImage(1)}),Object($a.jsx)(Hi,{center:!0,overflow:\"auto\",dangerouslySetInnerHTML:{__html:N}})]}),r&&Object($a.jsxs)(Jc,{fullWidth:!0,grow:!0,justifyContent:\"end\",children:[Object($a.jsxs)(lc,{alignItems:\"end\",children:[Object($a.jsxs)(Jc,{grow:!0,gap:0,children:[Object($a.jsx)(Hi,{fontWeight:\"bold\",children:C()}),Object($a.jsx)(Hi,{children:S()})]}),Object($a.jsxs)(Jc,{gap:1,children:[r.priceCredits>0&&Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object($a.jsx)(Hi,{children:r.priceCredits}),Object($a.jsx)(Vc,{type:-1})]}),r.priceActivityPoints>0&&Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object($a.jsx)(Hi,{children:r.priceActivityPoints}),Object($a.jsx)(Vc,{type:r.priceActivityPointsType})]})]})]}),A()]})]})]})},Zo=function(e){var t=e.text,n=void 0===t?null:t,r=Object(c.useState)(\"\"),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useCallback)((function(e){var t=e.getParser(),n=st(\"catalog.alert.voucherredeem.ok.description\");t.productName&&(n=st(\"catalog.alert.voucherredeem.ok.description.furni\",[\"productName\",\"productDescription\"],[t.productName,t.productDescription])),Ha.simpleAlert(n,null,null,null,st(\"catalog.alert.voucherredeem.ok.title\")),b(!1),s(\"\")}),[]);dt(l.Qi,O);var h=Object(c.useCallback)((function(e){var t=e.getParser();Ha.simpleAlert(st(\"catalog.alert.voucherredeem.error.description.\".concat(t.errorCode)),null,null,null,st(\"catalog.alert.voucherredeem.error.title\")),b(!1)}),[]);return dt(l.Pi,h),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:n,value:i,onChange:function(e){return s(e.target.value)}}),Object($a.jsx)(dc,{variant:\"primary\",onClick:function(){i&&i.length&&!j&&(ea(new l.Ef(i)),b(!0))},disabled:j,children:Object($a.jsx)(mc.a,{icon:\"tag\"})})]})},$o=[\"item\",\"position\",\"pointer\",\"overflow\",\"fullHeight\",\"classNames\",\"children\"],el=function(e){var t=e.item,n=void 0===t?null:t,r=e.position,a=void 0===r?\"relative\":r,i=e.pointer,s=void 0===i||i,o=e.overflow,l=void 0===o?\"hidden\":o,u=e.fullHeight,d=void 0===u||u,j=e.classNames,b=void 0===j?[]:j,O=e.children,h=void 0===O?null:O,f=Object(Za.a)(e,$o),g=Object(c.useMemo)((function(){var e=[\"rounded\",\"nitro-front-page-item\"];return b.length&&e.push.apply(e,Object(ut.a)(b)),e}),[b]);if(!n)return null;var m=L(\"image.library.url\")+n.itemPromoImage;return Object($a.jsxs)(Hc,Object(bt.a)(Object(bt.a)({imageUrl:m,classNames:g,position:a,fullHeight:d,pointer:s,overflow:l},f),{},{children:[Object($a.jsx)(Hi,{position:\"absolute\",variant:\"white\",className:\"bg-dark rounded p-2 m-2 bottom-0\",children:n.itemName}),h]}))},tl=function(e){var t=e.page,n=void 0===t?null:t,r=e.hideNavigation,a=void 0===r?null:r,i=nn().frontPageItems,s=void 0===i?[]:i,o=Object(c.useCallback)((function(e){switch(e.type){case l.Jb.ITEM_CATALOGUE_PAGE:return void U(\"catalog/open/\".concat(e.catalogPageLocation));case l.Jb.ITEM_PRODUCT_OFFER:return void U(\"catalog/open/\".concat(e.productOfferId))}}),[]);return Object(c.useEffect)((function(){a()}),[n,a]),Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:4,children:s[0]&&Object($a.jsx)(el,{item:s[0],onClick:function(e){return o(s[0])}})}),Object($a.jsxs)(Jc,{size:8,children:[s[1]&&Object($a.jsx)(el,{item:s[1],onClick:function(e){return o(s[1])}}),s[2]&&Object($a.jsx)(el,{item:s[2],onClick:function(e){return o(s[2])}}),s[3]&&Object($a.jsx)(el,{item:s[3],onClick:function(e){return o(s[3])}}),Object($a.jsx)(Zo,{text:n.localization.getText(1)})]})]})},nl=function(){function e(t,n,r,a,c,i,s,o){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1;Object(u.a)(this,e),this._offerId=void 0,this._furniId=void 0,this._furniType=void 0,this._extraData=void 0,this._stuffData=void 0,this._price=void 0,this._averagePrice=void 0,this._imageCallback=void 0,this._status=void 0,this._timeLeftMinutes=-1,this._offerCount=void 0,this._image=void 0,this._offerId=t,this._furniId=n,this._furniType=r,this._extraData=a,this._stuffData=c,this._price=i,this._status=s,this._averagePrice=o,this._offerCount=l}return Object(d.a)(e,[{key:\"offerId\",get:function(){return this._offerId},set:function(e){this._offerId=e}},{key:\"furniId\",get:function(){return this._furniId}},{key:\"furniType\",get:function(){return this._furniType}},{key:\"extraData\",get:function(){return this._extraData}},{key:\"stuffData\",get:function(){return this._stuffData}},{key:\"price\",get:function(){return this._price},set:function(e){this._price=e}},{key:\"averagePrice\",get:function(){return this._averagePrice}},{key:\"image\",get:function(){return this._image},set:function(e){this._image=e}},{key:\"imageCallback\",get:function(){return this._imageCallback},set:function(e){this._imageCallback=e}},{key:\"status\",get:function(){return this._status}},{key:\"timeLeftMinutes\",get:function(){return this._timeLeftMinutes},set:function(e){this._timeLeftMinutes=e}},{key:\"offerCount\",get:function(){return this._offerCount},set:function(e){this._offerCount=e}},{key:\"isUniqueLimitedItem\",get:function(){return this.stuffData&&this.stuffData.uniqueSeries>0}}]),e}();nl.TYPE_FLOOR=1,nl.TYPE_WALL=2;var rl=Object(d.a)((function e(){Object(u.a)(this,e)}));rl.ONGOING=1,rl.ONGOING_OWN=1,rl.SOLD=2,rl.EXPIRED=3;var al=function(e){var t=e.offerData,n=void 0===t?null:t,r=e.type,a=void 0===r?2:r,i=e.onClick,s=void 0===i?null:i,o=Object(c.useMemo)((function(){return n?st((2===n.furniType?\"wallItem\":\"roomItem\")+\".name.\".concat(n.furniId)):\"\"}),[n]),l=Object(c.useCallback)((function(){if(!n)return\"\";if(n.status===rl.SOLD)return st(\"catalog.marketplace.offer.sold\");if(n.timeLeftMinutes<=0)return st(\"catalog.marketplace.offer.expired\");var e=Math.max(1,n.timeLeftMinutes),t=Math.floor(e/60),r=e-60*t+\" \"+st(\"catalog.marketplace.offer.minutes\");return t>0&&(r=t+\" \"+st(\"catalog.marketplace.offer.hours\")+\" \"+r),st(\"catalog.marketplace.offer.time_left\",[\"time\"],[r])}),[n]);return Object($a.jsxs)(ii,{shrink:!0,center:!1,column:!1,alignItems:\"center\",className:\"p-1\",children:[Object($a.jsx)(Yc,{productType:n.furniType===nl.TYPE_FLOOR?aa.FLOOR:aa.WALL,productClassId:n.furniId,extraData:n.extraData,style:{width:50,height:50}}),Object($a.jsxs)(Jc,{grow:!0,gap:0,children:[Object($a.jsx)(Hi,{fontWeight:\"bold\",children:o}),1===a&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"catalog.marketplace.offer.price_own_item\",[\"price\"],[n.price.toString()])}),Object($a.jsx)(Hi,{children:l()})]}),2===a&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"catalog.marketplace.offer.price_public_item\",[\"price\",\"average\"],[n.price.toString(),n.averagePrice.toString()])}),Object($a.jsx)(Hi,{children:st(\"catalog.marketplace.offer_count\",[\"count\"],[n.offerCount.toString()])})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[1===a&&n.status!==rl.SOLD&&Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return s(n)})),children:st(\"catalog.marketplace.offer.pick\")}),2===a&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return s(n)})),children:st(\"buy\")}),Object($a.jsx)(dc,{variant:\"secondary\",disabled:!0,children:st(\"catalog.marketplace.view_more\")})]})]})]})},cl=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=t.offers.map((function(e){var t=new nl(e.offerId,e.furniId,e.furniType,e.extraData,e.stuffData,e.price,e.status,e.averagePrice,e.offerCount);return t.timeLeftMinutes=e.timeLeftMinutes,t}));a(t.creditsWaiting),d(n)}}),[]);dt(l.ee,j);var b=Object(c.useCallback)((function(e){var t=e.getParser();t&&(t.success?d((function(e){return e.filter((function(e){return e.offerId!==t.offerId}))})):Ha.simpleAlert(st(\"catalog.marketplace.cancel_failed\"),Ua.DEFAULT,null,null,st(\"catalog.marketplace.operation_failed.topic\")))}),[]);dt(l.be,b);var O=Object(c.useMemo)((function(){return u.filter((function(e){return e.status===rl.SOLD}))}),[u]),h=Object(c.useCallback)((function(){d((function(e){var t=O.map((function(e){return e.offerId}));return e.filter((function(e){return-1===t.indexOf(e.offerId)}))})),ea(new l.Df)}),[O]),f=function(e){ea(new l.R(e.offerId))};return Object(c.useEffect)((function(){ea(new l.mc)}),[]),Object($a.jsxs)(Jc,{overflow:\"hidden\",children:[r<=0&&Object($a.jsx)(Hi,{center:!0,className:\"bg-muted rounded p-1\",children:st(\"catalog.marketplace.redeem.no_sold_items\")}),r>0&&Object($a.jsxs)(Jc,{center:!0,gap:1,className:\"bg-muted rounded p-2\",children:[Object($a.jsx)(Hi,{children:st(\"catalog.marketplace.redeem.get_credits\",[\"count\",\"credits\"],[O.length.toString(),r.toString()])}),Object($a.jsx)(dc,{className:\"mt-1\",onClick:h,children:st(\"catalog.marketplace.offer.redeem\")})]}),Object($a.jsxs)(Jc,{gap:1,overflow:\"hidden\",children:[Object($a.jsx)(Hi,{truncate:!0,shrink:!0,fontWeight:\"bold\",children:st(\"catalog.marketplace.items_found\",[\"count\"],[u.length.toString()])}),Object($a.jsx)(Jc,{overflow:\"auto\",className:\"nitro-catalog-layout-marketplace-grid\",children:u.length>0&&u.map((function(e){return Object($a.jsx)(al,{offerData:e,type:1,onClick:f},e.offerId)}))})]})]})},il=Object(d.a)((function e(){Object(u.a)(this,e)}));il.BY_ACTIVITY=1,il.BY_VALUE=2,il.ADVANCED=3;var sl=function(e){var t=e.searchType,n=void 0===t?null:t,r=e.sortTypes,a=void 0===r?null:r,i=e.onSearch,s=void 0===i?null:i,l=Object(c.useState)(a?a[0]:3),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(\"\"),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(0),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useState)(0),_=Object(o.a)(x,2),E=_[0],I=_[1],y=Object(c.useCallback)((function(e){j(e),n!==il.BY_ACTIVITY&&n!==il.BY_VALUE||s({minPrice:-1,maxPrice:-1,query:\"\",type:e})}),[s,n]),C=Object(c.useCallback)((function(){s({minPrice:v>0?v:-1,maxPrice:E>0?E:-1,type:d,query:h})}),[E,v,s,h,d]);return Object(c.useEffect)((function(){if(a&&a.length){var e=a[0];j(e),n!==il.BY_ACTIVITY&&il.BY_VALUE!==n||s({minPrice:-1,maxPrice:-1,query:\"\",type:e})}}),[s,n,a]),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{className:\"col-3\",children:st(\"catalog.marketplace.sort_order\")}),Object($a.jsx)(\"select\",{className:\"form-select form-select-sm\",value:d,onChange:function(e){return y(parseInt(e.target.value))},children:a.map((function(e){return Object($a.jsx)(\"option\",{value:e,children:st(\"catalog.marketplace.sort.\".concat(e))},e)}))})]}),n===il.ADVANCED&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{className:\"col-3\",children:st(\"catalog.marketplace.search_name\")}),Object($a.jsx)(\"input\",{className:\"form-control form-control-sm\",type:\"text\",value:h,onChange:function(e){return f(e.target.value)}})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{className:\"col-3\",children:st(\"catalog.marketplace.search_price\")}),Object($a.jsxs)(lc,{fullWidth:!0,gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:v,onChange:function(e){return p(e.target.valueAsNumber)}}),Object($a.jsx)(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:E,onChange:function(e){return I(e.target.valueAsNumber)}})]})]}),Object($a.jsx)(dc,{variant:\"secondary\",className:\"mx-auto\",onClick:C,children:st(\"generic.search\")})]})]})},ol=[1,2],ll=[3,4,5,6],ul=[1,2,3,4,5,6],dl=function(e){var t=Object(c.useState)(il.BY_ACTIVITY),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),u=(s[0],s[1]),d=Object(c.useState)(new Map),j=Object(o.a)(d,2),b=j[0],O=j[1],h=Object(c.useState)({minPrice:-1,maxPrice:-1,query:\"\",type:3}),f=Object(o.a)(h,2),g=f[0],m=f[1],v=Tn().getCurrencyAmount,p=void 0===v?null:v,x=Object(c.useCallback)((function(e){m(e),ea(new l.lc(e.minPrice,e.maxPrice,e.query,e.type))}),[]),_=Object(c.useMemo)((function(){switch(r){case il.BY_ACTIVITY:return ll;case il.BY_VALUE:return ol;case il.ADVANCED:return ul}return[]}),[r]),E=Object(c.useCallback)((function(e){if(e.price>p(-1))Ha.simpleAlert(st(\"catalog.alert.notenough.credits.description\"),Ua.DEFAULT,null,null,st(\"catalog.alert.notenough.title\"));else{var t=e.offerId;Ha.confirm(st(\"catalog.marketplace.confirm_header\"),(function(){ea(new l.I(t))}),null,null,null,st(\"catalog.marketplace.confirm_title\"))}}),[p]),I=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=new Map;t.offers.forEach((function(e){var t=new nl(e.offerId,e.furniId,e.furniType,e.extraData,e.stuffData,e.price,e.status,e.averagePrice,e.offerCount);t.timeLeftMinutes=e.timeLeftMinutes,n.set(e.offerId,t)})),u(t.totalItemsFound),O(n)}}),[]),y=Object(c.useCallback)((function(e){var t=e.getParser();if(t)switch(t.result){case 1:x(g);break;case 2:O((function(e){var n=new Map(e);return n.delete(t.requestedOfferId),n})),Ha.simpleAlert(st(\"catalog.marketplace.not_available_header\"),Ua.DEFAULT,null,null,st(\"catalog.marketplace.not_available_title\"));break;case 3:O((function(e){var n=new Map(e),r=n.get(t.requestedOfferId);return r&&(r.offerId=t.offerId,r.price=t.newPrice,r.offerCount--,n.set(r.offerId,r)),n.delete(t.requestedOfferId),n})),Ha.confirm(st(\"catalog.marketplace.confirm_higher_header\")+\"\\n\"+st(\"catalog.marketplace.confirm_price\",[\"price\"],[t.newPrice.toString()]),(function(){ea(new l.I(t.offerId))}),null,null,null,st(\"catalog.marketplace.confirm_higher_title\"));break;case 4:Ha.simpleAlert(st(\"catalog.alert.notenough.credits.description\"),Ua.DEFAULT,null,null,st(\"catalog.alert.notenough.title\"))}}),[g,x]);return dt(l.Zd,I),dt(l.ae,y),Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(bc,{children:[Object($a.jsx)(dc,{active:r===il.BY_ACTIVITY,onClick:function(){return a(il.BY_ACTIVITY)},children:st(\"catalog.marketplace.search_by_activity\")}),Object($a.jsx)(dc,{active:r===il.BY_VALUE,onClick:function(){return a(il.BY_VALUE)},children:st(\"catalog.marketplace.search_by_value\")}),Object($a.jsx)(dc,{active:r===il.ADVANCED,onClick:function(){return a(il.ADVANCED)},children:st(\"catalog.marketplace.search_advanced\")})]}),Object($a.jsx)(sl,{sortTypes:_,searchType:r,onSearch:x}),Object($a.jsxs)(Jc,{gap:1,overflow:\"hidden\",children:[Object($a.jsx)(Hi,{truncate:!0,shrink:!0,fontWeight:\"bold\",children:st(\"catalog.marketplace.items_found\",[\"count\"],[b.size.toString()])}),Object($a.jsx)(Jc,{className:\"nitro-catalog-layout-marketplace-grid\",overflow:\"auto\",children:Array.from(b.values()).map((function(e,t){return Object($a.jsx)(al,{offerData:e,type:2,onClick:E},t)}))})]})]})},jl=function(e){var t=e.page,n=void 0===t?null:t,r=Object(c.useState)(-1),a=Object(o.a)(r,2),i=a[0],u=a[1],d=Object(c.useState)([]),j=Object(o.a)(d,2),b=j[0],O=j[1],h=Object(c.useState)(-1),f=Object(o.a)(h,2),g=f[0],m=f[1],v=Object(c.useState)([]),p=Object(o.a)(v,2),x=p[0],_=p[1],E=Object(c.useState)(-1),I=Object(o.a)(E,2),y=I[0],C=I[1],T=Object(c.useState)(!1),S=Object(o.a)(T,2),N=S[0],R=S[1],k=Object(c.useState)(\"\"),A=Object(o.a)(k,2),w=A[0],D=A[1],U=Object(c.useState)(!0),P=Object(o.a)(U,2),L=(P[0],P[1],Object(c.useState)(-1)),M=Object(o.a)(L,2),F=M[0],H=M[1],B=nn(),W=B.currentOffer,V=void 0===W?null:W,q=B.setCurrentOffer,Y=void 0===q?null:q,z=(B.setPurchaseOptions,B.catalogOptions),K=void 0===z?null:z,Q=B.roomPreviewer,X=void 0===Q?null:Q,J=K.petPalettes,Z=void 0===J?null:J,$=Object(c.useMemo)((function(){return x.length&&-1!==y?x[y][0]:16777215}),[x,y]),ee=Object(c.useMemo)((function(){return-1!==i&&b.length&&-1!==g?st(\"pet.breed.\".concat(i,\".\").concat(b[g].breedId)):\"\"}),[i,b,g]),te=Object(c.useMemo)((function(){if(!b.length||-1===g)return\"\";var e=b[g].paletteId,t=16777215;if(i<=7){if(-1===y)return\"\";t=x[y][0]}for(var n=t.toString(16).toUpperCase();n.length<6;)n=\"0\"+n;return\"\".concat(e,\"\\n\").concat(n)}),[b,g,i,x,y]),ne=Object(c.useMemo)((function(){var e=\"\";switch(F){case 1:e=\"catalog.alert.petname.long\";break;case 2:e=\"catalog.alert.petname.short\";break;case 3:e=\"catalog.alert.petname.chars\";break;case 4:e=\"catalog.alert.petname.bobba\"}return e&&e.length?st(e):\"\"}),[F]),re=Object(c.useCallback)((function(){-1!==F?0!==F||ea(new l.xf(n.pageId,V.offerId,\"\".concat(w,\"\\n\").concat(te),1)):ea(new l.i(w,1))}),[n,V,w,te,F]),ae=Object(c.useCallback)((function(e){var t=e.getParser();H(t.result),0===t.result?re():Kt(new vt(-1))}),[re]);return dt(l.j,ae),Object(c.useEffect)((function(){if(n&&n.offers.length){var e=n.offers[0];Y(e),u(function(e){if(!e.length)return 0;for(var t=e.length-1;t>=0&&!isNaN(parseInt(e.charAt(t)));)t--;return t>0?parseInt(e.substring(t+1)):-1}(e.localizationId)),R(!1)}}),[n,Y]),Object(c.useEffect)((function(){if(V){var e=V.product.productData;if(e){if(Z){var t,n=Object(s.a)(Z);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.breed===e.type){var a,c=[],i=Object(s.a)(r.palettes);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.sellable&&c.push(o)}}catch(u){i.e(u)}finally{i.f()}return m(c.length?0:-1),void O(c)}}}catch(u){n.e(u)}finally{n.f()}}m(-1),O([]),ea(new l.vc(e.type))}}}),[V,Z]),Object(c.useEffect)((function(){if(-1!==i){var e=function(e,t){switch(e){case 0:case 1:return[[16743226],[16750435],[16764339],[16094464],[16498012],[16704690],[15586304],[16115545],[16513201],[8694111],[11585939],[14413767],[6664599],[9553845],[12971486],[8358322],[10002885],[13292268],[10780600],[12623573],[14403561],[12418717],[14327229],[15517403],[14515069],[15764368],[16366271],[11250603],[13948116],[16777215],[14256481],[14656129],[15848130],[14005087],[14337152],[15918540],[15118118],[15531929],[9764857],[11258085]];case 2:return[[16579283],[15378351],[8830016],[15257125],[9340985],[8949607],[6198292],[8703620],[9889626],[8972045],[12161285],[13162269],[8620113],[12616503],[8628101],[13827840],[9764857]];case 3:case 5:return[[16777215],[15658734],[14540253]];case 4:return[[16777215],[16053490],[15464440],[16248792],[15396319],[15007487]];case 6:return[[16777215],[15658734],[14540253],[16767177],[16770205],[16751331]];case 7:return[[13421772],[11447982],[16751331],[10149119],[16763290],[16743786]];default:var n,r=[],a=Object(s.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value,i=G().getPetColorResult(e,c.paletteId);i&&(i.primaryColor===i.secondaryColor?r.push([i.primaryColor]):r.push([i.primaryColor,i.secondaryColor]))}}catch(o){a.e(o)}finally{a.f()}return r}}(i,b);C(e.length?0:-1),_(e)}}),[i,b]),Object(c.useEffect)((function(){if(X&&(X.reset(!1),-1!==i&&b.length&&-1!==g)){var e=\"\".concat(i,\" \").concat(b[g].paletteId);i<=7&&(e+=\" \".concat($.toString(16))),X.addPetIntoRoom(e)}}),[X,i,b,g,$]),Object(c.useEffect)((function(){H(-1)}),[w]),V?Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:7,overflow:\"hidden\",children:Object($a.jsxs)(sc,{columnCount:5,children:[!N&&b.length>0&&b.map((function(e,t){return Object($a.jsx)(ii,{itemActive:g===t,onClick:function(e){return m(t)},children:Object($a.jsx)(pi,{typeId:i,paletteId:e.paletteId,direction:2,headOnly:!0})},t)})),N&&x.length>0&&x.map((function(e,t){return Object($a.jsx)(ii,{itemHighlight:!0,itemActive:y===t,itemColor:l.ib.int2rgb(e[0]),className:\"clear-bg\",onClick:function(e){return C(t)}},t)}))]})}),Object($a.jsxs)(Jc,{center:!V,size:5,overflow:\"hidden\",children:[!V&&Object($a.jsxs)($a.Fragment,{children:[!!n.localization.getImage(1)&&Object($a.jsx)(\"img\",{alt:\"\",src:n.localization.getImage(1)}),Object($a.jsx)(Hi,{center:!0,dangerouslySetInnerHTML:{__html:n.localization.getText(0)}})]}),V&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(tc,{position:\"relative\",overflow:\"hidden\",children:[Object($a.jsx)(To,{}),Object($a.jsx)(No,{position:\"absolute\",className:\"bg-muted rounded bottom-1 end-1\"}),i>-1&&i<=7&&Object($a.jsx)(dc,{position:\"absolute\",className:\"bottom-1 start-1\",onClick:function(e){return R(!N)},children:Object($a.jsx)(mc.a,{icon:\"fill-drip\"})})]}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{truncate:!0,children:ee}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm w-100\",placeholder:st(\"widgets.petpackage.name.title\"),value:w,onChange:function(e){return D(e.target.value)}}),F>0&&Object($a.jsx)(tc,{className:\"invalid-feedback d-block m-0\",children:ne})]}),Object($a.jsx)(lc,{justifyContent:\"end\",children:Object($a.jsx)(Co,{justifyContent:\"end\",alignItems:\"end\"})}),Object($a.jsx)(Eo,{purchaseCallback:re})]})]})]})]}):null},bl=function(e){var t=e.offer,n=void 0===t?null:t,r=e.isAvailable,a=void 0!==r&&r,i=e.onSelect,s=void 0===i?null:i,o=Object(c.useCallback)((function(){if(!n||!n.products.length)return\"\";var e=n.products[0];return or.getProductImageUrl(e.productType,e.furniClassId,e.extraParam)}),[n]),l=Object(c.useCallback)((function(){if(!n||!n.products.length)return\"\";var e=n.products[0];return st(2===or.getProductCategory(e.productType,e.furniClassId)?\"wallItem.name.\"+e.furniClassId:\"roomItem.name.\"+e.furniClassId)}),[n]);Object(c.useCallback)((function(){if(!n||!n.products.length)return\"\";var e=n.products[0];return st(2===or.getProductCategory(e.productType,e.furniClassId)?\"wallItem.desc.\"+e.furniClassId:\"roomItem.desc.\"+e.furniClassId)}),[n]);return Object($a.jsxs)(ii,{center:!1,column:!1,alignItems:\"center\",className:\"p-1\",children:[Object($a.jsx)(oi,{imageUrl:o()}),Object($a.jsx)(Hi,{grow:!0,fontWeight:\"bold\",children:l()}),Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(){return s(n.localizationId)},disabled:!a,children:st(\"catalog.club_gift.select\")})]})},Ol=function(e){var t=Tn().purse,n=void 0===t?null:t,r=nn(),a=r.catalogOptions,i=void 0===a?null:a,s=r.setCatalogOptions,o=void 0===s?null:s,u=i.clubGifts,d=void 0===u?null:u,j=Object(c.useCallback)((function(){return d?d.giftsAvailable>0?st(\"catalog.club_gift.available\",[\"amount\"],[d.giftsAvailable.toString()]):d.daysUntilNextGift>0?st(\"catalog.club_gift.days_until_next\",[\"days\"],[d.daysUntilNextGift.toString()]):n.isVip?st(\"catalog.club_gift.not_available\"):st(\"catalog.club_gift.no_club\"):\"\"}),[d,n]),b=Object(c.useCallback)((function(e){Ha.confirm(st(\"catalog.club_gift.confirm\"),(function(){ea(new l.Ch(e)),o((function(e){return e.clubGifts.giftsAvailable--,Object(bt.a)({},e)}))}),null)}),[o]);return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{truncate:!0,shrink:!0,fontWeight:\"bold\",children:j()}),Object($a.jsx)(sc,{columnCount:1,className:\"nitro-catalog-layout-vip-gifts-grid\",children:d.offers.length>0&&d.offers.map((function(e){return Object($a.jsx)(bl,{offer:e,isAvailable:d.getOfferExtraData(e.offerId).isSelectable&&d.giftsAvailable>0,onSelect:b},e.offerId)}))})]})},hl=function(e,t){if(!e)return null;var n={page:e,hideNavigation:t};switch(e.layoutCode){case\"frontpage_featured\":return null;case\"frontpage4\":return Object($a.jsx)(tl,Object(bt.a)({},n));case\"pets\":return Object($a.jsx)(jl,Object(bt.a)({},n));case\"pets2\":return Object($a.jsx)(Fo,Object(bt.a)({},n));case\"pets3\":return Object($a.jsx)(Mo,Object(bt.a)({},n));case\"vip_buy\":return Object($a.jsx)(Jo,Object(bt.a)({},n));case\"guild_frontpage\":return Object($a.jsx)(Po,Object(bt.a)({},n));case\"guild_forum\":return Object($a.jsx)(Uo,Object(bt.a)({},n));case\"guild_custom_furni\":return Object($a.jsx)(Do,Object(bt.a)({},n));case\"club_gifts\":return Object($a.jsx)(Ol,Object(bt.a)({},n));case\"marketplace_own_items\":return Object($a.jsx)(cl,Object(bt.a)({},n));case\"marketplace\":return Object($a.jsx)(dl,Object(bt.a)({},n));case\"single_bundle\":return Object($a.jsx)(qo,Object(bt.a)({},n));case\"room_bundle\":return Object($a.jsx)(Vo,Object(bt.a)({},n));case\"spaces_new\":return Object($a.jsx)(Qo,Object(bt.a)({},n));case\"trophies\":return Object($a.jsx)(Xo,Object(bt.a)({},n));case\"info_loyalty\":return Object($a.jsx)(Lo,Object(bt.a)({},n));case\"badge_display\":return Object($a.jsx)(So,Object(bt.a)({},n));default:return Object($a.jsx)(ko,Object(bt.a)({},n))}},fl=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),u=s[0],d=s[1],j=nn(),b=j.catalogOptions,O=void 0===b?null:b,h=j.setCatalogOptions,f=void 0===h?null:h,g=O.marketplaceConfiguration,m=void 0===g?null:g,v=Object(c.useCallback)((function(e){var t=e.getParser();f((function(e){var n=Object(bt.a)({},e);return n.marketplaceConfiguration=t,n}))}),[f]);dt(l.ce,v);var p=Object(c.useCallback)((function(e){a(e.item)}),[]);if(Qt(gt.POST_MARKETPLACE,p),Object(c.useEffect)((function(){r&&!m&&ea(new l.kc)}),[r,m]),Object(c.useEffect)((function(){if(r)return function(){return d(0)}}),[r]),!m||!r)return null;var x=r?st(r.isWallItem?\"wallItem.name.\"+r.type:\"roomItem.name.\"+r.type):\"\",_=r?st(r.isWallItem?\"wallItem.desc.\"+r.type:\"roomItem.desc.\"+r.type):\"\";return Object($a.jsxs)(Pc,{className:\"nitro-catalog-layout-marketplace-post-offer\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"inventory.marketplace.make_offer.title\"),onCloseClick:function(e){return a(null)}}),Object($a.jsx)(Ec,{overflow:\"hidden\",children:Object($a.jsxs)(cc,{fullHeight:!0,children:[Object($a.jsx)(Jc,{center:!0,className:\"bg-muted rounded p-2\",size:4,overflow:\"hidden\",children:Object($a.jsx)(Kc,{productType:r.isWallItem?aa.WALL:aa.FLOOR,productClassId:r.type,extraData:r.extra.toString()})}),Object($a.jsxs)(Jc,{size:8,justifyContent:\"between\",overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{fontWeight:\"bold\",children:x}),Object($a.jsx)(Hi,{truncate:!0,shrink:!0,children:_})]}),Object($a.jsxs)(Jc,{overflow:\"auto\",children:[Object($a.jsx)(Hi,{italics:!0,children:st(\"inventory.marketplace.make_offer.expiration_info\",[\"time\"],[m.offerTime.toString()])}),Object($a.jsxs)(\"div\",{className:\"input-group has-validation\",children:[Object($a.jsx)(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:u,onChange:function(e){return d(parseInt(e.target.value))},placeholder:st(\"inventory.marketplace.make_offer.price_request\")}),(u<m.minimumPrice||isNaN(u))&&Object($a.jsx)(tc,{className:\"invalid-feedback d-block\",children:st(\"inventory.marketplace.make_offer.min_price\",[\"minprice\"],[m.minimumPrice.toString()])}),u>m.maximumPrice&&!isNaN(u)&&Object($a.jsx)(tc,{className:\"invalid-feedback d-block\",children:st(\"inventory.marketplace.make_offer.max_price\",[\"maxprice\"],[m.maximumPrice.toString()])}),!(u<m.minimumPrice||u>m.maximumPrice||isNaN(u))&&Object($a.jsx)(tc,{className:\"invalid-feedback d-block\",children:st(\"inventory.marketplace.make_offer.final_price\",[\"commission\",\"finalprice\"],[m.commission.toString(),(u+m.commission).toString()])})]}),Object($a.jsx)(dc,{disabled:u<m.minimumPrice||u>m.maximumPrice||isNaN(u),onClick:function(){!r||u<=m.minimumPrice||Ha.confirm(st(\"inventory.marketplace.confirm_offer.info\",[\"furniname\",\"price\"],[x,u.toString()]),(function(){ea(new l.Yd(u,r.isWallItem?2:1,r.id)),a(null)}),(function(){a(null)}),null,null,st(\"inventory.marketplace.confirm_offer.title\"))},children:st(\"inventory.marketplace.make_offer.post\")})]})]})]})})]})},gl=function(e){var t=nn(),n=t.isVisible,r=void 0!==n&&n,a=t.setIsVisible,i=void 0===a?null:a,s=t.rootNode,o=void 0===s?null:s,l=t.currentPage,u=void 0===l?null:l,d=t.navigationHidden,j=void 0!==d&&d,b=t.setNavigationHidden,O=void 0===b?null:b,h=t.activeNodes,f=void 0===h?[]:h,g=t.searchResult,m=void 0===g?null:g,v=t.setSearchResult,p=void 0===v?null:v,x=t.openPageByName,_=void 0===x?null:x,E=t.openPageByOfferId,I=void 0===E?null:E,y=t.activateNode,C=void 0===y?null:y;return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void i(!0);case\"hide\":return void i(!1);case\"toggle\":return void i((function(e){return!e}));case\"open\":if(t.length>2)if(4===t.length){if(\"offerId\"===t[2])return void I(parseInt(t[3]))}else _(t[2]);else i(!0);return}},eventUrlPrefix:\"catalog/\"};return R(e),function(){return B(e)}}),[i,I,_]),Object($a.jsxs)($a.Fragment,{children:[r&&Object($a.jsxs)(Pc,{uniqueKey:\"catalog\",className:\"nitro-catalog\",children:[Object($a.jsx)(Tc,{headerText:st(\"catalog.title\"),onCloseClick:function(e){return i(!1)}}),Object($a.jsx)(Di,{children:o&&o.children.length>0&&o.children.map((function(e){return e.isVisible?Object($a.jsx)(Ai,{isActive:e.isActive,onClick:function(t){m&&p(null),C(e)},children:e.localization},e.pageId):null}))}),Object($a.jsx)(Ec,{children:Object($a.jsxs)(cc,{children:[!j&&Object($a.jsx)(Jc,{size:3,overflow:\"hidden\",children:f&&f.length>0&&Object($a.jsx)(bo,{node:f[0]})}),Object($a.jsx)(Jc,{size:j?12:9,overflow:\"hidden\",children:hl(u,(function(){return O(!0)}))})]})})]}),Object($a.jsx)(so,{}),Object($a.jsx)(fl,{})]})},ml=n(45),vl=Object(c.createContext)({chatHistoryState:null,roomHistoryState:null}),pl=function(e){return Object($a.jsx)(vl.Provider,{value:e.value,children:e.children})},xl=Object(d.a)((function e(){Object(u.a)(this,e)}));xl.TYPE_CHAT=1,xl.TYPE_ROOM_INFO=2;var _l=function(){var e=new Date;return\"\".concat(e.getHours().toString().padStart(2,\"0\"),\":\").concat(e.getMinutes().toString().padStart(2,\"0\"))},El=function(e){var t=Object(c.useContext)(vl),n=t.chatHistoryState,r=void 0===n?null:n,a=t.roomHistoryState,i=void 0===a?null:a,s=Object(c.useState)(!1),u=Object(o.a)(s,2),d=u[0],j=u[1],b=Object(c.useCallback)((function(e){e.id=r.chats.length,r.chats.push(e),r.chats.length>1e3&&r.chats.shift(),r.notify()}),[r]),O=Object(c.useCallback)((function(e){i.roomHistory.push(e),i.roomHistory.length>10&&i.roomHistory.shift(),i.notify()}),[i]),h=Object(c.useCallback)((function(e){var t=ue();if(t){var n=t.userDataManager.getUserDataByIndex(e.objectId);if(n){var r=_l(),a={id:-1,entityId:n.webID,name:n.name,look:n.figure,entityType:n.type,message:e.message,timestamp:r,type:xl.TYPE_CHAT,roomId:t.roomId};b(a)}}}),[b]);Yt(l.Ng.CHAT_EVENT,h);var f=Object(c.useCallback)((function(e){switch(e.type){case l.Sg.STARTED:j(!0);case l.Sg.ENDED:}}),[]);Yt(l.Sg.ENDED,f),Yt(l.Sg.STARTED,f);var g=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=ue();if(n&&n.roomId===t.data.roomId&&d){var r={id:-1,entityId:t.data.roomId,name:t.data.roomName,timestamp:_l(),type:xl.TYPE_ROOM_INFO,roomId:t.data.roomId};b(r);var a={id:t.data.roomId,name:t.data.roomName};O(a),j(!1)}}}),[b,O,d]);return dt(l.jc,g),null},Il=function(){function e(){Object(u.a)(this,e),this._chats=void 0,this._notifier=void 0,this._chats=[]}return Object(d.a)(e,[{key:\"notify\",value:function(){this._notifier&&this._notifier()}},{key:\"chats\",get:function(){return this._chats}},{key:\"notifier\",get:function(){return this._notifier},set:function(e){this._notifier=e}}]),e}(),yl=null,Cl=function(){return yl},Tl=function(){function e(){Object(u.a)(this,e),this._roomHistory=void 0,this._notifier=void 0,this._roomHistory=[]}return Object(d.a)(e,[{key:\"roomHistory\",get:function(){return this._roomHistory}},{key:\"notifier\",get:function(){return this._notifier},set:function(e){this._notifier=e}},{key:\"notify\",value:function(){this._notifier&&this._notifier()}}]),e}(),Sl=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),l=(s[0],s[1]),u=Object(c.useState)(-1),d=Object(o.a)(u,2),j=(d[0],d[1]),b=Object(c.useState)(new Il),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(new Tl),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useRef)(null),_=Object(c.useMemo)((function(){return new ml.c({defaultHeight:25,fixedWidth:!0})}),[]),E=function(e){var t=h.chats[e.index];e.index;return Object($a.jsx)(ml.b,{cache:_,columnIndex:0,parent:e.parent,rowIndex:e.index,children:Object($a.jsxs)(lc,{style:e.style,className:\"p-1\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"muted\",children:t.timestamp}),t.type===xl.TYPE_CHAT&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},pointer:!0,noWrap:!0,dangerouslySetInnerHTML:{__html:t.name+\":\"}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},textBreak:!0,wrap:!0,grow:!0,children:t.message})]}),t.type===xl.TYPE_ROOM_INFO&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"i\",{className:\"icon icon-small-room\"}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},textBreak:!0,wrap:!0,grow:!0,children:t.name})]})]},e.key)},e.key)},I=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void a(!0);case\"hide\":return void a(!1);case\"toggle\":return void a((function(e){return!e}))}}),[]);return Object(c.useEffect)((function(){var e={linkReceived:I,eventUrlPrefix:\"chat-history/\"};return R(e),function(){return B(e)}}),[I]),Object(c.useEffect)((function(){var e=new Il,t=new Tl;return yl=e,e.notifier=function(){return l((function(e){return e+1}))},t.notifier=function(){return j((function(e){return e+1}))},f(e),p(t),function(){e.notifier=null,t.notifier=null}}),[]),Object(c.useEffect)((function(){x&&x.current&&r&&x.current.scrollToRow(-1)}),[r]),Object($a.jsxs)(pl,{value:{chatHistoryState:h,roomHistoryState:v},children:[Object($a.jsx)(El,{}),r&&Object($a.jsxs)(Pc,{uniqueKey:\"chat-history\",className:\"nitro-chat-history\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"room.chathistory.button.text\"),onCloseClick:function(e){return a(!1)}}),Object($a.jsx)(Ec,{children:Object($a.jsx)(ml.a,{defaultWidth:300,defaultHeight:200,onResize:function(e){return _.clearAll()},children:function(e){var t=e.height,n=e.width;return Object($a.jsx)(ml.d,{ref:x,width:n,height:t,rowCount:h.chats.length,rowHeight:_.rowHeight,className:\"chat-history-list\",rowRenderer:E,deferredMeasurementCache:_})}})})]})]})},Nl=32,Rl=64,kl=\"x0123456789abcdefghijklmnopq\",Al=Object(d.a)((function e(){Object(u.a)(this,e)}));Al.DOOR=0,Al.UP=1,Al.DOWN=2,Al.SET=3,Al.UNSET=4;var wl={x:\"101010\",0:\"0065ff\",1:\"0091ff\",2:\"00bcff\",3:\"00e8ff\",4:\"00ffea\",5:\"00ffbf\",6:\"00ff93\",7:\"00ff68\",8:\"00ff3d\",9:\"19ff00\",a:\"44ff00\",b:\"70ff00\",c:\"9bff00\",d:\"f2ff00\",e:\"ffe000\",f:\"ffb500\",g:\"ff8900\",h:\"ff5e00\",i:\"ff3200\",j:\"ff0700\",k:\"ff0023\",l:\"ff007a\",m:\"ff00a5\",n:\"ff00d1\",o:\"ff00fc\",p:\"d600ff\",q:\"aa00ff\"},Dl=function(){function e(){Object(u.a)(this,e),this._currentAction=void 0,this._currentHeight=void 0,this._currentAction=Al.SET,this._currentHeight=kl[1]}return Object(d.a)(e,[{key:\"currentAction\",get:function(){return this._currentAction},set:function(e){this._currentAction=e}},{key:\"currentHeight\",get:function(){return this._currentHeight},set:function(e){this._currentHeight=e}},{key:\"clear\",value:function(){this._currentAction=Al.SET,this._currentHeight=kl[1]}}]),e}(),Ul=function(){function e(t,n){Object(u.a)(this,e),this._height=void 0,this._isBlocked=void 0,this._height=t,this._isBlocked=n}return Object(d.a)(e,[{key:\"height\",get:function(){return this._height},set:function(e){this._height=e}},{key:\"isBlocked\",get:function(){return this._isBlocked},set:function(e){this._isBlocked=e}}]),e}(),Pl=function(e,t){var n=e*Nl/2-t*Nl/2;return[n+=1024,e*Nl/4+t*Nl/4]},Ll=function(e,t){var n=e-1024;return[(n/16+t/8)/2,(t/8-n/16)/2]},Ml=function(e){switch(e=parseInt(e.toString())){case 0:return-2;case 1:return-1;case 3:return 1;default:return 0}},Fl=function(e){switch(e){case.25:return 0;case.5:return 1;case 2:return 3;default:return 2}},Hl=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(u.a)(this,n);return(e=t.call(this,{width:2068,height:1124,backgroundColor:0,antialias:!0,autoDensity:!0,resolution:1,sharedLoader:!0,sharedTicker:!0}))._tilemap=void 0,e._width=void 0,e._height=void 0,e._isHolding=void 0,e._doorLocation=void 0,e._lastUsedTile=void 0,e._tilemapRenderer=void 0,e._actionSettings=void 0,e._isInitialized=void 0,e._assetCollection=void 0,e._tilemap=[],e._doorLocation=new l.Se(0,0),e._width=0,e._height=0,e._isHolding=!1,e._lastUsedTile=new l.Se(-1,-1),e._actionSettings=new Dl,e}return Object(d.a)(n,[{key:\"initialize\",value:function(){if(!this._isInitialized){var e=ba().asset.getCollection(\"floor_editor\");e&&(this._assetCollection=e,this._tilemapRenderer=new l.Xe(e.baseTexture),this.registerEventListeners(),this.stage.addChild(this._tilemapRenderer),this._isInitialized=!0)}}},{key:\"registerEventListeners\",value:function(){var e=this,t=new l.Se;this._tilemapRenderer.containsPoint=function(n){return e._tilemapRenderer.worldTransform.applyInverse(n,t),e.tileHitDetection(t,!1)},this._tilemapRenderer.on(\"pointerup\",(function(){e._isHolding=!1})),this._tilemapRenderer.on(\"pointerout\",(function(){e._isHolding=!1})),this._tilemapRenderer.on(\"pointerdown\",(function(t){if(t.data.originalEvent instanceof PointerEvent||t.data.originalEvent instanceof TouchEvent){var n=t.data.originalEvent;if(!(n instanceof MouseEvent&&2===n.button)){var r=t.data.global;e.tileHitDetection(r,!0)}}})),this._tilemapRenderer.on(\"click\",(function(t){if(t.data.originalEvent instanceof PointerEvent&&2!==t.data.originalEvent.button){var n=t.data.global;e.tileHitDetection(n,!0,!0)}}))}},{key:\"tileHitDetection\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._tilemapRenderer.pointsBuf,a=l.ef,c=r.length;t&&(this._isHolding=!0);for(var i=0;i<c;i+=a){var s=i+a,u=r.slice(i,s),d=Nl,j=16,b=Math.floor(e.x),O=Math.floor(e.y),h=u[2],f=u[3],g=h+d/2,m=f+j/2,v=Math.abs(b-g),p=Math.abs(O-m),x=v/(.5*d)+p/(.5*j)<=1;if(x){if(this._isHolding){var _=Ll(h,f),E=Object(o.a)(_,2),I=E[0],y=E[1];n?this.onClick(I,y):this._lastUsedTile.x===I&&this._lastUsedTile.y===y||(this._lastUsedTile.x=I,this._lastUsedTile.y=y,this.onClick(I,y))}return!0}}return!1}},{key:\"onClick\",value:function(e,t){var n=this._tilemap[t][e],r=kl.indexOf(n.height),a=0;switch(this._actionSettings.currentAction){case Al.DOOR:return void(\"x\"!==n.height&&(this._doorLocation.x=e,this._doorLocation.y=t,this.renderTiles()));case Al.UP:if(\"x\"===n.height)return;a=r+1;break;case Al.DOWN:if(\"x\"===n.height||r<=1)return;a=r-1;break;case Al.SET:a=kl.indexOf(this._actionSettings.currentHeight);break;case Al.UNSET:a=0}if(-1!==a&&r!==a){a>0&&(e+1>this._width&&(this._width=e+1),t+1>this._height&&(this._height=t+1));var c=kl[a];c&&(n.isBlocked||(this._tilemap[t][e].height=c,this.renderTiles()))}}},{key:\"renderTiles\",value:function(){this.tilemapRenderer.clear();for(var e=0;e<this._tilemap.length;e++)for(var t=0;t<this.tilemap[e].length;t++){var r=this.tilemap[e][t],a=r.height;this._doorLocation.x===t&&this._doorLocation.y===e&&(a=n.TILE_DOOR),r.isBlocked&&(a=n.TILE_BLOCKED);var c=Pl(t,e),i=Object(o.a)(c,2),s=i[0],l=i[1];this._tilemapRenderer.tile(this._assetCollection.getTexture(\"floor_editor_\".concat(a)),s,l)}}},{key:\"setTilemap\",value:function(e,t){this._tilemap=[];for(var n=e.split(\"\\r\"),r=0,a=n.length,c=0;c<a;c++){var i=n[c];0!==i.length?i.length>r&&(r=i.length):(n.splice(c,1),a=n.length,c--)}for(var s=0;s<a;s++){this._tilemap[s]=[];for(var o=n[s],l=0;l<r;l++){var u=t[s]&&t[s][l]||!1,d=o[l];this._tilemap[s][l]=new Ul(\"x\"!==d&&\"X\"!==d&&d?d:\"x\",u)}for(var j=r;j<Rl;j++)this.tilemap[s][j]=new Ul(\"x\",!1)}for(var b=a;b<Rl;b++){this.tilemap[b]||(this.tilemap[b]=[]);for(var O=0;O<Rl;O++)this.tilemap[b][O]=new Ul(\"x\",!1)}this._width=r,this._height=a}},{key:\"getCurrentTilemapString\",value:function(){if(\"x\"===this._tilemap[this._height-1][this._width-1].height){this._width=-1,this._height=-1;for(var e=63;e>=0;e--)if(this._tilemap[e])for(var t=63;t>=0;t--){if(this._tilemap[e][t])\"x\"!==this._tilemap[e][t].height&&(t+1>this._width&&(this._width=t+1),e+1>this._height&&(this._height=e+1))}}for(var n=[],r=0;r<this._height;r++){for(var a=[],c=0;c<this._width;c++){var i=this._tilemap[r][c];a[c]=i.height}n[r]=a.join(\"\")}return n.join(\"\\r\")}},{key:\"clear\",value:function(){this._tilemapRenderer.interactive=!1,this._tilemap=[],this._doorLocation.set(-1,-1),this._width=0,this._height=0,this._isHolding=!1,this._lastUsedTile.set(-1,-1),this._actionSettings.clear(),this._tilemapRenderer.clear()}},{key:\"tilemapRenderer\",get:function(){return this._tilemapRenderer}},{key:\"tilemap\",get:function(){return this._tilemap}},{key:\"doorLocation\",get:function(){return this._doorLocation},set:function(e){this._doorLocation=e}},{key:\"actionSettings\",get:function(){return this._actionSettings}}],[{key:\"instance\",get:function(){return n._INSTANCE||(n._INSTANCE=new n),n._INSTANCE}}]),n}(l.sf);Hl._INSTANCE=null,Hl.TILE_BLOCKED=\"r_blocked\",Hl.TILE_DOOR=\"r_door\";var Bl=Object(c.createContext)({originalFloorplanSettings:null,setOriginalFloorplanSettings:null,visualizationSettings:null,setVisualizationSettings:null}),Gl=function(e){return Object($a.jsx)(Bl.Provider,Object(bt.a)({},e))},Wl=function(){return Object(c.useContext)(Bl)},Vl=[\"gap\",\"children\"],ql=function(e){var t=e.gap,n=void 0===t?1:t,r=e.children,a=void 0===r?null:r,i=Object(Za.a)(e,Vl),s=Object(c.useState)(!1),u=Object(o.a)(s,2),d=u[0],j=u[1],b=Object(c.useState)(!1),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Wl(),m=g.originalFloorplanSettings,v=void 0===m?null:m,p=g.setOriginalFloorplanSettings,x=void 0===p?null:p,_=g.setVisualizationSettings,E=void 0===_?null:_,I=Object(c.useRef)(null),y=Object(c.useCallback)((function(e){var t=e.getParser();x((function(e){var n=Object(bt.a)({},e);return n.reservedTiles=t.blockedTilesMap,Hl.instance.setTilemap(n.tilemap,n.reservedTiles),n})),j(!0),I.current.scrollTo(Hl.instance.view.width/3,0)}),[x]);dt(l.Jg,y);var C=Object(c.useCallback)((function(e){var t=e.getParser();x((function(e){var n=Object(bt.a)({},e);return n.entryPoint=[t.x,t.y],n.entryPointDir=t.direction,n})),E((function(e){var n=Object(bt.a)({},e);return n.entryPointDir=t.direction,n})),Hl.instance.doorLocation=new l.Se(t.x,t.y),f(!0)}),[x,E]);dt(l.sg,C);var T=function(e){var t=I.current;if(t)switch(e){case\"up\":t.scrollBy({top:-10});break;case\"down\":t.scrollBy({top:10});break;case\"left\":t.scrollBy({left:-10});break;case\"right\":t.scrollBy({left:10})}};return Object(c.useEffect)((function(){return function(){Hl.instance.clear(),E((function(e){return{wallHeight:v.wallHeight,thicknessWall:v.thicknessWall,thicknessFloor:v.thicknessFloor,entryPointDir:e.entryPointDir}}))}}),[v.thicknessFloor,v.thicknessWall,v.wallHeight,E]),Object(c.useEffect)((function(){h&&d&&Hl.instance.renderTiles()}),[h,d]),Object(c.useEffect)((function(){ea(new l.tc),ea(new l.pc),Hl.instance.tilemapRenderer.interactive=!0,I.current&&I.current.appendChild(Hl.instance.renderer.view)}),[]),Object($a.jsxs)(Jc,Object(bt.a)(Object(bt.a)({gap:n},i),{},{children:[Object($a.jsxs)(cc,{overflow:\"hidden\",gap:1,children:[Object($a.jsx)(Jc,{center:!0,size:1,children:Object($a.jsx)(dc,{className:\"d-md-none\",onClick:function(e){return T(\"left\")},children:Object($a.jsx)(mc.a,{icon:\"arrow-left\"})})}),Object($a.jsxs)(Jc,{overflow:\"hidden\",size:10,gap:1,children:[Object($a.jsx)(lc,{justifyContent:\"center\",className:\"d-md-none\",children:Object($a.jsx)(dc,{shrink:!0,onClick:function(e){return T(\"up\")},children:Object($a.jsx)(mc.a,{icon:\"arrow-up\"})})}),Object($a.jsx)(tc,{overflow:\"auto\",innerRef:I}),Object($a.jsx)(lc,{justifyContent:\"center\",className:\"d-md-none\",children:Object($a.jsx)(dc,{shrink:!0,onClick:function(e){return T(\"down\")},children:Object($a.jsx)(mc.a,{icon:\"arrow-down\"})})})]}),Object($a.jsx)(Jc,{center:!0,size:1,children:Object($a.jsx)(dc,{className:\"d-md-none\",onClick:function(e){return T(\"right\")},children:Object($a.jsx)(mc.a,{icon:\"arrow-right\"})})})]}),a]}))},Yl=function(e){return e.replace(/\\r\\n|\\r|\\n/g,\"\\n\").toLowerCase()},zl=function(e){var t=e.onCloseClick,n=void 0===t?null:t,r=Object(c.useState)(\"\"),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Wl().originalFloorplanSettings,d=void 0===u?null:u;return kn((function(){s(Yl(d.tilemap))})),Object($a.jsxs)(Pc,{theme:\"primary-slim\",className:\"floorplan-import-export\",children:[Object($a.jsx)(Tc,{headerText:st(\"floor.plan.editor.import.export\"),onCloseClick:n}),Object($a.jsxs)(Ec,{children:[Object($a.jsx)(\"textarea\",{className:\"h-100\",value:i,onChange:function(e){return s(e.target.value)}}),Object($a.jsxs)(lc,{justifyContent:\"between\",children:[Object($a.jsx)(dc,{onClick:function(e){return s(Yl(d.tilemap))},children:st(\"floor.plan.editor.revert.to.last.received.map\")}),Object($a.jsx)(dc,{onClick:function(){ea(new l.oi(i.split(\"\\n\").join(\"\\r\"),d.entryPoint[0],d.entryPoint[1],d.entryPointDir,Ml(d.thicknessWall),Ml(d.thicknessFloor),d.wallHeight-1))},children:st(\"floor.plan.editor.save\")})]})]})]})},Kl=[\"style\"],Ql=function(e){var t=Wl(),n=t.visualizationSettings,r=void 0===n?null:n,a=t.setVisualizationSettings,i=void 0===a?null:a,s=Object(c.useState)(Al.SET),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=function(e){d(e),Hl.instance.actionSettings.currentAction=e},g=function(e){(isNaN(e)||e<=0)&&(e=0),e>16&&(e=16),i((function(t){var n=Object(bt.a)({},t);return n.wallHeight=e,n}))};return Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsxs)(Jc,{size:5,gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"floor.plan.editor.draw.mode\")}),Object($a.jsxs)(lc,{gap:3,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(ii,{itemActive:u===Al.SET,onClick:function(e){return f(Al.SET)},children:Object($a.jsx)(\"i\",{className:\"icon icon-set-tile\"})}),Object($a.jsx)(ii,{itemActive:u===Al.UNSET,onClick:function(e){return f(Al.UNSET)},children:Object($a.jsx)(\"i\",{className:\"icon icon-unset-tile\"})})]}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(ii,{itemActive:u===Al.UP,onClick:function(e){return f(Al.UP)},children:Object($a.jsx)(\"i\",{className:\"icon icon-increase-height\"})}),Object($a.jsx)(ii,{itemActive:u===Al.DOWN,onClick:function(e){return f(Al.DOWN)},children:Object($a.jsx)(\"i\",{className:\"icon icon-decrease-height\"})})]}),Object($a.jsx)(ii,{itemActive:u===Al.DOOR,onClick:function(e){return f(Al.DOOR)},children:Object($a.jsx)(\"i\",{className:\"icon icon-set-door\"})})]})]}),Object($a.jsxs)(Jc,{alignItems:\"center\",size:4,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,children:st(\"floor.plan.editor.enter.direction\")}),Object($a.jsx)(\"i\",{className:\"icon icon-door-direction-\".concat(r.entryPointDir,\" cursor-pointer\"),onClick:function(){i((function(e){var t=Object(bt.a)({},e);return t.entryPointDir<7?++t.entryPointDir:t.entryPointDir=0,t}))}})]}),Object($a.jsxs)(Jc,{size:3,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,children:st(\"floor.editor.wall.height\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(mc.a,{icon:\"caret-left\",className:\"cursor-pointer\",onClick:function(){var e=r.wallHeight-1;e<=0&&(e=0),g(e)}}),Object($a.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:r.wallHeight,onChange:function(e){return g(e.target.valueAsNumber)}}),Object($a.jsx)(mc.a,{icon:\"caret-right\",className:\"cursor-pointer\",onClick:function(){var e=r.wallHeight+1;e>16&&(e=16),g(e)}})]})]})]}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsxs)(Jc,{size:6,children:[Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,children:[st(\"floor.plan.editor.tile.height\"),\": \",O]}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:0,max:26,step:1,value:O,onChange:function(e){return t=e,(isNaN(t)||t<=0)&&(t=0),t>26&&(t=26),h(t),void(Hl.instance.actionSettings.currentHeight=t.toString(36));var t},renderThumb:function(e,t){var n=e.style,r=Object(Za.a)(e,Kl);return Object($a.jsx)(\"div\",Object(bt.a)(Object(bt.a)({style:Object(bt.a)({backgroundColor:\"#\".concat(wl[t.valueNow.toString(33)])},n)},r),{},{children:t.valueNow}))}})]}),Object($a.jsxs)(Jc,{size:6,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,children:st(\"floor.plan.editor.room.options\")}),Object($a.jsxs)(lc,{className:\"align-items-center\",children:[Object($a.jsxs)(\"select\",{className:\"form-control form-control-sm\",value:r.thicknessWall,onChange:function(e){return t=parseInt(e.target.value),void i((function(e){var n=Object(bt.a)({},e);return n.thicknessWall=t,n}));var t},children:[Object($a.jsx)(\"option\",{value:0,children:st(\"navigator.roomsettings.wall_thickness.thinnest\")}),Object($a.jsx)(\"option\",{value:1,children:st(\"navigator.roomsettings.wall_thickness.thin\")}),Object($a.jsx)(\"option\",{value:2,children:st(\"navigator.roomsettings.wall_thickness.normal\")}),Object($a.jsx)(\"option\",{value:3,children:st(\"navigator.roomsettings.wall_thickness.thick\")})]}),Object($a.jsxs)(\"select\",{className:\"form-control form-control-sm\",value:r.thicknessFloor,onChange:function(e){return t=parseInt(e.target.value),void i((function(e){var n=Object(bt.a)({},e);return n.thicknessFloor=t,n}));var t},children:[Object($a.jsx)(\"option\",{value:0,children:st(\"navigator.roomsettings.floor_thickness.thinnest\")}),Object($a.jsx)(\"option\",{value:1,children:st(\"navigator.roomsettings.floor_thickness.thin\")}),Object($a.jsx)(\"option\",{value:2,children:st(\"navigator.roomsettings.floor_thickness.normal\")}),Object($a.jsx)(\"option\",{value:3,children:st(\"navigator.roomsettings.floor_thickness.thick\")})]})]})]})]})]})},Xl=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)({tilemap:\"\",reservedTiles:[],entryPoint:[0,0],entryPointDir:2,wallHeight:-1,thicknessWall:1,thicknessFloor:1}),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)({entryPointDir:2,wallHeight:-1,thicknessWall:1,thicknessFloor:1}),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useCallback)((function(e){a(!1)}),[]);qt(l.ig.DISPOSED,p);var x=Object(c.useCallback)((function(e){var t=e.getParser();h((function(e){var n=Object(bt.a)({},e);return n.tilemap=t.model,n.wallHeight=t.wallHeight+1,n})),v((function(e){var n=Object(bt.a)({},e);return n.wallHeight=t.wallHeight+1,n}))}),[]);dt(l.Cb,x);var _=Object(c.useCallback)((function(e){var t=e.getParser();h((function(e){var n=Object(bt.a)({},e);return n.thicknessFloor=Fl(t.thicknessFloor),n.thicknessWall=Fl(t.thicknessWall),n})),v((function(e){var n=Object(bt.a)({},e);return n.thicknessFloor=Fl(t.thicknessFloor),n.thicknessWall=Fl(t.thicknessWall),n}))}),[]);return dt(l.rh,_),Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void a(!0);case\"hide\":return void a(!1);case\"toggle\":return void a((function(e){return!e}))}},eventUrlPrefix:\"floor-editor/\"};return R(e),function(){return B(e)}}),[]),Object(c.useEffect)((function(){Hl.instance.initialize()}),[]),Object($a.jsxs)(Gl,{value:{originalFloorplanSettings:O,setOriginalFloorplanSettings:h,visualizationSettings:m,setVisualizationSettings:v},children:[r&&Object($a.jsxs)(Pc,{uniqueKey:\"floorpan-editor\",className:\"nitro-floorplan-editor\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"floor.plan.editor.title\"),onCloseClick:function(){return a(!1)}}),Object($a.jsxs)(Ec,{overflow:\"hidden\",children:[Object($a.jsx)(Ql,{}),Object($a.jsx)(ql,{overflow:\"hidden\"}),Object($a.jsxs)(lc,{justifyContent:\"between\",children:[Object($a.jsx)(dc,{onClick:function(){v({wallHeight:O.wallHeight,thicknessWall:O.thicknessWall,thicknessFloor:O.thicknessFloor,entryPointDir:O.entryPointDir}),Hl.instance.doorLocation=new l.Se(O.entryPoint[0],O.entryPoint[1]),Hl.instance.setTilemap(O.tilemap,O.reservedTiles),Hl.instance.renderTiles()},children:st(\"floor.plan.editor.reload\")}),Object($a.jsxs)(bc,{children:[Object($a.jsx)(dc,{disabled:!0,children:st(\"floor.plan.editor.preview\")}),Object($a.jsx)(dc,{onClick:function(e){return d(!0)},children:st(\"floor.plan.editor.import.export\")}),Object($a.jsx)(dc,{onClick:function(){ea(new l.oi(Hl.instance.getCurrentTilemapString(),Hl.instance.doorLocation.x,Hl.instance.doorLocation.y,m.entryPointDir,Ml(m.thicknessWall),Ml(m.thicknessFloor),m.wallHeight-1))},children:st(\"floor.plan.editor.save\")})]})]})]})]}),u&&Object($a.jsx)(zl,{onCloseClick:function(){return d(!1)}})]})},Jl=function(e){var t=e.friend,n=void 0===t?null:t,r=Object(c.useState)(!1),a=Object(o.a)(r,2),i=a[0],s=a[1],u=an().followFriend,d=void 0===u?null:u,j=Object(c.useRef)();return Object(c.useEffect)((function(){var e=function(e){var t=j.current;t&&(e.target===t||t.contains(e.target)||s(!1))};return document.addEventListener(l.xe.MOUSE_CLICK,e),function(){return document.removeEventListener(l.xe.MOUSE_CLICK,e)}}),[]),n?Object($a.jsxs)(\"div\",{style:{backgroundColor:\"var(--test-galaxytwo)\"},ref:j,className:\"btn friend-bar-item btn-lg \"+(i?\"friend-bar-item-active\":\"\"),onMouseOver:function(e){return s((function(e){return!e}))},onMouseOut:function(e){return s((function(e){return!e}))},children:[Object($a.jsxs)(\"div\",{className:\"friend-bar-item-head position-absolute \".concat(n.id>0?\"avatar\":\"group\"),children:[n.id>0&&Object($a.jsx)(Mc,{className:\"image-friendzone\",figure:n.figure,direction:2}),n.id<=0&&Object($a.jsx)(Gc,{isGroup:!0,badgeCode:n.figure})]}),Object($a.jsx)(\"div\",{className:\"text-truncate\",style:{fontSize:\"15px\",marginTop:\"3px\",marginBottom:\"3px\",marginLeft:\"7px\"},children:n.name}),i&&Object($a.jsxs)(\"div\",{className:\"d-flex justify-content-between\",children:[Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-friendbar-chat cursor-pointer\",onClick:function(e){return Ea(n.id)}}),n.followingAllowed&&Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-friendbar-visit cursor-pointer\",onClick:function(e){return d(n)}}),Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-profile cursor-pointer\",onClick:function(e){return Ga(n.id)}})]})]}):Object($a.jsxs)(\"div\",{style:{backgroundColor:\"var(--test-galaxytwo)\"},ref:j,className:\"btn btn-lg friend-bar-item friend-bar-search\",children:[Object($a.jsx)(\"img\",{className:\"position-absolute\",style:{left:\"2px\",top:\"2px\"},src:\"https://swfs.hgalaxy.net/images/head.png\"}),Object($a.jsx)(\"div\",{className:\"text-truncate\",style:{fontSize:\"15px\",marginTop:\"3px\",marginBottom:\"3px\",marginLeft:\"3px\"},children:st(\"friend.bar.find.title\")})]})},Zl=function(e){var t=e.onlineFriends,n=void 0===t?null:t,r=Object(c.useState)(0),a=Object(o.a)(r,2),i=a[0],s=a[1],l=Object(c.useRef)();return Object($a.jsxs)(lc,{innerRef:l,alignItems:\"center\",className:\"friend-bar\",children:[Object($a.jsx)(dc,{className:\"friend-bar-button\",disabled:i<=0,onClick:function(e){return s(i-1)},children:Object($a.jsx)(mc.a,{icon:\"chevron-left\"})}),Array.from(Array(3),(function(e,t){return Object($a.jsx)(Jl,{friend:n[i+t]||null},t)})),Object($a.jsx)(dc,{className:\"friend-bar-button\",disabled:!(n.length>3&&i+3<=n.length-1),onClick:function(e){return s(i+1)},children:Object($a.jsx)(mc.a,{icon:\"chevron-right\"})})]})},$l=function(e){var t=e.friend,n=void 0===t?null:t,r=e.selected,a=void 0!==r&&r,i=e.selectFriend,s=void 0===i?null:i,l=Object(c.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],b=an(),O=b.followFriend,h=void 0===O?null:O,f=b.updateRelationship,g=void 0===f?null:f,m=function(e,t){e.stopPropagation(),g(n,t),j(!1)};return n?Object($a.jsxs)(gc,{justifyContent:\"between\",className:\"px-2 py-1 \".concat(a&&\"bg-primary text-white\"),onClick:function(e){return s(n.id)},children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(tc,{onClick:function(e){return e.stopPropagation()},children:Object($a.jsx)(Ri,{userId:n.id})}),Object($a.jsx)(\"div\",{children:n.name})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[!d&&Object($a.jsxs)($a.Fragment,{children:[n.followingAllowed&&Object($a.jsx)(tc,{pointer:!0,onClick:function(e){e.stopPropagation(),h(n)},className:\"nitro-friends-spritesheet icon-follow\",title:st(\"friendlist.tip.follow\")}),n.online&&Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-chat\",onClick:function(e){e.stopPropagation(),Ea(n.id)},title:st(\"friendlist.tip.im\")}),n.id>0&&Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-\".concat(function(){if(!n)return\"none\";switch(n.relationshipStatus){case qr.RELATIONSHIP_HEART:return\"heart\";case qr.RELATIONSHIP_SMILE:return\"smile\";case qr.RELATIONSHIP_BOBBA:return\"bobba\";default:return\"none\"}}(),\" cursor-pointer\"),onClick:function(e){e.stopPropagation(),j(!0)},title:st(\"infostand.link.relationship\")})]}),d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-heart\",onClick:function(e){return m(e,qr.RELATIONSHIP_HEART)}}),Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-smile\",onClick:function(e){return m(e,qr.RELATIONSHIP_SMILE)}}),Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-bobba\",onClick:function(e){return m(e,qr.RELATIONSHIP_BOBBA)}}),Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-none\",onClick:function(e){return m(e,qr.RELATIONSHIP_NONE)}})]})]})]}):null},eu=function(e){var t=e.list,n=void 0===t?null:t,r=e.selectedFriendsIds,a=void 0===r?null:r,c=e.selectFriend,i=void 0===c?null:c;return n&&n.length?Object($a.jsx)($a.Fragment,{children:n.map((function(e,t){return Object($a.jsx)($l,{friend:e,selected:a&&a.indexOf(e.id)>=0,selectFriend:i},t)}))}):null},tu=function(e){var t=e.request,n=void 0===t?null:t,r=an().requestResponse,a=void 0===r?null:r;return n?Object($a.jsxs)(gc,{justifyContent:\"between\",className:\"px-2 py-1\",children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:n.id}),Object($a.jsx)(\"div\",{children:n.name})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-accept cursor-pointer\",onClick:function(e){return a(n.id,!0)}}),Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-deny cursor-pointer\",onClick:function(e){return a(n.id,!1)}})]})]}):null},nu=[\"children\"],ru=function(e){var t=e.children,n=void 0===t?null:t,r=Object(Za.a)(e,nu),a=an(),c=a.requests,i=void 0===c?[]:c,s=a.requestResponse,o=void 0===s?null:s;return i.length?Object($a.jsxs)(pc,Object(bt.a)(Object(bt.a)({},r),{},{children:[Object($a.jsxs)(Jc,{fullHeight:!0,justifyContent:\"between\",gap:1,children:[Object($a.jsx)(Jc,{gap:0,children:i.map((function(e,t){return Object($a.jsx)(tu,{request:e},t)}))}),Object($a.jsx)(lc,{justifyContent:\"center\",className:\"px-2 py-1\",children:Object($a.jsx)(dc,{onClick:function(e){return o(-1,!1)},children:st(\"friendlist.requests.dismissall\")})})]}),n]})):null},au=function(e){var t=e.selectedFriendsIds,n=void 0===t?null:t,r=e.removeFriendsText,a=void 0===r?null:r,c=e.removeSelectedFriends,i=void 0===c?null:c,s=e.onCloseClick,o=void 0===s?null:s;return Object($a.jsxs)(Pc,{className:\"nitro-friends-remove-confirmation\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"friendlist.removefriendconfirm.title\"),onCloseClick:o}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[Object($a.jsx)(\"div\",{children:a}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"danger\",disabled:0===n.length,onClick:i,children:st(\"generic.ok\")}),Object($a.jsx)(dc,{fullWidth:!0,onClick:o,children:st(\"generic.cancel\")})]})]})]})},cu=function(e){var t=e.selectedFriendsIds,n=void 0===t?null:t,r=e.onCloseClick,a=void 0===r?null:r,i=e.sendRoomInvite,s=void 0===i?null:i,l=Object(c.useState)(\"\"),u=Object(o.a)(l,2),d=u[0],j=u[1];return Object($a.jsxs)(Pc,{className:\"nitro-friends-room-invite\",uniqueKey:\"nitro-friends-room-invite\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"friendlist.invite.title\"),onCloseClick:a}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[st(\"friendlist.invite.summary\",[\"count\"],[n.length.toString()]),Object($a.jsx)(\"textarea\",{className:\"form-control\",value:d,onChange:function(e){return j(e.target.value)}}),Object($a.jsx)(Hi,{center:!0,className:\"bg-muted rounded p-1\",children:st(\"friendlist.invite.note\")}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",disabled:0===d.length||0===n.length,onClick:function(){return s(d)},children:st(\"friendlist.invite.send\")}),Object($a.jsx)(dc,{fullWidth:!0,onClick:a,children:st(\"generic.cancel\")})]})]})]})},iu=function(e){var t=Object.assign({},e),n=Object(c.useState)(\"\"),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(null),u=Object(o.a)(s,2),d=u[0],j=u[1],b=Object(c.useState)(null),O=Object(o.a)(b,2),h=O[0],f=O[1],g=an(),m=g.canRequestFriend,v=void 0===m?null:m,p=g.requestFriend,x=void 0===p?null:p,_=Object(c.useCallback)((function(e){var t=e.getParser();j(t.friends),f(t.others)}),[]);return dt(l.Dd,_),Object(c.useEffect)((function(){if(a&&a.length){var e=setTimeout((function(){a&&a.length&&ea(new l.Cd(a))}),500);return function(){return clearTimeout(e)}}}),[a]),Object($a.jsxs)(pc,Object(bt.a)(Object(bt.a)({},t),{},{children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"search-input form-control form-control-sm w-100 rounded-0\",placeholder:st(\"generic.search\"),value:a,maxLength:50,onChange:function(e){return i(e.target.value)}}),Object($a.jsxs)(Jc,{children:[d&&Object($a.jsxs)($a.Fragment,{children:[0===d.length&&Object($a.jsx)(Hi,{bold:!0,small:!0,className:\"px-2 py-1\",children:st(\"friendlist.search.nofriendsfound\")}),d.length>0&&Object($a.jsxs)(Jc,{gap:0,children:[Object($a.jsx)(Hi,{bold:!0,small:!0,className:\"px-2 py-1\",children:st(\"friendlist.search.friendscaption\",[\"cnt\"],[d.length.toString()])}),Object($a.jsx)(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),Object($a.jsx)(Jc,{gap:0,children:d.map((function(e){return Object($a.jsxs)(gc,{justifyContent:\"between\",className:\"px-2 py-1\",children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:e.avatarId}),Object($a.jsx)(\"div\",{children:e.avatarName})]}),Object($a.jsx)(lc,{alignItems:\"center\",gap:1,children:e.isAvatarOnline&&Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-chat cursor-pointer\",onClick:function(t){return Ea(e.avatarId)},title:st(\"friendlist.tip.im\")})})]},e.avatarId)}))})]})]}),h&&Object($a.jsxs)($a.Fragment,{children:[0===h.length&&Object($a.jsx)(Hi,{bold:!0,small:!0,className:\"px-2 py-1\",children:st(\"friendlist.search.noothersfound\")}),h.length>0&&Object($a.jsxs)(Jc,{gap:0,children:[Object($a.jsx)(Hi,{bold:!0,small:!0,className:\"px-2 py-1\",children:st(\"friendlist.search.otherscaption\",[\"cnt\"],[h.length.toString()])}),Object($a.jsx)(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),Object($a.jsx)(Jc,{gap:0,children:h.map((function(e){return Object($a.jsxs)(gc,{justifyContent:\"between\",className:\"px-2 py-1\",children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:e.avatarId}),Object($a.jsx)(\"div\",{children:e.avatarName})]}),Object($a.jsx)(lc,{alignItems:\"center\",gap:1,children:v(e.avatarId)&&Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-add cursor-pointer\",onClick:function(t){return x(e.avatarId,e.avatarName)},title:st(\"friendlist.tip.addfriend\")})})]},e.avatarId)}))})]})]})]})]}))},su=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(!1),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(!1),m=Object(o.a)(g,2),v=m[0],p=m[1],x=an(),_=x.onlineFriends,E=void 0===_?[]:_,I=x.offlineFriends,y=void 0===I?[]:I,C=x.requests,T=void 0===C?[]:C,S=x.requestFriend,N=void 0===S?null:S,k=Object(c.useMemo)((function(){if(!d||!d.length)return\"\";var e,t=[],n=Object(s.a)(d);try{var r=function(){var n=e.value,r=E.find((function(e){return e.id===n}));if(r||(r=y.find((function(e){return e.id===n}))),!r)return\"continue\";t.push(r.name)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}return st(\"friendlist.removefriendconfirm.userlist\",[\"user_names\"],[t.join(\", \")])}),[y,E,d]),A=Object(c.useCallback)((function(e){e<0||j((function(t){var n=Object(ut.a)(t),r=n.indexOf(e);return r>-1?n.splice(r,1):n.push(e),n}))}),[j]);return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void a(!0);case\"hide\":return void a(!1);case\"toggle\":return void a((function(e){return!e}));case\"request\":if(t.length<4)return;N(parseInt(t[2]),t[3])}},eventUrlPrefix:\"friends/\"};return R(e),function(){return B(e)}}),[N]),r?Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Pc,{className:\"nitro-friends animate__animated animate__bounceInUp\",uniqueKey:\"nitro-friends\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"friendlist.friends\"),onCloseClick:function(e){return a(!1)}}),Object($a.jsxs)(Ec,{overflow:\"hidden\",gap:1,className:\"text-black p-0\",children:[Object($a.jsxs)(xc,{fullHeight:!0,overflow:\"hidden\",children:[Object($a.jsx)(pc,{headerText:st(\"friendlist.friends\")+\" (\".concat(E.length,\")\"),isExpanded:!0,children:Object($a.jsx)(eu,{list:E,selectedFriendsIds:d,selectFriend:A})}),Object($a.jsx)(pc,{headerText:st(\"friendlist.friends.offlinecaption\")+\" (\".concat(y.length,\")\"),children:Object($a.jsx)(eu,{list:y,selectedFriendsIds:d,selectFriend:A})}),Object($a.jsx)(ru,{headerText:st(\"friendlist.tab.friendrequests\")+\" (\".concat(T.length,\")\"),isExpanded:!0}),Object($a.jsx)(iu,{headerText:st(\"people.search.title\")})]}),d&&d.length>0&&Object($a.jsxs)(lc,{gap:1,className:\"p-1\",children:[Object($a.jsx)(dc,{fullWidth:!0,onClick:function(){return f(!0)},children:st(\"friendlist.tip.invite\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"danger\",onClick:function(e){return p(!0)},children:st(\"generic.delete\")})]})]})]}),h&&Object($a.jsx)(cu,{selectedFriendsIds:d,onCloseClick:function(){return f(!1)},sendRoomInvite:function(e){0!==d.length&&e&&0!==e.length&&(ea(new l.Fh(e,d)),f(!1))}}),v&&Object($a.jsx)(au,{selectedFriendsIds:d,removeFriendsText:k,onCloseClick:function(){return p(!1)},removeSelectedFriends:function(){0!==d.length&&(j((function(e){return ea(Object(ln.a)(l.Jf,Object(ut.a)(e))),[]})),p(!1))}})]}):null},ou=function(e){var t=e.thread,n=void 0===t?null:t,r=e.group,a=void 0===r?null:r,i=Object(c.useMemo)((function(){return a.type===fa.GROUP_CHAT&&ha(a.chats[0].extraData)}),[a]),s=Object(c.useMemo)((function(){return!(!n||!a)&&(a.type===fa.PRIVATE_CHAT&&a.userId===ae().userId||!(!i||!a.chats.length||i.userId!==ae().userId))}),[n,a,i]);return n&&a?a.userId?Object($a.jsxs)(lc,{fullWidth:!0,justifyContent:s?\"end\":\"start\",gap:2,children:[Object($a.jsxs)(tc,{shrink:!0,className:\"message-avatar\",children:[a.type===fa.PRIVATE_CHAT&&!s&&Object($a.jsx)(Mc,{figure:n.participant.figure,direction:2}),i&&!s&&Object($a.jsx)(Mc,{figure:i.figure,direction:2})]}),Object($a.jsxs)(tc,{className:\"bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-\"+(s?\"right\":\"left\"),children:[Object($a.jsxs)(tc,{className:\"fw-bold\",children:[s&&ae().userName,!s&&(i?i.username:n.participant.name)]}),a.chats.map((function(e,t){return Object($a.jsx)(tc,{className:\"text-break\",children:e.message},t)}))]}),s&&Object($a.jsx)(tc,{shrink:!0,className:\"message-avatar\",children:Object($a.jsx)(Mc,{figure:ae().figure,direction:4})})]}):Object($a.jsx)($a.Fragment,{children:a.chats.map((function(e,t){return Object($a.jsx)(lc,{fullWidth:!0,gap:2,justifyContent:\"start\",children:Object($a.jsxs)(tc,{className:\"w-100 text-break\",children:[e.type===pa.SECURITY_NOTIFICATION&&Object($a.jsxs)(lc,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-muted\",children:[Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-warning flex-shrink-0\"}),Object($a.jsx)(tc,{children:e.message})]}),e.type===pa.ROOM_INVITE&&Object($a.jsxs)(lc,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-black\",children:[Object($a.jsx)(tc,{className:\"messenger-notification-icon flex-shrink-0\"}),Object($a.jsxs)(tc,{children:[st(\"messenger.invitation\")+\" \",e.message]})]})]})},t)}))}):null},lu=function(e){var t=e.thread,n=void 0===t?null:t;return n.setRead(),Object($a.jsx)($a.Fragment,{children:n.groups.length>0&&n.groups.map((function(e,t){return Object($a.jsx)(ou,{thread:n,group:e},t)}))})},uu=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(\"\"),b=Object(o.a)(j,2),O=b[0],h=b[1],f=sn(),g=f.visibleThreads,m=void 0===g?[]:g,v=f.activeThread,p=void 0===v?null:v,x=f.getMessageThread,_=void 0===x?null:x,E=f.sendMessage,I=void 0===E?null:E,y=f.setActiveThreadId,C=void 0===y?null:y,T=f.closeThread,S=void 0===T?null:T,N=Object(c.useRef)(),k=function(){return p&&p.participant&&Ga(p.participant.id)},A=function(){p&&O.length&&(I(p,O),h(\"\"))};return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(2===t.length){if(\"open\"===t[1])return void a(!0);var n=_(parseInt(t[1]));if(!n)return;C(n.threadId),a(!0)}},eventUrlPrefix:\"friends-messenger/\"};return R(e),function(){return B(e)}}),[_,C]),Object(c.useEffect)((function(){r&&p&&(N.current.scrollTop=N.current.scrollHeight)}),[r,p]),Object(c.useEffect)((function(){!r||p?!r&&p&&(d(p.threadId),C(-1)):u>0?C(u):m.length>0&&C(m[0].threadId)}),[r,p,u,m,C]),r?Object($a.jsxs)(Pc,{className:\"nitro-friends-messenger animate__animated animate__bounceInDown\",uniqueKey:\"nitro-friends-messenger\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"messenger.window.title\",[\"OPEN_CHAT_COUNT\"],[m.length.toString()]),onCloseClick:function(e){return a(!1)}}),Object($a.jsx)(Ec,{children:Object($a.jsxs)(cc,{overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{size:4,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,children:st(\"toolbar.icon.label.messenger\")}),Object($a.jsx)(Jc,{fullHeight:!0,overflow:\"auto\",children:m&&m.length>0&&m.map((function(e){return Object($a.jsxs)(ii,{itemActive:p===e,onClick:function(t){return C(e.threadId)},children:[e.unread&&Object($a.jsx)($c,{count:e.unreadCount}),Object($a.jsxs)(lc,{fullWidth:!0,alignItems:\"center\",gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",className:\"friend-head px-1\",children:[e.participant.id>0&&Object($a.jsx)(Mc,{figure:e.participant.figure,headOnly:!0,direction:3}),e.participant.id<=0&&Object($a.jsx)(Gc,{isGroup:!0,badgeCode:e.participant.figure})]}),Object($a.jsx)(Hi,{truncate:!0,grow:!0,children:e.participant.name})]})]},e.threadId)}))})]}),Object($a.jsx)(Jc,{size:8,overflow:\"hidden\",children:p&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,center:!0,children:st(\"messenger.window.separator\",[\"FRIEND_NAME\"],[p.participant.name])}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsxs)(bc,{children:[Object($a.jsx)(dc,{onClick:function(){return p&&p.participant&&ea(new l.Db(p.participant.id))},children:Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-follow\"})}),Object($a.jsx)(dc,{onClick:k,children:Object($a.jsx)(tc,{className:\"nitro-friends-spritesheet icon-profile-sm\"})})]}),Object($a.jsx)(dc,{variant:\"danger\",onClick:k,children:st(\"messenger.window.button.report\")})]}),Object($a.jsx)(dc,{onClick:function(e){return S(p.threadId)},children:Object($a.jsx)(mc.a,{icon:\"times\"})})]}),Object($a.jsx)(Jc,{fit:!0,className:\"bg-muted p-2 rounded chat-messages\",children:Object($a.jsx)(Jc,{innerRef:N,overflow:\"auto\",children:Object($a.jsx)(lu,{thread:p})})}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:255,placeholder:st(\"messenger.window.input.default\",[\"FRIEND_NAME\"],[p.participant.name]),value:O,onChange:function(e){return h(e.target.value)},onKeyDown:function(e){\"Enter\"===e.key&&A()}}),Object($a.jsx)(dc,{variant:\"success\",onClick:A,children:st(\"widgets.chatinput.say\")})]})]})})]})})]}):null},du=function(e){var t=an(),n=t.settings,r=void 0===n?null:n,a=t.onlineFriends,c=void 0===a?[]:a;return r?Object($a.jsxs)($a.Fragment,{children:[Object(Rc.createPortal)(Object($a.jsx)(Zl,{onlineFriends:c}),document.getElementById(\"toolbar-friend-bar-container\")),Object($a.jsx)(su,{}),Object($a.jsx)(uu,{})]}):null},ju=function(e){var t,n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(\"\"),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)(\"\"),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(\"\"),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(\"Notificaci\\xf3n\"),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(\"0\"),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(\"gameAlert\"),N=Object(o.a)(S,2),k=(N[0],N[1],Object(c.useState)(\"url(https://files.habboemotion.com/resources/images/homebgs/nl_green_bg.gif)\")),A=Object(o.a)(k,2),w=A[0],D=A[1],U=Object(c.useState)(\"primary\"),P=Object(o.a)(U,2),L=P[0],M=P[1],F=Object(c.useState)(\"undefined\"),H=Object(o.a)(F,2),G=H[0],W=H[1],V=new URLSearchParams(window.location.search).get(\"sso\");return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"@gm\":return i(!1),E(\"Nuevo juego abierto\"),T(t[2]),d(t[3]),v(t[4]),W(\"\\ud83d\\udce2 <b>Nuevo juego abierto.</b> \\xa1\\xdanete si quieres ganar premios!\"),M(\"warning\"),D(\"url(https://files.habboemotion.com/resources/images/homebgs/nl_green_bg.gif)\"),void fetch(\"https://int.ultrahabbo.fun/?type=getFigure&getFigure=\"+t[3]).then((function(e){return e.text()})).then((function(e){h(e),i(!0),new Audio(\"https://swfs.hgalaxy.net/sounds/ding.mp3\").play()}));case\"@ev\":return i(!1),E(\"Nuevo evento abierto\"),T(t[2]),d(t[3]),v(t[4]),W(\"\\ud83d\\udce2 <b>Nuevo evento abierto.</b> \\xa1\\xdanete si quieres ganar premios!\"),M(\"info\"),D(\"url(https://files.habboemotion.com/resources/images/homebgs/bg_pattern_bobbaskulls1.gif)\"),void fetch(\"https://int.ultrahabbo.fun/?type=getFigure&getFigure=\"+t[3]).then((function(e){return e.text()})).then((function(e){h(e),i(!0),new Audio(\"https://swfs.hgalaxy.net/sounds/ding.mp3\").play()}));case\"@pbl\":return i(!1),E(\"Nueva oleada de publicidad abierta\"),T(t[2]),d(t[3]),v(t[4]),W(\"\\ud83d\\udce2 <b>Nueva oleada de publicidad abierta.</b> \\xa1\\xdanete si quieres ganar premios!\"),M(\"danger\"),D(\"url(https://files.habboemotion.com/resources/images/homebgs/xmas_bgpattern_starsky.gif)\"),void fetch(\"https://int.ultrahabbo.fun/?type=getFigure&getFigure=\"+t[3]).then((function(e){return e.text()})).then((function(e){h(e),i(!0),new Audio(\"https://swfs.hgalaxy.net/sounds/ding.mp3\").play()}));case\"hide\":return void i(!1)}},eventUrlPrefix:\"galert/\"};return R(e),function(){return B(e)}}),[i]),Object($a.jsx)($a.Fragment,{children:a&&Object($a.jsxs)(Pc,{style:{width:\"350px\"},className:\"animate__animated animate__flipInX\",children:[Object($a.jsx)(Tc,{headerText:_,onCloseClick:function(e){return i(!1)}}),Object($a.jsx)(Ec,{children:Object($a.jsx)(\"div\",{children:Object($a.jsxs)(\"div\",{className:\"card\",style:{backgroundImage:w},children:[Object($a.jsx)(\"div\",{className:\"alert alert-\"+L+\" text-center\",dangerouslySetInnerHTML:{__html:G}}),Object($a.jsx)(\"div\",{className:\"card-body\",children:Object($a.jsx)(\"div\",{className:\"row\",children:Object($a.jsxs)(\"div\",{className:\"col-md-12 text-center\",children:[Object($a.jsx)(\"img\",{src:(t=O,\"https://habbo-imaging.hgalaxy.net/avatarimage/\"+t+\"&gesture=sml&direction=2&effect=6&img_format=gif\")}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",style:{fontSize:\"12px\"},children:[\"Juego abierto por \",u]}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"span\",{className:\"badge bg-\"+L,style:{fontSize:\"18px\"},children:m}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(){return fetch(\"https://int.ultrahabbo.fun/?type=goToRoom&roomId=\"+C+\"&sso=\"+V),void i(!1)},className:\"btn btn-success btn-sm rounded w-100\",children:\"Ir a sala\"})]})})})]})})})]})})},bu=function(e,t){return e.id<t.id?-1:e.id>t.id?1:0},Ou=Object(c.createContext)({groupCustomize:null,setGroupCustomize:null}),hu=function(e){return Object($a.jsx)(Ou.Provider,{value:e.value,children:e.children})},fu=function(){return Object(c.useContext)(Ou)},gu=function(){function e(t,n,r,a){Object(u.a)(this,e),this.type=void 0,this.key=void 0,this.color=void 0,this.position=void 0,this.type=t,this.key=n||0,this.color=r||0,this.position=a||4}return Object(d.a)(e,[{key:\"code\",get:function(){return 0===this.key?null:e.getCode(this.type,this.key,this.color,this.position)}}],[{key:\"getCode\",value:function(e,t,n,r){return e+(t<10?\"0\":\"\")+t+(n<10?\"0\":\"\")+n+r}}]),e}();gu.BASE=\"b\",gu.SYMBOL=\"s\";var mu=[0,1,2,3,4,5,6,7,8],vu=function(e){var t=e.badgeParts,n=void 0===t?[]:t,r=e.setBadgeParts,a=void 0===r?null:r,i=Object(c.useState)(-1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=fu().groupCustomize,j=void 0===d?null:d,b=function(e,t,r){var c=Object(ut.a)(n);c[e][t]=r,a(c),\"key\"===t&&u(-1)};return n&&n.length?Object($a.jsxs)($a.Fragment,{children:[l<0&&n&&n.length>0&&n.map((function(e,t){return Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:2,className:\"bg-muted rounded px-2 py-1\",children:[Object($a.jsxs)(lc,{pointer:!0,center:!0,className:\"bg-muted rounded p-1\",onClick:function(e){return u(t)},children:[n[t].code&&n[t].code.length>0&&Object($a.jsx)(Gc,{badgeCode:n[t].code,isGroup:!0}),(!n[t].code||!n[t].code.length)&&Object($a.jsx)(lc,{center:!0,className:\"badge-image group-badge\",children:Object($a.jsx)(mc.a,{icon:\"plus\"})})]}),e.type!==gu.BASE&&Object($a.jsx)(cc,{gap:1,columnCount:3,children:mu.map((function(e,r){return Object($a.jsx)(tc,{pointer:!0,className:\"group-badge-position-swatch \".concat(n[t].position===e?\"active\":\"\"),onClick:function(n){return b(t,\"position\",e)}},r)}))}),Object($a.jsx)(cc,{gap:1,columnCount:8,children:j.badgePartColors.length>0&&j.badgePartColors.map((function(e,r){return Object($a.jsx)(tc,{pointer:!0,className:\"group-badge-color-swatch \".concat(n[t].color===r+1?\"active\":\"\"),style:{backgroundColor:\"#\"+e.color},onClick:function(e){return b(t,\"color\",r+1)}},r)}))})]},t)})),l>=0&&Object($a.jsxs)(cc,{gap:1,columnCount:5,children:[n[l].type===gu.SYMBOL&&Object($a.jsx)(Jc,{pointer:!0,center:!0,className:\"bg-muted rounded p-1\",onClick:function(e){return b(l,\"key\",0)},children:Object($a.jsx)(lc,{center:!0,className:\"badge-image group-badge\",children:Object($a.jsx)(mc.a,{icon:\"times\"})})}),(n[l].type===gu.BASE?j.badgeBases:j.badgeSymbols).map((function(e,t){return Object($a.jsx)(Jc,{pointer:!0,center:!0,className:\"bg-muted rounded p-1\",onClick:function(t){return b(l,\"key\",e.id)},children:Object($a.jsx)(Gc,{badgeCode:gu.getCode(n[l].type,e.id,n[l].color,4),isGroup:!0})},t)}))]})]}):null},pu=function(e){var t=e.groupData,n=void 0===t?null:t,r=e.setGroupData,a=void 0===r?null:r,i=e.setCloseAction,s=void 0===i?null:i,u=(e.skipDefault,Object(c.useState)(null)),d=Object(o.a)(u,2),j=d[0],b=d[1],O=fu().groupCustomize,h=void 0===O?null:O,f=Object(c.useCallback)((function(){if(!n||!j||!j.length)return!1;if(n.groupBadgeParts===j)return!0;if(n.groupId<=0)return a((function(e){var t=Object(bt.a)({},e);return t.groupBadgeParts=j,t})),!0;var e=[];return j.forEach((function(t){t.code&&(e.push(t.key),e.push(t.color),e.push(t.position))})),ea(new l.Yc(n.groupId,e)),!0}),[n,j,a]);return Object(c.useEffect)((function(){if(!n.groupBadgeParts){var e=[new gu(gu.BASE,h.badgeBases[0].id,h.badgePartColors[0].id),new gu(gu.SYMBOL,0,h.badgePartColors[0].id),new gu(gu.SYMBOL,0,h.badgePartColors[0].id),new gu(gu.SYMBOL,0,h.badgePartColors[0].id),new gu(gu.SYMBOL,0,h.badgePartColors[0].id)];a((function(t){var n=e;return Object(bt.a)(Object(bt.a)({},t),{},{groupBadgeParts:n})}))}}),[n.groupBadgeParts,h,a]),Object(c.useEffect)((function(){n.groupId<=0?b(n.groupBadgeParts?Object(ut.a)(n.groupBadgeParts):null):b(n.groupBadgeParts)}),[n]),Object(c.useEffect)((function(){return s({action:f}),function(){return s(null)}}),[s,f]),Object($a.jsxs)(cc,{overflow:\"hidden\",gap:1,children:[Object($a.jsx)(Jc,{size:2,children:Object($a.jsx)(lc,{center:!0,className:\"bg-muted rounded p-1\",children:Object($a.jsx)(Gc,{badgeCode:function(){if(!j||!j.length)return\"\";var e=\"\";return j.forEach((function(t){return t.code&&(e+=t.code)})),e}(),isGroup:!0})})}),Object($a.jsx)(Jc,{size:10,overflow:\"auto\",children:Object($a.jsx)(vu,{badgeParts:j,setBadgeParts:b})})]})},xu=function(e){var t=e.groupData,n=void 0===t?null:t,r=e.setGroupData,a=void 0===r?null:r,i=e.setCloseAction,s=void 0===i?null:i,u=Object(c.useState)(null),d=Object(o.a)(u,2),j=d[0],b=d[1],O=fu().groupCustomize,h=void 0===O?null:O,f=function(e){return 0===e?h.groupColorsA.find((function(t){return t.id===j[e]})).color:h.groupColorsB.find((function(t){return t.id===j[e]})).color},g=function(e,t){b((function(n){var r=Object(ut.a)(n);return r[e]=t,r}))},m=Object(c.useCallback)((function(){return!!(n&&j&&j.length)&&(n.groupColors===j||(n.groupId<=0?(a((function(e){var t=Object(bt.a)({},e);return t.groupColors=Object(ut.a)(j),t})),!0):(ea(new l.Zc(n.groupId,j[0],j[1])),!0)))}),[n,j,a]);return Object(c.useEffect)((function(){if(h.groupColorsA&&h.groupColorsB&&!n.groupColors){var e=[h.groupColorsA[0].id,h.groupColorsB[0].id];a((function(t){return Object(bt.a)(Object(bt.a)({},t),{},{groupColors:e})}))}}),[h,n.groupColors,a]),Object(c.useEffect)((function(){n.groupId<=0?b(n.groupColors?Object(ut.a)(n.groupColors):null):b(n.groupColors)}),[n]),Object(c.useEffect)((function(){return s({action:m}),function(){return s(null)}}),[s,m]),j?Object($a.jsxs)(cc,{overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{size:2,gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"group.edit.color.guild.color\")}),n.groupColors&&n.groupColors.length>0&&Object($a.jsxs)(lc,{overflow:\"hidden\",className:\"rounded border\",children:[Object($a.jsx)(tc,{className:\"group-color-swatch\",style:{backgroundColor:\"#\"+f(0)}}),Object($a.jsx)(tc,{className:\"group-color-swatch\",style:{backgroundColor:\"#\"+f(1)}})]})]}),Object($a.jsxs)(Jc,{size:5,gap:1,overflow:\"hidden\",children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"group.edit.color.primary.color\")}),Object($a.jsx)(sc,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:n.groupColors&&h.groupColorsA&&h.groupColorsA.map((function(e,t){return Object($a.jsx)(\"div\",{className:\"group-badge-color-swatch cursor-pointer\"+io()({\" active\":n.groupColors[0]===e.id}),style:{backgroundColor:\"#\"+e.color},onClick:function(){return g(0,e.id)}},t)}))})]}),Object($a.jsxs)(Jc,{size:5,gap:1,overflow:\"hidden\",children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"group.edit.color.secondary.color\")}),Object($a.jsx)(sc,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:n.groupColors&&h.groupColorsB&&h.groupColorsB.map((function(e,t){return Object($a.jsx)(\"div\",{className:\"group-badge-color-swatch cursor-pointer\"+io()({\" active\":n.groupColors[1]===e.id}),style:{backgroundColor:\"#\"+e.color},onClick:function(){return g(1,e.id)}},t)}))})]})]}):null},_u=function(e){var t=e.groupData,n=void 0===t?null:t,r=(e.setGroupData,e.purchaseCost),a=void 0===r?0:r,c=fu().groupCustomize,i=void 0===c?null:c,s=function(e){return 0===e?i.groupColorsA.find((function(t){return t.id===n.groupColors[e]})).color:i.groupColorsB.find((function(t){return t.id===n.groupColors[e]})).color};return n?Object($a.jsxs)(cc,{overflow:\"hidden\",gap:1,children:[Object($a.jsxs)(Jc,{size:3,children:[Object($a.jsxs)(Jc,{center:!0,className:\"bg-muted rounded p-1\",gap:2,children:[Object($a.jsx)(Hi,{bold:!0,center:!0,children:st(\"group.create.confirm.guildbadge\")}),Object($a.jsx)(Gc,{badgeCode:function(){if(!n||!n.groupBadgeParts||!n.groupBadgeParts.length)return\"\";var e=\"\";return n.groupBadgeParts.forEach((function(t){return t.code&&(e+=t.code)})),e}(),isGroup:!0})]}),Object($a.jsxs)(Jc,{center:!0,className:\"bg-muted rounded p-1\",gap:2,children:[Object($a.jsx)(Hi,{bold:!0,center:!0,children:st(\"group.edit.color.guild.color\")}),Object($a.jsxs)(lc,{overflow:\"hidden\",className:\"rounded border\",children:[Object($a.jsx)(tc,{className:\"group-color-swatch\",style:{backgroundColor:\"#\"+s(0)}}),Object($a.jsx)(tc,{className:\"group-color-swatch\",style:{backgroundColor:\"#\"+s(1)}})]})]})]}),Object($a.jsxs)(Jc,{size:9,justifyContent:\"between\",children:[Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:n.groupName}),Object($a.jsx)(Hi,{children:n.groupDescription})]}),Object($a.jsx)(Hi,{overflow:\"auto\",children:st(\"group.create.confirm.info\")})]}),Object($a.jsx)(Hi,{center:!0,variant:\"white\",className:\"bg-primary rounded p-1\",children:st(\"group.create.confirm.buyinfo\",[\"amount\"],[a.toString()])})]})]}):null},Eu=function(e){var t=e.groupData,n=void 0===t?null:t,r=e.setGroupData,a=void 0===r?null:r,i=e.setCloseAction,s=void 0===i?null:i,u=e.close,d=void 0===u?null:u,j=e.isCreator,b=void 0!==j&&j,O=e.availableRooms,h=void 0===O?[]:O,f=Object(c.useState)(\"\"),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(\"\"),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(-1),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useCallback)((function(){return!!(n&&m&&m.length)&&(m===n.groupName&&_===n.groupDescription||(n.groupId<=0?!(C<=0)&&(a((function(e){var t=Object(bt.a)({},e);return t.groupName=m,t.groupDescription=_,t.groupHomeroomId=C,t})),!0):(ea(new l.ad(n.groupId,m,_||\"\")),!0)))}),[n,m,_,C,a]);return Object(c.useEffect)((function(){v(n.groupName||\"\"),E(n.groupDescription||\"\"),T(n.groupHomeroomId)}),[n]),Object(c.useEffect)((function(){return s({action:S}),function(){return s(null)}}),[s,S]),n?Object($a.jsxs)(Jc,{justifyContent:\"between\",overflow:\"auto\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{center:!0,className:\"col-3\",children:st(\"group.edit.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:m,maxLength:29,onChange:function(e){return v(e.target.value)}})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{center:!0,className:\"col-3\",children:st(\"group.edit.desc\")}),Object($a.jsx)(\"textarea\",{className:\"form-control form-control-sm\",value:_,maxLength:254,onChange:function(e){return E(e.target.value)}})]}),b&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{center:!0,className:\"col-3\",children:st(\"group.edit.base\")}),Object($a.jsx)(Jc,{fullWidth:!0,gap:1,children:Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:C,onChange:function(e){return T(parseInt(e.target.value))},children:[Object($a.jsx)(\"option\",{value:-1,disabled:!0,children:st(\"group.edit.base.select.room\")}),h&&h.map((function(e,t){return Object($a.jsx)(\"option\",{value:e.id,children:e.name},t)}))]})})]}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(tc,{className:\"col-3\",children:\"\\xa0\"}),Object($a.jsx)(Hi,{small:!0,children:st(\"group.edit.base.warning\")})]})]})]}),!b&&Object($a.jsx)(dc,{variant:\"danger\",onClick:function(){!n||n.groupId<=0||Ha.confirm(st(\"group.deleteconfirm.desc\"),(function(){ea(new l.Lc(n.groupId)),d&&d()}),null,null,null,st(\"group.deleteconfirm.title\"))},children:st(\"group.delete\")}),b&&Object($a.jsx)(Hi,{underline:!0,center:!0,fullWidth:!0,pointer:!0,onClick:function(e){return U(\"navigator/create\")},children:st(\"group.createroom\")})]}):null},Iu=[1,2,3,4],yu=function(e){var t=e.onClose,n=void 0===t?null:t,r=Object(c.useState)(1),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)(null),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(null),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useState)(null),v=Object(o.a)(m,2),p=v[0],x=v[1],_=Object(c.useState)(0),E=Object(o.a)(_,2),I=E[0],y=E[1],C=Object(c.useCallback)((function(e){var t=e.getParser(),n=[];t.availableRooms.forEach((function(e,t){return n.push({id:t,name:e})})),x(n),y(t.groupCost)}),[]);return dt(l.Ic,C),Object(c.useEffect)((function(){s(1),g({groupId:-1,groupName:null,groupDescription:null,groupHomeroomId:-1,groupState:1,groupCanMembersDecorate:!0,groupColors:null,groupBadgeParts:null}),ea(new l.Hc)}),[g]),f?Object($a.jsxs)(Pc,{className:\"nitro-group-creator\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"group.create.title\"),onCloseClick:function(){b(null),g(null),n&&n()}}),Object($a.jsxs)(Ec,{children:[Object($a.jsx)(lc,{center:!0,className:\"creator-tabs\",children:Iu.map((function(e,t){return Object($a.jsx)(lc,{center:!0,className:\"tab tab-\".concat(1===e?\"blue-flat\":4===e?\"yellow\":\"blue-arrow\",\" \").concat(i===e?\"active\":\"\"),children:Object($a.jsx)(Hi,{variant:\"white\",children:st(\"group.create.steplabel.\".concat(e))})},t)}))}),Object($a.jsxs)(Jc,{overflow:\"hidden\",children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsx)(tc,{className:\"nitro-group-tab-image tab-\".concat(i)}),Object($a.jsxs)(Jc,{grow:!0,gap:0,children:[Object($a.jsx)(Hi,{bold:!0,fontSize:4,children:st(\"group.create.stepcaption.\".concat(i))}),Object($a.jsx)(Hi,{children:st(\"group.create.stepdesc.\".concat(i))})]})]}),Object($a.jsxs)(Jc,{overflow:\"hidden\",children:[1===i&&Object($a.jsx)(Eu,{groupData:f,setGroupData:g,setCloseAction:b,close:null,isCreator:!0,availableRooms:p}),2===i&&Object($a.jsx)(pu,{groupData:f,setGroupData:g,setCloseAction:b}),3===i&&Object($a.jsx)(xu,{groupData:f,setGroupData:g,setCloseAction:b}),4===i&&Object($a.jsx)(_u,{groupData:f,setGroupData:g,purchaseCost:I})]}),Object($a.jsxs)(lc,{justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"link\",className:\"text-black\",onClick:function(){j&&j.action&&!j.action()||(1!==i?s((function(e){return e-1})):n())},children:st(1===i?\"generic.cancel\":\"group.create.previousstep\")}),Object($a.jsx)(dc,{disabled:4===i&&!je(),variant:4===i?je()?\"success\":\"danger\":\"primary\",onClick:function(){j&&j.action&&!j.action()||(4!==i?s((function(e){return 4===e?e:e+1})):function(){if(f){var e=[];f.groupBadgeParts.forEach((function(t){t.code&&(e.push(t.key),e.push(t.color),e.push(t.position))})),ea(new l.Gc(f.groupName,f.groupDescription,f.groupHomeroomId,f.groupColors[0],f.groupColors[1],e))}}())},children:st(4===i?je()?\"group.create.confirm.buy\":\"group.create.confirm.viprequired\":\"group.create.nextstep\")})]})]})]})]}):null},Cu=Object(d.a)((function e(){Object(u.a)(this,e)}));Cu.NOT_MEMBER=0,Cu.MEMBER=1,Cu.REQUEST_PENDING=2;var Tu=Object(d.a)((function e(){Object(u.a)(this,e)}));Tu.REGULAR=0,Tu.EXCLUSIVE=1,Tu.PRIVATE=2;var Su=[\"groupInformation\",\"onClose\",\"overflow\"],Nu=[\"regular\",\"exclusive\",\"private\"],Ru=function(e){var t=e.groupInformation,n=void 0===t?null:t,r=e.onClose,a=void 0===r?null:r,i=e.overflow,s=void 0===i?\"hidden\":i,o=Object(Za.a)(e,Su),u=n&&n.ownerName===ae().userName,d=Object(c.useCallback)((function(e){switch(e){case\"members\":Ca(n.id);break;case\"members_pending\":Ca(n.id,2);break;case\"manage\":ya(n.id);break;case\"homeroom\":Da(n.roomId);break;case\"furniture\":U(\"catalog/open/\"+y.GUILD_CUSTOM_FURNI);break;case\"popular_groups\":U(\"navigator/search/groups\")}}),[n]);return n?Object($a.jsxs)(cc,Object(bt.a)(Object(bt.a)({overflow:s},o),{},{children:[Object($a.jsxs)(Jc,{center:!0,size:3,overflow:\"hidden\",children:[Object($a.jsx)(lc,{alignItems:\"center\",overflow:\"hidden\",className:\"group-badge\",children:Object($a.jsx)(Gc,{badgeCode:n.badge,isGroup:!0,scale:2})}),Object($a.jsxs)(Jc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,underline:!0,pointer:!0,onClick:function(){return d(\"members\")},children:st(\"group.membercount\",[\"totalMembers\"],[n.membersCount.toString()])}),n.pendingRequestsCount>0&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,underline:!0,pointer:!0,onClick:function(){return d(\"members_pending\")},children:st(\"group.pendingmembercount\",[\"amount\"],[n.pendingRequestsCount.toString()])}),n.isOwner&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,underline:!0,pointer:!0,onClick:function(){return d(\"manage\")},children:st(\"group.manage\")})]}),n.membershipType===Cu.NOT_MEMBER||n.membershipType===Cu.REQUEST_PENDING?null:u?Object($a.jsx)(\"i\",{className:\"icon icon-group-owner\",title:st(\"group.youareowner\")}):n.isAdmin?Object($a.jsx)(\"i\",{className:\"icon icon-group-admin\",title:st(\"group.youareadmin\")}):Object($a.jsx)(\"i\",{className:\"icon icon-group-member\",title:st(\"group.youaremember\")})]}),Object($a.jsxs)(Jc,{size:9,justifyContent:\"between\",overflow:\"auto\",children:[Object($a.jsxs)(Jc,{overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,children:n.title}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"i\",{className:\"icon icon-group-type-\"+n.type,title:st(\"group.edit.settings.type.\".concat(Nu[n.type],\".help\"))}),n.canMembersDecorate&&Object($a.jsx)(\"i\",{className:\"icon icon-group-decorate\",title:st(\"group.memberscandecorate\")})]})]}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,children:st(\"group.created\",[\"date\",\"owner\"],[n.createdAt,n.ownerName])})]}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,overflow:\"auto\",className:\"group-description\",children:n.description})]}),Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,underline:!0,pointer:!0,onClick:function(){return d(\"homeroom\")},children:st(\"group.linktobase\")}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,underline:!0,pointer:!0,onClick:function(){return d(\"furniture\")},children:st(\"group.buyfurni\")}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,underline:!0,pointer:!0,onClick:function(){return d(\"popular_groups\")},children:st(\"group.showgroups\")})]}),n.type!==Tu.PRIVATE&&Object($a.jsx)(dc,{disabled:n.membershipType===Cu.REQUEST_PENDING||u,onClick:function(){n.type===Tu.PRIVATE&&n.membershipType===Cu.NOT_MEMBER||(n.membershipType!==Cu.MEMBER?n&&Ta(n.id):Ha.confirm(st(\"group.leaveconfirm.desc\"),(function(){ea(new l.Xc(n.id,ae().userId)),a&&a()}),null))},children:st(u?\"group.youareowner\":n.type===Tu.PRIVATE?\"\":n.membershipType===Cu.MEMBER?\"group.leave\":n.membershipType===Cu.NOT_MEMBER&&n.type===Tu.REGULAR?\"group.join\":n.membershipType===Cu.REQUEST_PENDING?\"group.membershippending\":n.membershipType===Cu.NOT_MEMBER&&n.type===Tu.EXCLUSIVE?\"group.requestmembership\":void 0)})]})]})]})):null},ku=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useCallback)((function(e){var t=e.getParser();(r&&r.id===t.id||t.flag)&&a(t)}),[r]);return dt(l.Pc,i),r?Object($a.jsxs)(Pc,{className:\"nitro-group-information-standalone\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"group.window.title\"),onCloseClick:function(e){return a(null)}}),Object($a.jsx)(Ec,{children:Object($a.jsx)(Ru,{groupInformation:r,onClose:function(){return a(null)}})})]}):null},Au=[\"regular\",\"exclusive\",\"private\"],wu=function(e){var t=e.groupData,n=void 0===t?null:t,r=e.setGroupData,a=void 0===r?null:r,i=e.setCloseAction,s=void 0===i?null:i,u=Object(c.useState)(n.groupState),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(n.groupCanMembersDecorate),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useCallback)((function(){return!!n&&(j===n.groupState&&f===n.groupCanMembersDecorate||(n.groupId<=0?(a((function(e){var t=Object(bt.a)({},e);return t.groupState=j,t.groupCanMembersDecorate=f,t})),!0):(ea(new l.bd(n.groupId,j,f?0:1)),!0)))}),[n,j,f,a]);return Object(c.useEffect)((function(){b(n.groupState),g(n.groupCanMembersDecorate)}),[n]),Object(c.useEffect)((function(){return s({action:m}),function(){return s(null)}}),[s,m]),Object($a.jsxs)(Jc,{overflow:\"auto\",children:[Object($a.jsx)(Jc,{children:Au.map((function(e,t){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"groupState\",checked:j===t,onChange:function(e){return b(t)}}),Object($a.jsxs)(Jc,{gap:0,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"i\",{className:\"icon icon-group-type-\".concat(t)}),Object($a.jsx)(Hi,{bold:!0,children:st(\"group.edit.settings.type.\".concat(e,\".label\"))})]}),Object($a.jsx)(Hi,{children:st(\"group.edit.settings.type.\".concat(e,\".help\"))})]})]},t)}))}),Object($a.jsx)(Mi,{}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:f,onChange:function(e){return g((function(e){return!e}))}}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"group.edit.settings.rights.caption\")}),Object($a.jsx)(Hi,{children:st(\"group.edit.settings.rights.members.help\")})]})]})]})},Du=[1,2,3,5],Uu=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=function(){d((function(e){return e&&e.action&&e.action(),null})),h(null)},g=Object(c.useCallback)((function(e){var t=e.getParser();O&&O.groupId===t.id&&h((function(e){var n=Object(bt.a)({},e);return n.groupName=t.title,n.groupDescription=t.description,n.groupState=t.type,n.groupCanMembersDecorate=t.canMembersDecorate,n}))}),[O]);dt(l.Pc,g);var m=Object(c.useCallback)((function(e){var t=e.getParser(),n=[];t.badgeParts.forEach((function(e,t){n.push(new l.Dc(e.isBase?l.Dc.BASE:l.Dc.SYMBOL,e.key,e.color,e.position))})),h({groupId:t.id,groupName:t.title,groupDescription:t.description,groupHomeroomId:t.roomId,groupState:t.state,groupCanMembersDecorate:t.canMembersDecorate,groupColors:[t.colorA,t.colorB],groupBadgeParts:n})}),[h]);return dt(l.dd,m),!O||O.groupId<=0?null:Object($a.jsxs)(Pc,{className:\"nitro-group-manager\",children:[Object($a.jsx)(Tc,{headerText:st(\"group.window.title\"),onCloseClick:f}),Object($a.jsx)(Di,{children:Du.map((function(e){return Object($a.jsx)(Ai,{isActive:r===e,onClick:function(){return function(e){u&&u.action&&u.action(),a(e)}(e)},children:st(\"group.edit.tab.\".concat(e))},e)}))}),Object($a.jsxs)(Ec,{children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsx)(tc,{className:\"nitro-group-tab-image tab-\".concat(r)}),Object($a.jsxs)(Jc,{grow:!0,gap:0,children:[Object($a.jsx)(Hi,{bold:!0,fontSize:4,children:st(\"group.edit.tabcaption.\".concat(r))}),Object($a.jsx)(Hi,{children:st(\"group.edit.tabdesc.\".concat(r))})]})]}),Object($a.jsxs)(Jc,{grow:!0,overflow:\"hidden\",children:[1===r&&Object($a.jsx)(Eu,{groupData:O,setGroupData:h,setCloseAction:d,close:f}),2===r&&Object($a.jsx)(pu,{groupData:O,setGroupData:h,setCloseAction:d,skipDefault:!0}),3===r&&Object($a.jsx)(xu,{groupData:O,setGroupData:h,setCloseAction:d}),5===r&&Object($a.jsx)(wu,{groupData:O,setGroupData:h,setCloseAction:d})]})]})]})},Pu=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(-1),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(0),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(\"\"),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(null),N=Object(o.a)(S,2),k=N[0],A=N[1],w=function(e){if(e.rank===l.Wc.OWNER)return\"group.members.owner\";if(O.admin){if(e.rank===l.Wc.ADMIN)return\"group.members.removerights\";if(e.rank===l.Wc.MEMBER)return\"group.members.giverights\"}return\"\"},D=Object(c.useCallback)((function(){-1!==r&&-1!==u&&-1!==m&&ea(new l.Rc(r,m,C,u))}),[r,u,m,C]),U=Object(c.useCallback)((function(e){var t=e.getParser();h(t),d(t.level),E(Math.ceil(t.totalMembersCount/t.pageSize))}),[]);dt(l.Sc,U);var P=Object(c.useCallback)((function(e){var t=e.getParser();Ha.confirm(st(t.furnitureCount>0?\"group.kickconfirm.desc\":\"group.kickconfirm_nofurni.desc\",[\"user\",\"amount\"],[k,t.furnitureCount.toString()]),(function(){ea(new l.Xc(O.groupId,t.userId)),D()}),null),A(null)}),[O,k,D]);dt(l.Jc,P);var L=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2)){var n=parseInt(t[1])||-1,r=parseInt(t[2])||3;a(n),d(r)}}),[]);return Object(c.useEffect)((function(){var e={linkReceived:L,eventUrlPrefix:\"group-members/\"};return R(e),function(){return B(e)}}),[L]),Object(c.useEffect)((function(){v(0)}),[r,u,C]),Object(c.useEffect)((function(){-1!==r&&-1!==u&&-1!==m&&ea(new l.Rc(r,m,C,u))}),[r,u,m,C]),Object(c.useEffect)((function(){-1!==r&&(d(-1),h(null),E(0),T(\"\"),A(null))}),[r]),-1!==r&&O?Object($a.jsxs)(Pc,{className:\"nitro-group-members\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"group.members.title\",[\"groupName\"],[O?O.groupTitle:\"\"]),onCloseClick:function(e){return a(-1)}}),Object($a.jsxs)(Ec,{overflow:\"hidden\",children:[Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsx)(lc,{center:!0,className:\"group-badge\",children:Object($a.jsx)(Gc,{badgeCode:O.badge,isGroup:!0,className:\"mx-auto d-block\"})}),Object($a.jsxs)(Jc,{fullWidth:!0,gap:1,children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm w-100\",placeholder:st(\"group.members.searchinfo\"),value:C,onChange:function(e){return T(e.target.value)}}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm w-100\",value:u,onChange:function(e){return d(parseInt(e.target.value))},children:[Object($a.jsx)(\"option\",{value:\"0\",children:st(\"group.members.search.all\")}),Object($a.jsx)(\"option\",{value:\"1\",children:st(\"group.members.search.admins\")}),Object($a.jsx)(\"option\",{value:\"2\",children:st(\"group.members.search.pending\")})]})]})]}),Object($a.jsx)(cc,{columnCount:2,overflow:\"auto\",className:\"nitro-group-members-list-grid\",children:O.result.map((function(e,t){return Object($a.jsxs)(lc,{gap:2,alignItems:\"center\",overflow:\"hidden\",className:\"member-list-item bg-white rounded p-2\",children:[Object($a.jsx)(\"div\",{className:\"avatar-head cursor-pointer\",onClick:function(){return Ga(e.id)},children:Object($a.jsx)(Mc,{figure:e.figure,headOnly:!0,direction:2})}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{bold:!0,small:!0,pointer:!0,onClick:function(t){return Ga(e.id)},children:e.name}),e.rank!==l.Wc.REQUESTED&&Object($a.jsx)(Hi,{small:!0,italics:!0,variant:\"muted\",children:st(\"group.members.since\",[\"date\"],[e.joinedAt])})]}),Object($a.jsxs)(Jc,{gap:1,children:[e.rank!==l.Wc.REQUESTED&&Object($a.jsx)(lc,{center:!0,children:Object($a.jsx)(tc,{pointer:O.admin,className:\"icon icon-group-small-\".concat(e.rank===l.Wc.OWNER?\"owner\":e.rank===l.Wc.ADMIN?\"admin\":O.admin&&e.rank===l.Wc.MEMBER?\"not-admin\":\"\"),title:st(w(e)),onClick:function(t){return function(e){O.admin&&e.rank!==l.Wc.OWNER&&(e.rank!==l.Wc.ADMIN?ea(new l.Bc(O.groupId,e.id)):ea(new l.Cc(O.groupId,e.id)),D())}(e)}})}),O.admin&&e.rank===l.Wc.REQUESTED&&Object($a.jsx)(lc,{alignItems:\"center\",children:Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-accept\",title:st(\"group.members.accept\"),onClick:function(t){return function(e){O.admin&&e.rank===l.Wc.REQUESTED&&(ea(new l.Tc(O.groupId,e.id)),D())}(e)}})}),O.admin&&e.rank!==l.Wc.OWNER&&e.id!==ae().userId&&Object($a.jsx)(lc,{alignItems:\"center\",children:Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-deny\",title:st(e.rank===l.Wc.REQUESTED?\"group.members.reject\":\"group.members.kick\"),onClick:function(t){return function(e){if(O.admin){if(e.rank===l.Wc.REQUESTED)return ea(new l.Uc(O.groupId,e.id)),void D();A(e.name),ea(new l.Kc(O.groupId,e.id))}}(e)}})})]})]},t)}))}),Object($a.jsxs)(lc,{gap:1,justifyContent:\"between\",alignItems:\"center\",children:[Object($a.jsx)(dc,{disabled:0===O.pageIndex,onClick:function(e){return v((function(e){return e-1}))},children:Object($a.jsx)(mc.a,{icon:\"chevron-left\"})}),Object($a.jsx)(Hi,{small:!0,children:st(\"group.members.pageinfo\",[\"amount\",\"page\",\"totalPages\"],[O.totalMembersCount.toString(),(O.pageIndex+1).toString(),_.toString()])}),Object($a.jsx)(dc,{disabled:O.pageIndex===_-1,onClick:function(e){return v((function(e){return e+1}))},children:Object($a.jsx)(mc.a,{icon:\"chevron-right\"})})]})]})]}):null},Lu=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useCallback)((function(e){var t=e.getParser();a(!1),Da(t.roomId)}),[]);dt(l.Vc,j);var b=Object(c.useCallback)((function(e){var t=e.getParser(),n={badgeBases:[],badgeSymbols:[],badgePartColors:[],groupColorsA:[],groupColorsB:[]};t.bases.forEach((function(e,t){return n.badgeBases.push({id:t,images:e})})),t.symbols.forEach((function(e,t){return n.badgeSymbols.push({id:t,images:e})})),t.partColors.forEach((function(e,t){return n.badgePartColors.push({id:t,color:e})})),t.colorsA.forEach((function(e,t){return n.groupColorsA.push({id:t,color:e})})),t.colorsB.forEach((function(e,t){return n.groupColorsB.push({id:t,color:e})})),n.badgeBases.sort(bu),n.badgeSymbols.sort(bu),n.badgePartColors.sort(bu),n.groupColorsA.sort(bu),n.groupColorsB.sort(bu),d(n)}),[d]);dt(l.Fc,b);var O=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"create\":return void a(!0);case\"manage\":if(!t[2])return;return a(!1),void ea(new l.cd(Number(t[2])))}}),[]);return Object(c.useEffect)((function(){var e={linkReceived:O,eventUrlPrefix:\"groups/\"};return R(e),function(){return B(e)}}),[O]),Object(c.useEffect)((function(){ea(new l.Ec)}),[]),Object($a.jsxs)(hu,{value:{groupCustomize:u,setGroupCustomize:d},children:[r&&Object($a.jsx)(yu,{onClose:function(){return a(!1)}}),!r&&Object($a.jsx)(Uu,{}),Object($a.jsx)(Pu,{}),Object($a.jsx)(ku,{})]})},Mu=Object(d.a)((function e(){Object(u.a)(this,e)}));Mu.NONE=\"NONE\",Mu.ERROR=\"ERROR\",Mu.REJECTED=\"REJECTED\",Mu.USER_CREATE=\"USER_CREATE\",Mu.USER_PENDING=\"USER_PENDING\",Mu.USER_ONGOING=\"USER_ONGOING\",Mu.USER_FEEDBACK=\"USER_FEEDBACK\",Mu.USER_THANKS=\"USER_THANKS\",Mu.USER_GUIDE_DISCONNECTED=\"USER_GUIDE_DISCONNECTED\",Mu.GUIDE_TOOL_MENU=\"GUIDE_TOOL_MENU\",Mu.GUIDE_ACCEPT=\"GUIDE_ACCEPT\",Mu.GUIDE_ONGOING=\"GUIDE_ONGOING\",Mu.GUIDE_CLOSED=\"GUIDE_CLOSED\",Mu.GUARDIAN_CHAT_REVIEW_ACCEPT=\"GUARDIAN_CHAT_REVIEW_ACCEPT\",Mu.GUARDIAN_CHAT_REVIEW_WAIT_FOR_VOTERS=\"GUARDIAN_CHAT_REVIEW_WAIT_FOR_VOTERS\",Mu.GUARDIAN_CHAT_REVIEW_VOTE=\"GUARDIAN_CHAT_REVIEW_VOTE\",Mu.GUARDIAN_CHAT_REVIEW_WAIT_FOR_RESULTS=\"GUARDIAN_CHAT_REVIEW_WAIT_FOR_RESULTS\",Mu.GUARDIAN_CHAT_REVIEW_RESULTS=\"GUARDIAN_CHAT_REVIEW_RESULTS\";var Fu=function(){function e(t,n){Object(u.a)(this,e),this._message=void 0,this._roomId=void 0,this._message=t,this._roomId=n}return Object(d.a)(e,[{key:\"message\",get:function(){return this._message}},{key:\"roomId\",get:function(){return this._roomId}}]),e}(),Hu=function(){function e(t){Object(u.a)(this,e),this._userId=void 0,this._messages=void 0,this._userId=t,this._messages=[]}return Object(d.a)(e,[{key:\"addChat\",value:function(e){this._messages.push(e)}},{key:\"userId\",get:function(){return this._userId}},{key:\"messages\",get:function(){return this._messages}}]),e}(),Bu=function(e){var t=e.helpRequestDescription,n=void 0===t?null:t,r=(e.helpRequestAverageTime,function(e){return ea(new l.md(e))});return Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(Jc,{gap:0,className:\"bg-muted p-2 rounded\",children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"guide.help.request.guide.accept.request.title\")}),Object($a.jsx)(Hi,{variant:\"muted\",children:st(\"guide.help.request.type.1\")}),Object($a.jsx)(Hi,{wrap:!0,textBreak:!0,children:n})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return r(!0)},children:st(\"guide.help.request.guide.accept.accept.button\")}),Object($a.jsx)(dc,{variant:\"danger\",onClick:function(e){return r(!1)},children:st(\"guide.help.request.guide.accept.skip.link\")})]})]})},Gu=function(e){var t=e.isOnDuty,n=void 0!==t&&t,r=e.isHandlingGuideRequests,a=void 0!==r&&r,c=e.setIsHandlingGuideRequests,i=void 0===c?null:c,s=e.isHandlingHelpRequests,o=void 0!==s&&s,l=e.setIsHandlingHelpRequests,u=void 0===l?null:l,d=e.isHandlingBullyReports,j=void 0!==d&&d,b=e.setIsHandlingBullyReports,O=void 0===b?null:b,h=e.guidesOnDuty,f=void 0===h?0:h,g=e.helpersOnDuty,m=void 0===g?0:g,v=e.guardiansOnDuty,p=void 0===v?0:v,x=e.processAction,_=void 0===x?null:x;return Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,className:\"bg-muted p-2 rounded\",children:[Object($a.jsx)(tc,{className:\"duty-switch\"+(n?\"\":\" off\"),onClick:function(e){return _(\"toggle_duty\")}}),Object($a.jsxs)(Jc,{gap:0,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"guide.help.guide.tool.yourstatus\")}),Object($a.jsx)(Hi,{children:st(\"guide.help.guide.tool.duty.\".concat(n?\"on\":\"off\"))})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"guide.help.guide.tool.tickettypeselection.caption\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",disabled:n,type:\"checkbox\",checked:a,onChange:function(e){return i(e.target.checked)}}),Object($a.jsx)(Hi,{children:st(\"guide.help.guide.tool.tickettypeselection.guiderequests\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",disabled:n,type:\"checkbox\",checked:o,onChange:function(e){return u(e.target.checked)}}),Object($a.jsx)(Hi,{children:st(\"guide.help.guide.tool.tickettypeselection.onlyhelprequests\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",disabled:n,type:\"checkbox\",checked:j,onChange:function(e){return O(e.target.checked)}}),Object($a.jsx)(Hi,{children:st(\"guide.help.guide.tool.tickettypeselection.bullyreports\")})]})]}),Object($a.jsx)(\"hr\",{className:\"bg-dark m-0\"}),Object($a.jsxs)(lc,{center:!0,gap:2,children:[Object($a.jsx)(tc,{className:\"info-icon\"}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(tc,{dangerouslySetInnerHTML:{__html:st(\"guide.help.guide.tool.guidesonduty\",[\"amount\"],[f.toString()])}}),Object($a.jsx)(tc,{dangerouslySetInnerHTML:{__html:st(\"guide.help.guide.tool.helpersonduty\",[\"amount\"],[m.toString()])}}),Object($a.jsx)(tc,{dangerouslySetInnerHTML:{__html:st(\"guide.help.guide.tool.guardiansonduty\",[\"amount\"],[p.toString()])}})]})]}),Object($a.jsx)(\"hr\",{className:\"bg-dark m-0\"}),Object($a.jsxs)(lc,{justifyContent:\"between\",gap:2,children:[Object($a.jsx)(dc,{disabled:!0,onClick:function(e){return _(\"forum_link\")},children:st(\"guide.help.guide.tool.forum.link\")}),Object($a.jsx)(dc,{disabled:!0,children:st(\"guide.help.guide.tool.skill.link\")})]})]})},Wu=function(e){var t=e.isGuide,n=void 0!==t&&t,r=(e.userId,e.userName),a=void 0===r?null:r,i=e.userFigure,s=void 0===i?null:i,u=e.isTyping,d=void 0!==u&&u,j=e.messageGroups,b=void 0===j?[]:j,O=Object(c.useState)(\"\"),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useCallback)((function(){ea(new l.ld)}),[]),v=Object(c.useCallback)((function(){ea(new l.nd)}),[]),p=Object(c.useCallback)((function(){ea(new l.vd)}),[]),x=Object(c.useCallback)((function(e){Da(e.getParser().requesterRoomId)}),[]);dt(l.ud,x);var _=Object(c.useCallback)((function(){f&&f.length&&(ea(new l.pd(f)),g(\"\"))}),[f]),E=Object(c.useCallback)((function(e){\"Enter\"===e.key&&_()}),[_]),I=Object(c.useCallback)((function(e){return e===ae().userId}),[]);return Object($a.jsxs)(Jc,{fullHeight:!0,children:[Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,className:\"bg-muted p-2 rounded\",children:[n&&Object($a.jsxs)(bc,{children:[Object($a.jsx)(dc,{onClick:m,children:st(\"guide.help.request.guide.ongoing.visit.button\")}),Object($a.jsx)(dc,{disabled:!0,onClick:v,children:st(\"guide.help.request.guide.ongoing.invite.button\")})]}),!n&&Object($a.jsxs)(Jc,{gap:0,children:[Object($a.jsx)(Hi,{bold:!0,children:a}),Object($a.jsx)(Hi,{children:st(\"guide.help.request.user.ongoing.guide.desc\")})]}),Object($a.jsx)(dc,{variant:\"danger\",disabled:!0,children:st(\"guide.help.common.report.link\")})]}),Object($a.jsx)(Jc,{overflow:\"hidden\",gap:1,className:\"bg-muted rounded chat-messages p-2\",children:Object($a.jsx)(Jc,{overflow:\"auto\",children:b.map((function(e,t){return Object($a.jsxs)(lc,{fullWidth:!0,justifyContent:I(e.userId)?\"end\":\"start\",gap:2,children:[Object($a.jsx)(tc,{shrink:!0,className:\"message-avatar\",children:!I(e.userId)&&Object($a.jsx)(Mc,{figure:s,direction:2})}),Object($a.jsxs)(tc,{className:\"bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-\"+(I(e.userId)?\"right\":\"left\"),children:[Object($a.jsxs)(Hi,{bold:!0,children:[I(e.userId)&&ae().userName,!I(e.userId)&&a]}),e.messages.map((function(e,t){return Object($a.jsx)(tc,{className:\"text-break\",children:e.message},t)}))]}),I(e.userId)&&Object($a.jsx)(tc,{className:\"message-avatar flex-shrink-0\",children:Object($a.jsx)(Mc,{figure:ae().figure,direction:4})})]},t)}))})}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:st(\"guide.help.request.guide.ongoing.input.empty\",[\"name\"],[a]),value:f,onChange:function(e){return g(e.target.value)},onKeyDown:E}),Object($a.jsx)(dc,{variant:\"success\",onClick:_,children:st(\"widgets.chatinput.say\")})]}),d&&Object($a.jsx)(Hi,{variant:\"muted\",children:st(\"guide.help.common.typing\")})]}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:p,children:st(\"guide.help.request.\"+(n?\"guide\":\"user\")+\".ongoing.close.link\")})]})},Vu=function(e){var t=e.userRequest,n=void 0===t?\"\":t,r=e.setUserRequest,a=void 0===r?null:r,i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1];return Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"guide.help.request.user.create.help\")}),Object($a.jsx)(\"textarea\",{className:\"request-message\",maxLength:140,value:n,onChange:function(e){return a(e.target.value)},placeholder:st(\"guide.help.request.user.create.input.help\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",disabled:n.length<15||u,onClick:function(){d(!0),ea(new l.hd(1,n))},children:st(\"guide.help.request.user.create.input.button\")})]})},qu=function(e){var t=e.userName,n=void 0===t?null:t,r=Object(c.useCallback)((function(e){ea(new l.kd(e))}),[]);return Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(lc,{justifyContent:\"between\",gap:1,className:\"bg-muted p-2 rounded\",children:[Object($a.jsxs)(Jc,{gap:0,children:[Object($a.jsx)(Hi,{bold:!0,children:n}),Object($a.jsx)(Hi,{children:st(\"guide.help.request.user.feedback.guide.desc\")})]}),Object($a.jsx)(dc,{variant:\"danger\",disabled:!0,children:st(\"guide.help.common.report.link\")})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"guide.help.request.user.feedback.closed.title\")}),Object($a.jsx)(Hi,{children:st(\"guide.help.request.user.feedback.closed.desc\")})]}),n&&n.length>0&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"hr\",{className:\"bg-dark m-0 mt-auto\"}),Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{center:!0,bold:!0,children:st(\"guide.help.request.user.feedback.question\")}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(e){return r(!0)},children:st(\"guide.help.request.user.feedback.positive.button\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"danger\",onClick:function(e){return r(!1)},children:st(\"guide.help.request.user.feedback.negative.button\")})]})]})]})]})},Yu=function(e){var t=e.helpRequestDescription,n=void 0===t?null:t,r=e.helpRequestAverageTime,a=void 0===r?0:r;return Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(Jc,{gap:0,className:\"bg-muted rounded p-2\",children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"guide.help.request.guide.accept.request.title\")}),Object($a.jsx)(Hi,{variant:\"muted\",children:st(\"guide.help.request.type.1\")}),Object($a.jsx)(Hi,{wrap:!0,textBreak:!0,children:n})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"guide.help.request.user.pending.info.title\")}),Object($a.jsx)(Hi,{children:st(\"guide.help.request.user.pending.info.message\")}),Object($a.jsx)(Hi,{children:st(\"guide.help.request.user.pending.info.waiting\",[\"waitingtime\"],[a.toString()])})]}),Object($a.jsx)(dc,{variant:\"danger\",onClick:function(){return ea(new l.td)},children:st(\"guide.help.request.user.pending.cancel.button\")})]})},zu=function(e){return Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"guide.help.request.user.thanks.info.title\")}),Object($a.jsx)(Hi,{children:st(\"guide.help.request.user.thanks.info.desc\")})]})},Ku=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(st(\"guide.help.guide.tool.title\")),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(Mu.GUIDE_TOOL_MENU),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(!1),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(!1),N=Object(o.a)(S,2),k=N[0],A=N[1],w=Object(c.useState)(!1),D=Object(o.a)(w,2),U=D[0],P=D[1],M=Object(c.useState)(0),F=Object(o.a)(M,2),H=F[0],G=F[1],W=Object(c.useState)(0),V=Object(o.a)(W,2),q=V[0],Y=V[1],z=Object(c.useState)(0),K=Object(o.a)(z,2),Q=K[0],X=K[1],J=Object(c.useState)(\"\"),Z=Object(o.a)(J,2),$=Z[0],ee=Z[1],te=Object(c.useState)(null),ne=Object(o.a)(te,2),re=ne[0],ce=ne[1],ie=Object(c.useState)(0),se=Object(o.a)(ie,2),oe=se[0],le=se[1],ue=Object(c.useState)(0),de=Object(o.a)(ue,2),je=de[0],be=de[1],Oe=Object(c.useState)(null),he=Object(o.a)(Oe,2),fe=he[0],ge=he[1],me=Object(c.useState)(null),ve=Object(o.a)(me,2),pe=ve[0],xe=ve[1],_e=Object(c.useState)(!1),Ee=Object(o.a)(_e,2),Ie=Ee[0],ye=Ee[1],Ce=Object(c.useState)([]),Te=Object(o.a)(Ce,2),Se=Te[0],Ne=Te[1],Re=Object(c.useCallback)((function(e,t){switch(e){case Mu.GUIDE_TOOL_MENU:d(st(\"guide.help.guide.tool.title\")),h(!1);break;case Mu.GUIDE_ACCEPT:d(st(\"guide.help.request.guide.accept.title\")),h(!0);break;case Mu.GUIDE_ONGOING:d(st(\"guide.help.request.guide.ongoing.title\",[\"name\"],[t])),h(!0);break;case Mu.USER_CREATE:d(st(\"guide.help.request.user.create.title\")),h(!1);break;case Mu.USER_PENDING:d(st(\"guide.help.request.user.pending.title\")),h(!0);break;case Mu.USER_ONGOING:d(st(\"guide.help.request.user.ongoing.title\",[\"name\"],[t])),h(!0);break;case Mu.USER_FEEDBACK:d(st(\"guide.help.request.user.feedback.title\")),h(!0);break;case Mu.USER_THANKS:d(st(\"guide.help.request.user.thanks.title\")),h(!1)}v(e),a(!0)}),[]),ke=Object(c.useCallback)((function(e){switch(e.type){case Et.SHOW_GUIDE_TOOL:return void a(!0);case Et.HIDE_GUIDE_TOOL:return void a(!1);case Et.TOGGLE_GUIDE_TOOL:return void a((function(e){return!e}));case Et.CREATE_HELP_REQUEST:return void Re(Mu.USER_CREATE)}}),[Re]);Qt(Et.SHOW_GUIDE_TOOL,ke),Qt(Et.HIDE_GUIDE_TOOL,ke),Qt(Et.TOGGLE_GUIDE_TOOL,ke),Qt(Et.CREATE_HELP_REQUEST,ke);var Ae=Object(c.useCallback)((function(e){!e.getParser().isAllowed(l.gf.USE_GUIDE_TOOL)&&_&&(E(!1),ea(new l.rd(!1,!1,!1,!1)))}),[_,E]);dt(l.ff,Ae);var we=Object(c.useCallback)((function(e){var t=e.getParser();E(t.onDuty),Y(t.guidesOnDuty),G(t.helpersOnDuty),X(t.guardiansOnDuty)}),[E,G,Y,X]);dt(l.fd,we);var De=Object(c.useCallback)((function(e){var t=e.getParser();ce(t.helpRequestDescription),le(t.roleSpecificWaitTime),t.asGuide&&_&&Re(Mu.GUIDE_ACCEPT),t.asGuide||Re(Mu.USER_PENDING)}),[_,Re]);dt(l.gd,De);var Ue=Object(c.useCallback)((function(e){var t=e.getParser();_?(be(t.requesterUserId),ge(t.requesterName),xe(t.requesterFigure),Re(Mu.GUIDE_ONGOING,t.requesterName)):(be(t.guideUserId),ge(t.guideName),xe(t.guideFigure),Re(Mu.USER_ONGOING,t.guideName))}),[_,Re]);dt(l.wd,Ue);var Pe=Object(c.useCallback)((function(e){var t=e.getParser();ye(t.isTyping)}),[]);dt(l.sd,Pe);var Le=Object(c.useCallback)((function(e){var t=e.getParser(),n=Object(ut.a)(Se),r=n[n.length-1];r&&r.userId===t.senderId||(r=new Hu(t.senderId),n.push(r)),r.addChat(new Fu(t.chatMessage)),Ne(n)}),[Se]);dt(l.qd,Le);var Me=Object(c.useCallback)((function(e){var t=e.getParser(),n=Object(ut.a)(Se),r=n[n.length-1],a=_?ae().userId:je;r&&r.userId===a||(r=new Hu(a),n.push(r)),r.addChat(new Fu(t.roomName,t.roomId)),Ne(n)}),[_,Se,je]);dt(l.od,Me);var Fe=Object(c.useCallback)((function(e){_?(be(0),ge(null),xe(null),ye(!1),Ne([]),Re(Mu.GUIDE_TOOL_MENU)):Re(Mu.USER_FEEDBACK)}),[_,Re]);dt(l.jd,Fe);var He=Object(c.useCallback)((function(e){be(0),ge(null),xe(null),ye(!1),Ne([]),Re(_?Mu.GUIDE_TOOL_MENU:Mu.USER_THANKS)}),[_,Re]);dt(l.id,He);var Be=Object(c.useCallback)((function(e){var t=e.split(\"/\");t.length<2||t[1]}),[]);Object(c.useEffect)((function(){var e={linkReceived:Be,eventUrlPrefix:\"help/\"};return R(e),function(){return B(e)}}),[Be]);var Ge=Object(c.useCallback)((function(e){switch(e){case\"close\":return a(!1),ee(\"\"),void v(Mu.GUIDE_TOOL_MENU);case\"toggle_duty\":return C||k||U?void E((function(e){return ea(new l.rd(!e,!e&&k,!e&&U,!e&&C)),!e})):void Kt(new At([st(\"guide.help.guide.tool.noqueueselected.message\")],null,null,null,st(\"guide.help.guide.tool.noqueueselected.caption\"),null));case\"forum_link\":var t=L(\"group.homepage.url\",\"\").replace(\"%groupid%\",L(\"guide.help.alpha.groupid\",\"0\"));return void window.open(t)}}),[C,k,U]);return r?Object($a.jsxs)(Pc,{className:\"nitro-guide-tool\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:u,onCloseClick:function(e){return Ge(\"close\")},noCloseButton:O}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[m===Mu.GUIDE_TOOL_MENU&&Object($a.jsx)(Gu,{isOnDuty:_,isHandlingGuideRequests:k,setIsHandlingGuideRequests:A,isHandlingHelpRequests:U,setIsHandlingHelpRequests:P,isHandlingBullyReports:C,setIsHandlingBullyReports:T,guidesOnDuty:q,helpersOnDuty:H,guardiansOnDuty:Q,processAction:Ge}),m===Mu.GUIDE_ACCEPT&&Object($a.jsx)(Bu,{helpRequestDescription:re,helpRequestAverageTime:oe}),[Mu.GUIDE_ONGOING,Mu.USER_ONGOING].includes(m)&&Object($a.jsx)(Wu,{isGuide:_,userId:je,userName:fe,userFigure:pe,isTyping:Ie,messageGroups:Se}),m===Mu.USER_CREATE&&Object($a.jsx)(Vu,{userRequest:$,setUserRequest:ee}),m===Mu.USER_PENDING&&Object($a.jsx)(Yu,{helpRequestDescription:re,helpRequestAverageTime:oe}),m===Mu.USER_FEEDBACK&&Object($a.jsx)(qu,{userName:fe}),m===Mu.USER_THANKS&&Object($a.jsx)(zu,{})]})]}):null},Qu=n(131),Xu=n(196),Ju=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Rn().userFigure,x=void 0===p?null:p,_=Tn(),E=_.purse,I=void 0===E?null:E,y=_.clubStatus,C=void 0===y?null:y,T=bn(),S=T.badgeCodes,N=void 0===S?[]:S,k=T.activate,A=void 0===k?null:k,w=T.deactivate,D=void 0===w?null:w,P=function(){return st(\"hccenter.special.sum\",[\"credits\"],[(u.creditRewardForStreakBonus+u.creditRewardForMonthlySpent).toString()])},M=Object(c.useCallback)((function(e){var t=e.getParser();h(t.giftsAvailable)}),[]);dt(l.fb,M);var F=Object(c.useCallback)((function(e){var t=e.getParser();d(t.data)}),[]);if(dt(l.Ah,F),Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))if(\"open\"!==t[1]);else if(t.length>2&&\"hccenter\"===t[2])a(!0)},eventUrlPrefix:\"habboUI/\"};return R(e),function(){return B(e)}}),[]),Object(c.useEffect)((function(){v(function(e){var t=null;return Na.forEach((function(n){return e.indexOf(n)>-1&&(t=n)})),t||\"HC1\"}(N))}),[N]),Object(c.useEffect)((function(){if(r){var e=A();return function(){return D(e)}}}),[r,A,D]),Object(c.useEffect)((function(){ea(new l.fc),ea(new l.zh)}),[]),!r)return null;var H=Object($a.jsx)(Qu.a,{id:\"popover-basic\",children:Object($a.jsxs)(Qu.a.Body,{className:\"text-black py-2 px-3\",children:[Object($a.jsx)(\"h5\",{children:st(\"hccenter.breakdown.title\")}),Object($a.jsx)(\"div\",{children:st(\"hccenter.breakdown.creditsspent\",[\"credits\"],[u.totalCreditsSpent.toString()])}),Object($a.jsx)(\"div\",{children:st(\"hccenter.breakdown.paydayfactor.percent\",[\"percent\"],[(100*u.kickbackPercentage).toString()])}),Object($a.jsx)(\"div\",{children:st(\"hccenter.breakdown.streakbonus\",[\"credits\"],[u.creditRewardForStreakBonus.toString()])}),Object($a.jsx)(\"hr\",{className:\"w-100 text-black my-1\"}),Object($a.jsx)(\"div\",{children:st(\"hccenter.breakdown.total\",[\"credits\",\"actual\"],[P(),(100*(u.kickbackPercentage*u.totalCreditsSpent+u.creditRewardForStreakBonus)/100).toString()])}),Object($a.jsx)(\"div\",{className:\"btn btn-link text-primary p-0\",onClick:function(){return U(\"habbopages/\"+L(\"hc.center\")[\"payday.habbopage\"])},children:st(\"hccenter.special.infolink\")})]})});return Object($a.jsxs)(Pc,{theme:\"primary-slim\",className:\"nitro-hc-center\",children:[Object($a.jsx)(Tc,{headerText:st(\"generic.hccenter\"),onCloseClick:function(){return a(!1)}}),Object($a.jsxs)(lc,{position:\"relative\",className:\"bg-muted p-2\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(\"div\",{className:\"hc-logo\"}),Object($a.jsx)(lc,{children:Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return U(\"catalog/open/\"+L(\"catalog.links\")[\"hc.buy_hc\"])},children:st(C===Sa.ACTIVE?\"hccenter.btn.extend\":\"hccenter.btn.buy\")})})]}),Object($a.jsx)(tc,{position:\"absolute\",className:\"end-0 p-4 top-0 habbo-avatar\",children:Object($a.jsx)(Mc,{figure:x,direction:4,scale:2})})]}),Object($a.jsxs)(Ec,{children:[Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsx)(Gc,{badgeCode:m,className:\"align-self-center flex-shrink-0 me-1\"}),Object($a.jsxs)(Jc,{size:5,className:\"streak-info\",gap:0,children:[Object($a.jsx)(Hi,{children:st(\"hccenter.status.\"+C)}),Object($a.jsx)(Hi,{dangerouslySetInnerHTML:{__html:function(){switch(C){case Sa.ACTIVE:return st(\"hccenter.status.\".concat(C,\".info\"),[\"timeleft\",\"joindate\",\"streakduration\"],[I.clubDays<=0?st(\"purse.clubdays.zero.amount.text\"):I.minutesUntilExpiration>-1&&I.minutesUntilExpiration<1440?l.Ib.shortFormat(60*I.minutesUntilExpiration):l.Ib.shortFormat(86400*(31*I.clubPeriods+I.clubDays)),u.firstSubscriptionDate,l.Ib.shortFormat(86400*u.currentHcStreak)]);case Sa.EXPIRED:return st(\"hccenter.status.\".concat(C,\".info\"),[\"joindate\"],[u.firstSubscriptionDate]);default:return st(\"hccenter.status.\".concat(C,\".info\"))}}()}})]})]}),L(\"hc.center\")[\"payday.info\"]&&Object($a.jsxs)(lc,{alignItems:\"center\",children:[Object($a.jsxs)(Jc,{className:\"rounded-start bg-primary p-2 payday-special mb-1\",children:[Object($a.jsx)(\"h4\",{className:\"mb-1\",children:st(\"hccenter.special.title\")}),Object($a.jsx)(\"div\",{children:st(\"hccenter.special.info\")}),Object($a.jsx)(\"div\",{className:\"btn btn-link text-white p-0 mt-auto align-self-baseline\",onClick:function(){return U(\"habbopages/\"+L(\"hc.center\")[\"payday.habbopage\"])},children:st(\"hccenter.special.infolink\")})]}),Object($a.jsxs)(\"div\",{className:\"payday flex-shrink-0 p-2\",children:[Object($a.jsx)(\"h5\",{className:\"mb-2 ms-2\",children:st(\"hccenter.special.time.title\")}),Object($a.jsxs)(\"div\",{className:\"d-flex flex-row mb-2\",children:[Object($a.jsx)(\"div\",{className:\"clock me-2\"}),Object($a.jsx)(\"h6\",{className:\"mb-0 align-self-center\",children:u.timeUntilPayday<60?st(\"hccenter.special.time.soon\"):l.Ib.shortFormat(60*u.timeUntilPayday)})]}),C===Sa.ACTIVE&&Object($a.jsxs)(\"div\",{className:\"pe-3\",children:[Object($a.jsx)(\"h5\",{className:\"ms-2 mb-1 bolder\",children:st(\"hccenter.special.amount.title\")}),Object($a.jsxs)(\"div\",{className:\"d-flex flex-column\",children:[Object($a.jsx)(\"div\",{className:\"w-100 text-center ms-4n\",children:P()}),Object($a.jsx)(Xu.a,{trigger:[\"hover\",\"focus\"],placement:\"left\",overlay:H,children:Object($a.jsx)(\"div\",{className:\"btn btn-link align-self-end text-primary\",children:st(\"hccenter.breakdown.infolink\")})})]})]})]})]}),L(\"hc.center\")[\"gift.info\"]&&Object($a.jsxs)(\"div\",{className:\"rounded bg-success p-2 d-flex flex-row mb-0\",children:[Object($a.jsxs)(\"div\",{children:[Object($a.jsx)(\"h4\",{className:\"mb-1\",children:st(\"hccenter.gift.title\")}),Object($a.jsx)(\"div\",{dangerouslySetInnerHTML:{__html:O>0?st(\"hccenter.unclaimedgifts\",[\"unclaimedgifts\"],[O.toString()]):st(\"hccenter.gift.info\")}})]}),Object($a.jsx)(\"button\",{className:\"btn btn-primary btn-lg align-self-center ms-auto\",onClick:function(){return U(\"catalog/open/\"+L(\"catalog.links\")[\"hc.hc_gifts\"])},children:st(C===Sa.ACTIVE?\"hccenter.btn.gifts.redeem\":\"hccenter.btn.gifts.view\")})]}),L(\"hc.center\")[\"benefits.info\"]&&Object($a.jsxs)(\"div\",{className:\"benefits text-black py-2\",children:[Object($a.jsx)(\"h5\",{className:\"mb-1 text-primary\",children:st(\"hccenter.general.title\")}),Object($a.jsx)(\"div\",{className:\"mb-2\",dangerouslySetInnerHTML:{__html:st(\"hccenter.general.info\")}}),Object($a.jsx)(\"button\",{className:\"btn btn-link p-0 text-primary\",onClick:function(){return U(\"habbopages/\"+L(\"hc.center\")[\"benefits.habbopage\"])},children:st(\"hccenter.general.infolink\")})]})]})]})},Zu=Object(c.createContext)({helpReportState:null,setHelpReportState:null}),$u=function(e){return Object($a.jsx)(Zu.Provider,{value:e.value,children:e.children})},ed=function(){return Object(c.useContext)(Zu)},td=Object(d.a)((function e(){Object(u.a)(this,e)}));td.TOO_MANY_PENDING_CALLS_CODE=1,td.HAS_ABUSIVE_CALL_CODE=2;var nd=function(e){var t=Object(c.useCallback)((function(e){var t=e.getParser(),n=t.messageText;switch(t.resultType){case td.TOO_MANY_PENDING_CALLS_CODE:ea(new l.qc),Ha.simpleAlert(st(\"help.cfh.error.pending\"),Ua.MODERATION,null,null,st(\"help.cfh.error.title\"));break;case td.HAS_ABUSIVE_CALL_CODE:Ha.simpleAlert(st(\"help.cfh.error.abusive\"),Ua.MODERATION,null,null,st(\"help.cfh.error.title\"));break;default:0===n.trim().length&&(n=st(\"help.cfh.sent.text\")),Ha.simpleAlert(n,Ua.MODERATION,null,null,st(\"help.cfh.sent.title\"))}}),[]);dt(l.K,t);var n=Object(c.useCallback)((function(e){var t,n=e.getParser(),r=0===n.messageText.length?st(\"help.cfh.closed.\"+(1===(t=n.closeReason)?\"useless\":2===t?\"abusive\":\"resolved\")):n.messageText;Ha.simpleAlert(r,Ua.MODERATION,null,null,st(\"mod.alert.title\"))}),[]);return dt(l.Kd,n),null},rd=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=ed(),s=i.helpReportState,u=void 0===s?null:s,d=(i.setHelpReportState,u.reportedChats),j=u.cfhTopic,b=u.reportedUserId;return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:st(\"help.emergency.chat_report.subtitle\")}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"help.cfh.input.text\")})]}),Object($a.jsx)(\"textarea\",{className:\"form-control h-100\",value:r,onChange:function(e){return a(e.target.value)}}),Object($a.jsx)(dc,{variant:\"success\",disabled:r.length<15,onClick:function(){if(!(r.length<15)){var e=d[0].roomId,t=[];d.forEach((function(e){t.push(e.entityId),t.push(e.message)})),ea(new l.J(r,j,b,e,t)),U(\"help/hide\")}},children:st(\"help.bully.submit\")})]})},ad=function(e){var t=ed(),n=t.helpReportState,r=void 0===n?null:n,a=t.setHelpReportState,i=void 0===a?null:a,s=Object(c.useCallback)((function(){var e=Object.assign({},r);e.currentStep=1,i(e)}),[r,i]),o=Object(c.useCallback)((function(){ea(new l.ec(!1))}),[]),u=Object(c.useCallback)((function(){Kt(new Et(Et.CREATE_HELP_REQUEST))}),[]);return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:3,children:st(\"help.main.frame.title\")}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"help.main.self.description\")})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(dc,{onClick:s,children:st(\"help.main.bully.subtitle\")}),Object($a.jsx)(dc,{onClick:u,children:st(\"help.main.help.title\")}),Object($a.jsx)(dc,{disabled:!0,children:st(\"help.main.self.tips.title\")}),Object($a.jsx)(dc,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",onClick:o,children:st(\"help.main.my.sanction.status\")})]})]})},cd=function(e){var t=e.username,n=void 0===t?\"\":t,r=e.onAction,a=void 0===r?null:r,i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useCallback)((function(e){var t=e.getParser();t&&t.webId===ae().userId&&a(\"close\")}),[a]);dt(l.Ai,j);var b=Object(c.useCallback)((function(){u||(d(!0),ea(new l.bb(n)))}),[u,n]);return Object($a.jsxs)(\"div\",{className:\"d-flex flex-column gap-4 h-100\",children:[Object($a.jsx)(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:st(\"tutorial.name_change.info.confirm\")}),Object($a.jsxs)(\"div\",{className:\"d-flex flex-column align-items-center gap-1 h-100\",children:[Object($a.jsx)(\"div\",{children:st(\"tutorial.name_change.confirm\")}),Object($a.jsx)(\"div\",{className:\"fw-bold\",children:n})]}),Object($a.jsxs)(\"div\",{className:\"d-flex gap-2\",children:[Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",disabled:u,onClick:b,children:st(\"generic.ok\")}),Object($a.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:function(){return a(\"close\")},children:st(\"cancel\")})]})]})},id=function(e){var t=e.onAction,n=void 0===t?null:t;return Object($a.jsxs)(\"div\",{className:\"d-flex flex-column gap-4 h-100\",children:[Object($a.jsx)(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:st(\"tutorial.name_change.info.main\")}),Object($a.jsx)(\"div\",{className:\"fw-bold d-flex align-items-center justify-content-center h-100 w-100\",children:st(\"tutorial.name_change.current\",[\"name\"],[ae().userName])}),Object($a.jsxs)(\"div\",{className:\"d-flex gap-2\",children:[Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:function(){return n(\"start\")},children:st(\"tutorial.name_change.change\")}),Object($a.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:function(){return n(\"confirmation\",ae().userName)},children:st(\"tutorial.name_change.keep\")})]})]})},sd=function(e){var t=e.onAction,n=void 0===t?null:t,r=Object(c.useState)(\"\"),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(!1),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useState)(null),v=Object(o.a)(m,2),p=v[0],x=v[1],_=Object(c.useState)([]),E=Object(o.a)(_,2),I=E[0],y=E[1],C=Object(c.useCallback)((function(e){g(!1);var t=e.getParser();if(t)switch(t.resultCode){case 0:b(!0);break;case 2:x(\"short\");break;case 3:x(\"long\");break;case 4:x(\"invalid\");break;case 5:y(t.nameSuggestions),x(\"taken\");break;case 6:x(\"change_not_allowed\")}}),[]);dt(l.db,C);var T=Object(c.useCallback)((function(){\"\"!==i&&(b(!1),y([]),x(null),g(!0),ea(new l.cb(i)))}),[i]),S=Object(c.useCallback)((function(e){b(!1),y([]),x(null),s(e)}),[]);return Object($a.jsxs)(\"div\",{className:\"d-flex flex-column gap-3 h-100\",children:[Object($a.jsx)(\"div\",{children:st(\"tutorial.name_change.info.select\")}),Object($a.jsxs)(\"div\",{className:\"d-flex gap-2\",children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:i,onChange:function(e){return S(e.target.value)}}),Object($a.jsx)(\"button\",{className:\"btn btn-primary\",disabled:\"\"===i||f,onClick:T,children:st(\"tutorial.name_change.check\")})]}),!p&&!j&&Object($a.jsx)(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:st(\"help.tutorial.name.info\")}),p&&Object($a.jsx)(\"div\",{className:\"bg-danger rounded p-2 text-center text-white\",children:st(\"help.tutorial.name.\".concat(p),[\"name\"],[i])}),j&&Object($a.jsx)(\"div\",{className:\"bg-success rounded p-2 text-center text-white\",children:st(\"help.tutorial.name.available\",[\"name\"],[i])}),I&&Object($a.jsx)(\"div\",{className:\"d-flex flex-column gap-2\",children:I.map((function(e,t){return Object($a.jsx)(\"div\",{className:\"col bg-muted rounded p-1 cursor-pointer\",onClick:function(){return S(e)},children:e},t)}))}),Object($a.jsxs)(\"div\",{className:\"d-flex gap-2\",children:[Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",disabled:!j,onClick:function(){return n(\"confirmation\",i)},children:st(\"tutorial.name_change.pick\")}),Object($a.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:function(){return n(\"close\")},children:st(\"cancel\")})]})]})},od=\"INIT\",ld=\"INPUT\",ud=\"CONFIRMATION\",dd=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(od),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(\"\"),j=Object(o.a)(d,2),b=j[0],O=j[1],h=Object(c.useCallback)((function(e){u(od),a(!0)}),[]);Qt(It.INIT,h);var f=Object(c.useCallback)((function(e,t){switch(e){case\"start\":u(ld);break;case\"confirmation\":O(t),u(ud);break;case\"close\":O(\"\"),a(!1)}}),[]),g=Object(c.useMemo)((function(){switch(l){case od:return\"tutorial.name_change.title.main\";case ld:return\"tutorial.name_change.title.select\";case ud:return\"tutorial.name_change.title.confirm\"}}),[l]);return r?Object($a.jsxs)(Pc,{className:\"nitro-change-username\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(g),onCloseClick:function(){return f(\"close\")}}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[l===od&&Object($a.jsx)(id,{onAction:f}),l===ld&&Object($a.jsx)(sd,{onAction:f}),l===ud&&Object($a.jsx)(cd,{username:b,onAction:f})]})]}):null},jd=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useCallback)((function(e){var t=e.getParser();t&&a(t)}),[]);dt(l.wh,i);var s=Object(c.useCallback)((function(e,t,n){var r=\"help.sanction.\".concat(e);switch(t){case\"ALERT\":r+=\".alert\";break;case\"MUTE\":r+=\".mute\";break;case\"BAN_PERMANENT\":r+=\".permban\";break;default:if(r+=\".ban\",n>24)return st(r+=\".days\",[\"days\"],[(n/24).toString()])}return st(r,[\"hours\"],[n.toString()])}),[]);return r?Object($a.jsxs)(Pc,{className:\"nitro-help\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"help.sanction.info.title\"),onCloseClick:function(){return a(null)}}),Object($a.jsx)(Ec,{className:\"text-black\",children:Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{center:!0,size:5,overflow:\"hidden\",children:Object($a.jsx)(tc,{className:\"index-image\"})}),Object($a.jsxs)(Jc,{justifyContent:\"between\",size:7,overflow:\"hidden\",children:[\"cfh.reason.EMPTY\"===r.sanctionReason?Object($a.jsx)(\"div\",{className:\"col-12 fw-bold\",style:{color:\"var(--test-galaxytext)\"},children:st(\"help.sanction.current.none\")}):Object($a.jsxs)($a.Fragment,{children:[(r.probationHoursLeft>0||r.isSanctionActive)&&Object($a.jsx)(\"div\",{className:\"col-12 fw-bold\",style:{color:\"var(--test-galaxytext)\"},children:st(\"help.sanction.probation.reminder\")}),Object($a.jsxs)(\"div\",{className:\"col-12 fw-bold \".concat(r.isSanctionNew?\"text-danger\":\"\"),children:[st(\"help.sanction.last.sanction\"),\" \",s(\"current\",r.sanctionName,r.sanctionLengthHours)]}),Object($a.jsxs)(\"div\",{className:\"col-12\",style:{color:\"var(--test-galaxytext)\"},children:[st(\"generic.start.time\"),\" \",r.sanctionCreationTime]}),Object($a.jsxs)(\"div\",{className:\"col-12\",style:{color:\"var(--test-galaxytext)\"},children:[st(\"generic.reason\"),\" \",r.sanctionReason]}),Object($a.jsxs)(\"div\",{className:\"col-12\",style:{color:\"var(--test-galaxytext)\"},children:[st(\"help.sanction.probation.days.left\"),\" \",Math.trunc(r.probationHoursLeft/24)+1]})]}),r.hasCustomMute&&!r.isSanctionActive&&Object($a.jsx)(\"div\",{className:\"col-12 fw-bold\",style:{color:\"var(--test-galaxytext)\"},children:st(\"help.sanction.custom.mute\")}),r.tradeLockExpiryTime&&r.tradeLockExpiryTime.length>0&&Object($a.jsxs)(\"div\",{className:\"col-12 fw-bold\",style:{color:\"var(--test-galaxytext)\"},children:[st(\"trade.locked.until\"),\" \",r.tradeLockExpiryTime]}),Object($a.jsx)(\"div\",{className:\"col-12\",children:s(\"next\",r.nextSanctionName,r.nextSanctionLengthHours)}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return a(null)},children:st(\"habbo.way.ok.button\")})]})]})})]}):null},bd=function(e){var t=Object(c.useState)(new Map),n=Object(o.a)(t,2),r=n[0],a=n[1],i=ed(),s=i.helpReportState,u=void 0===s?null:s,d=i.setHelpReportState,j=void 0===d?null:d,b=u.reportedUserId,O=void 0===b?-1:b,h=Object(c.useMemo)((function(){return Cl().chats.filter((function(e){return e.type===xl.TYPE_CHAT&&e.entityId===O&&e.entityType===l.Gg.USER}))}),[O]);return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:st(\"help.emergency.chat_report.subtitle\")}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"help.emergency.chat_report.description\")})]}),Object($a.jsxs)(Jc,{gap:1,overflow:\"hidden\",children:[!h.length&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"help.cfh.error.no_user_data\")}),h.length>0&&Object($a.jsx)(sc,{gap:1,columnCount:1,columnMinHeight:25,overflow:\"auto\",children:h.map((function(e,t){return Object($a.jsx)(ii,{onClick:function(t){return function(e){var t=new Map(r);t.has(e.id)?t.delete(e.id):t.set(e.id,e),a(t)}(e)},itemActive:r.has(e.id),children:Object($a.jsx)(Hi,{children:e.message})},e.id)}))})]}),Object($a.jsxs)(lc,{gap:2,justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(){j((function(e){var t=e.currentStep-1;return Object(bt.a)(Object(bt.a)({},e),{},{currentStep:t})}))},children:st(\"generic.back\")}),Object($a.jsx)(dc,{disabled:r.size<=0,onClick:function(){!r||r.size<=0||j((function(e){var t=Array.from(r.values());return Object(bt.a)(Object(bt.a)({},e),{},{reportedChats:t,currentStep:3})}))},children:st(\"help.emergency.main.submit.button\")})]})]})},Od=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=ed(),s=(i.helpReportState,i.setHelpReportState),u=void 0===s?null:s,d=Object(c.useMemo)((function(){var e=new Map;return Cl().chats.forEach((function(t){t.type===xl.TYPE_CHAT&&t.entityType===l.Gg.USER&&t.entityId!==ae().userId&&(e.has(t.entityId)||e.set(t.entityId,{id:t.entityId,username:t.name}))})),Array.from(e.values())}),[]);return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:st(\"help.emergency.main.step.two.title\")}),d.length>0&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"report.user.pick.user\")})]}),Object($a.jsxs)(Jc,{gap:1,overflow:\"hidden\",children:[!d.length&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"report.user.error.nolist\")}),d.length>0&&Object($a.jsx)(sc,{columnCount:1,columnMinHeight:25,gap:1,children:d.map((function(e,t){return Object($a.jsx)(ii,{onClick:function(t){return n=e.id,void a(r===n?-1:n);var n},itemActive:r===e.id,children:Object($a.jsx)(\"span\",{dangerouslySetInnerHTML:{__html:e.username}})},e.id)}))})]}),Object($a.jsxs)(lc,{gap:2,justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(){u((function(e){var t=e.currentStep-1;return Object(bt.a)(Object(bt.a)({},e),{},{currentStep:t})}))},children:st(\"generic.back\")}),Object($a.jsx)(dc,{disabled:r<=0,onClick:function(){r<=0||u((function(e){var t=r;return Object(bt.a)(Object(bt.a)({},e),{},{reportedUserId:t,currentStep:2})}))},children:st(\"help.emergency.main.submit.button\")})]})]})},hd=[],fd=function(e){var t=ed().setHelpReportState,n=void 0===t?null:t,r=Object(c.useState)(-1),a=Object(o.a)(r,2),i=a[0],s=a[1],l=Object(c.useState)(-1),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(c.useMemo)((function(){return hd}),[]);return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:st(\"help.emergency.chat_report.subtitle\")}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"help.cfh.pick.topic\")})]}),Object($a.jsxs)(Jc,{gap:1,overflow:\"auto\",children:[i<0&&b.map((function(e,t){return Object($a.jsx)(dc,{variant:\"danger\",onClick:function(e){return s(t)},children:st(\"help.cfh.reason.\".concat(e.name))},t)})),i>=0&&b[i].topics.map((function(e,t){return Object($a.jsx)(dc,{variant:\"danger\",onClick:function(e){return j(t)},active:d===t,children:st(\"help.cfh.topic.\".concat(e.id))},t)}))]}),Object($a.jsxs)(lc,{gap:2,justifyContent:\"between\",children:[Object($a.jsx)(dc,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",onClick:function(){n((function(e){var t=e.currentStep-1;return Object(bt.a)(Object(bt.a)({},e),{},{currentStep:t})}))},children:st(\"generic.back\")}),Object($a.jsx)(dc,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",disabled:d<0,onClick:function(){i<0||d<0||n((function(e){var t=i,n=b[i].topics[d].id;return Object(bt.a)(Object(bt.a)({},e),{},{cfhCategory:t,cfhTopic:n,currentStep:4})}))},children:st(\"help.emergency.main.submit.button\")})]})]})},gd=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)({reportedUserId:-1,reportedChats:[],cfhCategory:-1,cfhTopic:-1,roomId:-1,message:\"\",currentStep:0}),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void a(!0);case\"hide\":return void a(!1);case\"toggle\":return void a((function(e){return!e}))}}),[]),j=Object(c.useCallback)((function(e){u({reportedUserId:e.reportedUserId,reportedChats:[],cfhCategory:-1,cfhTopic:-1,roomId:-1,message:\"\",currentStep:2}),a(!0)}),[]);Qt(yt.REPORT_USER,j),Object(c.useEffect)((function(){var e={linkReceived:d,eventUrlPrefix:\"help/\"};return R(e),function(){return B(e)}}),[d]),Object(c.useEffect)((function(){r&&u({reportedUserId:-1,reportedChats:[],cfhCategory:-1,cfhTopic:-1,roomId:-1,message:\"\",currentStep:0})}),[r]);var b=Object(c.useCallback)((function(){switch(l.currentStep){case 0:return Object($a.jsx)(ad,{});case 1:return Object($a.jsx)(Od,{});case 2:return Object($a.jsx)(bd,{});case 3:return Object($a.jsx)(fd,{});case 4:return Object($a.jsx)(rd,{})}return null}),[l.currentStep]);return Object($a.jsxs)($u,{value:{helpReportState:l,setHelpReportState:u},children:[Object($a.jsx)(nd,{}),r&&Object($a.jsxs)(Pc,{className:\"nitro-help\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"help.button.cfh\"),onCloseClick:function(e){return a(!1)}}),Object($a.jsx)(Ec,{className:\"text-black\",children:Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{center:!0,size:5,overflow:\"hidden\",children:Object($a.jsx)(tc,{className:\"index-image\"})}),Object($a.jsx)(Jc,{justifyContent:\"between\",size:7,overflow:\"hidden\",children:Object($a.jsx)(b,{})})]})})]}),Object($a.jsx)(jd,{}),Object($a.jsx)(dd,{})]})},md=function(e){var t=Object(c.useState)(!0),n=Object(o.a)(t,2),r=n[0],a=n[1],i=(Rn().userFigure,Object(c.useState)([])),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)([]),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(\"\"),g=Object(o.a)(f,2),m=g[0],v=g[1],p=new URLSearchParams(window.location.search).get(\"sso\"),x=Object(c.useState)(!0),_=Object(o.a)(x,2),E=_[0],I=_[1];function y(e){return\"url(https://habbo-imaging.hgalaxy.net/avatarimage/\"+e+\"&amp;direction=2&amp;head_direction=2)\"}function C(e){return\"https://hgalaxy.net/community/profile?user=\"+e}Object(c.useEffect)((function(){fetch(\"https://int.ultrahabbo.fun/?type=getHotelViewStats&sso=\"+p).then((function(e){return e.json()})).then((function(e){v(e.viewPoints),d(e.diamonds),h(e.duckets),I(!1)}))}),[]);var T=Object(c.useCallback)((function(e){switch(e.type){case l.Sg.CREATED:return void a(!1);case l.Sg.ENDED:return void a(e.openLandingView)}}),[]);if(Yt(l.Sg.CREATED,T),Yt(l.Sg.ENDED,T),!r)return null;L(\"hotelview\").images[\"background.colour\"];var S=Oa().interpolate(L(\"hotelview\").images.background),N=Oa().interpolate(L(\"hotelview\").images.sun),R=Oa().interpolate(L(\"hotelview\").images.drape),k=Oa().interpolate(L(\"hotelview\").images.left),A=Oa().interpolate(L(\"hotelview\").images[\"right.repeat\"]),w=Oa().interpolate(L(\"hotelview\").images.right);return Object($a.jsxs)(\"div\",{className:\"nitro-hotel-view\",children:[Object($a.jsx)(\"div\",{className:\"container h-100 py-3 overflow-hidden landing-widgets\",children:Object($a.jsx)(\"div\",{className:\"row h-100\",style:{marginLeft:\"100px\",marginTop:\"50px\"},children:!E&&Object($a.jsxs)(\"div\",{className:\"col-md-10 animate__animated animate__fadeInDown\",children:[Object($a.jsx)(\"div\",{className:\"card\",style:{backgroundColor:\"var(--test-galaxy)\",padding:\"20px\",borderRadius:\"5px\",marginBottom:\"15px\"},children:Object($a.jsxs)(\"div\",{className:\"row\",children:[Object($a.jsxs)(\"div\",{className:\"col-md-10\",children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:Object($a.jsx)(\"b\",{children:\"Recompensa mensual\"})}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"div\",{style:{height:\"30px\"},className:\"progress\",children:Object($a.jsxs)(\"div\",{className:\"progress-bar progress-bar-striped progress-bar-animated\",role:\"progressbar\",style:{width:m+\"%\"},children:[m,\"%\"]})}),Object($a.jsxs)(\"small\",{style:{color:\"var(--test-galaxytext)\"},children:[\"Debes llegar a 100 horas jugadas para obtener la recompensa \",Object($a.jsxs)(\"b\",{children:[\"(\",m,\"/100)\"]}),\" - Termina el 30 de septiembre\"]})]}),Object($a.jsx)(\"div\",{className:\"col-md-2 text-center\",children:Object($a.jsx)(\"img\",{style:{marginTop:\"17px\"},src:\"https://i.imgur.com/RJNXe26.png\"})})]})}),Object($a.jsxs)(\"div\",{className:\"row\",children:[Object($a.jsx)(\"div\",{className:\"col-md-6\",children:Object($a.jsxs)(\"div\",{className:\"card\",style:{backgroundColor:\"var(--test-galaxy)\",padding:\"20px\",borderRadius:\"5px\",marginBottom:\"15px\"},children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:Object($a.jsx)(\"b\",{children:\"Top cometas\"})}),Object($a.jsx)(\"br\",{}),u.map((function(e){return Object($a.jsxs)(\"div\",{className:\"row\",style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"7px\",borderRadius:\"5px\",marginBottom:\"5px\"},children:[Object($a.jsx)(\"div\",{className:\"col-md-2\",children:Object($a.jsx)(\"div\",{style:{paddingBottom:\"-15px\"},children:Object($a.jsx)(\"div\",{className:\"user-img\",style:{backgroundImage:y(e.figure),backgroundPosition:\"-11px -14px\",width:\"45px\",height:\"48px\",marginLeft:\"5px\"}})})}),Object($a.jsxs)(\"div\",{className:\"col-md-10\",children:[Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"div\",{style:{float:\"right\"},children:[Object($a.jsx)(\"b\",{children:Object($a.jsx)(\"span\",{style:{fontSize:\"14px\"},className:\"badge bg-dark\",children:Object($a.jsx)(\"a\",{className:\"text-white\",href:C(e.username),target:\"_blank\",children:e.username})})}),\" \\xa0\",Object($a.jsx)(\"b\",{children:Object($a.jsxs)(\"span\",{style:{fontSize:\"14px\"},className:\"badge bg-primary\",children:[e.vip_points,\" cometas\"]})})]})]})]})}))]})}),Object($a.jsx)(\"div\",{className:\"col-md-6\",children:Object($a.jsxs)(\"div\",{className:\"card\",style:{backgroundColor:\"var(--test-galaxy)\",padding:\"20px\",borderRadius:\"5px\",marginBottom:\"15px\"},children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:Object($a.jsx)(\"b\",{children:\"Top asteroides\"})}),Object($a.jsx)(\"br\",{}),O.map((function(e){return Object($a.jsxs)(\"div\",{className:\"row\",style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"7px\",borderRadius:\"5px\",marginBottom:\"5px\"},children:[Object($a.jsx)(\"div\",{className:\"col-md-2\",children:Object($a.jsx)(\"div\",{style:{paddingBottom:\"-15px\"},children:Object($a.jsx)(\"div\",{className:\"user-img\",style:{backgroundImage:y(e.figure),backgroundPosition:\"-11px -14px\",width:\"45px\",height:\"48px\",marginLeft:\"5px\"}})})}),Object($a.jsxs)(\"div\",{className:\"col-md-10\",children:[Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"div\",{style:{float:\"right\"},children:[Object($a.jsx)(\"b\",{children:Object($a.jsx)(\"span\",{style:{fontSize:\"14px\"},className:\"badge bg-dark\",children:Object($a.jsx)(\"a\",{className:\"text-white\",href:C(e.username),target:\"_blank\",children:e.username})})}),\" \\xa0\",Object($a.jsx)(\"b\",{children:Object($a.jsxs)(\"span\",{style:{fontSize:\"14px\"},className:\"badge bg-info\",children:[e.activity_points,\" asteroides\"]})})]})]})]})}))]})})]})]})})}),Object($a.jsx)(\"div\",{className:\"background position-absolute\",style:S&&S.length?{backgroundImage:\"url(\".concat(S,\")\")}:{}}),Object($a.jsx)(\"div\",{className:\"sun position-absolute\",style:N&&N.length?{backgroundImage:\"url(\".concat(N,\")\")}:{}}),Object($a.jsx)(\"div\",{className:\"drape position-absolute\",style:R&&R.length?{backgroundImage:\"url(https://swfs.hgalaxy.net/banners/logohotel.png)\"}:{}}),Object($a.jsx)(\"div\",{className:\"left position-absolute\",style:k&&k.length?{backgroundImage:\"url(\".concat(k,\")\")}:{}}),Object($a.jsx)(\"div\",{className:\"right-repeat position-absolute\",style:A&&A.length?{backgroundImage:\"url(\".concat(A,\")\")}:{}}),Object($a.jsx)(\"div\",{className:\"right position-absolute\",style:w&&w.length?{backgroundImage:\"url(https://swfs.hgalaxy.net/banners/testt.png)\"}:{}})]})},vd=[\"badgeCode\",\"children\"],pd=function(e){var t=e.badgeCode,n=void 0===t?null:t,r=e.children,a=void 0===r?null:r,c=Object(Za.a)(e,vd),i=bn(),s=i.selectedBadgeCode,o=void 0===s?null:s,l=i.setSelectedBadgeCode,u=void 0===l?null:l,d=i.getBadgeId,j=void 0===d?null:d,b=dn().isUnseen,O=(void 0===b?null:b)(Jn.BADGE,j(n));return Object($a.jsxs)(ii,Object(bt.a)(Object(bt.a)({itemActive:o===n,itemUnseen:O,onMouseDown:function(e){return u(n)}},c),{},{children:[Object($a.jsx)(Gc,{badgeCode:n}),a]}))},xd=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=bn(),s=i.badgeCodes,l=void 0===s?[]:s,u=i.activeBadgeCodes,d=void 0===u?[]:u,j=i.selectedBadgeCode,b=void 0===j?null:j,O=i.isWearingBadge,h=void 0===O?null:O,f=i.canWearBadges,g=void 0===f?null:f,m=i.toggleBadge,v=void 0===m?null:m,p=i.getBadgeId,x=void 0===p?null:p,_=i.activate,E=void 0===_?null:_,I=i.deactivate,y=void 0===I?null:I,C=dn(),T=C.isUnseen,S=void 0===T?null:T,N=C.removeUnseen,R=void 0===N?null:N;return Object(c.useEffect)((function(){b&&S(Jn.BADGE,x(b))&&R(Jn.BADGE,x(b))}),[b,S,R,x]),Object(c.useEffect)((function(){if(r){var e=E();return function(){return y(e)}}}),[r,E,y]),Object(c.useEffect)((function(){return a(!0),function(){return a(!1)}}),[]),Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:7,overflow:\"hidden\",children:Object($a.jsx)(sc,{columnCount:4,children:l&&l.length>0&&l.map((function(e,t){return d.indexOf(e)>=0?null:Object($a.jsx)(pd,{badgeCode:e},t)}))})}),Object($a.jsxs)(Jc,{className:\"justify-content-between\",size:5,overflow:\"auto\",children:[Object($a.jsxs)(Jc,{overflow:\"hidden\",gap:2,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"inventory.badges.activebadges\")}),Object($a.jsx)(sc,{columnCount:3,children:d&&d.length>0&&d.map((function(e,t){return Object($a.jsx)(pd,{badgeCode:e},t)}))})]}),!!b&&Object($a.jsxs)(Jc,{grow:!0,justifyContent:\"end\",gap:2,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsx)(Gc,{shrink:!0,badgeCode:b}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:it(b)})]}),Object($a.jsx)(dc,{variant:h(b)?\"danger\":\"success\",disabled:!h(b)&&!g(),onClick:function(e){return v(b)},children:st(h(b)?\"inventory.badges.clearbadge\":\"inventory.badges.wearbadge\")})]})]})]})},_d=[\"title\",\"desc\",\"children\"],Ed=function(e){var t=e.title,n=void 0===t?\"\":t,r=e.desc,a=void 0===r?\"\":r,c=e.children,i=void 0===c?null:c,s=Object(Za.a)(e,_d);return Object($a.jsxs)(cc,Object(bt.a)(Object(bt.a)({},s),{},{children:[Object($a.jsx)(Jc,{center:!0,size:5,overflow:\"hidden\",children:Object($a.jsx)(\"div\",{className:\"empty-image\"})}),Object($a.jsxs)(Jc,{justifyContent:\"center\",size:7,overflow:\"hidden\",children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontWeight:\"bold\",fontSize:5,overflow:\"unset\",truncate:!0,children:n}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",overflow:\"auto\",children:a})]}),i]}))},Id=[\"botItem\",\"children\"],yd=function(e){var t=e.botItem,n=void 0===t?null:t,r=e.children,a=void 0===r?null:r,i=Object(Za.a)(e,Id),s=Object(c.useState)(!1),u=Object(o.a)(s,2),d=u[0],j=u[1],b=hn(),O=b.selectedBot,h=void 0===O?null:O,f=b.setSelectedBot,g=void 0===f?null:f,m=dn().isUnseen,v=(void 0===m?null:m)(Jn.BOT,n.botData.id),p=function(e){switch(e.type){case l.xe.MOUSE_DOWN:return g(n),void j(!0);case l.xe.MOUSE_UP:return void j(!1);case l.xe.ROLL_OUT:if(!d||h!==n)return;return void Xn(n)}};return Object($a.jsxs)(ii,Object(bt.a)(Object(bt.a)({itemActive:h===n,itemUnseen:v,onMouseDown:p,onMouseUp:p,onMouseOut:p},i),{},{children:[Object($a.jsx)(Mc,{figure:n.botData.figure,direction:3,headOnly:!0}),a]}))},Cd=function(e){var t=e.roomSession,n=void 0===t?null:t,r=e.roomPreviewer,a=void 0===r?null:r,i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=hn(),b=j.botItems,O=void 0===b?[]:b,h=j.selectedBot,f=void 0===h?null:h,g=j.activate,m=void 0===g?null:g,v=j.deactivate,p=void 0===v?null:v,x=dn(),_=x.isUnseen,E=void 0===_?null:_,I=x.removeUnseen,y=void 0===I?null:I;return Object(c.useEffect)((function(){if(f&&a){var e=f.botData,t=G(),n=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_WALL_TYPE),r=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_FLOOR_TYPE),c=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_LANDSCAPE_TYPE);n=n&&n.length?n:\"101\",r=r&&r.length?r:\"101\",c=c&&c.length?c:\"1.1\",a.reset(!1),a.updateRoomWallsAndFloorVisibility(!0,!0),a.updateObjectRoom(r,n,c),a.addAvatarIntoRoom(e.figure,0)}}),[a,f]),Object(c.useEffect)((function(){f&&E(Jn.BOT,f.botData.id)&&y(Jn.BOT,f.botData.id)}),[f,E,y]),Object(c.useEffect)((function(){if(u){var e=m();return function(){return p(e)}}}),[u,m,p]),Object(c.useEffect)((function(){return d(!0),function(){return d(!1)}}),[]),O&&O.length?Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:7,overflow:\"hidden\",children:Object($a.jsx)(sc,{columnCount:5,children:O&&O.length>0&&O.map((function(e){return Object($a.jsx)(yd,{botItem:e},e.botData.id)}))})}),Object($a.jsxs)(Jc,{size:5,overflow:\"auto\",children:[Object($a.jsx)(Jc,{overflow:\"hidden\",position:\"relative\",children:Object($a.jsx)(yi,{roomPreviewer:a,height:140})}),f&&Object($a.jsxs)(Jc,{grow:!0,justifyContent:\"between\",gap:2,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:!0,truncate:!0,children:f.botData.name}),!!n&&Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return Xn(f)},children:st(\"inventory.furni.placetoroom\")})]})]})]}):Object($a.jsx)(Ed,{title:st(\"inventory.empty.bots.title\"),desc:st(\"inventory.empty.bots.desc\")})},Td=[\"groupItem\"],Sd=function(e){var t=e.groupItem,n=void 0===t?null:t,r=Object(Za.a)(e,Td),a=Object(c.useState)(!1),i=Object(o.a)(a,2),s=i[0],u=i[1],d=mn(),j=d.selectedItem,b=void 0===j?null:j,O=d.setSelectedItem,h=void 0===O?null:O,f=function(e){switch(e.type){case l.xe.MOUSE_DOWN:return h(n),void u(!0);case l.xe.MOUSE_UP:return void u(!1);case l.xe.ROLL_OUT:if(!s||n!==b)return;return void Qn(n)}},g=n.getUnlockedCount();return Object($a.jsx)(ii,Object(bt.a)({className:g?\"\":\"opacity-0-5 \",itemImage:n.iconUrl,itemCount:n.getUnlockedCount(),itemActive:n===b,itemUniqueNumber:n.stuffData.uniqueNumber,itemUnseen:n.hasUnseenItems,onMouseDown:f,onMouseUp:f,onMouseOut:f},r))},Nd=function(e){var t=e.groupItems,n=void 0===t?[]:t,r=e.setGroupItems,a=void 0===r?null:r,i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){var e=Object(ut.a)(n);if(l&&l.length){var t=l.toLocaleLowerCase();e=n.filter((function(e){return t&&t.length&&e.name.toLocaleLowerCase().includes(t)?e:null}))}a(e)}),[n,a,l]),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:st(\"generic.search\"),value:l,onChange:function(e){return u(e.target.value)}}),Object($a.jsx)(dc,{variant:\"primary\",children:Object($a.jsx)(mc.a,{icon:\"search\"})})]})},Rd=function(e){var t=e.roomSession,n=void 0===t?null:t,r=e.roomPreviewer,a=void 0===r?null:r,i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)([]),b=Object(o.a)(j,2),O=b[0],h=b[1],f=mn(),g=f.groupItems,m=void 0===g?[]:g,v=f.selectedItem,p=void 0===v?null:v,x=f.activate,_=void 0===x?null:x,E=f.deactivate,I=void 0===E?null:E,y=dn().resetItems,C=void 0===y?null:y;return Object(c.useEffect)((function(){if(p&&a){var e=p.getLastItem();if(e){var t=G(),n=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_WALL_TYPE),r=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_FLOOR_TYPE),c=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_LANDSCAPE_TYPE);if(n=n&&n.length?n:\"101\",r=r&&r.length?r:\"101\",c=c&&c.length?c:\"1.1\",a.reset(!1),a.updateObjectRoom(r,n,c),a.updateRoomWallsAndFloorVisibility(!0,!0),e.category===Un.WALL_PAPER||e.category===Un.FLOOR||e.category===Un.LANDSCAPE){if(r=e.category===Un.FLOOR?p.stuffData.getLegacyString():r,n=e.category===Un.WALL_PAPER?p.stuffData.getLegacyString():n,c=e.category===Un.LANDSCAPE?p.stuffData.getLegacyString():c,a.updateObjectRoom(r,n,c),e.category===Un.LANDSCAPE){var i=ae().getWallItemDataByName(\"noob_window_double\");i&&a.addWallItemIntoRoom(i.id,new l.Oi(90,0,0),i.customParams)}}else p.isWallItem?a.addWallItemIntoRoom(p.type,new l.Oi(90),e.stuffData.getLegacyString()):a.addFurnitureIntoRoom(p.type,new l.Oi(90),p.stuffData,e.extra.toString())}}}),[a,p]),Object(c.useEffect)((function(){p&&p.hasUnseenItems&&(C(Jn.FURNI,p.items.map((function(e){return e.id}))),p.hasUnseenItems=!1)}),[p,C]),Object(c.useEffect)((function(){if(u){var e=_();return function(){return I(e)}}}),[u,_,I]),Object(c.useEffect)((function(){return d(!0),function(){return d(!1)}}),[]),m&&m.length?Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:7,overflow:\"hidden\",children:[Object($a.jsx)(Nd,{groupItems:m,setGroupItems:h}),Object($a.jsx)(sc,{columnCount:5,children:O&&O.length>0&&O.map((function(e,t){return Object($a.jsx)(Sd,{groupItem:e},t)}))})]}),Object($a.jsxs)(Jc,{size:5,overflow:\"auto\",children:[Object($a.jsxs)(Jc,{overflow:\"hidden\",position:\"relative\",children:[Object($a.jsx)(yi,{roomPreviewer:a,height:140}),p&&p.stuffData.isUnique&&Object($a.jsx)(ni,{className:\"top-2 end-2\",position:\"absolute\",uniqueNumber:p.stuffData.uniqueNumber,uniqueSeries:p.stuffData.uniqueSeries}),p&&p.stuffData.rarityLevel>-1&&Object($a.jsx)(Ii,{className:\"top-2 end-2\",position:\"absolute\",level:p.stuffData.rarityLevel})]}),p&&Object($a.jsx)(Jc,{grow:!0,justifyContent:\"between\",gap:1,children:Object($a.jsxs)(\"div\",{children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:!0,truncate:!0,children:p.name}),!!n&&Object($a.jsx)(dc,{style:{marginTop:\"10px\"},variant:\"success\",onClick:function(e){return Qn(p)},children:st(\"inventory.furni.placetoroom\")}),p&&p.isSellable&&Object($a.jsx)(dc,{style:{marginTop:\"10px\"},onClick:function(e){return function(e){var t=e.getLastItem();return!!t&&!!t.sellable&&void Kt(new gt(t))}(p)},children:st(\"inventory.marketplace.sell\")})]})})]})]}):Object($a.jsx)(Ed,{title:st(\"inventory.empty.title\"),desc:st(\"inventory.empty.desc\")})},kd=function(e){var t=e.cancelTrade,n=void 0===t?null:t,r=Object(c.useState)(null),a=Object(o.a)(r,2),i=a[0],u=a[1],d=Object(c.useState)(null),j=Object(o.a)(d,2),b=j[0],O=j[1],h=Object(c.useState)(null),f=Object(o.a)(h,2),g=f[0],m=f[1],v=Object(c.useState)(null),p=Object(o.a)(v,2),x=p[0],_=p[1],E=Object(c.useState)(3),I=Object(o.a)(E,2),y=I[0],C=I[1],T=En(),S=T.ownUser,N=void 0===S?null:S,R=T.otherUser,k=void 0===R?null:R,A=T.groupItems,w=void 0===A?[]:A,D=T.tradeState,U=void 0===D?nr.TRADING_STATE_READY:D,P=T.progressTrade,L=void 0===P?null:P,M=T.removeItem,F=void 0===M?null:M,H=T.setTradeState,B=void 0===H?null:H,G=function(e,t,n,r,a){if(!N||N.accepts||!N.userItems)return!1;if(N.userItems.length<9)return!0;if(!r)return!1;var c=t.toString();return c=n===Un.POSTER?c+\"poster\"+a.getLegacyString():n===Un.GUILD_FURNI?function(e,t){var n=e.toString();if(!(t instanceof l.Kh))return n;for(var r=1;r<5;)n=n+\",\"+t.getValue(r),r++;return n}(t,a):(e?\"I\":\"S\")+c,!!N.userItems.getValue(c)},W=function(e){var t=e?\"lock\":\"unlock\",n=e?\"success\":\"danger\";return Object($a.jsx)(mc.a,{icon:t,className:\"text-\"+n})};return Object(c.useEffect)((function(){if(U===nr.TRADING_STATE_COUNTDOWN){C(3);var e=setInterval((function(){C((function(t){var n=t-1;return 0===n&&clearInterval(e),n}))}),1e3);return function(){return clearInterval(e)}}}),[U,B]),Object(c.useEffect)((function(){0===y&&B(nr.TRADING_STATE_CONFIRMING)}),[y,B]),U!==nr.TRADING_STATE_READY&&N&&k?Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:4,overflow:\"hidden\",children:[Object($a.jsx)(Nd,{groupItems:w,setGroupItems:_}),Object($a.jsxs)(lc,{column:!0,fullHeight:!0,justifyContent:\"between\",overflow:\"hidden\",gap:2,children:[Object($a.jsx)(sc,{columnCount:3,children:x&&x.length>0&&x.map((function(e,t){var n=e.getUnlockedCount();return Object($a.jsx)(ii,{className:n?\"\":\"opacity-0-5 \",itemImage:e.iconUrl,itemCount:n,itemActive:i===e,itemUniqueNumber:e.stuffData.uniqueNumber,onClick:function(t){return n&&u(e)},children:n>0&&i===e&&Object($a.jsx)(dc,{position:\"absolute\",variant:\"success\",className:\"trade-button bottom-1 end-1\",onClick:function(e){return function(e){if(i){var t=i.getTradeItems(e);if(t&&t.length){var n,r=null,a=[],c=Object(s.a)(t);try{for(c.s();!(n=c.n()).done;){var o=n.value;a.push(o.id),r||(r=o)}}catch(O){c.e(O)}finally{c.f()}if(N.userItems.length+a.length<=1500)if(!r.isGroupable&&a.length)ea(new l.Xh(a.pop()));else{var u,d=[],j=Object(s.a)(a);try{for(j.s();!(u=j.n()).done;){var b=u.value;G(r.isWallItem,r.type,r.category,r.isGroupable,r.stuffData)&&d.push(b)}}catch(O){j.e(O)}finally{j.f()}d.length&&(1===d.length?ea(new l.Xh(d.pop())):ea(Object(ln.a)(l.Yh,d)))}else Ha.simpleAlert(st(\"trading.items.too_many_items.desc\"),Ua.DEFAULT,null,null,st(\"trading.items.too_many_items.title\"))}}}(1)},children:Object($a.jsx)(mc.a,{icon:\"chevron-right\"})})},t)}))}),Object($a.jsx)(tc,{fullWidth:!0,className:\"badge bg-muted\",children:i?i.name:st(\"catalog_selectproduct\")})]})]}),Object($a.jsxs)(Jc,{size:8,overflow:\"hidden\",children:[Object($a.jsxs)(cc,{overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{size:6,overflow:\"hidden\",children:[Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",children:[Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:[st(\"inventory.trading.you\"),\" \",st(\"inventory.trading.areoffering\"),\":\"]}),W(N.accepts)]}),Object($a.jsx)(sc,{columnCount:3,children:Array.from(Array(9),(function(e,t){var n=N.userItems.getWithIndex(t)||null;return n?Object($a.jsx)(ii,{itemActive:b===n,itemImage:n.iconUrl,itemCount:n.getTotalCount(),itemUniqueNumber:n.stuffData.uniqueNumber,onClick:function(e){return O(n)},children:b===n&&Object($a.jsx)(dc,{position:\"absolute\",variant:\"danger\",className:\"trade-button bottom-1 start-1\",onClick:function(e){return F(n)},children:Object($a.jsx)(mc.a,{icon:\"chevron-left\"})})},t):Object($a.jsx)(ii,{},t)}))}),Object($a.jsx)(tc,{fullWidth:!0,className:\"badge bg-muted\",children:b?b.name:st(\"catalog_selectproduct\")})]}),Object($a.jsxs)(Jc,{size:6,overflow:\"hidden\",children:[Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",children:[Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:[k.userName,\" \",st(\"inventory.trading.isoffering\"),\":\"]}),W(k.accepts)]}),Object($a.jsx)(sc,{columnCount:3,children:Array.from(Array(9),(function(e,t){var n=k.userItems.getWithIndex(t)||null;return n?Object($a.jsx)(ii,{itemActive:g===n,itemImage:n.iconUrl,itemCount:n.getTotalCount(),itemUniqueNumber:n.stuffData.uniqueNumber,onClick:function(e){return m(n)}},t):Object($a.jsx)(ii,{},t)}))}),Object($a.jsx)(tc,{fullWidth:!0,className:\"badge bg-muted w-100\",children:g?g.name:st(\"catalog_selectproduct\")})]})]}),Object($a.jsxs)(lc,{grow:!0,justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"danger\",onClick:n,children:st(\"generic.cancel\")}),U===nr.TRADING_STATE_READY&&Object($a.jsx)(dc,{variant:\"secondary\",disabled:!N.itemCount&&!k.itemCount,onClick:L,children:st(\"inventory.trading.accept\")}),U===nr.TRADING_STATE_RUNNING&&Object($a.jsx)(dc,{variant:\"secondary\",disabled:!N.itemCount&&!k.itemCount,onClick:L,children:st(N.accepts?\"inventory.trading.modify\":\"inventory.trading.accept\")}),U===nr.TRADING_STATE_COUNTDOWN&&Object($a.jsx)(dc,{variant:\"secondary\",disabled:!0,children:st(\"inventory.trading.countdown\",[\"counter\"],[y.toString()])}),U===nr.TRADING_STATE_CONFIRMING&&Object($a.jsx)(dc,{variant:\"secondary\",onClick:L,children:st(\"inventory.trading.button.restore\")}),U===nr.TRADING_STATE_CONFIRMED&&Object($a.jsx)(dc,{variant:\"secondary\",children:st(\"inventory.trading.info.waiting\")})]})]})]}):null},Ad=[\"petItem\",\"children\"],wd=function(e){var t=e.petItem,n=void 0===t?null:t,r=e.children,a=void 0===r?null:r,i=Object(Za.a)(e,Ad),s=Object(c.useState)(!1),u=Object(o.a)(s,2),d=u[0],j=u[1],b=xn(),O=b.selectedPet,h=void 0===O?null:O,f=b.setSelectedPet,g=void 0===f?null:f,m=(0,dn().isUnseen)(Jn.PET,n.petData.id),v=function(e){switch(e.type){case l.xe.MOUSE_DOWN:return g(n),void j(!0);case l.xe.MOUSE_UP:return void j(!1);case l.xe.ROLL_OUT:if(!d||n!==h)return;return void Kn(n)}};return Object($a.jsxs)(ii,Object(bt.a)(Object(bt.a)({itemActive:n===h,itemUnseen:m,onMouseDown:v,onMouseUp:v,onMouseOut:v},i),{},{children:[Object($a.jsx)(pi,{figure:n.petData.figureData.figuredata,direction:3,headOnly:!0}),a]}))},Dd=function(e){var t=e.roomSession,n=void 0===t?null:t,r=e.roomPreviewer,a=void 0===r?null:r,i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=xn(),b=j.petItems,O=void 0===b?null:b,h=j.selectedPet,f=void 0===h?null:h,g=j.activate,m=void 0===g?null:g,v=j.deactivate,p=void 0===v?null:v,x=dn(),_=x.isUnseen,E=void 0===_?null:_,I=x.removeUnseen,y=void 0===I?null:I;return Object(c.useEffect)((function(){if(f&&a){var e=f.petData,t=G(),n=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_WALL_TYPE),r=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_FLOOR_TYPE),c=t.getRoomInstanceVariable(t.activeRoomId,l.Ig.ROOM_LANDSCAPE_TYPE);n=n&&n.length?n:\"101\",r=r&&r.length?r:\"101\",c=c&&c.length?c:\"1.1\",a.reset(!1),a.updateRoomWallsAndFloorVisibility(!0,!0),a.updateObjectRoom(r,n,c),a.addPetIntoRoom(e.figureString)}}),[a,f]),Object(c.useEffect)((function(){f&&E(Jn.PET,f.petData.id)&&y(Jn.PET,f.petData.id)}),[f,E,y]),Object(c.useEffect)((function(){if(u){var e=m();return function(){return p(e)}}}),[u,m,p]),Object(c.useEffect)((function(){return d(!0),function(){return d(!1)}}),[]),O&&O.length?Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{size:7,overflow:\"hidden\",children:Object($a.jsx)(sc,{columnCount:5,children:O&&O.length>0&&O.map((function(e){return Object($a.jsx)(wd,{petItem:e},e.petData.id)}))})}),Object($a.jsxs)(Jc,{size:5,overflow:\"auto\",children:[Object($a.jsx)(Jc,{overflow:\"hidden\",position:\"relative\",children:Object($a.jsx)(yi,{roomPreviewer:a,height:140})}),f&&f.petData&&Object($a.jsxs)(Jc,{grow:!0,justifyContent:\"between\",gap:2,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:!0,truncate:!0,children:f.petData.name}),!!n&&Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return Kn(f)},children:st(\"inventory.furni.placetoroom\")})]})]})]}):Object($a.jsx)(Ed,{title:st(\"inventory.empty.pets.title\"),desc:st(\"inventory.empty.pets.desc\")})},Ud=\"inventory.furni\",Pd=\"inventory.bots\",Ld=\"inventory.furni.tab.pets\",Md=\"inventory.badges\",Fd=[Ud,Pd,Ld,Md],Hd=(Jn.FURNI,Jn.BOT,Jn.PET,Jn.BADGE,function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(Fd[0]),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(null),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(null),m=Object(o.a)(g,2),v=m[0],p=m[1],x=En(),_=x.isTrading,E=void 0!==_&&_,I=x.stopTrading,y=void 0===I?null:I,C=dn(),T=(C.getCount,C.resetCategory,function(){E&&y(),a(!1)}),S=Object(c.useCallback)((function(e){Gn&&(Vn(!1),e.placedInRoom||a(!0))}),[]);qt(l.jg.PLACED,S);var N=Object(c.useCallback)((function(e){switch(e.type){case l.Sg.CREATED:return void f(e.session);case l.Sg.ENDED:return f(null),void a(!1)}}),[]);Yt(l.Sg.CREATED,N),Yt(l.Sg.ENDED,N);var k=Object(c.useCallback)((function(e){var t,n=e.getParser(),r=Object(s.a)(n.data);try{for(r.s();!(t=r.n()).done;){var a=t.value;F().setBadgePointLimit(a.badgeId,a.limit)}}catch(c){r.e(c)}finally{r.f()}}),[]);return dt(l.t,k),Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void a(!0);case\"hide\":return void a(!1);case\"toggle\":return void a((function(e){return!e}))}},eventUrlPrefix:\"inventory/\"};return R(e),function(){return B(e)}}),[]),Object(c.useEffect)((function(){return p(new l.Kg(G(),++l.Kg.PREVIEW_COUNTER)),function(){p((function(e){return e.dispose(),null}))}}),[]),Object(c.useEffect)((function(){!r&&E&&a(!0)}),[r,E]),r?Object($a.jsxs)(Pc,{uniqueKey:\"inventory\",className:\"nitro-inventory\",theme:E?\"primary-slim\":\"\",children:[!E&&Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(\"div\",{className:\"drag-handler\",children:[Object($a.jsx)(\"div\",{style:{padding:\"10px\",fontSize:\"21px\",fontWeight:\"bold\",color:\"var(--test-galaxytext)\",display:\"inline-block\"},children:\"Inventario\"}),Fd.map((function(e,t){return Object($a.jsx)(\"div\",{style:{display:\"inline-block\",backgroundColor:\"var(--test-galaxytwo)\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"5px\",cursor:\"pointer\"},onClick:function(t){return j(e)},children:st(e)})})),Object($a.jsx)(\"div\",{style:{display:\"inline-block\",float:\"right\",padding:\"13px\"},children:Object($a.jsx)(\"div\",{style:{display:\"inline-block\",backgroundColor:\"#a61c1c\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"2px\",cursor:\"pointer\"},onClick:function(){return a(!r)},children:Object($a.jsx)(mc.a,{icon:\"times\"})})}),Object($a.jsx)(Ec,{children:Object($a.jsxs)(\"div\",{className:\"height-fix\",children:[d===Ud&&Object($a.jsx)(Rd,{roomSession:h,roomPreviewer:v}),d===Pd&&Object($a.jsx)(Cd,{roomSession:h,roomPreviewer:v}),d===Ld&&Object($a.jsx)(Dd,{roomSession:h,roomPreviewer:v}),d===Md&&Object($a.jsx)(xd,{})]})})]})}),E&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Tc,{headerText:st(\"inventory.title\"),onCloseClick:T}),Object($a.jsx)(Ec,{children:Object($a.jsx)(kd,{cancelTrade:T})})]})]}):null}),Bd=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(\"dQw4w9WgXcQ\"),s=Object(o.a)(i,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"video\":return u(t[2]),void a(!0);case\"hide\":return void a(!1)}},eventUrlPrefix:\"mediaroom/\"};return R(e),function(){return B(e)}}),[a]),Object($a.jsx)($a.Fragment,{children:r&&Object($a.jsxs)(Pc,{style:{height:\"300px\",width:\"600px\"},children:[Object($a.jsx)(Tc,{headerText:\"Video\",onCloseClick:function(e){return a(!1)}}),Object($a.jsx)(Ec,{children:Object($a.jsx)(\"iframe\",{style:{height:\"300px\",width:\"600px\"},src:\"https://www.youtube.com/embed/\"+l})})]})})},Gd=Object(c.createContext)({modToolsState:null,dispatchModToolsState:null}),Wd=function(e){return Object($a.jsx)(Gd.Provider,{value:e.value,children:e.children})},Vd=function(){return Object(c.useContext)(Gd)},qd=Object(d.a)((function e(){Object(u.a)(this,e)}));qd.SET_INIT_DATA=\"MTA_SET_INIT_DATA\",qd.SET_CURRENT_ROOM_ID=\"MTA_SET_CURRENT_ROOM_ID\",qd.SET_OPEN_ROOMS=\"MTA_SET_OPEN_ROOMS\",qd.SET_OPEN_USERINFO=\"MTA_SET_OPEN_USERINFO\",qd.SET_OPEN_ROOM_CHATLOGS=\"MTA_SET_OPEN_CHATLOGS\",qd.SET_OPEN_USER_CHATLOGS=\"MTA_SET_OPEN_USER_CHATLOGS\",qd.SET_TICKETS=\"MTA_SET_TICKETS\",qd.SET_CFH_CATEGORIES=\"MTA_SET_CFH_CATEGORIES\",qd.RESET_STATE=\"MTA_RESET_STATE\";var Yd={settings:null,currentRoomId:null,openRooms:null,openRoomChatlogs:null,openUserChatlogs:null,openUserInfo:null,tickets:null,cfhCategories:null},zd=function(e,t){switch(t.type){case qd.SET_INIT_DATA:var n=t.payload.settings||e.settings||null;return Object(bt.a)(Object(bt.a)({},e),{},{settings:n});case qd.SET_CURRENT_ROOM_ID:var r=t.payload.currentRoomId||e.currentRoomId||null;return Object(bt.a)(Object(bt.a)({},e),{},{currentRoomId:r});case qd.SET_OPEN_ROOMS:var a=t.payload.openRooms||e.openRooms||null;return Object(bt.a)(Object(bt.a)({},e),{},{openRooms:a});case qd.SET_OPEN_USERINFO:var c=t.payload.openUserInfo||e.openUserInfo||null;return Object(bt.a)(Object(bt.a)({},e),{},{openUserInfo:c});case qd.SET_OPEN_ROOM_CHATLOGS:var i=t.payload.openRoomChatlogs||e.openRoomChatlogs||null;return Object(bt.a)(Object(bt.a)({},e),{},{openRoomChatlogs:i});case qd.SET_OPEN_USER_CHATLOGS:var s=t.payload.openUserChatlogs||e.openUserChatlogs||null;return Object(bt.a)(Object(bt.a)({},e),{},{openUserChatlogs:s});case qd.SET_TICKETS:var o=t.payload.tickets||e.tickets||null;return Object(bt.a)(Object(bt.a)({},e),{},{tickets:o});case qd.SET_CFH_CATEGORIES:var l=t.payload.cfhCategories||e.cfhCategories||null;return Object(bt.a)(Object(bt.a)({},e),{},{cfhCategories:l});case qd.RESET_STATE:return Object(bt.a)({},Yd);default:return e}},Kd=function(e){var t=Vd(),n=t.modToolsState,r=void 0===n?null:n,a=t.dispatchModToolsState,i=void 0===a?null:a,s=r.openRooms,o=void 0===s?null:s,u=r.openRoomChatlogs,d=void 0===u?null:u,j=r.openUserChatlogs,b=void 0===j?null:j,O=r.openUserInfo,h=void 0===O?null:O,f=r.tickets,g=void 0===f?null:f,m=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=t.data;i({type:qd.SET_INIT_DATA,payload:{settings:n}}),i({type:qd.SET_TICKETS,payload:{tickets:n.issues}})}}),[i]),v=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=g?Array.from(g):[],r=n.findIndex((function(e){return e.issueId===t.issueData.issueId}));r>-1?n[r]=t.issueData:(n.push(t.issueData),wn(dr.MODTOOLS_NEW_TICKET)),i({type:qd.SET_TICKETS,payload:{tickets:n}})}}),[i,g]),p=Object(c.useCallback)((function(e){e.getParser()}),[]),x=Object(c.useCallback)((function(e){e.getParser()&&Ha.simpleAlert(\"Failed to pick issue\",Ua.DEFAULT,null,null,\"Error\")}),[]),_=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=g?Array.from(g):[],r=n.findIndex((function(e){return e.issueId===t.issueId}));-1!==r&&(n.splice(r,1),i({type:qd.SET_TICKETS,payload:{tickets:n}}))}}),[i,g]),E=Object(c.useCallback)((function(e){var t=e.getParser();t&&(t.success?Ha.simpleAlert(\"Moderation action was successfull\",Ua.MODERATION,null,null,\"Success\"):Ha.simpleAlert(\"There was a problem applying tht moderation action\",Ua.MODERATION,null,null,\"Error\"))}),[]),I=Object(c.useCallback)((function(e){var t=e.getParser();if(t){var n=t.callForHelpCategories;i({type:qd.SET_CFH_CATEGORIES,payload:{cfhCategories:n}}),function(e){hd=e}(n)}}),[i]),y=Object(c.useCallback)((function(e){e.getParser()}),[]);dt(l.re,m),dt(l.Md,v),dt(l.ue,p),dt(l.Od,x),dt(l.Ld,_),dt(l.pe,E),dt(l.ab,I),dt(l.Z,y);var C=Object(c.useCallback)((function(e){switch(e.type){case l.ig.INITIALIZED:return void i({type:qd.SET_CURRENT_ROOM_ID,payload:{currentRoomId:e.roomId}});case l.ig.DISPOSED:return void i({type:qd.SET_CURRENT_ROOM_ID,payload:{currentRoomId:null}})}}),[i]);qt(l.ig.INITIALIZED,C),qt(l.ig.DISPOSED,C);var T=Object(c.useCallback)((function(e){switch(e.type){case Tt.OPEN_ROOM_INFO:var t=e;if(o&&o.includes(t.roomId))return;var n=o||[];return void i({type:qd.SET_OPEN_ROOMS,payload:{openRooms:[].concat(Object(ut.a)(n),[t.roomId])}});case Tt.OPEN_ROOM_CHATLOG:var r=e;if(d&&d.includes(r.roomId))return;var a=d||[];return void i({type:qd.SET_OPEN_ROOM_CHATLOGS,payload:{openRoomChatlogs:[].concat(Object(ut.a)(a),[r.roomId])}});case Tt.OPEN_USER_INFO:var c=e;if(h&&h.includes(c.userId))return;var s=h||[];return void i({type:qd.SET_OPEN_USERINFO,payload:{openUserInfo:[].concat(Object(ut.a)(s),[c.userId])}});case Tt.OPEN_USER_CHATLOG:var l=e;if(b&&b.includes(l.userId))return;var u=b||[];return void i({type:qd.SET_OPEN_USER_CHATLOGS,payload:{openUserChatlogs:[].concat(Object(ut.a)(u),[l.userId])}})}}),[o,i,d,h,b]);return Qt(Tt.OPEN_ROOM_INFO,T),Qt(Tt.OPEN_ROOM_CHATLOG,T),Qt(Tt.OPEN_USER_INFO,T),Qt(Tt.OPEN_USER_CHATLOG,T),null},Qd=function(e){var t=e.records,n=void 0===t?null:t,r=function(e){var t=n[0].chatlog[e.index];return Object($a.jsx)(ml.b,{cache:o,columnIndex:0,parent:e.parent,rowIndex:e.index,children:Object($a.jsxs)(cc,{fullHeight:!1,style:e.style,gap:1,alignItems:\"center\",className:\"log-entry py-1 border-bottom\",children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-2\",children:t.timestamp}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-3\",bold:!0,underline:!0,pointer:!0,onClick:function(e){return Kt(new kt(t.userId))},children:t.userName}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",textBreak:!0,wrap:!0,className:\"g-col-7\",children:t.message})]},e.key)},e.key)},a=function(e){for(var t=null,r=null,a=!1,c=0,i=0;i<n.length;i++)if(c++,c+=(r=n[i]).chatlog.length,!(e.index>c-1)){if(e.index+1===c-r.chatlog.length){a=!0;break}var l=e.index-(c-r.chatlog.length);t=r.chatlog[l];break}return Object($a.jsxs)(ml.b,{cache:o,columnIndex:0,parent:e.parent,rowIndex:e.index,children:[a&&r&&Object($a.jsx)(s,{roomId:r.roomId,roomName:r.roomName,uniqueKey:e.key,style:e.style}),!a&&Object($a.jsxs)(cc,{fullHeight:!1,style:e.style,gap:1,alignItems:\"center\",className:\"log-entry py-1 border-bottom\",children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-2\",children:t.timestamp}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-3\",bold:!0,underline:!0,pointer:!0,onClick:function(e){return Kt(new kt(t.userId))},children:t.userName}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",textBreak:!0,wrap:!0,className:\"g-col-7\",children:t.message})]},e.key)]},e.key)},i=Object(c.useCallback)((function(){for(var e=0,t=0;t<n.length;t++)e++,e+=n[t].chatlog.length;return e}),[n]),s=function(e){return Object($a.jsxs)(lc,{gap:2,alignItems:\"center\",justifyContent:\"between\",className:\"room-info bg-muted rounded p-1\",style:e.style,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:\"Room name:\"}),Object($a.jsx)(Hi,{children:e.roomName})]}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{onClick:function(t){return Da(e.roomId)},children:\"Visit Room\"}),Object($a.jsx)(dc,{onClick:function(t){return Kt(new Nt(e.roomId))},children:\"Room Tools\"})]})]},e.uniqueKey)},o=new ml.c({defaultHeight:25,fixedWidth:!0});return Object($a.jsxs)($a.Fragment,{children:[n&&1===n.length&&Object($a.jsx)(s,{roomId:n[0].roomId,roomName:n[0].roomName,uniqueKey:null,style:{}}),Object($a.jsxs)(Jc,{fit:!0,gap:0,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{gap:2,children:Object($a.jsxs)(cc,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object($a.jsx)(tc,{className:\"g-col-2\",children:\"Time\"}),Object($a.jsx)(tc,{className:\"g-col-3\",children:\"User\"}),Object($a.jsx)(tc,{className:\"g-col-7\",children:\"Message\"})]})}),n&&n.length>0&&Object($a.jsx)(Jc,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:Object($a.jsx)(ml.a,{defaultWidth:400,defaultHeight:200,children:function(e){var t=e.height,c=e.width;return o.clearAll(),Object($a.jsx)(ml.d,{width:c,height:t,rowCount:n.length>1?i():n[0].chatlog.length,rowHeight:o.rowHeight,className:\"log-entry-container\",rowRenderer:n.length>1?a:r,deferredMeasurementCache:o})}})})]})]})},Xd=function(e){var t=e.roomId,n=void 0===t?null:t,r=e.onCloseClick,a=void 0===r?null:r,i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useCallback)((function(e){var t=e.getParser();t&&t.data.roomId===n&&d(t.data)}),[n]);return dt(l.Xf,j),Object(c.useEffect)((function(){ea(new l.sc(n))}),[n]),u?Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",windowPosition:kc.TOP_LEFT,children:[Object($a.jsx)(Tc,{headerText:\"Room Chatlog \".concat(u.roomName),onCloseClick:a}),Object($a.jsx)(Ec,{className:\"text-black h-100\",children:u&&Object($a.jsx)(Qd,{records:[u]})})]}):null},Jd=function(e){var t=e.roomId,n=void 0===t?null:t,r=e.onCloseClick,a=void 0===r?null:r,i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=(b[0],b[1]),h=Object(c.useState)(null),f=Object(o.a)(h,2),g=f[0],m=f[1],v=Object(c.useState)(null),p=Object(o.a)(v,2),x=(p[0],p[1]),_=Object(c.useState)(null),E=Object(o.a)(_,2),I=E[0],y=E[1],C=Object(c.useState)(!1),T=Object(o.a)(C,2),S=T[0],N=T[1],R=Object(c.useState)(0),k=Object(o.a)(R,2),A=k[0],w=k[1],D=Object(c.useState)(!1),U=Object(o.a)(D,2),P=U[0],L=U[1],M=Object(c.useState)(!1),F=Object(o.a)(M,2),H=F[0],B=F[1],G=Object(c.useState)(!1),W=Object(o.a)(G,2),V=W[0],q=W[1],Y=Object(c.useState)(\"\"),z=Object(o.a)(Y,2),K=z[0],Q=z[1],X=Object(c.useCallback)((function(e){var t=e.getParser();t&&t.data.flatId===n&&(O(t.data.flatId),m(t.data.room.name),x(t.data.ownerId),y(t.data.ownerName),N(t.data.ownerInRoom),w(t.data.userCount))}),[n]);dt(l.te,X);var J=Object(c.useCallback)((function(e,t){if(e)switch(e){case\"alert_only\":if(0===K.trim().length)return;return ea(new l.oe(l.oe.ACTION_ALERT,K,\"\")),void ea(new l.ne(n,H?1:0,V?1:0,P?1:0));case\"send_message\":if(0===K.trim().length)return;return ea(new l.oe(l.oe.ACTION_MESSAGE,K,\"\")),void ea(new l.ne(n,H?1:0,V?1:0,P?1:0))}}),[V,P,H,K,n]);return Object(c.useEffect)((function(){u||(ea(new l.nc(n)),d(!0))}),[n,u,d]),Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-room\",theme:\"primary-slim\",windowPosition:kc.TOP_LEFT,children:[Object($a.jsx)(Tc,{headerText:\"Room Info\"+(g?\": \"+g:\"\"),onCloseClick:function(e){return a()}}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsxs)(Jc,{justifyContent:\"center\",grow:!0,gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsx)(Hi,{bold:!0,align:\"end\",className:\"col-7\",children:\"Room Owner:\"}),Object($a.jsx)(Hi,{underline:!0,pointer:!0,truncate:!0,children:I})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsx)(Hi,{bold:!0,align:\"end\",className:\"col-7\",children:\"Users in room:\"}),Object($a.jsx)(Hi,{children:A})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsx)(Hi,{bold:!0,align:\"end\",className:\"col-7\",children:\"Owner in room:\"}),Object($a.jsx)(Hi,{children:S?\"Yes\":\"No\"})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(dc,{onClick:function(e){return Da(n)},children:\"Visit Room\"}),Object($a.jsx)(dc,{onClick:function(e){return Kt(new St(n))},children:\"Chatlog\"})]})]}),Object($a.jsxs)(Jc,{className:\"bg-muted rounded p-2\",gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:P,onChange:function(e){return L(e.target.checked)}}),Object($a.jsx)(Hi,{small:!0,children:\"Kick everyone out\"})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:H,onChange:function(e){return B(e.target.checked)}}),Object($a.jsx)(Hi,{small:!0,children:\"Enable the doorbell\"})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:V,onChange:function(e){return q(e.target.checked)}}),Object($a.jsx)(Hi,{small:!0,children:\"Change room name\"})]})]}),Object($a.jsx)(\"textarea\",{className:\"form-control\",placeholder:\"Type a mandatory message to the users in this text box...\",value:K,onChange:function(e){return Q(e.target.value)}}),Object($a.jsxs)(lc,{justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"danger\",onClick:function(e){return J(\"send_message\")},children:\"Send Caution\"}),Object($a.jsx)(dc,{onClick:function(e){return J(\"alert_only\")},children:\"Send Alert only\"})]})]})]})},Zd=function(e){switch(e){case 1:case 2:return\"Normal\";case 3:return\"Automatic\";case 4:return\"Automatic IM\";case 5:return\"Guide System\";case 6:return\"IM\";case 7:return\"Room\";case 8:return\"Panic\";case 9:return\"Guardian\";case 10:return\"Automatic Helper\";case 11:return\"Discussion\";case 12:return\"Selfie\";case 14:return\"Photo\";case 15:return\"Ambassador\";default:return\"Unknown\"}},$d=function(e){var t=e.onCloseClick,n=void 0===t?null:t,r=e.issueId,a=void 0===r?null:r,i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1];Object(c.useEffect)((function(){ea(new l.dc(a))}),[a]);var j=Object(c.useCallback)((function(e){var t=e.getParser();t&&t.data.issueId===a&&d(t.data)}),[a]);return dt(l.Y,j),Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:\"Issue Chatlog\",onCloseClick:n}),Object($a.jsx)(Ec,{className:\"text-black\",children:u&&Object($a.jsx)(Qd,{records:[u.chatRecord]})})]})},ej=function(e){var t=e.issueId,n=void 0===t?null:t,r=e.onIssueInfoClosed,a=void 0===r?null:r,i=Vd().modToolsState,s=(void 0===i?null:i).tickets,u=void 0===s?null:s,d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],O=j[1],h=Object(c.useMemo)((function(){return u&&u.length?u.find((function(e){return e.issueId===n})):null}),[n,u]),f=function(e){ea(new l.eb([n],e)),a(n)},g=function(e){return Kt(new kt(e))};return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-handle-issue\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:\"Resolving issue \"+n,onCloseClick:function(){return a(n)}}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:\"Issue Information\"}),Object($a.jsxs)(cc,{overflow:\"auto\",children:[Object($a.jsx)(Jc,{size:8,children:Object($a.jsx)(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:Object($a.jsxs)(\"tbody\",{children:[Object($a.jsxs)(\"tr\",{children:[Object($a.jsx)(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Source\"}),Object($a.jsx)(\"td\",{style:{color:\"var(--test-galaxytext)\"},children:Zd(h.categoryId)})]}),Object($a.jsxs)(\"tr\",{children:[Object($a.jsx)(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Category\"}),Object($a.jsx)(\"td\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-break\",children:st(\"help.cfh.topic.\"+h.reportedCategoryId)})]}),Object($a.jsxs)(\"tr\",{children:[Object($a.jsx)(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Description\"}),Object($a.jsx)(\"td\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-break\",children:h.message})]}),Object($a.jsxs)(\"tr\",{children:[Object($a.jsx)(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Caller\"}),Object($a.jsx)(\"td\",{children:Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,underline:!0,pointer:!0,onClick:function(e){return g(h.reporterUserId)},children:h.reporterUserName})})]}),Object($a.jsxs)(\"tr\",{children:[Object($a.jsx)(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Reported User\"}),Object($a.jsx)(\"td\",{children:Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,underline:!0,pointer:!0,onClick:function(e){return g(h.reportedUserId)},children:h.reportedUserName})})]})]})})}),Object($a.jsxs)(Jc,{size:4,gap:1,children:[Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(){return O(!b)},children:\"Chatlog\"}),Object($a.jsx)(dc,{onClick:function(e){return f(l.eb.RESOLUTION_USELESS)},children:\"Close as useless\"}),Object($a.jsx)(dc,{variant:\"danger\",onClick:function(e){return f(l.eb.RESOLUTION_ABUSIVE)},children:\"Close as abusive\"}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return f(l.eb.RESOLUTION_RESOLVED)},children:\"Close as resolved\"}),Object($a.jsx)(dc,{variant:\"secondary\",onClick:function(e){return function(e){ea(new l.Hf([e])),a(e)}(n)},children:\"Release\"})]})]})]})]}),b&&Object($a.jsx)($d,{issueId:n,onCloseClick:function(){return O(!1)}})]})},tj=function(e){var t=e.myIssues,n=void 0===t?null:t,r=e.onIssueHandleClick,a=void 0===r?null:r;return Object($a.jsxs)(Jc,{gap:0,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{gap:2,children:Object($a.jsxs)(cc,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Type\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Room/Player\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Opened\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\"})]})}),Object($a.jsx)(Jc,{overflow:\"auto\",className:\"striped-children\",gap:0,children:n&&n.length>0&&n.map((function(e){return Object($a.jsxs)(cc,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:e.categoryId}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:e.reportedUserName}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:new Date(Date.now()-e.issueAgeInMilliseconds).toLocaleTimeString()}),Object($a.jsx)(tc,{className:\"g-col-2\",children:Object($a.jsx)(dc,{variant:\"primary\",onClick:function(t){return a(e.issueId)},children:\"Handle\"})}),Object($a.jsx)(tc,{className:\"g-col-2\",children:Object($a.jsx)(dc,{variant:\"danger\",onClick:function(t){return n=e.issueId,ea(new l.Hf([n]));var n},children:\"Release\"})})]},e.issueId)}))})]})},nj=function(e){var t=e.openIssues,n=void 0===t?null:t;return Object($a.jsxs)(Jc,{gap:0,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{gap:2,children:Object($a.jsxs)(cc,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Type\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Room/Player\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-4\",children:\"Opened\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\"})]})}),Object($a.jsx)(Jc,{overflow:\"auto\",className:\"striped-children\",gap:0,children:n&&n.length>0&&n.map((function(e){return Object($a.jsxs)(cc,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:e.categoryId}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:e.reportedUserName}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-4\",children:new Date(Date.now()-e.issueAgeInMilliseconds).toLocaleTimeString()}),Object($a.jsx)(tc,{className:\"g-col-3\",children:Object($a.jsx)(dc,{variant:\"success\",onClick:function(t){return n=e.issueId,ea(new l.rf([n],!1,0,\"pick issue button\"));var n},children:\"Pick Issue\"})})]},e.issueId)}))})]})},rj=function(e){var t=e.pickedIssues,n=void 0===t?null:t;return Object($a.jsxs)(Jc,{gap:0,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{gap:2,children:Object($a.jsxs)(cc,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Type\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Room/Player\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-4\",children:\"Opened\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Picker\"})]})}),Object($a.jsx)(Jc,{overflow:\"auto\",className:\"striped-children\",gap:0,children:n&&n.length>0&&n.map((function(e){return Object($a.jsxs)(cc,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:e.categoryId}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:e.reportedUserName}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-4\",children:new Date(Date.now()-e.issueAgeInMilliseconds).toLocaleTimeString()}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:e.pickerUserName})]},e.issueId)}))})]})},aj=[\"Open Issues\",\"My Issues\",\"Picked Issues\"],cj=function(e){var t=e.onCloseClick,n=void 0===t?null:t,r=Vd().modToolsState,a=(void 0===r?null:r).tickets,i=void 0===a?null:a,s=Object(c.useState)(0),u=Object(o.a)(s,2),d=u[0],j=u[1],b=Object(c.useState)([]),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useMemo)((function(){return i?i.filter((function(e){return e.state===l.Nd.STATE_OPEN})):[]}),[i]),m=Object(c.useMemo)((function(){return i?i.filter((function(e){return e.state===l.Nd.STATE_PICKED&&e.pickerUserId===ae().userId})):[]}),[i]),v=Object(c.useMemo)((function(){return i?i.filter((function(e){return e.state===l.Nd.STATE_PICKED})):[]}),[i]),p=Object(c.useCallback)((function(e){var t=h.indexOf(e);if(-1!==t){var n=Array.from(h);n.splice(t,1),f(n)}}),[h]),x=Object(c.useCallback)((function(e){if(-1===h.indexOf(e)){var t=Array.from(h);t.push(e),f(t)}else p(e)}),[h,p]),_=Object(c.useCallback)((function(){switch(d){case 0:return Object($a.jsx)(nj,{openIssues:g});case 1:return Object($a.jsx)(tj,{myIssues:m,onIssueHandleClick:x});case 2:return Object($a.jsx)(rj,{pickedIssues:v});default:return null}}),[d,m,x,g,v]);return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-tickets\",children:[Object($a.jsx)(Tc,{headerText:\"Tickets\",onCloseClick:n}),Object($a.jsx)(Di,{children:aj.map((function(e,t){return Object($a.jsx)(Ai,{isActive:d===t,onClick:function(e){return j(t)},children:e},t)}))}),Object($a.jsx)(Ec,{gap:1,children:Object($a.jsx)(_,{})})]}),h&&h.length>0&&h.map((function(e){return Object($a.jsx)(ej,{issueId:e,onIssueInfoClosed:p},e)}))]})},ij=function(e){var t=e.userId,n=void 0===t?null:t,r=e.onCloseClick,a=void 0===r?null:r,i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useCallback)((function(e){var t=e.getParser();t&&t.data.userId===n&&(h(t.data.username),d(t.data.roomChatlogs))}),[n]);return dt(l.ri,f),Object(c.useEffect)((function(){ea(new l.wc(n))}),[n]),Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",windowPosition:kc.TOP_LEFT,children:[Object($a.jsx)(Tc,{headerText:\"User Chatlog: \".concat(O||\"\"),onCloseClick:a}),Object($a.jsx)(Ec,{className:\"h-100\",children:u&&Object($a.jsx)(Qd,{records:u})})]})},sj=function(){function e(t,n,r,a,c){Object(u.a)(this,e),this._actionId=void 0,this._name=void 0,this._actionType=void 0,this._sanctionTypeId=void 0,this._actionLengthHours=void 0,this._actionId=t,this._name=n,this._actionType=r,this._sanctionTypeId=a,this._actionLengthHours=c}return Object(d.a)(e,[{key:\"actionId\",get:function(){return this._actionId}},{key:\"name\",get:function(){return this._name}},{key:\"actionType\",get:function(){return this._actionType}},{key:\"sanctionTypeId\",get:function(){return this._sanctionTypeId}},{key:\"actionLengthHours\",get:function(){return this._actionLengthHours}}]),e}();sj.ALERT=1,sj.MUTE=2,sj.BAN=3,sj.KICK=4,sj.TRADE_LOCK=5,sj.MESSAGE=6;var oj=[new sj(1,\"Alert\",sj.ALERT,1,0),new sj(2,\"Mute 1h\",sj.MUTE,2,0),new sj(3,\"Ban 18h\",sj.BAN,3,0),new sj(4,\"Ban 7 days\",sj.BAN,4,0),new sj(5,\"Ban 30 days (step 1)\",sj.BAN,5,0),new sj(7,\"Ban 30 days (step 2)\",sj.BAN,7,0),new sj(6,\"Ban 100 years\",sj.BAN,6,0),new sj(106,\"Ban avatar-only 100 years\",sj.BAN,6,0),new sj(101,\"Kick\",sj.KICK,0,0),new sj(102,\"Lock trade 1 week\",sj.TRADE_LOCK,0,168),new sj(104,\"Lock trade permanent\",sj.TRADE_LOCK,0,876e3),new sj(105,\"Message\",sj.MESSAGE,0,0)],lj=function(e){var t=e.user,n=void 0===t?null:t,r=e.onCloseClick,a=void 0===r?null:r,i=Object(c.useState)(-1),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(-1),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(\"\"),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Vd().modToolsState,_=void 0===x?null:x,E=_.cfhCategories,I=void 0===E?null:E,y=_.settings,C=void 0===y?null:y,T=Object(c.useMemo)((function(){var e=[];if(I&&I.length){var t,n=Object(s.a)(I);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,c=Object(s.a)(a.topics);try{for(c.s();!(r=c.n()).done;){var i=r.value;e.push(i)}}catch(o){c.e(o)}finally{c.f()}}}catch(o){n.e(o)}finally{n.f()}}return e}),[I]),S=function(e){Ha.simpleAlert(e,Ua.DEFAULT,null,null,\"Error\")};return n?Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-user-action\",theme:\"primary-slim\",windowPosition:kc.TOP_LEFT,children:[Object($a.jsx)(Tc,{headerText:\"Mod Action: \"+(n?n.username:\"\"),onCloseClick:function(){return a()}}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:d,onChange:function(e){return j(parseInt(e.target.value))},children:[Object($a.jsx)(\"option\",{value:-1,disabled:!0,children:\"CFH Topic\"}),T.map((function(e,t){return Object($a.jsx)(\"option\",{value:t,children:st(\"help.cfh.topic.\"+e.id)},t)}))]}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:h,onChange:function(e){return f(parseInt(e.target.value))},children:[Object($a.jsx)(\"option\",{value:-1,disabled:!0,children:\"Sanction Type\"}),oj.map((function(e,t){return Object($a.jsx)(\"option\",{value:t,children:e.name},t)}))]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{small:!0,style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:\"Optional message type, overrides default\"}),Object($a.jsx)(\"textarea\",{className:\"form-control\",value:v,onChange:function(e){return p(e.target.value)}})]}),Object($a.jsxs)(lc,{justifyContent:\"between\",gap:1,children:[Object($a.jsx)(dc,{variant:\"primary\",onClick:function(){var e=null,t=T[d];if(-1===d&&(e=\"You must select a CFH topic\"),e)return S(e);var r=0===v.trim().length?st(\"help.cfh.topic.\".concat(t.id)):v;ea(new l.pb(n.userId,d,r)),a()},children:\"Default Sanction\"}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(){var e=null,t=T[d],r=oj[h];if(-1===d||-1===h?e=\"You must select a CFH topic and Sanction\":C&&C.cfhPermission?t?r||(e=\"You must select a sanction\"):e=\"You must select a CFH topic\":e=\"You do not have permission to do this\",e)S(e);else{var c=0===v.trim().length?st(\"help.cfh.topic.\".concat(t.id)):v;switch(r.actionType){case sj.ALERT:if(!C.alertPermission)return void S(\"You have insufficient permissions\");ea(new l.he(n.userId,c,t.id));break;case sj.MUTE:ea(new l.le(n.userId,c,t.id));break;case sj.BAN:if(!C.banPermission)return void S(\"You have insufficient permissions\");ea(new l.ie(n.userId,c,t.id,h,106===r.actionId));break;case sj.KICK:if(!C.kickPermission)return void S(\"You have insufficient permissions\");ea(new l.je(n.userId,c,t.id));break;case sj.TRADE_LOCK:var i=60*r.actionLengthHours;ea(new l.me(n.userId,c,i,t.id));break;case sj.MESSAGE:if(0===v.trim().length)return void S(\"Please write a message to user\");ea(new l.ke(n.userId,v,t.id))}a()}},children:\"Sanction\"})]})]})]}):null},uj=function(e){var t=e.userId,n=void 0===t?null:t,r=e.onCloseClick,a=void 0===r?null:r,i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useCallback)((function(e){var t=e.getParser();t&&t.data.userId===n&&d(t.data)}),[n]);dt(l.qh,j);var b=function(e){var t=u.rooms[e.index];return Object($a.jsxs)(cc,{fullHeight:!1,style:e.style,gap:1,alignItems:\"center\",className:\"py-1 border-bottom\",children:[Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-2\",children:[t.enterHour.toString().padStart(2,\"0\"),\": \",t.enterMinute.toString().padStart(2,\"0\")]}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-7\",children:t.roomName}),Object($a.jsx)(Hi,{bold:!0,underline:!0,pointer:!0,variant:\"primary\",className:\"g-col-3\",onClick:function(e){return Da(t.roomId)},children:\"Visit Room\"})]},e.key)};return Object(c.useEffect)((function(){ea(new l.uc(n))}),[n]),n?Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-user-visits\",theme:\"primary-slim\",windowPosition:kc.TOP_LEFT,children:[Object($a.jsx)(Tc,{headerText:\"User Visits\",onCloseClick:a}),Object($a.jsx)(Ec,{className:\"\",gap:1,children:Object($a.jsxs)(Jc,{fullHeight:!0,gap:0,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{gap:2,children:Object($a.jsxs)(cc,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Time\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-7\",children:\"Room name\"}),Object($a.jsx)(tc,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Visit\"})]})}),Object($a.jsx)(Jc,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:u&&Object($a.jsx)(ml.a,{defaultWidth:400,defaultHeight:200,children:function(e){var t=e.height,n=e.width;return Object($a.jsx)(ml.d,{width:n,height:t,rowCount:u.rooms.length,rowHeight:25,className:\"log-entry-container\",rowRenderer:b,style:{color:\"var(--test-galaxytext)\"}})}})})]})})]}):null},dj=function(e){var t=e.user,n=void 0===t?null:t,r=e.onCloseClick,a=void 0===r?null:r,i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useCallback)((function(){0!==u.trim().length?(ea(new l.ke(n.userId,u,-999)),a()):Kt(new At([\"Please write a message to user.\"],null,null,null,\"Error\",null))}),[u,n,a]);return n?Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-user-message\",theme:\"primary-slim\",windowPosition:kc.TOP_LEFT,children:[Object($a.jsx)(Tc,{headerText:\"Send Message\",onCloseClick:function(){return a()}}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:[\"Message To: \",n.username]}),Object($a.jsx)(\"textarea\",{className:\"form-control\",value:u,onChange:function(e){return d(e.target.value)}}),Object($a.jsx)(dc,{fullWidth:!0,onClick:j,children:\"Send message\"})]})]}):null},jj=function(e){var t=e.onCloseClick,n=void 0===t?null:t,r=e.userId,a=void 0===r?null:r,i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(!1),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useCallback)((function(e){var t=e.getParser();t&&t.data.userId===a&&d(t.data)}),[a]);dt(l.ve,I);var y=Object(c.useMemo)((function(){return u?[{localeKey:\"modtools.userinfo.userName\",value:u.userName,showOnline:!0},{localeKey:\"modtools.userinfo.cfhCount\",value:u.cfhCount.toString()},{localeKey:\"modtools.userinfo.abusiveCfhCount\",value:u.abusiveCfhCount.toString()},{localeKey:\"modtools.userinfo.cautionCount\",value:u.cautionCount.toString()},{localeKey:\"modtools.userinfo.banCount\",value:u.banCount.toString()},{localeKey:\"modtools.userinfo.lastSanctionTime\",value:u.lastSanctionTime},{localeKey:\"modtools.userinfo.tradingLockCount\",value:u.tradingLockCount.toString()},{localeKey:\"modtools.userinfo.tradingExpiryDate\",value:u.tradingExpiryDate},{localeKey:\"modtools.userinfo.minutesSinceLastLogin\",value:l.Ib.format(60*u.minutesSinceLastLogin,\".ago\",2)},{localeKey:\"modtools.userinfo.lastPurchaseDate\",value:u.lastPurchaseDate},{localeKey:\"modtools.userinfo.primaryEmailAddress\",value:u.primaryEmailAddress},{localeKey:\"modtools.userinfo.identityRelatedBanCount\",value:u.identityRelatedBanCount.toString()},{localeKey:\"modtools.userinfo.registrationAgeInMinutes\",value:l.Ib.format(60*u.registrationAgeInMinutes,\".ago\",2)},{localeKey:\"modtools.userinfo.userClassification\",value:u.userClassification}]:null}),[u]);return Object(c.useEffect)((function(){ea(new l.oc(a))}),[a]),u?Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Pc,{className:\"nitro-mod-tools-user\",theme:\"primary-slim\",windowPosition:kc.TOP_LEFT,children:[Object($a.jsx)(Tc,{headerText:st(\"modtools.userinfo.title\",[\"username\"],[u.userName]),onCloseClick:function(){return n()}}),Object($a.jsx)(Ec,{className:\"text-black\",children:Object($a.jsxs)(cc,{overflow:\"hidden\",children:[Object($a.jsx)(Jc,{size:8,overflow:\"auto\",children:Object($a.jsx)(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:Object($a.jsx)(\"tbody\",{children:y.map((function(e,t){return Object($a.jsxs)(\"tr\",{children:[Object($a.jsx)(\"th\",{style:{color:\"var(--test-galaxytext)\"},scope:\"row\",children:st(e.localeKey)}),Object($a.jsxs)(\"td\",{style:{color:\"var(--test-galaxytext)\"},children:[e.value,e.showOnline&&Object($a.jsx)(\"i\",{className:\"icon icon-pf-\".concat(u.online?\"online\":\"offline\",\" ms-2\")})]})]},t)}))})})}),Object($a.jsxs)(Jc,{size:4,gap:1,children:[Object($a.jsx)(dc,{onClick:function(e){return Kt(new Rt(a))},children:\"Room Chat\"}),Object($a.jsx)(dc,{onClick:function(e){return h(!O)},children:\"Send Message\"}),Object($a.jsx)(dc,{onClick:function(e){return E(!_)},children:\"Room Visits\"}),Object($a.jsx)(dc,{onClick:function(e){return v(!m)},children:\"Mod Action\"})]})]})})]}),O&&Object($a.jsx)(dj,{user:{userId:a,username:u.userName},onCloseClick:function(){return h(!1)}}),m&&Object($a.jsx)(lj,{user:{userId:a,username:u.userName},onCloseClick:function(){return v(!1)}}),_&&Object($a.jsx)(uj,{userId:a,onCloseClick:function(){return E(!1)}})]}):null},bj=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useReducer)(zd,Yd),g=Object(o.a)(f,2),m=g[0],v=g[1],p=m.currentRoomId,x=void 0===p?null:p,_=m.openRooms,E=void 0===_?null:_,I=m.openRoomChatlogs,y=void 0===I?null:I,C=m.openUserChatlogs,T=void 0===C?null:C,S=m.openUserInfo,N=void 0===S?null:S,R=Object(c.useRef)(null),k=Object(c.useCallback)((function(e){switch(e.type){case Tt.SHOW_MOD_TOOLS:return void a(!0);case Tt.HIDE_MOD_TOOLS:return void a(!1);case Tt.TOGGLE_MOD_TOOLS:return void a((function(e){return!e}))}}),[]);Qt(Tt.SHOW_MOD_TOOLS,k),Qt(Tt.HIDE_MOD_TOOLS,k),Qt(Tt.TOGGLE_MOD_TOOLS,k);var A=Object(c.useCallback)((function(e){if(e.category===l.Cg.UNIT){var t=ue();if(t){var n=t.userDataManager.getUserDataByIndex(e.objectId);n&&n.type===l.Gg.USER&&d({userId:n.webID,username:n.name})}}}),[]);qt(l.jg.SELECTED,A);var w=Object(c.useCallback)((function(e,t){if(e)switch(e){case\"toggle_room\":return E?void(E.indexOf(x)>-1?w(\"close_room\",x.toString()):Kt(new Nt(x))):void Kt(new Nt(x));case\"close_room\":var n=E.indexOf(Number(t)),r=Array.from(E);return r.splice(n,1),void v({type:qd.SET_OPEN_ROOMS,payload:{openRooms:r}});case\"toggle_room_chatlog\":return y?void(y.indexOf(x)>-1?w(\"close_room_chatlog\",x.toString()):Kt(new St(x))):void Kt(new St(x));case\"close_room_chatlog\":var a=y.indexOf(Number(t)),c=Array.from(y);return c.splice(a,1),void v({type:qd.SET_OPEN_ROOM_CHATLOGS,payload:{openRoomChatlogs:c}});case\"toggle_user_info\":if(!u)return;var i=u.userId;return N?void(N.indexOf(i)>-1?w(\"close_user_info\",i.toString()):Kt(new kt(i))):void Kt(new kt(i));case\"close_user_info\":var s=N.indexOf(Number(t)),o=Array.from(N);return o.splice(s,1),void v({type:qd.SET_OPEN_USERINFO,payload:{openUserInfo:o}});case\"close_user_chatlog\":var l=T.indexOf(Number(t)),d=Array.from(T);return d.splice(l,1),void v({type:qd.SET_OPEN_USER_CHATLOGS,payload:{openUserChatlogs:d}})}}),[E,x,y,u,N,T]);return Object($a.jsxs)(Wd,{value:{modToolsState:m,dispatchModToolsState:v},children:[Object($a.jsx)(Kd,{}),r&&Object($a.jsxs)(Pc,{uniqueKey:\"mod-tools\",className:\"nitro-mod-tools\",windowPosition:kc.TOP_LEFT,theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:\"Mod Tools\",onCloseClick:function(e){return a(!1)}}),Object($a.jsxs)(Ec,{className:\"text-black\",gap:1,children:[Object($a.jsxs)(dc,{gap:1,onClick:function(e){return w(\"toggle_room\")},disabled:!x,className:\"position-relative\",style:{backgroundColor:\"var(--test-galaxytwo)\"},variant:\"none\",children:[Object($a.jsx)(tc,{className:\"icon icon-small-room position-absolute start-1\"}),\" Room Tool\"]}),Object($a.jsxs)(dc,{innerRef:R,gap:1,onClick:function(e){return w(\"toggle_room_chatlog\")},disabled:!x,className:\"position-relative\",style:{backgroundColor:\"var(--test-galaxytwo)\"},variant:\"none\",children:[Object($a.jsx)(tc,{className:\"icon icon-chat-history position-absolute start-1\"}),\" Chatlog Tool\"]}),Object($a.jsxs)(dc,{gap:1,onClick:function(){return w(\"toggle_user_info\")},disabled:!u,className:\"position-relative\",style:{backgroundColor:\"var(--test-galaxytwo)\"},variant:\"none\",children:[Object($a.jsx)(tc,{className:\"icon icon-user position-absolute start-1\"}),\" User: \",u?u.username:\"\"]}),Object($a.jsxs)(dc,{gap:1,onClick:function(){return h((function(e){return!e}))},className:\"position-relative\",style:{backgroundColor:\"var(--test-galaxytwo)\"},variant:\"none\",children:[Object($a.jsx)(tc,{className:\"icon icon-tickets position-absolute start-1\"}),\" Report Tool\"]})]})]}),E&&E.map((function(e){return Object($a.jsx)(Jd,{roomId:e,onCloseClick:function(){return w(\"close_room\",e.toString())}},e)})),y&&y.map((function(e){return Object($a.jsx)(Xd,{roomId:e,onCloseClick:function(){return w(\"close_room_chatlog\",e.toString())}},e)})),N&&N.map((function(e){return Object($a.jsx)(jj,{userId:e,onCloseClick:function(){return w(\"close_user_info\",e.toString())}},e)})),T&&T.map((function(e){return Object($a.jsx)(ij,{userId:e,onCloseClick:function(){return w(\"close_user_chatlog\",e.toString())}},e)})),O&&Object($a.jsx)(cj,{onCloseClick:function(){return h(!1)}})]})},Oj=Object(c.createContext)({categories:null,setCategories:null,topLevelContext:null,setTopLevelContext:null,topLevelContexts:null,setTopLevelContexts:null,navigatorData:null,setNavigatorData:null,doorData:null,setDoorData:null,searchResult:null,setSearchResult:null}),hj=function(e){return Object($a.jsx)(Oj.Provider,{value:e.value,children:e.children})},fj=function(){return Object(c.useContext)(Oj)},gj=function(e){var t=fj(),n=t.setCategories,r=void 0===n?null:n,a=t.setTopLevelContext,i=void 0===a?null:a,o=t.topLevelContexts,u=void 0===o?null:o,d=t.setTopLevelContexts,j=void 0===d?null:d,b=t.setNavigatorData,O=void 0===b?null:b,h=t.setDoorData,f=void 0===h?null:h,g=t.setSearchResult,m=void 0===g?null:g,v=Object(c.useCallback)((function(e){var t=e.getParser();ea(new l.wg(t.roomId,!1,!1))}),[]);dt(l.eh,v);var p=Object(c.useCallback)((function(e){var t=e.getParser();t.canCreate||Ha.simpleAlert(st(\"navigator.cannotcreateevent.error.\".concat(t.errorCode)),null,null,null,st(\"navigator.cannotcreateevent.title\"))}),[]);dt(l.Q,p);var x=Object(c.useCallback)((function(e){ea(new l.ye),ea(new l.Ge)}),[]),_=Object(c.useCallback)((function(e){var t=e.getParser();O((function(e){var n=Object(bt.a)({},e);return n.eventMod=t.securityLevel>=l.Bh.MODERATOR,n.roomPicker=t.securityLevel>=l.Bh.COMMUNITY,n}))}),[O]),E=Object(c.useCallback)((function(e){Da(e.getParser().roomId)}),[]),I=Object(c.useCallback)((function(e){var t=e.getParser();O((function(e){var n=Object(bt.a)({},e);return n.enteredGuestRoom=null,n.currentRoomOwner=t.isOwner,n.currentRoomId=t.roomId,n})),ea(new l.wg(t.roomId,!0,!1)),l.Rd.available&&l.Rd.call(\"legacyTrack\",\"navigator\",\"private\",[t.roomId])}),[O]),y=Object(c.useCallback)((function(e){var t=e.getParser();if(t.roomEnter)f({roomInfo:null,state:Ra.NONE}),O((function(e){var n=Object(bt.a)({},e);return n.enteredGuestRoom=t.data,n.currentRoomIsStaffPick=t.staffPick,!(n.createdFlatId===t.data.roomId)&&t.data.displayRoomEntryAd&&L(\"roomenterad.habblet.enabled\",!1)&&l.Ed.openRoomEnterAd(),n.createdFlatId=0,n.enteredGuestRoom&&n.enteredGuestRoom.habboGroupId,n}));else if(t.roomForward){if(t.data.ownerName!==ae().userName&&!t.isGroupMember)switch(t.data.doorMode){case l.bg.DOORBELL_STATE:return void f((function(e){var n=Object(bt.a)({},e);return n.roomInfo=t.data,n.state=Ra.START_DOORBELL,n}));case l.bg.PASSWORD_STATE:return void f((function(e){var n=Object(bt.a)({},e);return n.roomInfo=t.data,n.state=Ra.START_PASSWORD,n}))}if(t.data.doorMode===l.bg.NOOB_STATE&&!ae().isAmbassador&&!ae().isRealNoob&&!ae().isModerator)return;te(t.data.roomId)}else O((function(e){var n=Object(bt.a)({},e);return n.enteredGuestRoom=t.data,n.currentRoomIsStaffPick=t.staffPick,n}))}),[O,f]),C=Object(c.useCallback)((function(e){var t=e.getParser();O((function(e){var n=Object(bt.a)({},e);return n.currentRoomRating=t.totalLikes,n.canRate=t.canLike,n}))}),[O]),T=Object(c.useCallback)((function(e){var t=e.getParser();t.userName&&0!==t.userName.length||f((function(e){var t=Object(bt.a)({},e);return t.state=Ra.STATE_WAITING,t}))}),[f]),S=Object(c.useCallback)((function(e){var t=e.getParser();t.userName&&0!==t.userName.length||f((function(e){var t=Object(bt.a)({},e);return t.state=Ra.STATE_ACCEPTED,t}))}),[f]),N=Object(c.useCallback)((function(e){var t=e.getParser();t.userName&&0!==t.userName.length||f((function(e){var t=Object(bt.a)({},e);return t.state=Ra.STATE_NO_ANSWER,t}))}),[f]),R=Object(c.useCallback)((function(e){switch(e.getParser().errorCode){case-100002:return void f((function(e){var t=Object(bt.a)({},e);return t.state=Ra.STATE_WRONG_PASSWORD,t}));case 4009:return void Ha.simpleAlert(st(\"navigator.alert.need.to.be.vip\"),Ua.DEFAULT,null,null,st(\"generic.alert.title\"));case 4010:return void Ha.simpleAlert(st(\"navigator.alert.invalid_room_name\"),Ua.DEFAULT,null,null,st(\"generic.alert.title\"));case 4011:return void Ha.simpleAlert(st(\"navigator.alert.cannot_perm_ban\"),Ua.DEFAULT,null,null,st(\"generic.alert.title\"));case 4013:return void Ha.simpleAlert(st(\"navigator.alert.room_in_maintenance\"),Ua.DEFAULT,null,null,st(\"generic.alert.title\"))}}),[f]),k=Object(c.useCallback)((function(e){var t=e.getParser();j(t.topLevelContexts),i(t.topLevelContexts.length?t.topLevelContexts[0]:null)}),[j,i]),A=Object(c.useCallback)((function(e){var t=e.getParser();i((function(e){var n=e;if(n||(n=u&&u.length&&u[0]||null),!n)return null;if(t.result.code!==n.code&&u&&u.length){var r,a=Object(s.a)(u);try{for(a.s();!(r=a.n()).done;){var c=r.value;c.code===t.result.code&&(n=c)}}catch(d){a.e(d)}finally{a.f()}}var i,o=Object(s.a)(u);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.code===t.result.code&&(n=l)}}catch(d){o.e(d)}finally{o.f()}return n})),m(t.result)}),[u,i,m]),w=Object(c.useCallback)((function(e){var t=e.getParser();r(t.categories)}),[r]),D=Object(c.useCallback)((function(e){te(e.getParser().roomId)}),[]),P=Object(c.useCallback)((function(e){var t=e.getParser(),n=!1;if(O((function(e){n=e.settingsReceived;var r=Object(bt.a)({},e);return r.homeRoomId=t.homeRoomId,r.settingsReceived=!0,r})),!n){var r=-1,a=-1;void 0!==L(\"friend.id\")&&parseInt(L(\"friend.id\"))>0&&(r=0,ea(new l.Db(parseInt(L(\"friend.id\"))))),void 0!==L(\"forward.type\")&&void 0!==L(\"forward.id\")&&(r=parseInt(L(\"forward.type\")),a=parseInt(L(\"forward.id\"))),2===r?Da(a):-1===r&&t.roomIdToEnter>0&&(U(\"navigator/close\"),t.roomIdToEnter!==t.homeRoomId?te(t.roomIdToEnter):te(t.homeRoomId))}}),[O]),M=Object(c.useCallback)((function(e){var t=e.getParser();switch(t.reason){case l.S.REASON_FULL:Ha.simpleAlert(st(\"navigator.guestroomfull.text\"),Ua.DEFAULT,null,null,st(\"navigator.guestroomfull.title\"));break;case l.S.REASON_QUEUE_ERROR:Ha.simpleAlert(st(\"room.queue.error.\".concat(t.parameter)),Ua.DEFAULT,null,null,st(\"room.queue.error.title\"));break;case l.S.REASON_BANNED:Ha.simpleAlert(st(\"navigator.banned.text\"),Ua.DEFAULT,null,null,st(\"navigator.banned.title\"));break;default:Ha.simpleAlert(st(\"room.queue.error.title\"),Ua.DEFAULT,null,null,st(\"room.queue.error.title\"))}Oe()}),[]),F=Object(c.useCallback)((function(e){U(\"navigator/show\")}),[]);return dt(l.zi,x),dt(l.Bi,_),dt(l.tg,E),dt(l.rg,I),dt(l.jc,y),dt(l.Mg,C),dt(l.eg,T),dt(l.dg,S),dt(l.fg,N),dt(l.Zb,R),dt(l.Ce,k),dt(l.Fe,A),dt(l.ze,w),dt(l.ag,D),dt(l.Ae,P),dt(l.pg,M),dt(l.De,F),null},mj=[Ra.START_DOORBELL,Ra.STATE_WAITING,Ra.STATE_NO_ANSWER,Ra.START_PASSWORD,Ra.STATE_WRONG_PASSWORD],vj=[Ra.START_DOORBELL,Ra.STATE_WAITING,Ra.STATE_NO_ANSWER],pj=(Ra.START_PASSWORD,Ra.STATE_WRONG_PASSWORD,function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=fj(),s=i.doorData,l=void 0===s?null:s,u=i.setDoorData,d=void 0===u?null:u,j=function(){l&&l.state===Ra.STATE_WAITING&&de(),d(null)};if(Object(c.useEffect)((function(){l&&l.state===Ra.STATE_NO_ANSWER&&de()}),[l]),!l||l.state===Ra.NONE||-1===mj.indexOf(l.state))return null;var b=vj.indexOf(l.state)>=0;return Object($a.jsxs)(Pc,{className:\"nitro-navigator-doorbell\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(b?\"navigator.doorbell.title\":\"navigator.password.title\"),onCloseClick:j}),Object($a.jsxs)(Ec,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:l&&l.roomInfo&&l.roomInfo.roomName}),l.state===Ra.START_DOORBELL&&Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.doorbell.info\")}),l.state===Ra.STATE_WAITING&&Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.doorbell.waiting\")}),l.state===Ra.STATE_NO_ANSWER&&Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.doorbell.no.answer\")}),l.state===Ra.START_PASSWORD&&Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.password.info\")}),l.state===Ra.STATE_WRONG_PASSWORD&&Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.password.retryinfo\")})]}),b&&Object($a.jsxs)(Jc,{gap:1,children:[l.state===Ra.START_DOORBELL&&Object($a.jsx)(dc,{variant:\"success\",onClick:function(){l&&l.roomInfo&&(te(l.roomInfo.roomId),d((function(e){var t=Object(bt.a)({},e);return t.state=Ra.STATE_PENDING_SERVER,t})))},children:st(\"navigator.doorbell.button.ring\")}),Object($a.jsx)(dc,{variant:\"danger\",onClick:j,children:st(\"generic.cancel\")})]}),!b&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.password.enter\")}),Object($a.jsx)(\"input\",{type:\"password\",className:\"form-control form-control-sm\",onChange:function(e){return a(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(dc,{variant:\"success\",onClick:function(){l&&l.roomInfo&&(te(l.roomInfo.roomId,r),d((function(e){var t=Object(bt.a)({},e);return t.state=Ra.STATE_PENDING_SERVER,t})))},children:st(\"navigator.password.button.try\")}),Object($a.jsx)(dc,{variant:\"danger\",onClick:j,children:st(\"generic.cancel\")})]})]})]})]})}),xj=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(null),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(0),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)([]),N=Object(o.a)(S,2),R=N[0],k=N[1],A=Object(c.useState)(\"\"),w=Object(o.a)(A,2),D=w[0],U=w[1],P=fj().categories,M=void 0===P?null:P,F=L(\"hc.disabled\",!1),H=function(e){return L(\"images.url\")+\"/navigator/models/model_\".concat(e,\".png\")};return Object(c.useEffect)((function(){if(!r){for(var e=[],t=10;t<=100;t+=10)e.push(t);a(e),E(e[0])}}),[r]),Object(c.useEffect)((function(){M&&M.length&&v(M[0].id)}),[M]),Object(c.useEffect)((function(){var e=L(\"navigator.room.models\");e&&e.length&&(k(e),U(e[0].name))}),[]),Object($a.jsxs)(Jc,{overflow:\"hidden\",children:[Object($a.jsxs)(cc,{overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{size:6,gap:1,overflow:\"auto\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.createroom.roomnameinfo\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:60,onChange:function(e){return d(e.target.value)},placeholder:st(\"navigator.createroom.roomnameinfo\")})]}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.createroom.roomdescinfo\")}),Object($a.jsx)(\"textarea\",{className:\"flex-grow-1 form-control form-control-sm w-100\",maxLength:255,onChange:function(e){return h(e.target.value)},placeholder:st(\"navigator.createroom.roomdescinfo\")})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.category\")}),Object($a.jsx)(\"select\",{className:\"form-select form-select-sm\",onChange:function(e){return v(Number(e.target.value))},children:M&&M.length>0&&M.map((function(e){return Object($a.jsx)(\"option\",{value:e.id,children:st(e.name)},e.id)}))})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.maxvisitors\")}),Object($a.jsx)(\"select\",{className:\"form-select form-select-sm\",onChange:function(e){return E(Number(e.target.value))},children:r&&r.map((function(e){return Object($a.jsx)(\"option\",{value:e,children:e},e)}))})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.tradesettings\")}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",onChange:function(e){return T(Number(e.target.value))},children:[Object($a.jsx)(\"option\",{value:\"0\",children:st(\"navigator.roomsettings.trade_not_allowed\")}),Object($a.jsx)(\"option\",{value:\"1\",children:st(\"navigator.roomsettings.trade_not_with_Controller\")}),Object($a.jsx)(\"option\",{value:\"2\",children:st(\"navigator.roomsettings.trade_allowed\")})]})]})]}),Object($a.jsx)(Jc,{size:6,gap:1,overflow:\"auto\",children:R.map((function(e,t){return Object($a.jsxs)(ii,{fullHeight:!0,onClick:function(){return function(e,t){!e||e.clubLevel>ce()||U(R[t].name)}(e,t)},itemActive:D===e.name,overflow:\"unset\",gap:0,className:\"p-1\",disabled:ce()<e.clubLevel,children:[Object($a.jsx)(lc,{fullHeight:!0,center:!0,overflow:\"hidden\",children:Object($a.jsx)(\"img\",{alt:\"\",src:H(e.name)})}),Object($a.jsxs)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:[e.tileSize,\" \",st(\"navigator.createroom.tilesize\")]}),!F&&e.clubLevel>l.zd.NO_CLUB&&Object($a.jsx)(Vc,{position:\"absolute\",className:\"top-1 end-1\",type:\"hc\"})]},e.name)}))})]}),Object($a.jsx)(dc,{fullWidth:!0,variant:!u||u.length<3?\"danger\":\"success\",onClick:function(){ea(new l.Zf(u,O,\"model_\"+D,Number(m),Number(_),C))},disabled:!u||u.length<3,children:st(\"navigator.createroom.create\")})]})},_j=function(e){var t=e.onCloseClick,n=void 0===t?null:t,r=Object(c.useState)(!1),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),j=d[0],b=d[1],O=fj().navigatorData,h=void 0===O?null:O,f=function(e){switch(e){case\"settings\":return ae().userId===h.enteredGuestRoom.ownerId||ae().isModerator;case\"staff_pick\":return ae().securityLevel>=l.Bh.COMMUNITY;default:return!1}},g=function(e,t){if(h&&h.enteredGuestRoom)switch(e){case\"set_home_room\":var r=-1;return h.homeRoomId!==h.enteredGuestRoom.roomId&&(r=h.enteredGuestRoom.roomId),void(r>0&&ea(new l.yi(r)));case\"navigator_search_tag\":return;case\"open_room_thumbnail_camera\":return void Kt(new Lt(Lt.TOGGLE_THUMBNAIL));case\"open_group_info\":return void Ia(h.enteredGuestRoom.habboGroupId);case\"toggle_room_link\":return void U(\"navigator/toggle-room-link\");case\"open_room_settings\":return void ea(new l.ch(h.enteredGuestRoom.roomId));case\"toggle_pick\":return s((function(e){return!e})),void ea(new l.gh(h.enteredGuestRoom.roomId));case\"toggle_mute\":return b((function(e){return!e})),void ea(new l.Bg);case\"open_floorplan_editor\":return void U(\"floor-editor/toggle\");case\"close\":return void n()}};return Object(c.useEffect)((function(){h&&(s(h.currentRoomIsStaffPick),h.enteredGuestRoom&&b(h.enteredGuestRoom.allInRoomMuted))}),[h]),h.enteredGuestRoom?Object($a.jsxs)(Pc,{className:\"nitro-room-info\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"navigator.roomsettings.roominfo\"),onCloseClick:function(){return g(\"close\")}}),Object($a.jsx)(Ec,{children:h.enteredGuestRoom&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(lc,{gap:2,overflow:\"hidden\",children:[Object($a.jsx)(Ti,{roomId:h.enteredGuestRoom.roomId,customUrl:h.enteredGuestRoom.officialRoomPicRef,children:f(\"settings\")&&Object($a.jsx)(\"i\",{className:\"icon icon-camera-small position-absolute b-0 r-0 m-1 cursor-pointer top-0\",onClick:function(){return g(\"open_room_thumbnail_camera\")}})}),Object($a.jsxs)(Jc,{grow:!0,gap:1,overflow:\"hidden\",children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"i\",{onClick:function(){return g(\"set_home_room\")},className:\"flex-shrink-0 icon icon-house-small cursor-pointer\"+io()({\" gray\":h.homeRoomId!==h.enteredGuestRoom.roomId})}),Object($a.jsx)(Hi,{bold:!0,variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:h.enteredGuestRoom.roomName})]}),h.enteredGuestRoom.showOwner&&Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"muted\",children:st(\"navigator.roomownercaption\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:h.enteredGuestRoom.ownerId}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:h.enteredGuestRoom.ownerName})]})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"muted\",children:st(\"navigator.roomrating\")}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:h.currentRoomRating})]}),h.enteredGuestRoom.tags.length>0&&Object($a.jsx)(lc,{alignItems:\"center\",gap:1,children:h.enteredGuestRoom.tags.map((function(e){return Object($a.jsxs)(Hi,{pointer:!0,className:\"bg-muted rounded p-1\",onClick:function(e){return g(\"navigator_search_tag\")},children:[\"#\",e]},e)}))})]}),Object($a.jsxs)(Jc,{alignItems:\"center\",gap:1,children:[f(\"settings\")&&Object($a.jsx)(\"i\",{className:\"icon icon-cog cursor-pointer\",title:st(\"navigator.room.popup.info.room.settings\"),onClick:function(e){return g(\"open_room_settings\")}}),Object($a.jsx)(mc.a,{icon:\"link\",title:st(\"navigator.embed.caption\"),className:\"cursor-pointer\",onClick:function(e){return U(\"navigator/toggle-room-link\")}})]})]}),Object($a.jsx)(Hi,{overflow:\"auto\",style:{maxHeight:50},children:h.enteredGuestRoom.description}),h.enteredGuestRoom.habboGroupId>0&&Object($a.jsxs)(lc,{pointer:!0,alignItems:\"center\",gap:1,onClick:function(){return g(\"open_group_info\")},children:[Object($a.jsx)(Gc,{className:\"flex-none\",badgeCode:h.enteredGuestRoom.groupBadgeCode,isGroup:!0}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},underline:!0,children:st(\"navigator.guildbase\",[\"groupName\"],[h.enteredGuestRoom.groupName])})]})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[f(\"staff_pick\")&&Object($a.jsx)(dc,{onClick:function(){return g(\"toggle_pick\")},children:st(i?\"navigator.staffpicks.unpick\":\"navigator.staffpicks.pick\")}),Object($a.jsx)(dc,{variant:\"danger\",disabled:!0,children:st(\"help.emergency.main.report.room\")}),f(\"settings\")&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(dc,{onClick:function(){return g(\"toggle_mute\")},children:st(j?\"navigator.muteall_on\":\"navigator.muteall_off\")}),Object($a.jsx)(dc,{onClick:function(){return g(\"open_floorplan_editor\")},children:st(\"open.floor.plan.editor\")})]})]})]})})]}):null},Ej=function(e){var t=e.onCloseClick,n=void 0===t?null:t,r=fj().navigatorData,a=void 0===r?null:r;return a.enteredGuestRoom?Object($a.jsxs)(Pc,{className:\"nitro-room-link\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"navigator.embed.title\"),onCloseClick:n}),Object($a.jsx)(Ec,{className:\"text-black d-flex align-items-center\",children:Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsx)(Ti,{roomId:a.enteredGuestRoom.roomId,customUrl:a.enteredGuestRoom.officialRoomPicRef}),Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{bold:!0,fontSize:5,children:st(\"navigator.embed.headline\")}),Object($a.jsx)(Hi,{children:st(\"navigator.embed.info\")}),Object($a.jsx)(\"input\",{type:\"text\",readOnly:!0,className:\"form-control form-control-sm\",value:st(\"navigator.embed.src\",[\"roomId\"],[a.enteredGuestRoom.roomId.toString()])})]})]})})]}):null},Ij=function(e){var t=e.roomData,n=void 0===t?null:t,r=e.handleChange,a=void 0===r?null:r,i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(\"\"),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(!1),g=Object(o.a)(f,2),m=g[0],v=g[1];return Object(c.useEffect)((function(){d(\"\"),h(\"\"),v(!1)}),[n]),Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.roomaccess.caption\")}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.roomaccess.info\")})]}),Object($a.jsxs)(Jc,{overflow:\"auto\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.doormode\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:n.lockState===l.bg.OPEN_STATE&&!m,onChange:function(e){return a(\"lock_state\",l.bg.OPEN_STATE)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.doormode.open\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:n.lockState===l.bg.DOORBELL_STATE&&!m,onChange:function(e){return a(\"lock_state\",l.bg.DOORBELL_STATE)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.doormode.doorbell\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:n.lockState===l.bg.INVISIBLE_STATE&&!m,onChange:function(e){return a(\"lock_state\",l.bg.INVISIBLE_STATE)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.doormode.invisible\")})]}),Object($a.jsxs)(lc,{fullWidth:!0,gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:n.lockState===l.bg.PASSWORD_STATE||m,onChange:function(e){return v(e.target.checked)}}),!m&&n.lockState!==l.bg.PASSWORD_STATE&&Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.doormode.password\")}),(m||n.lockState===l.bg.PASSWORD_STATE)&&Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.doormode.password\")}),Object($a.jsx)(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:u,onChange:function(e){return d(e.target.value)},placeholder:st(\"navigator.roomsettings.password\"),onFocus:function(e){return v(!0)}}),m&&u.length<=0&&Object($a.jsx)(Hi,{bold:!0,small:!0,variant:\"danger\",children:st(\"navigator.roomsettings.passwordismandatory\")}),Object($a.jsx)(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:O,onChange:function(e){return h(e.target.value)},onBlur:function(){!m||u.length<=0||O.length<=0||u!==O||a(\"password\",u)},placeholder:st(\"navigator.roomsettings.passwordconfirm\")}),m&&u.length>0&&u!==O&&Object($a.jsx)(Hi,{bold:!0,small:!0,variant:\"danger\",children:st(\"navigator.roomsettings.invalidconfirm\")})]})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.pets\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:n.allowPets,onChange:function(e){return a(\"allow_pets\",e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.allowpets\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:n.allowPetsEat,onChange:function(e){return a(\"allow_pets_eat\",e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.allowfoodconsume\")})]})]})]})]})},yj=function(e){var t=e.roomData,n=void 0===t?null:t,r=e.handleChange,a=void 0===r?null:r,i=e.close,s=void 0===i?null:i,u=Object(c.useState)(\"\"),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(\"\"),h=Object(o.a)(O,2),f=h[0],g=h[1],m=fj().categories,v=void 0===m?null:m;return Object(c.useEffect)((function(){b(n.roomName),g(n.roomDescription)}),[n]),Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:st(\"navigator.roomname\")}),Object($a.jsxs)(Jc,{fullWidth:!0,gap:0,children:[Object($a.jsx)(\"input\",{className:\"form-control form-control-sm\",value:j,maxLength:60,onChange:function(e){return b(e.target.value)},onBlur:function(){j===n.roomName||j.length<3||j.length>60||a(\"name\",j)}}),j.length<3&&Object($a.jsx)(Hi,{bold:!0,small:!0,variant:\"danger\",children:st(\"navigator.roomsettings.roomnameismandatory\")})]})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:st(\"navigator.roomsettings.desc\")}),Object($a.jsx)(\"textarea\",{className:\"form-control form-control-sm\",value:f,maxLength:255,onChange:function(e){return g(e.target.value)},onBlur:function(){f===n.roomDescription||f.length>255||a(\"description\",f)}})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:st(\"navigator.category\")}),Object($a.jsx)(\"select\",{className:\"form-select form-select-sm\",value:n.categoryId,onChange:function(e){return a(\"category\",e.target.value)},children:v&&v.map((function(e){return Object($a.jsx)(\"option\",{value:e.id,children:st(e.name)},e.id)}))})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:st(\"navigator.maxvisitors\")}),Object($a.jsx)(\"select\",{className:\"form-select form-select-sm\",value:n.userCount,onChange:function(e){return a(\"max_visitors\",e.target.value)},children:Aa&&Aa.map((function(e){return Object($a.jsx)(\"option\",{value:e,children:e},e)}))})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:st(\"navigator.tradesettings\")}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n.tradeState,onChange:function(e){return a(\"trade_state\",e.target.value)},children:[Object($a.jsx)(\"option\",{value:\"0\",children:st(\"navigator.roomsettings.trade_not_allowed\")}),Object($a.jsx)(\"option\",{value:\"1\",children:st(\"navigator.roomsettings.trade_not_with_Controller\")}),Object($a.jsx)(\"option\",{value:\"2\",children:st(\"navigator.roomsettings.trade_allowed\")})]})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(tc,{className:\"col-3\"}),Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:n.allowWalkthrough,onChange:function(e){return a(\"allow_walkthrough\",e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.allow_walk_through\")})]}),Object($a.jsxs)(Hi,{variant:\"danger\",underline:!0,bold:!0,pointer:!0,className:\"d-flex justify-content-center align-items-center gap-1\",onClick:function(){Ha.confirm(st(\"navigator.roomsettings.deleteroom.confirm.message\",[\"room_name\"],[n.roomName]),(function(){ea(new l.cg(n.roomId)),s&&s(),U(\"navigator/search/myworld_view\")}),null,null,null,st(\"navigator.roomsettings.deleteroom.confirm.title\"))},children:[Object($a.jsx)(mc.a,{icon:\"times\"}),st(\"navigator.roomsettings.delete\")]})]})},Cj=function(e){var t,n=e.roomData,r=void 0===n?null:n,a=e.handleChange,i=void 0===a?null:a,s=Object(c.useState)(-1),u=Object(o.a)(s,2),d=u[0],j=u[1],b=Object(c.useState)([]),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useCallback)((function(e){var t=e.getParser();r&&r.roomId===t.roomId&&f(t.bannedUsers)}),[r]);dt(l.w,g);var m=Object(c.useCallback)((function(e){f((function(t){var n=Object(ut.a)(t),r=n.findIndex((function(t){return t.userId===e}));return r>=0&&n.splice(r,1),n})),ea(new l.jh(e,r.roomId)),j(-1)}),[r]);return Object(c.useEffect)((function(){ea(new l.Sf(r.roomId))}),[r.roomId]),Object($a.jsxs)(cc,{overflow:\"auto\",children:[Object($a.jsxs)(Jc,{size:6,children:[Object($a.jsxs)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:[st(\"navigator.roomsettings.moderation.banned.users\"),\" (\",h.length,\")\"]}),Object($a.jsx)(lc,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:Object($a.jsx)(Jc,{fullWidth:!0,overflow:\"auto\",gap:1,children:h&&h.length>0&&h.map((function(e,t){return Object($a.jsxs)(lc,{shrink:!0,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[Object($a.jsx)(Ri,{userName:e.userName}),Object($a.jsxs)(Hi,{pointer:!0,grow:!0,onClick:function(t){return j(e.userId)},children:[\" \",e.userName]})]},t)}))})}),Object($a.jsxs)(dc,{disabled:d<=0,onClick:function(e){return m(d)},children:[st(\"navigator.roomsettings.moderation.unban\"),\" \",d>0&&(null===(t=h.find((function(e){return e.userId===d})))||void 0===t?void 0:t.userName)]})]}),Object($a.jsxs)(Jc,{size:6,children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.moderation.mute.header\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:1===r.moderationSettings.allowMute,onChange:function(e){return i(\"moderation_mute\",e.target.checked?1:0)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.moderation.rights\")})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.moderation.kick.header\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:0===r.moderationSettings.allowKick,onChange:function(e){return i(\"moderation_kick\",e.target.checked?0:2)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.moderation.all\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:1===r.moderationSettings.allowKick||0===r.moderationSettings.allowKick,disabled:0===r.moderationSettings.allowKick,onChange:function(e){return i(\"moderation_kick\",e.target.checked?1:2)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.moderation.rights\")})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.moderation.ban.header\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:1===r.moderationSettings.allowBan,onChange:function(e){return i(\"moderation_ban\",e.target.checked?1:0)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.moderation.rights\")})]})]})]})]})},Tj=function(e){var t=e.roomData,n=void 0===t?null:t,r=Object(c.useState)(new Map),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useCallback)((function(e){var t=e.getParser();n&&n.roomId===t.roomId&&s(t.users)}),[n]);dt(l.Bb,u);var d=Object(c.useCallback)((function(e){var t=e.getParser();n&&n.roomId===t.roomId&&s((function(e){var n=new Map(e);return n.set(t.data.userId,t.data.userName),n}))}),[n]);dt(l.zb,d);var j=Object(c.useCallback)((function(e){var t=e.getParser();n&&n.roomId===t.roomId&&s((function(e){var n=new Map(e);return n.delete(t.userId),n}))}),[n]);return dt(l.Ab,j),Object(c.useEffect)((function(){ea(new l.oh(n.roomId))}),[n.roomId]),Object($a.jsxs)(cc,{children:[Object($a.jsxs)(Jc,{size:6,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.flatctrls.userswithrights\",[\"displayed\",\"total\"],[i.size.toString(),i.size.toString()])}),Object($a.jsx)(lc,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:Object($a.jsx)(Jc,{fullWidth:!0,overflow:\"auto\",gap:1,children:Array.from(i.entries()).map((function(e,t){var n=Object(o.a)(e,2),r=n[0],a=n[1];return Object($a.jsxs)(lc,{shrink:!0,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[Object($a.jsx)(Ri,{userName:a}),Object($a.jsxs)(Hi,{pointer:!0,grow:!0,onClick:function(e){return ea(new l.hh(r))},children:[\" \",a]})]},t)}))})})]}),Object($a.jsx)(Jc,{size:6,justifyContent:\"end\",children:Object($a.jsx)(dc,{variant:\"danger\",disabled:!i.size,onClick:function(e){return ea(new l.If(n.roomId))},children:st(\"navigator.flatctrls.clear\")})})]})},Sj=function(e){var t=e.roomData,n=void 0===t?null:t,r=e.handleChange,a=void 0===r?null:r,i=Object(c.useState)(0),s=Object(o.a)(i,2),u=s[0],d=s[1];return Object(c.useEffect)((function(){d(n.chatSettings.distance)}),[n.chatSettings]),Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.vip.caption\")}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.vip.info\")})]}),Object($a.jsxs)(cc,{overflow:\"auto\",children:[Object($a.jsxs)(Jc,{size:6,gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.chat_settings\")}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.chat_settings.info\")}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n.chatSettings.mode,onChange:function(e){return a(\"bubble_mode\",e.target.value)},children:[Object($a.jsx)(\"option\",{value:l.Vf.CHAT_MODE_FREE_FLOW,children:st(\"navigator.roomsettings.chat.mode.free.flow\")}),Object($a.jsx)(\"option\",{value:l.Vf.CHAT_MODE_LINE_BY_LINE,children:st(\"navigator.roomsettings.chat.mode.line.by.line\")})]}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n.chatSettings.weight,onChange:function(e){return a(\"chat_weight\",e.target.value)},children:[Object($a.jsx)(\"option\",{value:l.Vf.CHAT_BUBBLE_WIDTH_NORMAL,children:st(\"navigator.roomsettings.chat.bubbles.width.normal\")}),Object($a.jsx)(\"option\",{value:l.Vf.CHAT_BUBBLE_WIDTH_THIN,children:st(\"navigator.roomsettings.chat.bubbles.width.thin\")}),Object($a.jsx)(\"option\",{value:l.Vf.CHAT_BUBBLE_WIDTH_WIDE,children:st(\"navigator.roomsettings.chat.bubbles.width.wide\")})]}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n.chatSettings.speed,onChange:function(e){return a(\"bubble_speed\",e.target.value)},children:[Object($a.jsx)(\"option\",{value:l.Vf.CHAT_SCROLL_SPEED_FAST,children:st(\"navigator.roomsettings.chat.speed.fast\")}),Object($a.jsx)(\"option\",{value:l.Vf.CHAT_SCROLL_SPEED_NORMAL,children:st(\"navigator.roomsettings.chat.speed.normal\")}),Object($a.jsx)(\"option\",{value:l.Vf.CHAT_SCROLL_SPEED_SLOW,children:st(\"navigator.roomsettings.chat.speed.slow\")})]}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n.chatSettings.protection,onChange:function(e){return a(\"flood_protection\",e.target.value)},children:[Object($a.jsx)(\"option\",{value:l.Vf.FLOOD_FILTER_LOOSE,children:st(\"navigator.roomsettings.chat.flood.loose\")}),Object($a.jsx)(\"option\",{value:l.Vf.FLOOD_FILTER_NORMAL,children:st(\"navigator.roomsettings.chat.flood.normal\")}),Object($a.jsx)(\"option\",{value:l.Vf.FLOOD_FILTER_STRICT,children:st(\"navigator.roomsettings.chat.flood.strict\")})]}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.chat_settings.hearing.distance\")}),Object($a.jsx)(\"input\",{type:\"number\",min:\"0\",className:\"form-control form-control-sm\",value:u,onChange:function(e){return d(e.target.valueAsNumber)},onBlur:function(e){return a(\"chat_distance\",u)}})]}),Object($a.jsxs)(Jc,{size:6,gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"navigator.roomsettings.vip_settings\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:n.hideWalls,onChange:function(e){return a(\"hide_walls\",e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"navigator.roomsettings.hide_walls\")})]}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n.wallThickness,onChange:function(e){return a(\"wall_thickness\",e.target.value)},children:[Object($a.jsx)(\"option\",{value:\"0\",children:st(\"navigator.roomsettings.wall_thickness.normal\")}),Object($a.jsx)(\"option\",{value:\"1\",children:st(\"navigator.roomsettings.wall_thickness.thick\")}),Object($a.jsx)(\"option\",{value:\"-1\",children:st(\"navigator.roomsettings.wall_thickness.thin\")}),Object($a.jsx)(\"option\",{value:\"-2\",children:st(\"navigator.roomsettings.wall_thickness.thinnest\")})]}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:n.floorThickness,onChange:function(e){return a(\"floor_thickness\",e.target.value)},children:[Object($a.jsx)(\"option\",{value:\"0\",children:st(\"navigator.roomsettings.floor_thickness.normal\")}),Object($a.jsx)(\"option\",{value:\"1\",children:st(\"navigator.roomsettings.floor_thickness.thick\")}),Object($a.jsx)(\"option\",{value:\"-1\",children:st(\"navigator.roomsettings.floor_thickness.thin\")}),Object($a.jsx)(\"option\",{value:\"-2\",children:st(\"navigator.roomsettings.floor_thickness.thinnest\")})]})]})]})]})},Nj=[\"navigator.roomsettings.tab.1\",\"navigator.roomsettings.tab.2\",\"navigator.roomsettings.tab.3\",\"navigator.roomsettings.tab.4\",\"navigator.roomsettings.tab.5\"],Rj=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(Nj[0]),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useCallback)((function(e){var t=e.getParser();t&&(a({roomId:t.roomId,roomName:t.name,roomDescription:t.description,categoryId:t.categoryId,userCount:t.userCount,tags:t.tags,tradeState:t.tradeMode,allowWalkthrough:t.allowWalkthrough,lockState:t.state,password:null,allowPets:t.allowPets,allowPetsEat:t.allowPetsEat,hideWalls:t.hideWalls,wallThickness:t.thicknessWall,floorThickness:t.thicknessFloor,chatSettings:{mode:t.chatSettings.mode,weight:t.chatSettings.weight,speed:t.chatSettings.speed,distance:t.chatSettings.distance,protection:t.chatSettings.protection},moderationSettings:{allowMute:t.moderationSettings.allowMute,allowKick:t.moderationSettings.allowKick,allowBan:t.moderationSettings.allowBan}}),ea(new l.Sf(t.roomId)))}),[]);dt(l.dh,j);var b=function(){a(null),d(Nj[0])},O=function(e,t){a((function(n){var r=Object(bt.a)({},n);switch(e){case\"name\":r.roomName=String(t);break;case\"description\":r.roomDescription=String(t);break;case\"category\":r.categoryId=Number(t);break;case\"max_visitors\":r.userCount=Number(t);break;case\"trade_state\":r.tradeState=Number(t);break;case\"allow_walkthrough\":r.allowWalkthrough=Boolean(t);break;case\"allow_pets\":r.allowPets=Boolean(t);break;case\"allow_pets_eat\":r.allowPetsEat=Boolean(t);break;case\"hide_walls\":r.hideWalls=Boolean(t);break;case\"wall_thickness\":r.wallThickness=Number(t);break;case\"floor_thickness\":r.floorThickness=Number(t);break;case\"lock_state\":r.lockState=Number(t);break;case\"password\":r.lockState=l.bg.PASSWORD_STATE,r.password=String(t);break;case\"moderation_mute\":r.moderationSettings.allowMute=Number(t);break;case\"moderation_kick\":r.moderationSettings.allowKick=Number(t);break;case\"moderation_ban\":r.moderationSettings.allowBan=Number(t);break;case\"bubble_mode\":r.chatSettings.mode=Number(t);break;case\"chat_weight\":r.chatSettings.weight=Number(t);break;case\"bubble_speed\":r.chatSettings.speed=Number(t);break;case\"flood_protection\":r.chatSettings.protection=Number(t);break;case\"chat_distance\":r.chatSettings.distance=Number(t)}return ea(new l.xh(r.roomId,r.roomName,r.roomDescription,r.lockState,r.password,r.userCount,r.categoryId,r.tags.length,r.tags,r.tradeState,r.allowPets,r.allowPetsEat,r.allowWalkthrough,r.hideWalls,r.wallThickness,r.floorThickness,r.moderationSettings.allowMute,r.moderationSettings.allowKick,r.moderationSettings.allowBan,r.chatSettings.mode,r.chatSettings.weight,r.chatSettings.speed,r.chatSettings.distance,r.chatSettings.protection)),r}))};return r?Object($a.jsxs)(Pc,{uniqueKey:\"nitro-room-settings\",className:\"nitro-room-settings\",children:[Object($a.jsx)(Tc,{headerText:st(\"navigator.roomsettings\"),onCloseClick:b}),Object($a.jsx)(Di,{children:Nj.map((function(e){return Object($a.jsx)(Ai,{isActive:u===e,onClick:function(t){return d(e)},children:st(e)},e)}))}),Object($a.jsxs)(Ec,{children:[u===Nj[0]&&Object($a.jsx)(yj,{roomData:r,handleChange:O,close:b}),u===Nj[1]&&Object($a.jsx)(Ij,{roomData:r,handleChange:O}),u===Nj[2]&&Object($a.jsx)(Tj,{roomData:r,handleChange:O}),u===Nj[3]&&Object($a.jsx)(Sj,{roomData:r,handleChange:O}),u===Nj[4]&&Object($a.jsx)(Cj,{roomData:r,handleChange:O})]})]}):null},kj=n(130),Aj=function(e){var t=e.roomData,n=void 0===t?null:t,r=Object(c.useState)(!1),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useRef)();return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(tc,{pointer:!0,innerRef:u,className:\"icon icon-navigator-info\",onMouseOver:function(e){return s(!0)},onMouseLeave:function(e){return s(!1)}}),Object($a.jsx)(kj.a,{show:i,target:u.current,placement:\"right\",children:Object($a.jsx)(Qu.a,{children:Object($a.jsx)(Ec,{overflow:\"hidden\",className:\"room-info image-rendering-pixelated bg-transparent\",children:Object($a.jsxs)(lc,{gap:2,overflow:\"hidden\",children:[Object($a.jsxs)(Ti,{roomId:n.roomId,customUrl:n.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[n.habboGroupId>0&&Object($a.jsx)(Gc,{badgeCode:n.groupBadgeCode,isGroup:!0,className:\"position-absolute top-0 start-0 m-1 \"}),n.doorMode!==l.bg.OPEN_STATE&&Object($a.jsx)(\"i\",{className:\"position-absolute end-0 mb-1 me-1 icon icon-navigator-room-\"+(n.doorMode===l.bg.DOORBELL_STATE?\"locked\":n.doorMode===l.bg.PASSWORD_STATE?\"password\":n.doorMode===l.bg.INVISIBLE_STATE?\"invisible\":\"\")})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,truncate:!0,className:\"flex-grow-1\",style:{maxHeight:13},children:n.roomName}),Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsx)(Hi,{italics:!0,variant:\"muted\",children:st(\"navigator.roomownercaption\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:n.ownerId}),Object($a.jsx)(Hi,{italics:!0,children:n.ownerName})]})]}),Object($a.jsx)(Hi,{className:\"flex-grow-1\",children:n.description}),Object($a.jsxs)(lc,{className:\"badge p-1 position-absolute m-1 bottom-0 end-0 m-2 \"+function(){var e=n.userCount/n.maxUserCount*100,t=\"bg-primary\";return e>=92?t=\"bg-danger\":e>=50?t=\"bg-warning\":e>0&&(t=\"bg-success\"),t}(),gap:1,children:[Object($a.jsx)(mc.a,{icon:\"user\"}),n.userCount]})]})]})})})})]})},wj=[\"roomData\",\"children\",\"thumbnail\"],Dj=function(e){var t=e.roomData,n=void 0===t?null:t,r=e.children,a=void 0===r?null:r,c=e.thumbnail,i=void 0!==c&&c,s=Object(Za.a)(e,wj),o=fj().setDoorData,u=void 0===o?null:o,d=function(){var e=n.userCount/n.maxUserCount*100,t=\"bg-primary\";return e>=92?t=\"bg-danger\":e>=50?t=\"bg-warning\":e>0&&(t=\"bg-success\"),t},j=function(e){if(n.ownerId!==ae().userId){if(0!==n.habboGroupId)return void Da(n.roomId);switch(n.doorMode){case l.bg.DOORBELL_STATE:return void u((function(e){var t=Object(bt.a)({},e);return t.roomInfo=n,t.state=Ra.START_DOORBELL,t}));case l.bg.PASSWORD_STATE:return void u((function(e){var t=Object(bt.a)({},e);return t.roomInfo=n,t.state=Ra.START_PASSWORD,t}))}}te(n.roomId)};return i?Object($a.jsxs)(Jc,Object(bt.a)(Object(bt.a)({pointer:!0,overflow:\"hidden\",alignItems:\"center\",onClick:j,gap:0,className:\"navigator-item rounded-3 small mb-1 flex-column\"},s),{},{children:[Object($a.jsxs)(lc,{className:\"w-100\",style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"3px\",borderRadius:\"3px\",position:\"relative\",top:\"10px\",zIndex:\"100\"},children:[Object($a.jsx)(Hi,{variant:\"white\",truncate:!0,className:\"flex-grow-1\",children:n.roomName}),Object($a.jsx)(lc,{reverse:!0,alignItems:\"center\",gap:1,children:Object($a.jsx)(Aj,{roomData:n})}),a]}),Object($a.jsxs)(Ti,{roomId:n.roomId,customUrl:n.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[n.habboGroupId>0&&Object($a.jsx)(Gc,{badgeCode:n.groupBadgeCode,isGroup:!0,className:\"position-absolute top-0 start-0 m-1\"}),Object($a.jsxs)(lc,{center:!0,className:\"badge p-1 position-absolute m-1 \"+d(),gap:1,children:[Object($a.jsx)(mc.a,{icon:\"user\"}),n.userCount]}),n.doorMode!==l.bg.OPEN_STATE&&Object($a.jsx)(\"i\",{className:\"position-absolute end-0 mb-1 me-1 icon icon-navigator-room-\"+(n.doorMode===l.bg.DOORBELL_STATE?\"locked\":n.doorMode===l.bg.PASSWORD_STATE?\"password\":n.doorMode===l.bg.INVISIBLE_STATE?\"invisible\":\"\")})]})]})):Object($a.jsxs)(lc,Object(bt.a)(Object(bt.a)({pointer:!0,overflow:\"hidden\",alignItems:\"center\",onClick:j,gap:2,className:\"navigator-item px-2 py-2 small\"},s),{},{children:[Object($a.jsxs)(lc,{center:!0,className:\"badge p-1 \"+d(),gap:1,children:[Object($a.jsx)(mc.a,{icon:\"user\"}),n.userCount]}),Object($a.jsx)(Hi,{truncate:!0,grow:!0,children:n.roomName}),Object($a.jsxs)(lc,{reverse:!0,alignItems:\"center\",gap:1,children:[Object($a.jsx)(Aj,{roomData:n}),n.habboGroupId>0&&Object($a.jsx)(\"i\",{className:\"icon icon-navigator-room-group\"}),n.doorMode!==l.bg.OPEN_STATE&&Object($a.jsx)(\"i\",{className:\"icon icon-navigator-room-\"+(n.doorMode===l.bg.DOORBELL_STATE?\"locked\":n.doorMode===l.bg.PASSWORD_STATE?\"password\":n.doorMode===l.bg.INVISIBLE_STATE?\"invisible\":\"\")})]}),a]}))},Uj=[\"searchResult\"],Pj=function(e){var t=e.searchResult,n=void 0===t?null:t,r=Object(Za.a)(e,Uj),a=Object(c.useState)(!0),i=Object(o.a)(a,2),s=i[0],l=i[1],u=Object(c.useState)(0),d=Object(o.a)(u,2),j=d[0],b=d[1];Object(c.useEffect)((function(){n&&b(n.mode)}),[n,e]);var O=j>=ka.THUMBNAILS;return Object($a.jsxs)(Jc,{className:\"rounded\",gap:0,children:[Object($a.jsxs)(lc,{fullWidth:!0,alignItems:\"center\",justifyContent:\"between\",className:\"px-2 py-1\",children:[Object($a.jsxs)(lc,{style:{marginTop:\"5px\"},grow:!0,pointer:!0,alignItems:\"center\",gap:1,onClick:function(e){return l((function(e){return!e}))},children:[Object($a.jsx)(\"div\",{style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"2px\",borderRadius:\"3px\"},children:Object($a.jsx)(mc.a,{style:{color:\"#fff\"},icon:s?\"minus\":\"plus\"})}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\",fontSize:\"16px\",fontWeight:\"bold\"},children:st(function(){var e=n.code;return e&&e.length?e.startsWith(\"${\")?e.slice(2,e.length-1):\"navigator.searchcode.title.\"+e:n.data}())})]}),Object($a.jsx)(\"div\",{style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"2px\",borderRadius:\"3px\"},children:Object($a.jsx)(mc.a,{icon:j===ka.LIST?\"th\":j>=ka.THUMBNAILS?\"bars\":null,className:\"text-white\",onClick:function(){b((function(e){return e===ka.LIST?ka.THUMBNAILS:ka.LIST}))}})})]}),\" \",s&&Object($a.jsx)($a.Fragment,{children:O?Object($a.jsx)(sc,Object(bt.a)(Object(bt.a)({columnCount:3},r),{},{columnMinWidth:110,columnMinHeight:130,className:\"mx-2\",children:n.rooms.length>0&&n.rooms.map((function(e,t){return Object($a.jsx)(Dj,{roomData:e,thumbnail:!0},t)}))})):Object($a.jsx)(cc,{columnCount:1,className:\"navigator-grid\",gap:0,children:n.rooms.length>0&&n.rooms.map((function(e,t){return Object($a.jsx)(Dj,{roomData:e},t)}))})})]})},Lj=n(123),Mj=function(e){var t=e.sendSearch,n=void 0===t?null:t,r=Object(c.useState)(0),a=Object(o.a)(r,2),i=a[0],s=a[1],l=Object(c.useState)(\"\"),u=Object(o.a)(l,2),d=u[0],j=u[1],b=fj(),O=b.topLevelContext,h=void 0===O?null:O,f=b.searchResult,g=void 0===f?null:f,m=function(){if(h){var e=wa[i];e||(e=wa[0]);var t=(e.query?e.query+\":\":\"\")+d;n(t||\"\",h.code)}};return Object(c.useEffect)((function(){if(g){var e=g.data.split(\":\"),t=null,n=\"\";if(e.length>=2){var r=Object(Lj.a)(e),a=r[0],c=r.slice(1);t=wa.find((function(e){return e.query===a})),n=c.join(\":\")}else n=g.data;t||(t=wa[0]),s(wa.findIndex((function(e){return e===t}))),j(n)}}),[g]),Object($a.jsxs)(lc,{fullWidth:!0,gap:1,children:[Object($a.jsx)(lc,{shrink:!0,children:Object($a.jsx)(\"select\",{className:\"form-select form-select-sm\",value:i,onChange:function(e){return s(parseInt(e.target.value))},children:wa.map((function(e,t){return Object($a.jsx)(\"option\",{value:t,children:st(\"navigator.filter.\"+e.name)},t)}))})}),Object($a.jsxs)(lc,{fullWidth:!0,gap:1,children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:st(\"navigator.filter.input.placeholder\"),value:d,onChange:function(e){return j(e.target.value)},onKeyDown:function(e){return function(e){\"Enter\"===e.key&&m()}(e)}}),Object($a.jsx)(dc,{variant:\"none\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:m,children:Object($a.jsx)(\"i\",{className:\"icon icon-searchroom\"})})]})]})},Fj=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(!1),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(!1),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(!0),N=Object(o.a)(S,2),k=N[0],A=N[1],w=Object(c.useState)(!1),D=Object(o.a)(w,2),U=D[0],P=D[1],L=Object(c.useState)(null),M=Object(o.a)(L,2),F=M[0],H=M[1],G=Object(c.useState)(null),W=Object(o.a)(G,2),V=W[0],q=W[1],Y=Object(c.useState)(null),z=Object(o.a)(Y,2),K=z[0],Q=z[1],X=yn(),J=Object(o.a)(X,2),Z=J[0],$=J[1],ee=Object(c.useState)({roomInfo:null,state:Ra.NONE}),te=Object(o.a)(ee,2),ne=te[0],re=te[1],ae=Object(c.useState)(null),ce=Object(o.a)(ae,2),ie=ce[0],se=ce[1],oe=Object(c.useRef)(null),le=Object(c.useCallback)((function(e){if(e.type===l.Sg.CREATED)return a(!1),void h(!1)}),[]);Yt(l.Sg.CREATED,le);var ue=Object(c.useCallback)((function(e,t){h(!1),ea(new l.Ee(t,e)),T(!0)}),[]),de=Object(c.useCallback)((function(){if(u)return oe.current?(ue(oe.current.value,oe.current.code),void(oe.current=null)):void(ie?ue(ie.data,ie.code):V&&ue(\"\",V.code));P(!0)}),[u,ie,V,ue]),je=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return a(!0),void P(!0);case\"hide\":return void a(!1);case\"toggle\":return r?void a(!1):(a(!0),void P(!0));case\"toggle-room-info\":return void v((function(e){return!e}));case\"toggle-room-link\":return void E((function(e){return!e}));case\"goto\":if(t.length<=2)return;if(\"home\"===t[2]){if(Z.homeRoomId<=0)return;Da(Z.homeRoomId)}else{Da(parseInt(t[2]))}return;case\"create\":return a(!0),void h(!0);case\"search\":if(t.length>2){var n=t[2],c=\"\";t.length>3&&(c=t[3]),oe.current={value:c,code:n},a(!0),P(!0)}return}}),[r,Z]);return Object(c.useEffect)((function(){var e={linkReceived:je,eventUrlPrefix:\"navigator/\"};return R(e),function(){return B(e)}}),[je]),Object(c.useEffect)((function(){ie&&T(!1)}),[ie]),Object(c.useEffect)((function(){r&&u&&U&&(de(),P(!1))}),[r,u,U,de]),Object(c.useEffect)((function(){!u&&V&&d(!0)}),[u,V]),Object(c.useEffect)((function(){r&&k&&(ea(new l.Be),A(!1))}),[r,k]),Object(c.useEffect)((function(){l.Rd.addCallback(l.Ed.OPENROOM,(function(e){return ea(new l.nb(e))}))}),[]),Object($a.jsxs)(hj,{value:{categories:F,setCategories:H,topLevelContext:V,setTopLevelContext:q,topLevelContexts:K,setTopLevelContexts:Q,navigatorData:Z,setNavigatorData:$,doorData:ne,setDoorData:re,searchResult:ie,setSearchResult:se},children:[Object($a.jsx)(gj,{}),r&&Object($a.jsxs)(Pc,{uniqueKey:\"navigator\",className:\"nitro-navigator\",children:[Object($a.jsxs)(\"div\",{className:\"drag-handler\",children:[Object($a.jsx)(\"div\",{style:{padding:\"10px\",fontSize:\"21px\",fontWeight:\"bold\",color:\"var(--test-galaxytext)\",display:\"inline-block\"},children:\"Navegador\"}),K&&K.length>0&&K.map((function(e,t){return Object($a.jsx)(\"div\",{style:{display:\"inline-block\",backgroundColor:\"var(--test-galaxytwo)\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"5px\",cursor:\"pointer\"},onClick:function(t){return ue(\"\",e.code)},children:st(\"navigator.toplevelview.\"+e.code)})})),Object($a.jsxs)(\"div\",{style:{display:\"inline-block\",float:\"right\",padding:\"13px\"},children:[Object($a.jsxs)(\"div\",{onClick:function(){return h(!0)},style:{display:\"inline-block\",backgroundColor:\"#1dbf4a\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"2px\",cursor:\"pointer\"},children:[Object($a.jsx)(mc.a,{icon:\"plus\"}),\" Crear sala\"]}),\" \\xa0\",Object($a.jsx)(\"div\",{style:{display:\"inline-block\",backgroundColor:\"#a61c1c\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"2px\",cursor:\"pointer\"},onClick:function(){return a(!r)},children:Object($a.jsx)(mc.a,{icon:\"times\"})})]})]}),Object($a.jsxs)(Ec,{position:\"relative\",children:[C&&Object($a.jsx)(tc,{fit:!0,position:\"absolute\",className:\"top-0 start-0 z-index-1 bg-muted opacity-0-5\"}),!O&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Mj,{sendSearch:ue}),Object($a.jsx)(Jc,{overflow:\"auto\",children:ie&&ie.results.map((function(e,t){return Object($a.jsx)(Pj,{searchResult:e},t)}))})]}),O&&Object($a.jsx)(xj,{})]})]}),Object($a.jsx)(pj,{}),m&&Object($a.jsx)(_j,{onCloseClick:function(){return v(!1)}}),_&&Object($a.jsx)(Ej,{onCloseClick:function(){return E(!1)}}),Object($a.jsx)(Rj,{})]})},Hj=/\\n\\r|\\n|\\r/gm,Bj=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useRef)(null),g=Object(c.useCallback)(function(){var e=Object(Bi.a)(Wi.a.mark((function e(t){var n,r,c,i;return Wi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(n=e.sent){e.next=6;break}return e.abrupt(\"return\");case 6:return e.next=8,n.text();case 8:r=e.sent,c=r.split(Hj),i=c.shift().split(\"|\"),d(i[0]),h((function(e){return i[1]&&2===i[1].split(\";\").length?{width:parseInt(i[1].split(\";\")[0]),height:parseInt(i[1].split(\";\")[1])}:null})),a(c.join(\"\")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),l.Re.error(\"Failed to fetch \".concat(t));case 19:case\"end\":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),[]),m=Object(c.useCallback)((function(e){var t=e.split(\"/\");t.length<2||(t.shift(),g(L(\"habbopages.url\")+t.join(\"/\")))}),[g]);return Object(c.useEffect)((function(){var e={linkReceived:m,eventUrlPrefix:\"habbopages/\"};return R(e),function(){return B(e)}}),[m]),Object(c.useEffect)((function(){var e=function(e){if(e.target instanceof HTMLAnchorElement){e.preventDefault();var t=e.target.href;t&&t.length&&Ha.openUrl(t)}};return document.addEventListener(\"click\",e),function(){document.removeEventListener(\"click\",e)}}),[]),r?Object($a.jsxs)(Pc,{className:\"nitropedia\",theme:\"primary-slim\",style:O?{width:O.width,height:O.height}:{},children:[Object($a.jsx)(Tc,{headerText:u,onCloseClick:function(){return a(null)}}),Object($a.jsx)(Ec,{children:Object($a.jsx)(tc,{fit:!0,innerRef:f,className:\"text-black\",dangerouslySetInnerHTML:{__html:r}})})]}):null},Gj=n(195),Wj=n(197),Vj=function(e){new URLSearchParams(window.location.search).get(\"sso\");var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(null),j=Object(o.a)(d,2),b=j[0],O=j[1],h=Object(c.useState)(null),f=Object(o.a)(h,2),g=f[0],m=f[1],v=Object(c.useState)(null),p=Object(o.a)(v,2),x=p[0],_=p[1],E=Object(c.useState)(null),I=Object(o.a)(E,2),y=I[0],C=I[1],T=Object(c.useState)(null),S=Object(o.a)(T,2),N=S[0],k=S[1],A=Object(c.useState)(\"\"),w=Object(o.a)(A,2),D=w[0],U=w[1];return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItems=true\").then((function(e){return e.json()})).then((function(e){u(e)})),fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItemsCategory=1\").then((function(e){return e.json()})).then((function(e){O(e)})),fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItemsCategory=2\").then((function(e){return e.json()})).then((function(e){m(e)})),fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItemsCategory=3\").then((function(e){return e.json()})).then((function(e){_(e)})),fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItemsCategory=4\").then((function(e){return e.json()})).then((function(e){C(e)})),void a(!0);case\"hide\":return void a(!1)}},eventUrlPrefix:\"ratecatalog/\"};return R(e),function(){return B(e)}}),[a]),Object($a.jsx)($a.Fragment,{children:r&&Object($a.jsxs)(Pc,{style:{width:\"750px\",height:\"550px\"},children:[Object($a.jsx)(Tc,{headerText:\"Cat\\xe1logo de rares\",onCloseClick:function(e){return a(!1)}}),Object($a.jsx)(Ec,{className:\"text-dark\",children:Object($a.jsxs)(Gj.a,{defaultActiveKey:\"home\",id:\"uncontrolled-tab-example\",className:\"mb-3\",children:[Object($a.jsx)(Wj.a,{eventKey:\"home\",title:\"\\xdaltimos rares\",style:{color:\"var(--test-galaxytext)\"},children:null!=l&&Object($a.jsx)(\"div\",{className:\"row\",children:l.map((function(e){return Object($a.jsx)(\"div\",{className:\"col-md-3\",children:Object($a.jsxs)(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[Object($a.jsx)(\"img\",{src:e.image,style:{height:\"120px\",objectFit:\"contain\"}}),Object($a.jsx)(\"h5\",{style:{color:\"#000\"},children:e.name}),Object($a.jsxs)(\"span\",{className:\"badge bg-dark\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",e.price_diamonds]}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",e.price_th]})]})})}))})}),Object($a.jsx)(Wj.a,{eventKey:\"custom\",title:\"Custom\",style:{color:\"var(--test-galaxytext)\"},children:null!=b&&Object($a.jsx)(\"div\",{className:\"row\",children:b.map((function(e){return Object($a.jsx)(\"div\",{className:\"col-md-3\",children:Object($a.jsxs)(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[Object($a.jsx)(\"img\",{src:e.image,style:{height:\"120px\",objectFit:\"contain\"}}),Object($a.jsx)(\"h5\",{style:{color:\"#000\"},children:e.name}),Object($a.jsxs)(\"span\",{className:\"badge bg-dark\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",e.price_diamonds]}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",e.price_th]})]})})}))})}),Object($a.jsx)(Wj.a,{eventKey:\"rares\",title:\"Rares\",style:{color:\"var(--test-galaxytext)\"},children:null!=g&&Object($a.jsx)(\"div\",{className:\"row\",children:g.map((function(e){return Object($a.jsx)(\"div\",{className:\"col-md-3\",children:Object($a.jsxs)(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[Object($a.jsx)(\"img\",{src:e.image,style:{height:\"120px\",objectFit:\"contain\"}}),Object($a.jsx)(\"h5\",{style:{color:\"#000\"},children:e.name}),Object($a.jsxs)(\"span\",{className:\"badge bg-dark\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",e.price_diamonds]}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",e.price_th]})]})})}))})}),Object($a.jsx)(Wj.a,{eventKey:\"megas\",title:\"Megas\",style:{color:\"var(--test-galaxytext)\"},children:null!=x&&Object($a.jsx)(\"div\",{className:\"row\",children:x.map((function(e){return Object($a.jsx)(\"div\",{className:\"col-md-3\",children:Object($a.jsxs)(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[Object($a.jsx)(\"img\",{src:e.image,style:{height:\"120px\",objectFit:\"contain\"}}),Object($a.jsx)(\"h5\",{style:{color:\"#000\"},children:e.name}),Object($a.jsxs)(\"span\",{className:\"badge bg-dark\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",e.price_diamonds]}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",e.price_th]})]})})}))})}),Object($a.jsx)(Wj.a,{eventKey:\"ultras\",title:\"Ultras\",style:{color:\"var(--test-galaxytext)\"},children:null!=y&&Object($a.jsx)(\"div\",{className:\"row\",children:y.map((function(e){return Object($a.jsx)(\"div\",{className:\"col-md-3\",children:Object($a.jsxs)(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[Object($a.jsx)(\"img\",{src:e.image,style:{height:\"120px\",objectFit:\"contain\"}}),Object($a.jsx)(\"h5\",{style:{color:\"#000\"},children:e.name}),Object($a.jsxs)(\"span\",{className:\"badge bg-dark\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",e.price_diamonds]}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",e.price_th]})]})})}))})}),Object($a.jsxs)(Wj.a,{eventKey:\"buscar\",title:\"Buscar\",style:{color:\"var(--test-galaxytext)\"},children:[Object($a.jsxs)(\"div\",{className:\"row\",style:{marginBottom:\"20px\"},children:[Object($a.jsx)(\"div\",{className:\"col-md-10\",children:Object($a.jsx)(\"input\",{type:\"text\",onChange:function(e){return U(e.target.value)},className:\"form-control\"})}),Object($a.jsx)(\"div\",{className:\"col-md-2\",children:Object($a.jsx)(\"button\",{onClick:function(){fetch(\"https://hgalaxy.net/system/controllers/eha.php?getItemsByName=\"+D).then((function(e){return e.json()})).then((function(e){k(e)}))},className:\"btn btn-primary w-100\",children:\"Buscar\"})})]}),null!=N&&Object($a.jsx)(\"div\",{className:\"row\",children:N.map((function(e){return Object($a.jsx)(\"div\",{className:\"col-md-3\",children:Object($a.jsxs)(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[Object($a.jsx)(\"img\",{src:e.image,style:{height:\"120px\",objectFit:\"contain\"}}),Object($a.jsx)(\"h5\",{style:{color:\"#000\"},children:e.name}),Object($a.jsxs)(\"span\",{className:\"badge bg-dark\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",e.price_diamonds]}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"span\",{className:\"badge bg-primary\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",e.price_th]})]})})}))})]})]})})]})})},qj=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(!0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useCallback)((function(e){a(0),d(null)}),[]);dt(l.rb,f);var g=Object(c.useCallback)((function(e){a(0),d(null)}),[]);dt(l.rg,g);var m=Object(c.useCallback)((function(e){var t=e.getParser();t.roomEnter&&(t.data.habboGroupId>0?(a(t.data.habboGroupId),ea(new l.Oc(t.data.habboGroupId,!1))):(a(0),d(null)))}),[]);dt(l.jc,m);var v=Object(c.useCallback)((function(e){var t=e.getParser();!u||t.groupId!==u.id&&t.groupId!==r||(a(0),d(null))}),[r,u]);dt(l.Bd,v);var p=Object(c.useCallback)((function(e){var t=e.getParser();t.id===r&&d(t)}),[r]);dt(l.Pc,p);var x=u&&u.ownerName===ae().userName;return u?Object($a.jsx)(tc,{className:\"nitro-notification-bubble rounded\",children:Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",pointer:!0,onClick:function(e){return h((function(e){return!e}))},children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"group.homeroominfo.title\")}),Object($a.jsx)(mc.a,{icon:O?\"chevron-up\":\"chevron-down\"})]}),O&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(lc,{pointer:!0,alignItems:\"center\",gap:2,onClick:function(e){return Ia(u.id)},children:[Object($a.jsx)(tc,{className:\"group-badge\",children:Object($a.jsx)(Gc,{badgeCode:u.badge,isGroup:!0})}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},children:u.title})]}),(u.type!==Tu.PRIVATE||x)&&Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",disabled:u.membershipType===Cu.REQUEST_PENDING,onClick:function(){if(x)return ya(u.id);u.type===Tu.PRIVATE&&u.membershipType===Cu.NOT_MEMBER||(u.membershipType!==Cu.MEMBER?Ta(u.id):Ha.confirm(st(\"group.leaveconfirm.desc\"),(function(){ea(new l.Xc(u.id,ae().userId))}),null))},children:st(x?\"group.manage\":u.type===Tu.PRIVATE?\"\":u.membershipType===Cu.MEMBER?\"group.leave\":u.membershipType===Cu.NOT_MEMBER&&u.type===Tu.REGULAR?\"group.join\":u.membershipType===Cu.REQUEST_PENDING?\"group.membershippending\":u.membershipType===Cu.NOT_MEMBER&&u.type===Tu.EXCLUSIVE?\"group.requestmembership\":void 0)})]})]})}):null},Yj=function(e){var t=Object(c.useCallback)((function(e){var t=e.getParser();if(t.userId===ae().userId){var n=st(\"notifications.text.respect.1\"),r=st(\"notifications.text.respect.2\",[\"count\"],[t.respectsReceived.toString()]);Ha.showSingleBubble(n,La.RESPECT),Ha.showSingleBubble(r,La.RESPECT)}}),[]);dt(l.Qf,t);var n=Object(c.useCallback)((function(e){var t=e.getParser();Ha.simpleAlert(t.message.replace(/\\\\r/g,\"\\r\"),null,null,st(\"notifications.broadcast.title\"))}),[]);dt(l.yd,n);var r=Object(c.useCallback)((function(e){var t=e.getParser(),n=st(\"achievements.levelup.desc\"),r=it(t.data.badgeCode),a=ae().getBadgeUrl(t.data.badgeCode),c=\"questengine/achievements/\"+t.data.category;Ha.showSingleBubble(n+\" \"+r,La.ACHIEVEMENT,a,c)}),[]);dt(l.c,r);var a=Object(c.useCallback)((function(e){var t=e.getParser();Ha.showClubGiftNotification(t.numGifts)}),[]);dt(l.gb,a);var i=Object(c.useCallback)((function(e){var t=e.getParser();Ha.handleModeratorMessage(t.message,t.url)}),[]);dt(l.se,i);var s=Object(c.useCallback)((function(e){var t=e.getParser();if(!(t.amountChanged<=0||5!==t.type)){var n=L(\"currency.asset.icon.url\",\"\").replace(\"%type%\",t.type.toString());Ha.showSingleBubble(st(\"notifications.text.loyalty.received\",[\"AMOUNT\"],[t.amountChanged.toString()]),La.INFO,n)}}),[]);dt(l.f,s);var o=Object(c.useCallback)((function(e){var t=e.getParser();Ha.handleUserBannedMessage(t.message)}),[]);dt(l.qi,o);var u=Object(c.useCallback)((function(e){var t=e.getParser();Ha.handleHotelClosedMessage(t.openHour,t.openMinute,t.userThrowOutAtClose)}),[]);dt(l.Gd,u);var d=Object(c.useCallback)((function(e){var t=e.getParser(),n=st(\"notifications.text.\"+(t.boughtAsGift?\"petbought\":\"petreceived\")),r=null,a=G().getRoomObjectPetImage(t.pet.typeId,t.pet.paletteId,parseInt(t.pet.color,16),new l.Oi(135),64,null,!0);a&&(r=a.getImage().src),Ha.showSingleBubble(n,La.PETLEVEL,r)}),[]);dt(l.mf,d);var j=Object(c.useCallback)((function(e){e.getParser();Ha.showModerationDisclaimer()}),[]);dt(l.qg,j);var b=Object(c.useCallback)((function(e){var t=e.getParser();Ha.handleMOTD(t.messages)}),[]);dt(l.Wd,b);var O=Object(c.useCallback)((function(e){var t=e.getParser(),n=null,r=G().getRoomObjectPetImage(t.figureData.typeId,t.figureData.paletteId,parseInt(t.figureData.color,16),new l.Oi(135),64,null,!0);r&&(n=r.getImage().src),Ha.showSingleBubble(st(\"notifications.text.petlevel\",[\"pet_name\",\"level\"],[t.petName,t.level.toString()]),La.PETLEVEL,n)}),[]);dt(l.lf,O);var h=Object(c.useCallback)((function(e){var t=e.getParser();Ha.BUBBLES_DISABLED=!t.enabled}),[]);dt(l.Id,h);var f=Object(c.useCallback)((function(e){var t=e.getParser();if(t.products&&t.products.length){var n=t.products[0];n&&Ha.showSingleBubble(st(\"notifications.text.club_gift.selected\"),La.INFO,or.getProductImageUrl(n.productType,n.furniClassId,n.extraParam))}}),[]);dt(l.hb,f);var g=Object(c.useCallback)((function(e){var t=e.getParser();Ha.handleHotelMaintenanceMessage(t.minutesUntilMaintenance,t.duration)}),[]);dt(l.Xd,g);var m=Object(c.useCallback)((function(e){var t=e.getParser();Ha.handleModeratorCaution(t.message,t.url)}),[]);dt(l.qe,m);var v=Object(c.useCallback)((function(e){var t=e.getParser();Ha.showNotification(t.type,t.parameters)}),[]);dt(l.af,v);var p=Object(c.useCallback)((function(e){var t=e.getParser();Ha.handleHotelClosingMessage(t.openMinute)}),[]);dt(l.Hd,p);var x=Object(c.useCallback)((function(e){var t=e.getParser();Ha.handleLoginFailedHotelClosedMessage(t.openHour,t.openMinute)}),[]);return dt(l.Fd,x),null},zj=[\"title\",\"close\"],Kj=function(e){var t=e.title,n=void 0===t?\"Nitro\":t,r=e.close,a=void 0===r?null:r,c=Object(Za.a)(e,zj);return Object($a.jsx)(ji,Object(bt.a)(Object(bt.a)({title:n,close:a},c),{},{children:Object($a.jsxs)(cc,{children:[Object($a.jsx)(Jc,{center:!0,size:5,children:Object($a.jsx)(\"object\",{data:\"https://assets.nitrodev.co/logos/nitro-n-dark.svg\",width:\"100\",height:\"100\",children:\"\\xa0\"})}),Object($a.jsxs)(Jc,{size:7,children:[Object($a.jsxs)(Jc,{alignItems:\"center\",gap:0,children:[Object($a.jsx)(Hi,{bold:!0,fontSize:4,children:\"Nitro React\"}),Object($a.jsxs)(Hi,{children:[\"v\",\"2.0.0\"]})]}),Object($a.jsxs)(Jc,{alignItems:\"center\",children:[Object($a.jsxs)(Hi,{children:[Object($a.jsx)(\"b\",{children:\"Renderer:\"}),\" v\",l.Ze.RENDERER_VERSION]}),Object($a.jsxs)(Jc,{fullWidth:!0,gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(e){return window.open(\"https://discord.nitrodev.co\")},children:\"Discord\"}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,onClick:function(e){return window.open(\"https://git.krews.org/nitro/nitro-react\")},children:\"Git\"}),Object($a.jsx)(dc,{fullWidth:!0,onClick:function(e){return window.open(\"https://git.krews.org/nitro/nitro-react/-/issues\")},children:\"Bug Report\"})]})]})]})]})]})}))},Qj=[\"item\",\"title\",\"close\"],Xj=function(e){var t=e.item,n=void 0===t?null:t,r=e.title,a=void 0===r?e.item&&e.item.title||\"\":r,i=e.close,s=void 0===i?null:i,l=Object(Za.a)(e,Qj),u=Object(c.useState)(!1),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useCallback)((function(){Ha.openUrl(n.clickUrl),s()}),[n,s]),h=n.alertType===Ua.DEFAULT;return Object($a.jsxs)(ji,Object(bt.a)(Object(bt.a)({className:\"animate__animated animate__jackInTheBox\",title:a,close:s},l),{},{type:h?Ua.DEFAULT:n.alertType,children:[Object($a.jsxs)(lc,{fullHeight:!0,overflow:\"auto\",gap:h||n.imageUrl&&!j?2:0,children:[h&&!n.imageUrl&&Object($a.jsx)(tc,{className:\"notification-frank flex-shrink-0\"}),n.imageUrl&&!j&&Object($a.jsx)(\"img\",{src:n.imageUrl,alt:n.title,onError:function(){b(!0)},className:\"align-self-baseline\"}),Object($a.jsxs)(tc,{classNames:[\"notification-text overflow-y-auto d-flex flex-column w-100\",n.clickUrl&&!h?\"justify-content-center\":\"\"],children:[n.messages.length>0&&n.messages.map((function(e,t){var n=e.replace(/\\r\\n|\\r|\\n/g,\"<br />\");return Object($a.jsx)(tc,{dangerouslySetInnerHTML:{__html:n}},t)})),n.clickUrl&&n.clickUrl.length>0&&n.imageUrl&&!j&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"hr\",{className:\"my-2 w-100\"}),Object($a.jsx)(dc,{onClick:O,className:\"align-self-center px-3\",children:st(n.clickUrlText)})]})]})]}),(!n.imageUrl||n.imageUrl&&j)&&Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(Jc,{alignItems:\"center\",center:!0,gap:0,children:[Object($a.jsx)(\"hr\",{className:\"my-2 w-100\"}),!n.clickUrl&&Object($a.jsx)(dc,{onClick:s,children:st(\"generic.close\")}),n.clickUrl&&n.clickUrl.length>0&&Object($a.jsx)(dc,{onClick:O,children:st(n.clickUrlText)})]})})]}))},Jj=[\"item\",\"title\",\"close\"],Zj=function(e){var t=e.item,n=void 0===t?null:t,r=e.title,a=void 0===r?e.item&&e.item.title||\"\":r,i=e.close,s=void 0===i?null:i,l=Object(Za.a)(e,Jj),u=Object(c.useState)(\"\"),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)([]),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useCallback)((function(){Ha.openUrl(n.clickUrl),s()}),[n,s]);Object(c.useEffect)((function(){g(JSON.parse(n.messages[0]))}),[n]);var v=Object(c.useCallback)((function(e){var t=JSON.parse(n.messages[0]);g(t.filter((function(t){return t.includes(e)}))),b(e)}),[n]),p=n.clickUrl&&n.clickUrl.startsWith(\"event:\");return Object($a.jsxs)(ji,Object(bt.a)(Object(bt.a)({title:a,close:s},l),{},{children:[Object($a.jsx)(lc,{fullWidth:!0,alignItems:\"center\",position:\"relative\",children:Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:st(\"generic.search\"),value:j,onChange:function(e){return v(e.target.value)}})}),Object($a.jsx)(Jc,{fullHeight:!0,className:\"py-1\",overflow:\"hidden\",children:Object($a.jsx)(sc,{gap:1,columnCount:1,children:f&&f.map((function(e,t){return Object($a.jsx)(\"span\",{children:e},t)}))})}),Object($a.jsx)(\"hr\",{className:\"my-2\"}),Object($a.jsxs)(Jc,{alignItems:\"center\",center:!0,gap:1,children:[!p&&!n.clickUrl&&Object($a.jsx)(dc,{onClick:s,children:st(\"generic.close\")}),n.clickUrl&&n.clickUrl.length>0&&Object($a.jsx)(dc,{onClick:m,children:st(n.clickUrlText)})]})]}))},$j=[\"item\",\"close\"],eb=function(e){var t=e.item,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,c=Object(Za.a)(e,$j);return Object($a.jsxs)(mi,Object(bt.a)(Object(bt.a)({fadesOut:!1,className:\"flex-column club-gift\",close:a},c),{},{children:[Object($a.jsxs)(\"div\",{className:\"d-flex align-items-center gap-2 mb-2\",children:[Object($a.jsx)(Vc,{type:\"hc\",className:\"flex-shrink-0\"}),Object($a.jsx)(\"span\",{className:\"ms-1\",children:st(\"notifications.text.club_gift\")})]}),Object($a.jsxs)(\"div\",{className:\"d-flex align-items-center justify-content-end gap-2\",children:[Object($a.jsx)(\"button\",{type:\"button\",className:\"btn btn-success w-100 btn-sm\",onClick:function(){return Ha.openUrl(n.linkUrl)},children:st(\"notifications.button.show_gift_list\")}),Object($a.jsx)(\"span\",{className:\"text-decoration-underline cursor-pointer text-nowrap\",onClick:a,children:st(\"notifications.button.later\")})]})]}))},tb=[\"item\",\"close\"],nb=function(e){var t=e.item,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,c=Object(Za.a)(e,tb),i=n.message.replace(/\\r\\n|\\r|\\n/g,\"<br />\");return Object($a.jsxs)(mi,Object(bt.a)(Object(bt.a)({close:a,gap:2,alignItems:\"center\",onClick:function(e){return n.linkUrl&&n.linkUrl.length&&Ha.openUrl(n.linkUrl)}},c),{},{children:[Object($a.jsx)(lc,{center:!0,className:\"bubble-image-container\",children:n.iconUrl&&n.iconUrl.length&&Object($a.jsx)(\"img\",{className:\"no-select\",src:n.iconUrl,alt:\"\"})}),Object($a.jsx)(Hi,{wrap:!0,variant:\"none\",style:{color:\"var(--test-galaxytext)\"},dangerouslySetInnerHTML:{__html:i}})]}))},rb=[\"item\",\"close\"],ab=function(e){var t=e.item,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,c=Object(Za.a)(e,rb),i=n.message,s=void 0===i?null:i,o=n.onConfirm,l=void 0===o?null:o,u=n.onCancel,d=void 0===u?null:u,j=n.confirmText,b=void 0===j?null:j,O=n.cancelText,h=void 0===O?null:O,f=n.title,g=void 0===f?null:f;return Object($a.jsxs)(ji,Object(bt.a)(Object(bt.a)({title:g,close:a},c),{},{type:Ua.ALERT,children:[Object($a.jsx)(lc,{grow:!0,center:!0,children:Object($a.jsx)(Hi,{children:s})}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"danger\",onClick:function(){d&&d(),a()},children:h}),Object($a.jsx)(dc,{fullWidth:!0,onClick:function(){l&&l(),a()},children:b})]})]}))},cb=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(c.useState)([]),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useCallback)((function(e){var t=new Pa(e.messages,e.alertType,e.clickUrl,e.clickUrlText,e.title,e.imageUrl);a((function(e){return[t].concat(Object(ut.a)(e))}))}),[]);Qt(At.ALERT,f);var g=Object(c.useCallback)((function(e){var t=new Ma(e.message,e.notificationType,e.imageUrl,e.linkUrl);d((function(e){return[t].concat(Object(ut.a)(e))}))}),[]);Qt(wt.NEW_BUBBLE,g);var m=Object(c.useCallback)((function(e){var t=new Fa(e.type,e.message,e.onConfirm,e.onCancel,e.confirmText,e.cancelText,e.title);h((function(e){return[t].concat(Object(ut.a)(e))}))}),[]);Qt(Pt.CONFIRM,m);var v=Object(c.useCallback)((function(e){a((function(t){var n=Object(ut.a)(t),r=n.findIndex((function(t){return e===t}));return r>=0&&n.splice(r,1),n}))}),[]),p=Object(c.useCallback)((function(e){d((function(t){var n=Object(ut.a)(t),r=n.findIndex((function(t){return e===t}));return r>=0&&n.splice(r,1),n}))}),[]),x=Object(c.useCallback)((function(e){h((function(t){var n=Object(ut.a)(t),r=n.findIndex((function(t){return e===t}));return r>=0&&n.splice(r,1),n}))}),[]),_=Object(c.useMemo)((function(){if(!r||!r.length)return null;var e,t=[],n=Object(s.a)(r);try{var a=function(){var n=e.value,r=function(e,t){if(!e)return null;var n={key:e.id,item:e,close:t};switch(e.alertType){case Ua.NITRO:return Object($a.jsx)(Kj,Object(bt.a)({},n));case Ua.SEARCH:return Object($a.jsx)(Zj,Object(bt.a)({},n));default:return Object($a.jsx)(Xj,Object(bt.a)({},n))}}(n,(function(){return v(n)}));t.push(r)};for(n.s();!(e=n.n()).done;)a()}catch(c){n.e(c)}finally{n.f()}return t}),[r,v]),E=Object(c.useMemo)((function(){if(!u||!u.length)return null;var e,t=[],n=Object(s.a)(u);try{var r=function(){var n=e.value,r=function(e,t){if(!e)return null;var n={key:e.id,item:e,close:t};return e.notificationType===La.CLUBGIFT?Object($a.jsx)(eb,Object(bt.a)({},n)):Object($a.jsx)(nb,Object(bt.a)({},n))}(n,(function(){return p(n)}));if(n.notificationType===La.CLUBGIFT)return t.unshift(r),\"continue\";t.push(r)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}return t}),[u,p]),I=Object(c.useMemo)((function(){if(!O||!O.length)return null;var e,t=[],n=Object(s.a)(O);try{var r=function(){var n=e.value,r=function(e,t){if(!e)return null;var n={key:e.id,item:e,close:t};return e.confirmType,Object($a.jsx)(ab,Object(bt.a)({},n))}(n,(function(){return x(n)}));t.push(r)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}return t}),[O,x]);return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Yj,{}),Object($a.jsx)(Jc,{gap:1,children:E}),I,_]})},ib=function(e){var t=Tn(),n=t.purse,r=void 0===n?null:n,a=(t.hcDisabled,Object(c.useMemo)((function(){return L(\"system.currency.types\",[])}),[])),i=Object(c.useMemo)((function(){return L(\"currency.display.number.short\",!1)}),[]);Object(c.useMemo)((function(){if(!r)return null;var e=31*r.clubPeriods+r.clubDays,t=r.minutesUntilExpiration;return r.clubLevel===l.zd.NO_CLUB?st(\"purse.clubdays.zero.amount.text\"):t>-1&&t<1440?l.Ib.shortFormat(60*t):l.Ib.shortFormat(86400*e)}),[r]);function o(e){return\"https://swfs.hgalaxy.net/monedas/\"+e+\".png\"}var u=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(!r||!r.activityPoints||!r.activityPoints.size)return null;for(var n=Array.from(r.activityPoints.keys()).filter((function(e){return a.indexOf(e)>=0})),c=0;c<e;)n.shift(),c++;c=0;var i,l=[],u=Object(s.a)(n);try{for(u.s();!(i=u.n()).done;){var d=i.value;if(t>-1&&c===t)break;l.push(Object($a.jsx)(\"div\",{className:\"currency-container\",children:Object($a.jsxs)(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[Object($a.jsx)(\"span\",{className:\"badge bg-dark\",children:r.activityPoints.get(d)}),Object($a.jsx)(\"span\",{style:{float:\"right\"},children:Object($a.jsx)(\"img\",{src:o(d)})})]})})),c++}}catch(j){u.e(j)}finally{u.f()}return l}),[r,a,i]);return r?Object($a.jsxs)(Jc,{alignItems:\"end\",className:\"nitro-purse-container animate__animated animate__backInDown\",gap:1,style:{marginTop:\"10px\"},children:[Object($a.jsx)(\"img\",{src:\"https://i.ibb.co/c8gV8Jm/HGALAXY-ICON-BY-JEWEL.png\",style:{objectFit:\"contain\",height:\"45px\"},className:\"text-center\"}),Object($a.jsx)(\"small\",{className:\"text-white\",children:\"HGalaxy.net | Versi\\xf3n Beta\"}),Object($a.jsx)(\"div\",{className:\"currency-container\",children:Object($a.jsxs)(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[Object($a.jsx)(\"span\",{className:\"badge bg-dark\",children:r.credits}),Object($a.jsx)(\"span\",{style:{float:\"right\"},children:Object($a.jsx)(\"img\",{src:\"https://swf.kubbo.city/images/wallet/-1.png\"})})]})}),u(0,2),Object($a.jsx)(\"div\",{className:\"currency-container\",children:Object($a.jsx)(\"a\",{target:\"_blank\",href:\"https://hgalaxy.net/community/shop\",children:Object($a.jsxs)(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[Object($a.jsx)(\"small\",{children:Object($a.jsx)(\"span\",{className:\"badge bg-dark\",children:\"Tienda\"})}),Object($a.jsx)(\"span\",{style:{float:\"right\"},children:Object($a.jsx)(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_69.png\"})})]})})}),Object($a.jsxs)(\"div\",{children:[Object($a.jsx)(\"button\",{onClick:function(e){return U(\"help/show\")},className:\"btn btn-sm currency-container-button\",style:{width:\"62px\",display:\"inline-block\"},children:Object($a.jsx)(\"i\",{className:\"icon icon-help\",style:{marginTop:\"5px\"}})}),\" \\xa0\",Object($a.jsx)(\"button\",{onClick:function(e){return U(\"user-settings/toggle\")},className:\"btn btn-sm currency-container-button\",style:{width:\"62px\",display:\"inline-block\"},children:Object($a.jsx)(\"i\",{className:\"icon icon-cog\",style:{marginTop:\"5px\",marginBottom:\"2px\"}})})]})]}):null},sb=function(e){return Object($a.jsx)(\"div\",{className:\"nitro-right-side\",children:Object($a.jsxs)(Jc,{position:\"relative\",gap:1,children:[Object($a.jsx)(ib,{}),Object($a.jsx)(qj,{}),Object($a.jsx)(cb,{})]})})},ob=Object(c.createContext)({roomSession:null,eventDispatcher:null,widgetHandler:null}),lb=function(e){return Object($a.jsx)(ob.Provider,{value:e.value,children:e.children})},ub=function(){return Object(c.useContext)(ob)},db=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=ub(),g=f.roomSession,m=void 0===g?null:g,v=f.widgetHandler,p=void 0===v?null:v,x=f.eventDispatcher,_=void 0===x?null:x,E=Object(c.useCallback)((function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r){var c=l.ib.hslToRGB(((255&e)<<16)+((255&t)<<8)+(255&n));a&&h(c),r.tint=e||t||n?c:0}}),[r]),I=Object(c.useCallback)((function(e){if(u){var t=e>>16&255,n=e>>8&255,r=255&e;u.red=t/255,u.green=n/255,u.blue=r/255}}),[u]),y=Object(c.useCallback)((function(e){if(!l.vg.isRoomPreviewerId(e.roomId))switch(e.type){case l.Dg.ROOM_BACKGROUND_COLOR:var t=e;return void(t.enable?E(t.hue,t.saturation,t.lightness,!0):E(0,0,0,!0));case l.Rf.ROOM_COLOR:var n=e,r=0,a=255;return n.bgOnly||(r=n.color,a=n.brightness),void I(l.ib.hslToRGB((16776960&l.ib.rgbToHSL(r))+a));case l.hg.ROOM_COLOR:p.processEvent(e)}}),[p,E,I]);qt(l.Dg.ROOM_BACKGROUND_COLOR,y),qt(l.Rf.ROOM_COLOR,y),qt(l.hg.ROOM_COLOR,y);var C=Object(c.useCallback)((function(e){switch(e.type){case ke.PREVIEW:return void E(e.hue,e.saturation,e.lightness);case ke.CLEAR_PREVIEW:if(!r)return;return void(r.tint=O)}}),[r,O,E]);return Ht(ke.PREVIEW,_,C),Ht(ke.CLEAR_PREVIEW,_,C),Object(c.useEffect)((function(){if(m){var e=G().getRoomInstanceRenderingCanvas(m.roomId,1);if(e){var t=new l.Ve(l.We.WHITE),n=new l.Ke,r=e.master;t.tint=0,t.width=N().width,t.height=N().height,r.addChildAt(t,0),r.filters=[n],a(t),d(n);var c=function(e){t.width=N().width,t.height=N().height};return window.addEventListener(\"resize\",c),function(){a((function(e){return e&&e.destroy(),null})),d((function(e){return e&&e.destroy(),null})),h(0),window.removeEventListener(\"resize\",c)}}}}),[m]),null},jb=function(e){return Object($a.jsx)(\"div\",{className:\"room-spectator\"})},bb=[\"justifyContent\",\"alignItems\",\"classNames\"],Ob=function(e){var t=e.justifyContent,n=void 0===t?\"center\":t,r=e.alignItems,a=void 0===r?\"center\":r,i=e.classNames,s=void 0===i?[]:i,o=Object(Za.a)(e,bb),l=Object(c.useMemo)((function(){var e=[\"menu-header\",\"p-1\"];return s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[s]);return Object($a.jsx)(lc,Object(bt.a)({justifyContent:n,alignItems:a,classNames:l},o))},hb=Object(d.a)((function e(){Object(u.a)(this,e)}));hb.GENERIC_SKILL=0,hb.DRESS_UP=1,hb.SETUP_CHAT=2,hb.RANDOM_WALK=3,hb.DANCE=4,hb.CHANGE_BOT_NAME=5,hb.SERVE_BEVERAGE=6,hb.INCLIENT_LINK=7,hb.NUX_PROCEED=8,hb.CHANGE_BOT_MOTTO=9,hb.NUX_TAKE_TOUR=10,hb.NO_PICK_UP=12,hb.NAVIGATOR_SEARCH=14,hb.DONATE_TO_USER=24,hb.DONATE_TO_ALL=25;var fb=function(e){var t=e.chatEvent,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=Object(c.useState)(\"${bot.skill.chatter.configuration.text.placeholder}\"===n.chat?\"\":n.chat),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(n.automaticChat),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(n.mixSentences),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(n.chatDelay),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useMemo)((function(){return fe(ue().roomId,n.objectId,n.category,1)}),[n]);return Object($a.jsx)(Dc,{windowPosition:kc.NOTHING,handleSelector:\".drag-handler\",dragStyle:{top:I.y,left:I.x},children:Object($a.jsxs)(tc,{className:\"nitro-context-menu bot-chat\",children:[Object($a.jsx)(Ob,{className:\"drag-handler\",children:st(\"bot.skill.chatter.configuration.title\")}),Object($a.jsxs)(Jc,{className:\"p-1\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",children:st(\"bot.skill.chatter.configuration.chat.text\")}),Object($a.jsx)(\"textarea\",{className:\"form-control form-control-sm\",placeholder:st(\"bot.skill.chatter.configuration.text.placeholder\"),value:u,rows:7,onChange:function(e){return d(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(Hi,{fullWidth:!0,variant:\"white\",children:st(\"bot.skill.chatter.configuration.automatic.chat\")}),Object($a.jsx)(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:O,onChange:function(e){return h(e.target.checked)}})]}),Object($a.jsxs)(lc,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(Hi,{fullWidth:!0,variant:\"white\",children:st(\"bot.skill.chatter.configuration.markov\")}),Object($a.jsx)(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:m,onChange:function(e){return v(e.target.checked)}})]}),Object($a.jsxs)(lc,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(Hi,{fullWidth:!0,variant:\"white\",children:st(\"bot.skill.chatter.configuration.chat.delay\")}),Object($a.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:_,onChange:function(e){return E(e.target.valueAsNumber)}})]})]}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"primary\",onClick:a,children:st(\"cancel\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(){var e=u.replace(/;#;/g,\" \").replace(/\\r\\n|\\r|\\n/g,\"\\r\")+\";#;\"+O+\";#;\"+_+\";#;\"+m;ea(new l.C(n.botId,hb.SETUP_CHAT,e)),a()},children:st(\"save\")})]})]})]})})},gb=function(e){var t=e.item,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=Object(c.useState)(-1),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(null),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(null),m=Object(o.a)(g,2),v=m[0],p=m[1],x=ub(),_=x.roomSession,E=void 0===_?null:_,I=x.widgetHandler,y=void 0===I?null:I,C=Object(c.useCallback)((function(){h&&G().selectRoomObject(E.roomId,h.roomIndex,l.Cg.UNIT)}),[E,h]),T=Object(c.useCallback)((function(){y.processWidgetMessage(new Rr(Rr.PET_PRODUCT,n.requestRoomObjectId,h.webID)),a()}),[y,n,h,a]),S=Object(c.useMemo)((function(){if(!h||!v)return null;var e=new l.jf(h.figure),t=v.customParams.split(\" \"),n=parseInt(t[0]);switch(v.specialType){case Un.PET_SHAMPOO:if(t.length<2)return null;var r,a=G().getPetColorResult(n,e.paletteId),c=G().getPetColorResultsForTag(n,t[1]),i=-1,o=Object(s.a)(c);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(u.breed===a.breed){i=parseInt(u.id);break}}}catch(H){o.e(H)}finally{o.f()}return Object($a.jsx)(pi,{typeId:e.typeId,paletteId:i,petColor:e.color,customParts:e.customParts,direction:2});case Un.PET_CUSTOM_PART:if(t.length<4)return null;for(var d=[],j=t[1].split(\",\").map((function(e){return parseInt(e)})),b=t[2].split(\",\").map((function(e){return parseInt(e)})),O=t[3].split(\",\").map((function(e){return parseInt(e)})),f=0;f<j.length;){var g=j[f],m=e.getCustomPart(g),p=O[f];null!=m&&(p=m.paletteId),d.push(new l.if(g,b[f],p)),f++}return Object($a.jsx)(pi,{typeId:e.typeId,paletteId:e.paletteId,petColor:e.color,customParts:d,direction:2});case Un.PET_CUSTOM_PART_SHAMPOO:if(t.length<3)return null;for(var x=[],_=t[1].split(\",\").map((function(e){return parseInt(e)})),I=t[2].split(\",\").map((function(e){return parseInt(e)})),y=0;y<_.length;){var C=_[y],T=e.getCustomPart(C),S=-1;null!=T&&(S=T.partId),x.push(new l.if(_[y],S,I[y])),y++}return Object($a.jsx)(pi,{typeId:e.typeId,paletteId:e.paletteId,petColor:e.color,customParts:x,direction:2});case Un.PET_SADDLE:if(t.length<4)return null;for(var N=[],R=t[1].split(\",\").map((function(e){return parseInt(e)})),k=t[2].split(\",\").map((function(e){return parseInt(e)})),A=t[3].split(\",\").map((function(e){return parseInt(e)})),w=0;w<R.length;)N.push(new l.if(R[w],k[w],A[w])),w++;var D,U=Object(s.a)(e.customParts);try{for(U.s();!(D=U.n()).done;){var P=D.value;-1===R.indexOf(P.layerId)&&N.push(P)}}catch(H){U.e(H)}finally{U.f()}return Object($a.jsx)(pi,{typeId:e.typeId,paletteId:e.paletteId,petColor:e.color,customParts:N,direction:2});case Un.MONSTERPLANT_REBREED:case Un.MONSTERPLANT_REVIVAL:case Un.MONSTERPLANT_FERTILIZE:var L=\"rip\",M=G().getRoomObject(E.roomId,h.roomIndex,l.Cg.UNIT);if(M&&\"rip\"===(L=M.model.getValue(l.Ig.FIGURE_POSTURE))){var F=h.petLevel;L=F<7?\"grw\".concat(F):\"std\"}return Object($a.jsx)(pi,{typeId:e.typeId,paletteId:e.paletteId,petColor:e.color,customParts:e.customParts,posture:L,direction:2})}}),[h,v,E]);return Object(c.useEffect)((function(){var e=E.userDataManager.getUserDataByIndex(n.id);f(e);var t=se(E.roomId,n.requestRoomObjectId,l.Cg.FLOOR);if(t){p(t);var r=-1;switch(t.specialType){case Un.PET_SHAMPOO:r=0;break;case Un.PET_CUSTOM_PART:r=1;break;case Un.PET_CUSTOM_PART_SHAMPOO:r=2;break;case Un.PET_SADDLE:r=3;break;case Un.MONSTERPLANT_REVIVAL:r=4;break;case Un.MONSTERPLANT_REBREED:r=5;break;case Un.MONSTERPLANT_FERTILIZE:r=6}j(r)}}),[E,n]),h?Object($a.jsxs)(Pc,{className:\"nitro-use-product-confirmation\",children:[Object($a.jsx)(Tc,{headerText:st(\"useproduct.widget.title\",[\"name\"],[h.name]),onCloseClick:a}),Object($a.jsx)(Ec,{center:!0,children:Object($a.jsxs)(lc,{gap:2,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{children:Object($a.jsx)(tc,{pointer:!0,className:\"product-preview\",onClick:C,children:S})}),Object($a.jsxs)(Jc,{justifyContent:\"between\",overflow:\"auto\",children:[Object($a.jsxs)(Jc,{gap:2,children:[0===d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.shampoo\",[\"productName\"],[v.name])}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.shampoo\")})]}),1===d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.custompart\",[\"productName\"],[v.name])}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.custompart\")})]}),2===d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.custompartshampoo\",[\"productName\"],[v.name])}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.custompartshampoo\")})]}),3===d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.saddle\",[\"productName\"],[v.name])}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.saddle\")})]}),4===d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.revive_monsterplant\",[\"productName\"],[v.name])}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.revive_monsterplant\")})]}),5===d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.rebreed_monsterplant\",[\"productName\"],[v.name])}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.rebreed_monsterplant\")})]}),6===d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.fertilize_monsterplant\",[\"productName\"],[v.name])}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.fertilize_monsterplant\")})]})]}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"danger\",onClick:a,children:st(\"useproduct.widget.cancel\")}),Object($a.jsx)(dc,{variant:\"success\",onClick:T,children:st(\"useproduct.widget.use\")})]})]})]})})]}):null},mb=[\"disabled\",\"fullWidth\",\"justifyContent\",\"alignItems\",\"classNames\",\"onClick\"],vb=function(e){var t=e.disabled,n=void 0!==t&&t,r=e.fullWidth,a=void 0===r||r,i=e.justifyContent,s=void 0===i?\"center\":i,o=e.alignItems,l=void 0===o?\"center\":o,u=e.classNames,d=void 0===u?[]:u,j=e.onClick,b=void 0===j?null:j,O=Object(Za.a)(e,mb),h=Object(c.useMemo)((function(){var e=[\"menu-item\",\"list-item\"];return n&&e.push(\"disabled\"),d.length&&e.push.apply(e,Object(ut.a)(d)),e}),[n,d]);return Object($a.jsx)(lc,Object(bt.a)({fullWidth:a,justifyContent:s,alignItems:l,classNames:h,onClick:function(e){n||b&&b(e)}},O))},pb=[\"justifyContent\",\"alignItems\",\"classNames\",\"collapsed\"],xb=function(e){var t=e.justifyContent,n=void 0===t?\"center\":t,r=e.alignItems,a=void 0===r?\"center\":r,i=e.classNames,s=void 0===i?[]:i,o=e.collapsed,l=void 0===o||o,u=Object(Za.a)(e,pb),d=Object(c.useMemo)((function(){var e=[\"menu-footer\"];return s.length&&e.push.apply(e,Object(ut.a)(s)),e}),[s]);return Object($a.jsx)(lc,Object(bt.a)(Object(bt.a)({justifyContent:n,alignItems:a,classNames:d},u),{},{children:Object($a.jsx)(mc.a,{icon:l?\"caret-up\":\"caret-down\",className:\"align-self-center text-dark\"})}))},_b=[\"objectId\",\"category\",\"userType\",\"fades\",\"close\",\"position\",\"classNames\",\"style\",\"children\",\"collapsable\"],Eb=10,Ib=!1,yb=function(e){var t=e.objectId,n=void 0===t?-1:t,r=e.category,a=void 0===r?-1:r,i=e.userType,s=void 0===i?-1:i,u=e.fades,d=void 0!==u&&u,j=e.close,b=void 0===j?null:j,O=e.position,h=void 0===O?\"absolute\":O,f=e.classNames,g=void 0===f?[]:f,m=e.style,v=void 0===m?{}:m,p=e.children,x=void 0===p?null:p,_=e.collapsable,E=void 0!==_&&_,I=Object(Za.a)(e,_b),y=Object(c.useState)({x:null,y:null}),C=Object(o.a)(y,2),T=C[0],S=C[1],R=Object(c.useState)(null),k=Object(o.a)(R,2),A=k[0],w=k[1],D=Object(c.useState)(-1e6),U=Object(o.a)(D,2),P=U[0],L=U[1],M=Object(c.useState)(1),F=Object(o.a)(M,2),B=F[0],G=F[1],W=Object(c.useState)(!1),V=Object(o.a)(W,2),q=V[0],Y=V[1],z=Object(c.useState)(0),K=Object(o.a)(z,2),Q=(K[0],K[1]),X=Object(c.useState)(!1),J=Object(o.a)(X,2),Z=J[0],$=J[1],ee=Object(c.useRef)(),te=Object(c.useState)(Ib),ne=Object(o.a)(te,2),re=ne[0],ae=ne[1],ce=Object(c.useCallback)((function(e){var t=-ee.current.offsetHeight;return s>-1&&(s===l.Gg.USER||s===l.Gg.BOT||s===l.Gg.RENTABLE_BOT)?t+=e.height>50?15:0:t-=14,t}),[s]),ie=Object(c.useCallback)((function(e){var t=e,n=1;if(q){if(Q((function(e){return t+=e})),(n=1*(1-t/75))<=0)return b(),!1;G(n)}return!0}),[q,b]),se=Object(c.useCallback)((function(e,t){if(e&&t&&A){var n=ce(e);A.addValue(t.y-e.top);var r=A.getMax();r<P-3&&(r=P-3);var a=t.y-r,c=~~(t.x-ee.current.offsetWidth/2),i=~~(a+n),s=N().width-ee.current.offsetWidth-Eb,o=N().height-ee.current.offsetHeight-Eb;c<Eb?c=Eb:c>s&&(c=s),i<Eb?i=Eb:i>o&&(i=o),L(r),S({x:c,y:i})}}),[A,P,ce]),oe=Object(c.useCallback)((function(e){if(ee.current&&ie(e)){var t=fe(ue().roomId,n,a),r=ge(ue().roomId,n,a);se(t,r)}}),[n,a,ie,se]),le=Object(c.useMemo)((function(){var e=[\"nitro-context-menu animate__animated animate__pulse animate__slow animate__infinite\"];return re&&e.push(\"menu-hidden\"),e.push(null!==T.x?\"visible\":\"invisible\"),g.length&&e.push.apply(e,Object(ut.a)(g)),e}),[T,g,re]),de=Object(c.useMemo)((function(){var e={};return e.left=T.x||0,e.top=T.y||0,e.opacity=B,Object.keys(v).length&&(e=Object(bt.a)(Object(bt.a)({},e),v)),e}),[T,B,v]);Object(c.useEffect)((function(){w(new l.yb(25)),L(-1e6)}),[]),Object(c.useEffect)((function(){var e=!1;return Z||(e=!0,H().add(oe)),function(){e&&H().remove(oe)}}),[Z,oe]),Object(c.useEffect)((function(){if(d){var e=setTimeout((function(){return Y(!0)}),3e3);return function(){return clearTimeout(e)}}}),[d]);return Object($a.jsxs)(tc,Object(bt.a)(Object(bt.a)({innerRef:ee,position:h,classNames:le,style:de,onMouseOver:function(e){return $(!0)},onMouseOut:function(e){return $(!1)}},I),{},{children:[!(E&&Ib)&&x,E&&Object($a.jsx)(xb,{onClick:function(){ae(Ib=!Ib)},collapsed:re})]}))},Cb=function(e){var t=e.item,n=void 0===t?null:t,r=e.updateConfirmingProduct,a=void 0===r?null:r,i=e.close,s=void 0===i?null:i,u=Object(c.useState)(0),d=Object(o.a)(u,2),j=d[0],b=d[1],O=ub().roomSession,h=void 0===O?null:O;Object(c.useEffect)((function(){if(n){var e=se(h.roomId,n.requestRoomObjectId,l.Cg.FLOOR);if(e){var t=0;switch(e.specialType){case Un.PET_SHAMPOO:t=1;break;case Un.PET_CUSTOM_PART:t=2;break;case Un.PET_CUSTOM_PART_SHAMPOO:t=3;break;case Un.PET_SADDLE:t=4;break;case Un.MONSTERPLANT_REVIVAL:t=5;break;case Un.MONSTERPLANT_REBREED:t=6;break;case Un.MONSTERPLANT_FERTILIZE:t=7}b(t)}}}),[h,n]);var f=Object(c.useCallback)((function(e){if(e)switch(e){case\"use_product\":case\"use_product_shampoo\":case\"use_product_custom_part\":case\"use_product_custom_part_shampoo\":case\"use_product_saddle\":case\"replace_product_saddle\":case\"revive_monsterplant\":case\"rebreed_monsterplant\":case\"fertilize_monsterplant\":a(n)}}),[n,a]);return Object($a.jsxs)(yb,{objectId:n.id,category:l.Cg.UNIT,userType:l.Gg.PET,close:s,collapsable:!0,children:[Object($a.jsx)(Ob,{children:n.name}),0===j&&Object($a.jsx)(vb,{onClick:function(e){return f(\"use_product\")},children:st(\"infostand.button.useproduct\")}),1===j&&Object($a.jsx)(vb,{onClick:function(e){return f(\"use_product_shampoo\")},children:st(\"infostand.button.useproduct_shampoo\")}),2===j&&Object($a.jsx)(vb,{onClick:function(e){return f(\"use_product_custom_part\")},children:st(\"infostand.button.useproduct_custom_part\")}),3===j&&Object($a.jsx)(vb,{onClick:function(e){return f(\"use_product_custom_part_shampoo\")},children:st(\"infostand.button.useproduct_custom_part_shampoo\")}),4===j&&Object($a.jsxs)($a.Fragment,{children:[n.replace&&Object($a.jsx)(vb,{onClick:function(e){return f(\"replace_product_saddle\")},children:st(\"infostand.button.replaceproduct_saddle\")}),!n.replace&&Object($a.jsx)(vb,{onClick:function(e){return f(\"use_product_saddle\")},children:st(\"infostand.button.useproduct_saddle\")})]}),5===j&&Object($a.jsx)(vb,{onClick:function(e){return f(\"revive_monsterplant\")},children:st(\"infostand.button.revive_monsterplant\")}),6===j&&Object($a.jsx)(vb,{onClick:function(e){return f(\"rebreed_monsterplant\")},children:st(\"infostand.button.rebreed_monsterplant\")}),7===j&&Object($a.jsx)(vb,{onClick:function(e){return f(\"fertilize_monsterplant\")},children:st(\"infostand.button.fertilize_monsterplant\")})]})},Tb=function(e){var t=e.userData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=Object(c.useState)(0),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=an().canRequestFriend,g=void 0===f?null:f,m=ub().widgetHandler,v=void 0===m?null:m,p=Object(c.useMemo)((function(){return n.amIOwner&&n.targetRoomControllerLevel<l.Yf.GUEST&&!n.isGuildRoom}),[n]),x=Object(c.useMemo)((function(){return n.amIOwner&&n.targetRoomControllerLevel===l.Yf.GUEST&&!n.isGuildRoom}),[n]),_=Object(c.useMemo)((function(){return n.canBeKicked||n.canBeBanned||n.canBeMuted||p||x}),[p,x,n]),E=Object(c.useMemo)((function(){var e=!1,t=he();if(t){var n=t.model.getValue(l.Ig.FIGURE_CARRY_OBJECT);n>0&&n<999999&&(e=!0)}return e}),[]),I=Object(c.useCallback)((function(e){var t=null,r=null,c=!0;if(e){switch(e){case\"moderate\":case\"back_moderate\":c=!1,d(1);break;case\"ban\":c=!1,d(2);break;case\"mute\":c=!1,d(3);break;case\"ambassador\":case\"back_ambassador\":c=!1,d(4);break;case\"ambassador_mute\":c=!1,d(5);break;case\"back\":c=!1,d(0);break;case\"whisper\":t=kr.WHISPER_USER;break;case\"friend\":U(\"friends/request/\".concat(n.webID,\"/\").concat(n.name));break;case\"relationship\":c=!1,d(6);break;case\"respect\":var i=O-1;h(i),t=kr.RESPECT_USER,i>0&&(c=!1);break;case\"ignore\":t=kr.IGNORE_USER;break;case\"unignore\":t=kr.UNIGNORE_USER;break;case\"kick\":t=kr.KICK_USER;break;case\"ban_hour\":t=kr.BAN_USER_HOUR;break;case\"ban_day\":t=kr.BAN_USER_DAY;break;case\"perm_ban\":t=kr.BAN_USER_PERM;break;case\"mute_2min\":case\"ambassador_mute_2min\":t=kr.MUTE_USER_2MIN;break;case\"mute_5min\":t=kr.MUTE_USER_5MIN;break;case\"mute_10min\":t=kr.MUTE_USER_10MIN;break;case\"give_rights\":t=kr.GIVE_RIGHTS;break;case\"remove_rights\":t=kr.TAKE_RIGHTS;break;case\"trade\":t=kr.START_TRADING;break;case\"report\":t=kr.REPORT_CFH_OTHER;break;case\"pass_hand_item\":t=kr.PASS_CARRY_ITEM;break;case\"ambassador_alert\":t=kr.AMBASSADOR_ALERT_USER;break;case\"ambassador_kick\":t=kr.AMBASSADOR_KICK_USER;break;case\"ambassador_mute_10min\":t=kr.AMBASSADOR_MUTE_USER_10MIN;break;case\"ambassador_mute_60min\":t=kr.AMBASSADOR_MUTE_USER_60MIN;break;case\"ambassador_mute_18hour\":t=kr.AMBASSADOR_MUTE_USER_18HOUR;break;case\"rship_heart\":t=kr.RELATIONSHIP_HEART;break;case\"rship_smile\":t=kr.RELATIONSHIP_SMILE;break;case\"rship_bobba\":t=kr.RELATIONSHIP_BOBBA;break;case\"rship_none\":t=kr.RELATIONSHIP_NONE}t&&(r=new kr(t,n.webID)),r&&v.processWidgetMessage(r)}c&&a()}),[n,O,v,a]);return Object(c.useEffect)((function(){d(0),h(n.respectLeft)}),[n]),Object($a.jsxs)(yb,{objectId:n.roomIndex,category:l.Cg.UNIT,userType:n.userType,close:a,collapsable:!0,children:[Object($a.jsx)(Ob,{className:\"cursor-pointer\",onClick:function(e){return Ga(n.webID)},children:n.name}),0===u&&Object($a.jsxs)($a.Fragment,{children:[g(n.webID)&&Object($a.jsxs)(vb,{onClick:function(e){return I(\"friend\")},children:[Object($a.jsx)(\"i\",{className:\"icon icon-agregar\"}),st(\"infostand.button.friend\")]}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"trade\")},children:[Object($a.jsx)(\"i\",{className:\"icon icon-cambiar\"}),st(\"infostand.button.trade\")]}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"whisper\")},children:[Object($a.jsx)(\"i\",{className:\"icon icon-susurrar\"}),st(\"infostand.button.whisper\")]}),O>0&&Object($a.jsxs)(vb,{onClick:function(e){return I(\"respect\")},children:[Object($a.jsx)(\"i\",{className:\"icon icon-respetos\"}),st(\"infostand.button.respect\",[\"count\"],[O.toString()])]}),!g(n.webID)&&Object($a.jsxs)(vb,{onClick:function(e){return I(\"relationship\")},children:[Object($a.jsx)(\"i\",{className:\"icon icon-relacion\"}),st(\"infostand.link.relationship\"),Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"})]}),!n.isIgnored&&Object($a.jsxs)(vb,{onClick:function(e){return I(\"ignore\")},children:[Object($a.jsx)(\"i\",{className:\"icon icon-ignorar\"}),st(\"infostand.button.ignore\")]}),n.isIgnored&&Object($a.jsxs)(vb,{onClick:function(e){return I(\"unignore\")},children:[Object($a.jsx)(\"i\",{className:\"icon icon-ignorar\"}),st(\"infostand.button.unignore\")]}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"report\")},children:[Object($a.jsx)(\"i\",{className:\"icon icon-reportar\"}),st(\"infostand.button.report\")]}),_&&Object($a.jsxs)(vb,{onClick:function(e){return I(\"moderate\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"}),Object($a.jsx)(\"i\",{className:\"icon icon-moderar\"}),st(\"infostand.link.moderate\")]}),n.isAmbassador&&Object($a.jsxs)(vb,{onClick:function(e){return I(\"ambassador\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"}),Object($a.jsx)(\"i\",{className:\"icon icon-embajador\"}),st(\"infostand.link.ambassador\")]}),E&&Object($a.jsx)(vb,{onClick:function(e){return I(\"pass_hand_item\")},children:st(\"avatar.widget.pass_hand_item\")})]}),1===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return I(\"kick\")},children:st(\"infostand.button.kick\")}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"mute\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"}),st(\"infostand.button.mute\")]}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"ban\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"}),st(\"infostand.button.ban\")]}),p&&Object($a.jsx)(vb,{onClick:function(e){return I(\"give_rights\")},children:st(\"infostand.button.giverights\")}),x&&Object($a.jsx)(vb,{onClick:function(e){return I(\"remove_rights\")},children:st(\"infostand.button.removerights\")}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"back\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]}),2===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return I(\"ban_hour\")},children:st(\"infostand.button.ban_hour\")}),Object($a.jsx)(vb,{onClick:function(e){return I(\"ban_day\")},children:st(\"infostand.button.ban_day\")}),Object($a.jsx)(vb,{onClick:function(e){return I(\"ban_perm\")},children:st(\"infostand.button.perm_ban\")}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"back_moderate\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]}),3===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return I(\"mute_2min\")},children:st(\"infostand.button.mute_2min\")}),Object($a.jsx)(vb,{onClick:function(e){return I(\"mute_5min\")},children:st(\"infostand.button.mute_5min\")}),Object($a.jsx)(vb,{onClick:function(e){return I(\"mute_10min\")},children:st(\"infostand.button.mute_10min\")}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"back_moderate\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]}),4===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return I(\"ambassador_alert\")},children:st(\"infostand.button.alert\")}),Object($a.jsx)(vb,{onClick:function(e){return I(\"ambassador_kick\")},children:st(\"infostand.button.kick\")}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"ambassador_mute\")},children:[st(\"infostand.button.mute\"),Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"})]}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"back\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]}),5===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return I(\"ambassador_mute_2min\")},children:st(\"infostand.button.mute_2min\")}),Object($a.jsx)(vb,{onClick:function(e){return I(\"ambassador_mute_10min\")},children:st(\"infostand.button.mute_10min\")}),Object($a.jsx)(vb,{onClick:function(e){return I(\"ambassador_mute_60min\")},children:st(\"infostand.button.mute_60min\")}),Object($a.jsx)(vb,{onClick:function(e){return I(\"ambassador_mute_18hr\")},children:st(\"infostand.button.mute_18hour\")}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"back_ambassador\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]}),6===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(lc,{className:\"menu-list-split-3\",children:[Object($a.jsx)(vb,{onClick:function(e){return I(\"rship_heart\")},children:Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-heart\"})}),Object($a.jsx)(vb,{onClick:function(e){return I(\"rship_smile\")},children:Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-smile\"})}),Object($a.jsx)(vb,{onClick:function(e){return I(\"rship_bobba\")},children:Object($a.jsx)(tc,{pointer:!0,className:\"nitro-friends-spritesheet icon-bobba\"})})]}),Object($a.jsx)(vb,{onClick:function(e){return I(\"rship_none\")},children:st(\"avatar.widget.clear_relationship\")}),Object($a.jsxs)(vb,{onClick:function(e){return I(\"back\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]})]})},Sb=[\"classNames\"],Nb=function(e){var t=e.classNames,n=void 0===t?[]:t,r=Object(Za.a)(e,Sb),a=Object(c.useMemo)((function(){var e=[\"menu-list\"];return n.length&&e.push.apply(e,Object(ut.a)(n)),e}),[n]);return Object($a.jsx)(Jc,Object(bt.a)({classNames:a},r))},Rb=function(e){e.userId,e.userName;var t=e.roomIndex,n=void 0===t?-1:t,r=ub().eventDispatcher,a=void 0===r?null:r;return Object($a.jsx)(yb,{objectId:n,category:l.Cg.UNIT,close:null,children:Object($a.jsx)(Nb,{children:Object($a.jsx)(vb,{onClick:function(){return a.dispatchEvent(new Le(!1))},children:st(\"widget.avatar.stop_decorating\")})})})},kb=function(e){var t=e.nameData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=Object(c.useMemo)((function(){return n.id!==ae().userId}),[n]);return Object($a.jsx)(yb,{objectId:n.roomIndex,category:n.category,userType:n.userType,fades:i,className:\"name-only\",close:a,children:Object($a.jsx)(\"div\",{className:\"text-shadow\",children:n.name})})},Ab=function(e){var t=e.userData,n=void 0===t?null:t,r=e.isDancing,a=void 0!==r&&r,i=e.close,s=void 0===i?null:i,u=Object(c.useState)(a&&je()?1:0),d=Object(o.a)(u,2),j=d[0],b=d[1],O=ub(),h=O.roomSession,f=void 0===h?null:h,g=O.eventDispatcher,m=void 0===g?null:g,v=O.widgetHandler,p=void 0===v?null:v,x=Object(c.useCallback)((function(e){var t=null,r=!0;if(e){if(e.startsWith(\"sign_\")){var a=parseInt(e.split(\"_\")[1]);f.sendSignMessage(a)}else switch(e){case\"decorate\":m.dispatchEvent(new Le(!0));break;case\"change_name\":Kt(new It(It.INIT));break;case\"change_looks\":U(\"avatar-editor/show\");break;case\"expressions\":r=!1,b(3);break;case\"sit\":t=new hr(hr.POSTURE_SIT);break;case\"stand\":t=new hr(hr.POSTURE_STAND);break;case\"wave\":t=new br(l.n.WAVE);break;case\"blow\":t=new br(l.n.BLOW);break;case\"laugh\":t=new br(l.n.LAUGH);break;case\"idle\":t=new br(l.n.IDLE);break;case\"dance_menu\":r=!1,b(1);break;case\"dance\":t=new pr(1);break;case\"dance_stop\":t=new pr(0);break;case\"dance_1\":case\"dance_2\":case\"dance_3\":case\"dance_4\":t=new pr(parseInt(e.charAt(e.length-1)));break;case\"signs\":r=!1,b(4);break;case\"back\":r=!1,b(0);break;case\"drop_carry_item\":t=new kr(kr.DROP_CARRY_ITEM,n.webID)}t&&p.processWidgetMessage(t)}r&&s()}),[f,m,p,n,s]),_=Object(c.useMemo)((function(){return n.amIOwner||n.amIAnyRoomController||n.roomControllerLevel>l.Yf.GUEST}),[n]),E=function(){var e=he();return!!e&&77===e.model.getValue(l.Ig.FIGURE_EFFECT)}();return Object($a.jsxs)(yb,{objectId:n.roomIndex,category:l.Cg.UNIT,userType:n.userType,close:s,collapsable:!0,children:[Object($a.jsx)(Ob,{className:\"cursor-pointer\",onClick:function(e){return Ga(n.webID)},children:n.name}),0===j&&Object($a.jsxs)($a.Fragment,{children:[n.allowNameChange&&Object($a.jsx)(vb,{onClick:function(e){return x(\"change_name\")},children:st(\"widget.avatar.change_name\")}),_&&Object($a.jsx)(vb,{onClick:function(e){return x(\"decorate\")},children:st(\"widget.avatar.decorate\")}),Object($a.jsx)(vb,{onClick:function(e){return x(\"change_looks\")},children:st(\"widget.memenu.myclothes\")}),je()&&!E&&Object($a.jsxs)(vb,{onClick:function(e){return x(\"dance_menu\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"}),st(\"widget.memenu.dance\")]}),!a&&!je()&&!E&&Object($a.jsx)(vb,{onClick:function(e){return x(\"dance\")},children:st(\"widget.memenu.dance\")}),a&&!je()&&!E&&Object($a.jsx)(vb,{onClick:function(e){return x(\"dance_stop\")},children:st(\"widget.memenu.dance.stop\")}),Object($a.jsxs)(vb,{onClick:function(e){return x(\"expressions\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"}),st(\"infostand.link.expressions\")]}),Object($a.jsxs)(vb,{onClick:function(e){return x(\"signs\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-right\",className:\"right\"}),st(\"infostand.show.signs\")]}),n.carryItem>0&&Object($a.jsx)(vb,{onClick:function(e){return x(\"drop_carry_item\")},children:st(\"avatar.widget.drop_hand_item\")})]}),1===j&&Object($a.jsxs)($a.Fragment,{children:[a&&Object($a.jsx)(vb,{onClick:function(e){return x(\"dance_stop\")},children:st(\"widget.memenu.dance.stop\")}),Object($a.jsx)(vb,{onClick:function(e){return x(\"dance_1\")},children:st(\"widget.memenu.dance1\")}),Object($a.jsx)(vb,{onClick:function(e){return x(\"dance_2\")},children:st(\"widget.memenu.dance2\")}),Object($a.jsx)(vb,{onClick:function(e){return x(\"dance_3\")},children:st(\"widget.memenu.dance3\")}),Object($a.jsx)(vb,{onClick:function(e){return x(\"dance_4\")},children:st(\"widget.memenu.dance4\")}),Object($a.jsxs)(vb,{onClick:function(e){return x(\"back\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]}),3===j&&Object($a.jsxs)($a.Fragment,{children:[oe()===l.k.POSTURE_STAND&&Object($a.jsx)(vb,{onClick:function(e){return x(\"sit\")},children:st(\"widget.memenu.sit\")}),ne()&&Object($a.jsx)(vb,{onClick:function(e){return x(\"stand\")},children:st(\"widget.memenu.stand\")}),re()&&Object($a.jsx)(vb,{onClick:function(e){return x(\"wave\")},children:st(\"widget.memenu.wave\")}),re()&&Object($a.jsxs)(vb,{disabled:!be(),onClick:function(e){return x(\"laugh\")},children:[!be()&&Object($a.jsx)(Vc,{type:\"hc\"}),st(\"widget.memenu.laugh\")]}),re()&&Object($a.jsxs)(vb,{disabled:!be(),onClick:function(e){return x(\"blow\")},children:[!be()&&Object($a.jsx)(Vc,{type:\"hc\"}),st(\"widget.memenu.blow\")]}),Object($a.jsx)(vb,{onClick:function(e){return x(\"idle\")},children:st(\"widget.memenu.idle\")}),Object($a.jsxs)(vb,{onClick:function(e){return x(\"back\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]}),4===j&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(lc,{className:\"menu-list-split-3\",children:[Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_1\")},children:\"1\"}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_2\")},children:\"2\"}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_3\")},children:\"3\"})]}),Object($a.jsxs)(lc,{className:\"menu-list-split-3\",children:[Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_4\")},children:\"4\"}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_5\")},children:\"5\"}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_6\")},children:\"6\"})]}),Object($a.jsxs)(lc,{className:\"menu-list-split-3\",children:[Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_7\")},children:\"7\"}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_8\")},children:\"8\"}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_9\")},children:\"9\"})]}),Object($a.jsxs)(lc,{className:\"menu-list-split-3\",children:[Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_10\")},children:\"10\"}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_11\")},children:Object($a.jsx)(\"i\",{className:\"icon icon-sign-heart\"})}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_12\")},children:Object($a.jsx)(\"i\",{className:\"icon icon-sign-skull\"})})]}),Object($a.jsxs)(lc,{className:\"menu-list-split-3\",children:[Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_0\")},children:\"0\"}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_13\")},children:Object($a.jsx)(\"i\",{className:\"icon icon-sign-exclamation\"})}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_15\")},children:Object($a.jsx)(\"i\",{className:\"icon icon-sign-smile\"})})]}),Object($a.jsxs)(lc,{className:\"menu-list-split-3\",children:[Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_14\")},children:Object($a.jsx)(\"i\",{className:\"icon icon-sign-soccer\"})}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_17\")},children:Object($a.jsx)(\"i\",{className:\"icon icon-sign-yellow\"})}),Object($a.jsx)(vb,{onClick:function(e){return x(\"sign_16\")},children:Object($a.jsx)(\"i\",{className:\"icon icon-sign-red\"})})]}),Object($a.jsxs)(vb,{onClick:function(e){return x(\"back\")},children:[Object($a.jsx)(mc.a,{icon:\"chevron-left\",className:\"left\"}),st(\"generic.back\")]})]})]})},wb=function(e){var t=e.petData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=Object(c.useState)(0),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=ub(),g=f.roomSession,m=void 0===g?null:g,v=f.widgetHandler,p=void 0===v?null:v,x=Object(c.useMemo)((function(){var e=!1,t=he();if(t){var n=t.model.getValue(l.Ig.FIGURE_CARRY_OBJECT);n>0&&n<999999&&(e=!0)}return e}),[]),_=function(e){var t=null,r=null,c=!0;if(e){switch(e){case\"respect\":var i=0;h((function(e){return i=e-1})),t=kr.RESPECT_PET,i>0&&(c=!1);break;case\"treat\":t=kr.TREAT_PET;break;case\"pass_handitem\":t=kr.GIVE_CARRY_ITEM_TO_PET;break;case\"train\":break;case\"pick_up\":t=kr.PICKUP_PET;break;case\"mount\":t=kr.MOUNT_PET;break;case\"toggle_riding_permission\":t=kr.TOGGLE_PET_RIDING_PERMISSION;break;case\"toggle_breeding_permission\":t=kr.TOGGLE_PET_BREEDING_PERMISSION;break;case\"dismount\":t=kr.DISMOUNT_PET;break;case\"saddle_off\":t=kr.SADDLE_OFF;break;case\"breed\":0===u||3===u&&(t=kr.REQUEST_BREED_PET);break;case\"harvest\":t=kr.HARVEST_PET;break;case\"revive\":t=kr.REVIVE_PET;break;case\"compost\":t=kr.COMPOST_PLANT;break;case\"buy_saddle\":U(\"catalog/open/\"+L(\"catalog.links\")[\"pets.buy_saddle\"])}t&&(r=new kr(t,n.id)),r&&p.processWidgetMessage(r)}c&&a()};return Object(c.useEffect)((function(){d((function(e){return n.petType===l.qf.MONSTERPLANT?3:n.saddle&&!n.rider?1:n.rider?2:0})),h(n.respectsPetLeft)}),[n]),Object($a.jsxs)(yb,{objectId:n.roomIndex,category:l.Cg.UNIT,userType:l.Gg.PET,close:a,collapsable:!0,children:[Object($a.jsx)(Ob,{children:n.name}),0===u&&Object($a.jsxs)($a.Fragment,{children:[O>0&&Object($a.jsx)(vb,{onClick:function(e){return _(\"respect\")},children:st(\"infostand.button.petrespect\",[\"count\"],[O.toString()])}),Object($a.jsx)(vb,{onClick:function(e){return _(\"train\")},children:st(\"infostand.button.train\")}),Object($a.jsx)(vb,{onClick:function(e){return _(\"pick_up\")},children:st(\"infostand.button.pickup\")}),n.petType===l.qf.HORSE&&Object($a.jsx)(vb,{onClick:function(e){return _(\"buy_saddle\")},children:st(\"infostand.button.buy_saddle\")}),[l.qf.BEAR,l.qf.TERRIER,l.qf.CAT,l.qf.DOG,l.qf.PIG].indexOf(n.petType)>-1&&Object($a.jsx)(vb,{onClick:function(e){return _(\"breed\")},children:st(\"infostand.button.breed\")})]}),1===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return _(\"mount\")},children:st(\"infostand.button.mount\")}),Object($a.jsxs)(vb,{onClick:function(e){return _(\"toggle_riding_permission\")},gap:1,children:[Object($a.jsx)(\"input\",{type:\"checkbox\",checked:!!n.publiclyRideable,readOnly:!0}),st(\"infostand.button.toggle_riding_permission\")]}),O>0&&Object($a.jsx)(vb,{onClick:function(e){return _(\"respect\")},children:st(\"infostand.button.petrespect\",[\"count\"],[O.toString()])}),Object($a.jsx)(vb,{onClick:function(e){return _(\"train\")},children:st(\"infostand.button.train\")}),Object($a.jsx)(vb,{onClick:function(e){return _(\"pick_up\")},children:st(\"infostand.button.pickup\")}),Object($a.jsx)(vb,{onClick:function(e){return _(\"saddle_off\")},children:st(\"infostand.button.saddleoff\")})]}),2===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return _(\"dismount\")},children:st(\"infostand.button.dismount\")}),O>0&&Object($a.jsx)(vb,{onClick:function(e){return _(\"respect\")},children:st(\"infostand.button.petrespect\",[\"count\"],[O.toString()])})]}),3===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return _(\"pick_up\")},children:st(\"infostand.button.pickup\")}),n.dead&&Object($a.jsx)(vb,{onClick:function(e){return _(\"revive\")},children:st(\"infostand.button.revive\")}),m.isRoomOwner&&Object($a.jsx)(vb,{onClick:function(e){return _(\"compost\")},children:st(\"infostand.button.compost\")}),!n.dead&&n.energy/n.maximumEnergy<.98&&Object($a.jsx)(vb,{onClick:function(e){return _(\"treat\")},children:st(\"infostand.button.treat\")}),!n.dead&&n.level===n.maximumLevel&&n.breedable&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(vb,{onClick:function(e){return _(\"toggle_breeding_permission\")},gap:1,children:[Object($a.jsx)(\"input\",{type:\"checkbox\",checked:n.publiclyBreedable,readOnly:!0}),st(\"infostand.button.toggle_breeding_permission\")]}),Object($a.jsx)(vb,{onClick:function(e){return _(\"breed\")},children:st(\"infostand.button.breed\")})]})]}),x&&Object($a.jsx)(vb,{onClick:function(e){return _(\"pass_hand_item\")},children:st(\"infostand.button.pass_hand_item\")})]})},Db=function(e){var t=e.petData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=Object(c.useState)(0),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=ub(),g=f.roomSession,m=void 0===g?null:g,v=f.widgetHandler,p=void 0===v?null:v,x=Object(c.useMemo)((function(){return m.isRoomOwner||m.controllerLevel>=l.Yf.GUEST||ae().isModerator}),[m]),_=Object(c.useMemo)((function(){var e=!1,t=he();if(t){var n=t.model.getValue(l.Ig.FIGURE_CARRY_OBJECT);n>0&&n<999999&&(e=!0)}return e}),[]),E=function(e){var t=null,r=null,c=!0;if(e){switch(e){case\"respect\":var i=0;h((function(e){return i=e-1})),t=kr.RESPECT_PET,i>0&&(c=!1);break;case\"treat\":t=kr.TREAT_PET;break;case\"pass_handitem\":t=kr.GIVE_CARRY_ITEM_TO_PET;break;case\"pick_up\":t=kr.PICKUP_PET;break;case\"mount\":t=kr.MOUNT_PET;break;case\"dismount\":t=kr.DISMOUNT_PET}t&&(r=new kr(t,n.id)),r&&p.processWidgetMessage(r)}c&&a()};return Object(c.useEffect)((function(){d((function(e){return n.petType===l.qf.MONSTERPLANT?3:n.saddle&&!n.rider?1:n.rider?2:0})),h(n.respectsPetLeft)}),[n]),Object($a.jsxs)(yb,{objectId:n.roomIndex,category:l.Cg.UNIT,userType:l.Gg.PET,close:a,collapsable:!0,children:[Object($a.jsx)(Ob,{children:n.name}),0===u&&O>0&&Object($a.jsx)(vb,{onClick:function(e){return E(\"respect\")},children:st(\"infostand.button.petrespect\",[\"count\"],[O.toString()])}),1===u&&Object($a.jsxs)($a.Fragment,{children:[!!n.publiclyRideable&&Object($a.jsx)(vb,{onClick:function(e){return E(\"mount\")},children:st(\"infostand.button.mount\")}),O>0&&Object($a.jsx)(vb,{onClick:function(e){return E(\"respect\")},children:st(\"infostand.button.petrespect\",[\"count\"],[O.toString()])})]}),2===u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(vb,{onClick:function(e){return E(\"dismount\")},children:st(\"infostand.button.dismount\")}),O>0&&Object($a.jsx)(vb,{onClick:function(e){return E(\"respect\")},children:st(\"infostand.button.petrespect\",[\"count\"],[O.toString()])})]}),3===u&&!n.dead&&n.energy/n.maximumEnergy<.98&&Object($a.jsx)(vb,{onClick:function(e){return E(\"treat\")},children:st(\"infostand.button.treat\")}),x&&Object($a.jsx)(vb,{onClick:function(e){return E(\"pick_up\")},children:st(\"infostand.button.pickup\")}),_&&Object($a.jsx)(vb,{onClick:function(e){return E(\"pass_hand_item\")},children:st(\"infostand.button.pass_hand_item\")})]})},Ub=function(e){var t=e.rentableBotData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=Object(c.useState)(0),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(\"\"),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(\"\"),g=Object(o.a)(f,2),m=g[0],v=g[1],p=ub().eventDispatcher,x=void 0===p?null:p,_=Object(c.useCallback)((function(e){var t=e.getParser();if(t.botId===n.webID)switch(t.commandId){case hb.CHANGE_BOT_NAME:return h(t.data),void d(1);case hb.CHANGE_BOT_MOTTO:return v(t.data),void d(2);case hb.SETUP_CHAT:var r=t.data,c=r.split(-1===r.indexOf(\";#;\")?\";\":\";#;\");return void(3!==c.length&&4!==c.length||(x.dispatchEvent(new Ke(n.roomIndex,l.Cg.UNIT,n.webID,c[0],\"true\"===c[1].toLowerCase()||\"1\"===c[1],parseInt(c[2]),!!c[3]&&(\"true\"===c[3].toLowerCase()||\"1\"===c[3]))),a()))}}),[n,x,a]);dt(l.y,_);var E=function(e){return ea(new l.Mf(n.webID,e))},I=function(e){var t=!0;if(e)switch(e){case\"donate_to_all\":E(hb.DONATE_TO_ALL),ea(new l.C(n.webID,hb.DONATE_TO_ALL,\"\"));break;case\"donate_to_user\":E(hb.DONATE_TO_USER),ea(new l.C(n.webID,hb.DONATE_TO_USER,\"\"));break;case\"change_bot_name\":E(hb.CHANGE_BOT_NAME),t=!1;break;case\"save_bot_name\":ea(new l.C(n.webID,hb.CHANGE_BOT_NAME,O));break;case\"change_bot_motto\":E(hb.CHANGE_BOT_MOTTO),t=!1;break;case\"save_bot_motto\":ea(new l.C(n.webID,hb.CHANGE_BOT_MOTTO,m));break;case\"dress_up\":ea(new l.C(n.webID,hb.DRESS_UP,\"\"));break;case\"random_walk\":ea(new l.C(n.webID,hb.RANDOM_WALK,\"\"));break;case\"setup_chat\":E(hb.SETUP_CHAT),t=!1;break;case\"dance\":ea(new l.C(n.webID,hb.DANCE,\"\"));break;case\"nux_take_tour\":N().createLinkEvent(\"help/tour\"),ea(new l.C(n.webID,hb.NUX_TAKE_TOUR,\"\"));break;case\"pick\":ea(new l.A(n.webID))}t&&a()};Object(c.useEffect)((function(){d(0)}),[n]);var y=n.amIOwner||n.amIAnyRoomController;return Object($a.jsxs)(yb,{objectId:n.roomIndex,category:l.Cg.UNIT,userType:l.Gg.RENTABLE_BOT,close:a,collapsable:!0,children:[Object($a.jsx)(Ob,{children:n.name}),0===u&&y&&Object($a.jsxs)($a.Fragment,{children:[n.botSkills.indexOf(hb.DONATE_TO_ALL)>=0&&Object($a.jsx)(vb,{onClick:function(e){return I(\"donate_to_all\")},children:st(\"avatar.widget.donate_to_all\")}),n.botSkills.indexOf(hb.DONATE_TO_USER)>=0&&Object($a.jsx)(vb,{onClick:function(e){return I(\"donate_to_user\")},children:st(\"avatar.widget.donate_to_user\")}),n.botSkills.indexOf(hb.CHANGE_BOT_NAME)>=0&&Object($a.jsx)(vb,{onClick:function(e){return I(\"change_bot_name\")},children:st(\"avatar.widget.change_bot_name\")}),n.botSkills.indexOf(hb.CHANGE_BOT_MOTTO)>=0&&Object($a.jsx)(vb,{onClick:function(e){return I(\"change_bot_motto\")},children:st(\"avatar.widget.change_bot_motto\")}),n.botSkills.indexOf(hb.DRESS_UP)>=0&&Object($a.jsx)(vb,{onClick:function(e){return I(\"dress_up\")},children:st(\"avatar.widget.dress_up\")}),n.botSkills.indexOf(hb.RANDOM_WALK)>=0&&Object($a.jsx)(vb,{onClick:function(e){return I(\"random_walk\")},children:st(\"avatar.widget.random_walk\")}),n.botSkills.indexOf(hb.SETUP_CHAT)>=0&&Object($a.jsx)(vb,{onClick:function(e){return I(\"setup_chat\")},children:st(\"avatar.widget.setup_chat\")}),n.botSkills.indexOf(hb.DANCE)>=0&&Object($a.jsx)(vb,{onClick:function(e){return I(\"dance\")},children:st(\"avatar.widget.dance\")}),-1===n.botSkills.indexOf(hb.NO_PICK_UP)&&Object($a.jsx)(vb,{onClick:function(e){return I(\"pick\")},children:st(\"avatar.widget.pick_up\")})]}),1===u&&Object($a.jsxs)(Jc,{className:\"menu-item\",onClick:null,gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",children:st(\"bot.skill.name.configuration.new.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:O,maxLength:L(\"bot.name.max.length\",15),onChange:function(e){return h(e.target.value)}}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"secondary\",onClick:function(e){return I(null)},children:st(\"cancel\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(e){return I(\"save_bot_name\")},children:st(\"save\")})]})]}),2===u&&Object($a.jsxs)(Jc,{className:\"menu-item\",onClick:null,gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",children:st(\"bot.skill.name.configuration.new.motto\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:m,maxLength:L(\"motto.max.length\",38),onChange:function(e){return v(e.target.value)}}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"secondary\",onClick:function(e){return I(null)},children:st(\"cancel\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(e){return I(\"save_bot_motto\")},children:st(\"save\")})]})]})]})},Pb=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)([]),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(null),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useState)(null),_=Object(o.a)(x,2),E=_[0],I=_[1],y=Object(c.useState)(!1),C=Object(o.a)(y,2),T=C[0],S=C[1],N=Object(c.useState)(!1),R=Object(o.a)(N,2),k=R[0],A=R[1],w=Object(c.useState)(!1),D=Object(o.a)(w,2),U=D[0],P=D[1],L=Object(c.useState)(null),M=Object(o.a)(L,2),F=M[0],H=M[1],B=ub(),G=(B.roomSession,B.eventDispatcher),W=void 0===G?null:G,V=B.widgetHandler,q=void 0===V?null:V,Y=Object(c.useCallback)((function(e){j((function(t){var n=Object(ut.a)(t);return n.splice(e,1),n}))}),[]),z=Object(c.useCallback)((function(e){f((function(t){var n=Object(ut.a)(t),r=n.splice(e,1)[0];return v===r&&p(null),n}))}),[v]),K=Object(c.useCallback)((function(){f([])}),[]),Q=Object(c.useCallback)((function(){I(null)}),[]),X=Object(c.useCallback)((function(){a(null)}),[]),J=Object(c.useCallback)((function(e){p(e),f([])}),[]),Z=Object(c.useCallback)((function(e){switch(e.type){case Qe.NORMAL_MODE:return void(T&&S(!1));case Qe.GAME_MODE:return void(T||S(!0))}}),[T]);Ht(Qe.NORMAL_MODE,W,Z),Ht(Qe.GAME_MODE,W,Z);var $=Object(c.useCallback)((function(e){if(r&&e.id===r.id&&a(null),e.category===l.Cg.UNIT){var t=d.findIndex((function(t){return t.roomIndex===e.id}));t>-1&&Y(t),h.length&&f((function(t){return t.filter((function(t){return t.id!==e.id}))}))}else e.category===l.Cg.FLOOR&&h.length&&f((function(t){return t.filter((function(t){return t.requestRoomObjectId!==e.id}))}));E&&(E instanceof Ge?E.id===e.id&&Q():E instanceof qe||E instanceof Ve?E.roomIndex===e.id&&Q():E instanceof We&&E.roomIndex===e.id&&Q())}),[r,E,d,h,Y,Q]);Ht(Xe.USER_REMOVED,W,$),Ht(Xe.FURNI_REMOVED,W,$);var ee=Object(c.useCallback)((function(e){switch(e.type){case Xe.OBJECT_ROLL_OVER:var t=e;if(E)return;return void q.processWidgetMessage(new Nr(Nr.GET_OBJECT_NAME,t.id,t.category));case Xe.OBJECT_ROLL_OUT:var n=e;if(!r||r.roomIndex!==n.id)return;return void a(null)}}),[E,r,q]);Ht(Xe.OBJECT_ROLL_OVER,W,ee),Ht(Xe.OBJECT_ROLL_OUT,W,ee);var te=Object(c.useCallback)((function(e){E&&Q(),h.length&&f([])}),[E,h,Q]);Ht(Xe.OBJECT_DESELECTED,W,te);var ne=Object(c.useCallback)((function(e){e.category===l.Cg.UNIT&&(a(e),K())}),[K]);Ht(Ne.TYPE,W,ne);var re=Object(c.useCallback)((function(e){r&&a(null),e.type===Ge.FURNI?Q():I(e),K()}),[r,Q,K]);Ht(Ge.FURNI,W,re),Ht(qe.OWN_USER,W,re),Ht(qe.PEER,W,re),Ht(qe.BOT,W,re),Ht(Ve.RENTABLE_BOT,W,re),Ht(We.PET_INFO,W,re);var ce=Object(c.useCallback)((function(e){A(e.isDancing)}),[]);Ht(Pe.UPDATE_DANCE,W,ce);var ie=Object(c.useCallback)((function(e){H(e)}),[]);Ht(Ke.UPDATE_CHAT,W,ie);var se=Object(c.useCallback)((function(e){p(null),f((function(t){var n,r=Object(ut.a)(t),a=Object(s.a)(e.items);try{var c=function(){var e=n.value,t=r.findIndex((function(t){return t.id===e.id}));t>-1&&r.splice(t,1),r.push(e)};for(a.s();!(n=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}return r}))}),[]);Ht(et.USE_PRODUCT_BUBBLES,W,se);var oe=Object(c.useCallback)((function(e){P(e.isDecorating)}),[]);Ht(Le.UPDATE_DECORATE,W,oe);var le=Object(c.useMemo)((function(){if(ue().isDecorating=U,!U)return null;var e=ae().userId,t=ae().userName,n=ue().ownRoomIndex;return Object($a.jsx)(Rb,{userId:e,userName:t,roomIndex:n})}),[U]),de=Object(c.useMemo)((function(){if(T)return null;if(le)return le;if(r){var e=d.findIndex((function(e){return e.roomIndex===r.roomIndex}));return e>-1&&Y(e),Object($a.jsx)(kb,{nameData:r,close:X})}if(E)switch(E.type){case qe.OWN_USER:case qe.PEER:var t=E;if(t.isSpectatorMode)return null;var n=d.findIndex((function(e){return e.roomIndex===t.roomIndex}));return n>-1&&Y(n),t.isOwnUser?l.og.isRunning()?null:Object($a.jsx)(Ab,{userData:t,isDancing:k,close:Q}):Object($a.jsx)(Tb,{userData:t,close:Q});case We.PET_INFO:var a=E;return a.isOwner?Object($a.jsx)(wb,{petData:a,close:Q}):Object($a.jsx)(Db,{petData:a,close:Q});case Ve.RENTABLE_BOT:return Object($a.jsx)(Ub,{rentableBotData:E,close:Q});case Ge.FURNI:return null}return null}),[T,le,r,d,k,E,X,Q,Y]);return Object($a.jsxs)($a.Fragment,{children:[de,d.length>0&&d.map((function(e,t){return Object($a.jsx)(kb,{nameData:e,close:function(){return Y(t)}},t)})),h.length>0&&h.map((function(e,t){return Object($a.jsx)(Cb,{item:e,updateConfirmingProduct:J,close:function(){return z(t)}},e.id)})),F&&Object($a.jsx)(fb,{chatEvent:F,close:function(){return H(null)}}),v&&Object($a.jsx)(gb,{item:v,close:function(){return p(null)}})]})},Lb=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(null),j=Object(o.a)(d,2),b=j[0],O=j[1],h=ub(),f=(h.eventDispatcher,h.widgetHandler),g=void 0===f?null:f;Object(c.useEffect)((function(){fetch(\"https://int.ultrahabbo.fun/?type=getEmojis\").then((function(e){return e.json()})).then((function(e){O(e)}))}),[]);var m=Object(c.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;g.processWidgetMessage(new fr(fr.MESSAGE_CHAT,e,t,n,r)),u(!1)}),[g]);return Object(c.useEffect)((function(){l||a(null)}),[l]),Object($a.jsx)($a.Fragment,{children:Object($a.jsx)(tc,{pointer:!0,className:\"icon chatemojis-icon\",onClick:function(e){var t=!0;u((function(e){return t=!e})),console.log(\"xdd\"),t&&a(e.target)},style:{marginLeft:\"13px\",display:\"inline-block\"},children:Object($a.jsx)(kj.a,{show:l,target:r,placement:\"top\",children:Object($a.jsx)(Qu.a,{className:\"nitro-chat-sticker-selector-container image-rendering-pixelated\",children:Object($a.jsx)(Ec,{overflow:\"hidden\",className:\"bg-transparent\",children:null!=b?Object($a.jsx)($a.Fragment,{children:Object($a.jsx)(cc,{columnCount:4,overflow:\"auto\",children:b.map((function(e){return Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(tc,{className:\"text-center\",onClick:function(t){return function(e,t){m(t,fr.CHAT_DEFAULT,\"\",0);var n=!0;u((function(e){return n=!e})),console.log(\"xdd\"),n&&a(e.target)}(t,e.key)},children:[Object($a.jsx)(\"img\",{style:{height:\"22px\",width:\"22px\"},src:(t=e.id,\"https://swfs.hgalaxy.net/c_images/emojis/emoji\"+t+\".png\")}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"span\",{className:\"badge bg-dark\",children:e.key})]},e.id)});var t}))})}):Object($a.jsx)($a.Fragment,{})})})})})})},Mb=n(194),Fb=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(null),j=Object(o.a)(d,2),b=j[0],O=(j[1],Object(c.useState)(null)),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useState)(!0),v=Object(o.a)(m,2),p=v[0],x=v[1],_=Object(c.useState)(!1),E=Object(o.a)(_,2),I=E[0],y=E[1],C=ub(),T=(C.eventDispatcher,C.widgetHandler),S=void 0===T?null:T,N=!1;function R(){return null==b?null:Object($a.jsx)(\"div\",{})}function k(){return null==f?null:Object($a.jsx)(cc,{columnCount:4,overflow:\"auto\",id:\"giphyStickers\",children:f.data.map((function(e){return Object($a.jsx)(tc,{children:Object($a.jsx)(\"img\",{src:e.images.downsized_medium.url,width:50,height:50,className:\"sticker-img\",onClick:function(t){return function(e){var t=e.split(\".gif\");A(t[0],fr.CHAT_DEFAULT,\"\",2)}(e.images.fixed_height_small.url)}})},e.images.downsized_medium.url)}))})}var A=Object(c.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;S.processWidgetMessage(new fr(fr.MESSAGE_CHAT,e,t,n,r)),u(!1)}),[S]);var w=\"\";return Object(c.useEffect)((function(){l||a(null)}),[l]),Object($a.jsx)($a.Fragment,{children:Object($a.jsx)(tc,{pointer:!0,className:\"icon chatstickers-icon\",onClick:function(e){if(!N){var t=!0;u((function(e){return t=!e})),t&&a(e.target),N=!1}},style:{marginLeft:\"13px\",display:\"inline-block\"},children:Object($a.jsx)(kj.a,{show:l,target:r,placement:\"top\",children:Object($a.jsx)(Qu.a,{className:\"nitro-chat-sticker-selector-container image-rendering-pixelated\",children:Object($a.jsxs)(Ec,{overflow:\"hidden\",className:\"bg-transparent\",children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"input\",{onClick:function(e){N=!0},onChange:function(e){return t=e.target.value,void(w=t);var t},type:\"text\",className:\"form-control form-control-sm\",placeholder:st(\"generic.search\")}),Object($a.jsx)(Mb.a,{variant:\"primary\",className:\"stickers-search-button\",onClick:function(e){return function(e){if(N=!0,0==e.length)return y(!1),void x(!0);fetch(\"https://api.giphy.com/v1/gifs/search?api_key=4qwMrfzYMYVl1lhhl3wDaVxDNWAzAv6s&q=\"+e+\"&limit=25&offset=0&rating=g&lang=en\").then((function(e){return e.json()})).then((function(e){g(e),x(!1),y(!0)}))}(w)},children:Object($a.jsx)(mc.a,{icon:\"search\"})})]}),p?Object($a.jsx)(R,{}):null,I?Object($a.jsx)(k,{}):null]})})})})})},Hb=function(e){e.chatStyleId;var t=e.chatStyleIds,n=void 0===t?null:t,r=e.selectChatStyleId,a=void 0===r?null:r,i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],O=j[1];return Object(c.useEffect)((function(){b||u(null)}),[b]),Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(tc,{pointer:!0,className:\"icon chatstyles-icon\",onClick:function(e){var t=!1;O((function(e){return t=!e})),t&&u(e.target)}}),Object($a.jsx)(kj.a,{show:b,target:l,placement:\"top\",children:Object($a.jsx)(Qu.a,{className:\"nitro-chat-style-selector-container image-rendering-pixelated\",children:Object($a.jsx)(Ec,{overflow:\"hidden\",className:\"bg-transparent\",children:Object($a.jsx)(cc,{columnCount:3,overflow:\"auto\",children:n&&n.length>0&&n.map((function(e){return Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"bubble-parent-container\",onClick:function(t){return function(e){a(e),O(!1)}(e)},children:Object($a.jsx)(tc,{className:\"bubble-container\",children:Object($a.jsx)(tc,{className:\"chat-bubble bubble-\".concat(e),children:\"\\xa0\"})},e)},e)}))})})})})]})},Bb=function(e){var t,n=Object(c.useState)(\"\"),r=Object(o.a)(n,2),a=r[0],i=r[1],u=Object(c.useState)(\"\"),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(!1),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useState)(!1),v=Object(o.a)(m,2),p=v[0],x=v[1],_=Object(c.useState)(!1),E=Object(o.a)(_,2),I=E[0],y=E[1],C=Object(c.useState)(ae().chatStyle),T=Object(o.a)(C,2),S=T[0],N=T[1],R=Object(c.useState)(!1),k=Object(o.a)(R,2),A=k[0],w=k[1],D=Object(c.useState)(!1),U=Object(o.a)(D,2),P=U[0],M=U[1],F=Object(c.useState)(0),H=Object(o.a)(F,2),B=H[0],G=H[1],W=ub(),V=W.eventDispatcher,q=void 0===V?null:V,Y=W.widgetHandler,z=void 0===Y?null:Y,K=Object(c.useRef)(),Q=[],X=!1;var J=Object(c.useMemo)((function(){return st(\"widgets.chatinput.mode.whisper\")}),[]),Z=Object(c.useMemo)((function(){return st(\"widgets.chatinput.mode.shout\")}),[]),$=Object(c.useMemo)((function(){return st(\"widgets.chatinput.mode.speak\")}),[]),ee=Object(c.useMemo)((function(){return L(\"chat.input.maxlength\",100)}),[]),te=Object(c.useCallback)((function(){var e=document.activeElement;return!!e&&((!K||K.current!==e)&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))}),[K]),ne=Object(c.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;z.processWidgetMessage(new fr(fr.MESSAGE_CHAT,e,t,n,r))}),[z]),re=Object(c.useCallback)((function(){K.current.focus(),K.current.setSelectionRange(2*K.current.value.length,2*K.current.value.length)}),[K]),ie=Object(c.useCallback)((function(){i((function(e){return e===J&&j.length?\"\".concat(e,\" \").concat(j):e}))}),[j,J]),se=Object(c.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(\"\"),z.processWidgetMessage(new fr(fr.MESSAGE_CHAT,e,t,n,r))}),[z]),oe=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&\"\"!==e){var n=t?fr.CHAT_SHOUT:fr.CHAT_DEFAULT,r=e,a=r.split(\" \"),c=\"\",s=\"\";switch(a[0]){case J:n=fr.CHAT_WHISPER,c=a[1],s=J+\" \"+c+\" \",a.shift(),a.shift();break;case Z:n=fr.CHAT_SHOUT,a.shift();break;case $:n=fr.CHAT_DEFAULT,a.shift()}r=a.join(\" \"),g(!1),y(!1),r.length<=ee&&(A&&(ae().sendChatStyleUpdate(S),w(!1)),se(r,n,c,S)),i(s)}}),[J,Z,$,ee,S,A,se]),le=Object(c.useCallback)((function(e){e&&e.length?(g(!0),y(!0)):g(!1),i(e)}),[]),de=Object(c.useCallback)((function(e){if(!P&&K.current&&!te()){document.activeElement!==K.current&&re();var t=e.target.value;switch(e.key){case\" \":case\"Space\":return void ie();case\"NumpadEnter\":case\"Enter\":return void oe(t,e.shiftKey);case\"Backspace\":if(t){var n=t.split(\" \");n[0]===J&&3===n.length&&\"\"===n[2]&&i(\"\")}return}}}),[P,K,J,te,re,ie,oe]),je=Object(c.useCallback)((function(e){b(\"\")}),[]);Ht(Xe.OBJECT_DESELECTED,q,je);var be=Object(c.useCallback)((function(e){b(e.name)}),[]);Ht(qe.PEER,q,be);var Oe=Object(c.useCallback)((function(e){switch(e.chatMode){case we.WHISPER:return void i(\"\".concat(J,\" \").concat(e.userName,\" \"));case we.SHOUT:return}}),[J]);Ht(we.CHAT_INPUT_CONTENT,q,Oe);var he=Object(c.useCallback)((function(e){M(!0),G(e.seconds)}),[]);Ht(Se.FLOOD_CONTROL,q,he);var fe=Object(c.useCallback)((function(e){N(e),w(!0)}),[]),ge=Object(c.useMemo)((function(){var e,t=[],n=L(\"chat.styles\"),r=Object(s.a)(n);try{for(r.s();!(e=r.n()).done;){var a=e.value;a&&(a.minRank>0?ae().hasSecurity(a.minRank)&&t.push(a.styleId):a.isSystemStyle&&ae().hasSecurity(l.Yf.MODERATOR)?t.push(a.styleId):L(\"chat.styles.disabled\").indexOf(a.styleId)>=0||(a.isHcOnly&&ce()>=l.zd.CLUB||a.isAmbassadorOnly&&ae().isAmbassador?t.push(a.styleId):a.isHcOnly||a.isAmbassadorOnly||t.push(a.styleId)))}}catch(c){r.e(c)}finally{r.f()}return t}),[]);return Object(c.useEffect)((function(){f?p||(x(!0),z.processWidgetMessage(new mr(f))):p&&(x(!1),z.processWidgetMessage(new mr(f)))}),[z,f,p]),Object(c.useEffect)((function(){if(I){var e=null;return I&&(e=setTimeout((function(){y(!1),g(!1)}),1e4)),function(){return clearTimeout(e)}}}),[I]),Object(c.useEffect)((function(){if(P){var e=0,t=setInterval((function(){G((function(t){return e=(t||0)-1})),e<0&&(clearInterval(t),M(!1))}),1e3);return function(){return clearInterval(t)}}}),[P]),Object(c.useEffect)((function(){return document.body.addEventListener(\"keydown\",de),function(){document.body.removeEventListener(\"keydown\",de)}}),[de]),Object(c.useEffect)((function(){K.current&&(K.current.parentElement.dataset.value=a)}),[a]),ue().isSpectator?null:Object(Rc.createPortal)(Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(\"div\",{id:\"submenuChat\",className:\"animate__animated animate__fadeInUp\",style:{paddingLeft:\"16px\",paddingRight:\"13px\",paddingTop:\"11px\",paddingBottom:\"7px\",position:\"absolute\",backgroundColor:\"rgba(43, 43, 43, 0.8)\",top:\"-48px\",borderRadius:\"7px\",display:\"none\",border:\"1px #fff solid\"},children:[Object($a.jsx)(Hb,{chatStyleId:S,chatStyleIds:ge,selectChatStyleId:fe}),Object($a.jsx)(Fb,{}),Object($a.jsx)(Lb,{}),Object($a.jsx)(\"div\",{id:\"microphoneOn\",onClick:function(e){return function(){var e=document.getElementById(\"microphoneOn\"),n=document.getElementById(\"microphoneOff\"),r=document.getElementById(\"deleteAudio\");e.style.display=\"none\",n.style.display=\"inline-block\",r.style.display=\"inline-block\",navigator.mediaDevices.getUserMedia({audio:!0}).then((function(a){(t=new MediaRecorder(a)).start(),t.addEventListener(\"dataavailable\",(function(e){Q.push(e.data)})),t.addEventListener(\"stop\",(function(){if(e.style.display=\"inline-block\",n.style.display=\"none\",r.style.display=\"none\",!X){var t=new Blob(Q);if(t.size<378461){var a=new FormData;a.append(\"audio\",t),fetch(\"https://int.kubbo.city/audio\",{method:\"POST\",body:a}).then((function(e){return e.text()})).then((function(e){ne(\"https://int.kubbo.city/audios/\"+e+\".mp3\",fr.CHAT_DEFAULT,\"\",0)}))}else ne(\"No puedes subir un audio tan largo.\",fr.CHAT_DEFAULT,\"\",0)}X=!1,Q=[]}))}))}()},style:{marginLeft:\"10px\",display:\"inline-block\"},className:\"icon chatmicrophone-on-icon\"}),Object($a.jsx)(\"div\",{id:\"microphoneOff\",onClick:function(e){t.stop()},style:{marginLeft:\"10px\",display:\"none\"},className:\"icon chatmicrophone-off-icon\"}),Object($a.jsx)(\"div\",{id:\"deleteAudio\",onClick:function(e){return X=!0,void t.stop()},style:{marginLeft:\"10px\",display:\"none\"},className:\"icon chatdeleteaudio-icon\"}),Object($a.jsx)(\"div\",{onClick:function(){document.getElementById(\"submenuChat\").style.display=\"none\"},className:\"icon chatequis-icon\",style:{marginLeft:\"10px\",display:\"inline-block\"}})]}),Object($a.jsx)(\"div\",{className:\"nitro-chat-input-container\",style:{height:\"49px\"},children:Object($a.jsxs)(\"div\",{className:\"chat-size input-sizer align-items-center\",style:{justifyContent:\"start\"},children:[Object($a.jsx)(\"div\",{onClick:function(){\"block\"==document.getElementById(\"submenuChat\").style.display?document.getElementById(\"submenuChat\").style.display=\"none\":document.getElementById(\"submenuChat\").style.display=\"block\"},className:\"icon chatmas-icon\",style:{marginRight:\"3px\"}}),!P&&Object($a.jsx)(\"input\",{style:{marginLeft:\"5px\"},ref:K,type:\"text\",className:\"chat-input\",placeholder:st(\"widgets.chatinput.default\"),value:a,maxLength:ee,onChange:function(e){return le(e.target.value)},onMouseDown:function(e){return re()}}),P&&Object($a.jsxs)(Hi,{variant:\"danger\",children:[st(\"chat.input.alert.flood\",[\"time\"],[B.toString()]),\" \"]})]})})]}),document.getElementById(\"toolbar-chat-input-container\"))};var Gb=function(e){var t=e.chat,n=void 0===t?null:t,r=e.makeRoom,a=void 0===r?null:r,i=e.onChatClicked,s=void 0===i?null:i,u=e.bubbleWidth,d=void 0===u?l.Vf.CHAT_BUBBLE_WIDTH_NORMAL:u,j=Object(c.useState)(!1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useRef)(),g=Object(c.useMemo)((function(){switch(d){case l.Vf.CHAT_BUBBLE_WIDTH_NORMAL:return 350;case l.Vf.CHAT_BUBBLE_WIDTH_THIN:return 240;case l.Vf.CHAT_BUBBLE_WIDTH_WIDE:return 2e3}}),[d]);return Object(c.useEffect)((function(){var e=f.current;if(e){var t=e.offsetWidth,r=e.offsetHeight;n.width=t,n.height=r,n.elementRef=e;var c=n.left,i=n.top;return c||i||(c=n.location.x-t/2,i=e.parentElement.offsetHeight-r,n.left=c,n.top=i),n.visible||(a(n),n.visible=!0),function(){n.elementRef=null}}}),[f,n,a]),Object(c.useEffect)((function(){return h(n.visible)}),[n.visible]),Object($a.jsxs)(\"div\",{ref:f,className:\"bubble-container \".concat(O?\"visible\":\"invisible\"),onClick:function(e){return s(n)},children:[0===n.styleId&&Object($a.jsx)(\"div\",{className:\"user-container-bg\",style:{backgroundColor:n.color}}),Object($a.jsxs)(\"div\",{className:\"chat-bubble bubble-\".concat(n.styleId,\" type-\").concat(n.type),style:{maxWidth:g},children:[Object($a.jsx)(\"div\",{className:\"user-container\",children:n.imageUrl&&n.imageUrl.length>0&&Object($a.jsx)(\"div\",{className:\"user-image\",style:{backgroundImage:\"url(\".concat(n.imageUrl,\")\")}})}),Object($a.jsxs)(\"div\",{className:\"chat-content\",children:[Object($a.jsx)(\"b\",{className:\"username mr-1\",dangerouslySetInnerHTML:{__html:\"\".concat(n.username,\": \")}}),Object($a.jsx)(\"span\",{className:\"message\",dangerouslySetInnerHTML:{__html:\"\".concat(n.formattedText)}})]}),Object($a.jsx)(\"div\",{className:\"pointer\"})]})]})},Wb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:\"\",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"\",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,j=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null;Object(u.a)(this,e),this.senderId=t,this.senderCategory=n,this.roomId=r,this.text=a,this.formattedText=c,this.username=i,this.location=s,this.type=o,this.styleId=l,this.imageUrl=d,this.color=j,this.id=-1,this.width=0,this.height=0,this.elementRef=null,this.visible=!1,this.skipMovement=!1,this._top=0,this._left=0,this.id=++e.BUBBLE_COUNTER}return Object(d.a)(e,[{key:\"top\",get:function(){return this._top},set:function(e){this._top=e,this.elementRef&&(this.elementRef.style.top=this._top+\"px\")}},{key:\"left\",get:function(){return this._left},set:function(e){this._left=e,this.elementRef&&(this.elementRef.style.left=this._left+\"px\")}}]),e}();Wb.BUBBLE_COUNTER=0;var Vb=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!(e.left+r+e.width<t.left+r||e.left+r>t.left+r+t.width||e.top+e.height<t.top+n||e.top>t.top+n+t.height)},qb=0,Yb=function(e){var t=Object(c.useState)({mode:l.Vf.CHAT_MODE_FREE_FLOW,weight:l.Vf.CHAT_BUBBLE_WIDTH_NORMAL,speed:l.Vf.CHAT_SCROLL_SPEED_NORMAL,distance:50,protection:l.Vf.FLOOD_FILTER_NORMAL}),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(qb++),b=Object(o.a)(j,2),O=b[0],h=(b[1],ub()),f=h.roomSession,g=void 0===f?null:f,m=h.eventDispatcher,v=void 0===m?null:m,p=h.widgetHandler,x=void 0===p?null:p,_=Object(c.useRef)(),E=Object(c.useCallback)((function(){d((function(e){if(e){var t=e.filter((function(e){return e.top>2*-e.height}));if(t.length!==e.length)return t}return e}))}),[]),I=Object(c.useCallback)((function(e){d((function(t){return t&&t.forEach((function(t){t.skipMovement?t.skipMovement=!1:t.top-=e})),t})),E()}),[E]),y=Object(c.useCallback)((function(e,t,n){var r=u.length;if(r)for(var a=r-1;a>=0;a--){var c=u[a];if(!(!c||e===c||n.indexOf(c)>=0||c.top-t>=e.top+e.height)&&Vb(e,c,-t,4)){var i=Math.abs(c.top+c.height-e.top);n.push(c),c.top-=i,c.skipMovement=!0,y(c,i,n)}}}),[u]),C=Object(c.useCallback)((function(e){if(r.mode===l.Vf.CHAT_MODE_FREE_FLOW)e.skipMovement=!0,y(e,0,[e]),E();else{var t=e.top+e.height,n=e.height,a=_.current.offsetHeight-t,c=n-a;a<n&&(u.forEach((function(t){t!==e&&(t.top-=c)})),E())}}),[r,u,E,y]),T=Object(c.useCallback)((function(e){var t=new Wb(e.userId,e.userCategory,e.roomId,e.text,function(e,t){var n=\"\";if(e.toLowerCase().includes(\"onerror=\")&&(e=\"kekw\"),e.toLowerCase().includes(\"javascript:\")&&(e=\"kekw\"),e.toLowerCase().includes(\"onmouseover=\")&&(e=\"kekw\"),e.toLowerCase().includes(\"<audio\")&&e.toLowerCase().includes(\"<img\")&&(e=\"kekw\"),e.toLowerCase().includes(\"<audio\")&&e.toLowerCase().includes(\"<h\")&&(e=\"kekw\"),e.toLowerCase().includes(\"<script\")&&(e=\"kekw\"),e.includes(\"giphy.com/media\")&&(e=\"<img src='\"+e+\".gif' style='max-width: 150px; object-fit: contain;'/>\"),e.includes(\"swfs.hgalaxy.net/c_images/emojis/emoji\")&&(e=\"<img src='\"+e+\"'/>\"),e.includes(\"https://int.kubbo.city/audios/\")&&(e=\"<audio style='height: 20px; position: relative; top: 3px;' controls src='\"+e+\"'/>\"),e.startsWith(\"@\")&&e.indexOf(\"@\",1)>-1)for(var r=null;null!==(r=/@[a-zA-Z]+@/g.exec(e));){var a=r[0].toString(),c=a.substr(1,a.length-2),i=e.replace(a,\"\");n=ur.has(c)?'<span style=\"color: '+ur.get(c)+'\">'+i+\"</span>\":i;break}else n=e;return n}(e.text,e.styleId),e.userName,new l.Se(e.userX,e.userY),e.chatType,e.styleId,e.userImage,e.userColor&&(\"#\"+e.userColor.toString(16).padStart(6,\"0\")||!1));d((function(e){return[].concat(Object(ut.a)(e),[t])}))}),[]);Ht(Ae.CHAT_EVENT,v,T);var S=Object(c.useCallback)((function(e){if(u.length&&e.roomId===g.roomId){var t=e.offsetX;u.forEach((function(e){return e.elementRef&&(e.left+=t)}))}}),[g,u]);qt(l.gg.ROOM_DRAG,S);var R=Object(c.useCallback)((function(e){x.processWidgetMessage(new Nr(Nr.GET_OBJECT_INFO,e.senderId,e.senderCategory)),x.processWidgetMessage(new gr(gr.MESSAGE_SELECT_AVATAR,e.senderId,e.username,e.roomId))}),[x]),k=Object(c.useCallback)((function(){if(!r)return 6e3;switch(r.speed){case l.Vf.CHAT_SCROLL_SPEED_FAST:return 3e3;case l.Vf.CHAT_SCROLL_SPEED_NORMAL:return 6e3;case l.Vf.CHAT_SCROLL_SPEED_SLOW:return 12e3}}),[r]),A=Object(c.useCallback)((function(e){var t=e.getParser();t.roomEnter&&a(t.chat)}),[]);dt(l.jc,A);var w=Object(c.useCallback)((function(e){var t=e.getParser();a(t.chat)}),[]);dt(l.Wf,w),Object(c.useEffect)((function(){var e=function(e){if(_&&_.current){var t=_.current.offsetHeight,n=Math.round(document.body.offsetHeight*L(\"chat.viewer.height.percentage\"));_.current.style.height=\"\".concat(n,\"px\"),d((function(e){return e&&e.forEach((function(e){return e.top-=t-n})),e}))}};return window.addEventListener(\"resize\",e),e(),function(){window.removeEventListener(\"resize\",e)}}),[]);var D=Object(c.useCallback)((function(e){\"MOVE_CHATS\"!==e.type||I(15)}),[I]);return Object(c.useEffect)((function(){var e,t={workerMessageReceived:D};return e=t,N().addWorkerEventTracker(e),ta({type:\"CREATE_INTERVAL\",time:k(),timerId:O,response:{type:\"MOVE_CHATS\"}}),function(){ta({type:\"REMOVE_INTERVAL\",timerId:O}),function(e){N().removeWorkerEventTracker(e)}(t)}}),[O,D,k]),Object($a.jsx)(\"div\",{ref:_,className:\"nitro-chat-widget\",children:u.map((function(e){return Object($a.jsx)(Gb,{chat:e,makeRoom:C,onChatClicked:R,bubbleWidth:r.weight},e.id)}))})},zb=function(e){var t=e.title,n=void 0===t?null:t,r=e.items,a=void 0===r?null:r,i=e.displayItemId,s=void 0!==i&&i,l=e.onCloseClick,u=void 0===l?null:l,d=Object(c.useState)(null),j=Object(o.a)(d,2),b=j[0],O=j[1],h=Object(c.useState)(\"\"),f=Object(o.a)(h,2),g=f[0],m=f[1],v=ub().widgetHandler,p=void 0===v?null:v,x=Object(c.useMemo)((function(){if(!a)return[];if(!g||!g.length)return a;var e=g.toLocaleLowerCase();return a.filter((function(t){return t.name.toLocaleLowerCase().includes(e)}))}),[a,g]),_=Object(c.useCallback)((function(e){O(e),p.processWidgetMessage(new Nr(Nr.SELECT_OBJECT,e.id,e.category))}),[p,O]),E=function(e){var t=x[e.index];return Object($a.jsx)(lc,{alignItems:\"center\",position:\"absolute\",className:\"rounded px-1\"+(b===t?\" bg-muted\":\"\"),pointer:!0,style:e.style,onClick:function(e){return _(t)},children:Object($a.jsxs)(Hi,{truncate:!0,children:[t.name,\" \",s&&\" - \"+t.id]})},e.key)};return Object($a.jsxs)(Pc,{className:\"nitro-chooser-widget\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:n,onCloseClick:u}),Object($a.jsxs)(Ec,{overflow:\"hidden\",children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:st(\"generic.search\"),value:g,onChange:function(e){return m(e.target.value)}}),Object($a.jsx)(Jc,{fullHeight:!0,overflow:\"auto\",children:Object($a.jsx)(ml.a,{defaultWidth:0,defaultHeight:0,children:function(e){var t=e.width,n=e.height;return Object($a.jsx)(ml.d,{width:t,height:n,rowCount:x.length,rowHeight:20,rowRenderer:E})}})})]})]})},Kb=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=(b[0],b[1]),h=ub(),f=h.eventDispatcher,g=void 0===f?null:f,m=h.widgetHandler,v=void 0===m?null:m,p=Object(c.useCallback)((function(){r&&O((function(e){return e&&clearTimeout(e),setTimeout((function(){return v.processWidgetMessage(new Sr(Sr.FURNI_CHOOSER))}),100)}))}),[r,v]),x=Object(c.useCallback)((function(e){d(e.items),a(!0)}),[]);Ht(Te.FURNI_CHOOSER_CONTENT,g,x);var _=Object(c.useCallback)((function(e){if(r)switch(e.type){case Xe.FURNI_ADDED:case Xe.FURNI_REMOVED:return void p()}}),[r,p]);Ht(Xe.FURNI_ADDED,g,_),Ht(Xe.FURNI_REMOVED,g,_);var E=Object(c.useCallback)((function(){a(!1),d(null)}),[]);return u?Object($a.jsx)(zb,{title:st(\"widget.chooser.furni.title\"),displayItemId:ae().hasSecurity(l.Bh.MODERATOR),items:u,onCloseClick:E}):null},Qb=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(null),j=Object(o.a)(d,2),b=(j[0],j[1]),O=ub(),h=O.eventDispatcher,f=void 0===h?null:h,g=O.widgetHandler,m=void 0===g?null:g,v=Object(c.useCallback)((function(){r&&b((function(e){return e&&clearTimeout(e),setTimeout((function(){return m.processWidgetMessage(new Sr(Sr.USER_CHOOSER))}),100)}))}),[r,m]),p=Object(c.useCallback)((function(e){u(e.items),a(!0)}),[]);Ht(Te.USER_CHOOSER_CONTENT,f,p);var x=Object(c.useCallback)((function(e){if(r)switch(e.type){case Xe.USER_ADDED:case Xe.USER_REMOVED:return void v()}}),[r,v]);Ht(Xe.USER_ADDED,f,x),Ht(Xe.USER_REMOVED,f,x);var _=Object(c.useCallback)((function(){a(!1),u(null)}),[]);return r?Object($a.jsx)(zb,{title:st(\"widget.chooser.user.title\"),displayItemId:!1,items:l,onCloseClick:_}):null},Xb=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Sn(),s=i.users,l=void 0===s?[]:s,u=i.answer,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(!!l.length)}),[l]),r?Object($a.jsxs)(Pc,{className:\"nitro-widget-doorbell\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"navigator.doorbell.title\"),onCloseClick:function(e){return a(!1)}}),Object($a.jsxs)(Ec,{overflow:\"hidden\",gap:0,children:[Object($a.jsx)(Jc,{gap:2,children:Object($a.jsxs)(cc,{gap:1,className:\"text-black fw-bold border-bottom px-1 pb-1\",children:[Object($a.jsx)(tc,{className:\"g-col-6\",style:{color:\"var(--test-galaxytext)\"},children:st(\"generic.username\")}),Object($a.jsx)(tc,{className:\"g-col-6\"})]})}),Object($a.jsx)(Jc,{overflow:\"auto\",className:\"striped-children\",gap:0,children:l&&l.length>0&&l.map((function(e){return Object($a.jsxs)(cc,{gap:1,alignItems:\"center\",className:\"text-black border-bottom p-1\",children:[Object($a.jsx)(tc,{className:\"g-col-6\",style:{color:\"var(--test-galaxytext)\"},children:e}),Object($a.jsx)(tc,{className:\"g-col-6\",children:Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[Object($a.jsx)(dc,{variant:\"success\",onClick:function(){return d(e,!0)},children:st(\"generic.accept\")}),Object($a.jsx)(dc,{variant:\"danger\",onClick:function(){return d(e,!1)},children:st(\"generic.deny\")})]})})]},e)}))})]})]}):null},Jb=[\"objectId\",\"category\",\"noFollow\",\"position\"],Zb=function(e){var t=e.objectId,n=void 0===t?-1:t,r=e.category,a=void 0===r?-1:r,i=e.noFollow,s=void 0!==i&&i,l=e.position,u=void 0===l?\"absolute\":l,d=Object(Za.a)(e,Jb),j=Object(c.useState)({x:-1,y:-1}),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useRef)(),g=Object(c.useCallback)((function(){var e=ue();return fe(e.roomId,n,a,1)}),[n,a]),m=Object(c.useCallback)((function(){var e=g();e&&f.current&&h({x:Math.round(e.left+e.width/2-f.current.offsetWidth/2),y:Math.round(e.top-f.current.offsetHeight+10)})}),[g]);return Object(c.useEffect)((function(){var e=!1;return s?m():(e=!0,N().ticker.add(m)),function(){e&&N().ticker.remove(m)}}),[m,s]),Object($a.jsx)(tc,Object(bt.a)({innerRef:f,position:u,visible:O.x+(f.current?f.current.offsetWidth:0)>-1,className:\"object-location\",style:{left:O.x,top:O.y}},d))},$b=function(e){var t=e.roomIndex,n=void 0===t?-1:t,r=e.request,a=void 0===r?null:r,c=e.hideFriendRequest,i=void 0===c?null:c,s=an().requestResponse,o=void 0===s?null:s;return Object($a.jsx)(Zb,{objectId:n,category:l.Cg.UNIT,children:Object($a.jsx)(tc,{className:\"nitro-friend-request-dialog nitro-context-menu p-2\",children:Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:2,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},fontSize:6,children:st(\"widget.friendrequest.from\",[\"username\"],[a.name])}),Object($a.jsx)(mc.a,{icon:\"times\",className:\"cursor-pointer\",onClick:function(e){return i(a.requesterUserId)}})]}),Object($a.jsxs)(lc,{justifyContent:\"end\",gap:1,children:[Object($a.jsx)(dc,{variant:\"danger\",onClick:function(e){return o(a.requesterUserId,!1)},children:st(\"widget.friendrequest.decline\")}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return o(a.requesterUserId,!0)},children:st(\"widget.friendrequest.accept\")})]})]})})})},eO=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),u=Object(o.a)(i,2),d=u[0],j=u[1],b=ub(),O=b.roomSession,h=void 0===O?null:O,f=b.eventDispatcher,g=void 0===f?null:f,m=an().requests,v=void 0===m?[]:m,p=function(e){j((function(t){if(t.indexOf(e)>=0)return t;var n=Object(ut.a)(t);return n.push(e),n}))},x=Object(c.useCallback)((function(e){if(e.category===l.Cg.UNIT){var t=h.userDataManager.getUserDataByIndex(e.id);if(t&&t.type===l.Hg.getTypeNumber(l.Hg.USER)){if(e.type===Xe.USER_ADDED){var n=v.find((function(e){return e.requesterUserId===t.webID}));if(!n||r.find((function(e){return e.request.requesterUserId===t.webID})))return;var c=Object(ut.a)(r);c.push({roomIndex:t.roomIndex,request:n}),a(c)}}else if(e.type===Xe.USER_REMOVED){var i=r.findIndex((function(t){return t.roomIndex===e.id}));if(-1===i)return;var s=Object(ut.a)(r);s.splice(i,1),a(s)}}}),[h,v,r]);return Ht(Xe.USER_ADDED,g,x),Ht(Xe.USER_REMOVED,g,x),Object(c.useEffect)((function(){if(v&&v.length){var e,t=[],n=Object(s.a)(v);try{for(n.s();!(e=n.n()).done;){var r=e.value,c=h.userDataManager.getUserData(r.requesterUserId);c&&t.push({roomIndex:c.roomIndex,request:r})}}catch(i){n.e(i)}finally{n.f()}a(t)}}),[h,v]),v.length?Object($a.jsx)($a.Fragment,{children:r.map((function(e,t){return d.indexOf(e.request.requesterUserId)>=0?null:Object($a.jsx)($b,{roomIndex:e.roomIndex,request:e.request,hideFriendRequest:p},t)}))}):null},tO=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(0),g=Object(o.a)(f,2),m=g[0],v=g[1],p=ub(),x=p.roomSession,_=void 0===x?null:x,E=p.eventDispatcher,I=void 0===E?null:E,y=Object(c.useCallback)((function(){I.dispatchEvent(new ke(ke.CLEAR_PREVIEW)),a(-1)}),[I]),C=Object(c.useCallback)((function(){return _.isRoomOwner||_.controllerLevel>=l.Yf.GUEST||ae().isModerator}),[_]),T=Object(c.useCallback)((function(e){switch(e.type){case l.mg.REQUEST_BACKGROUND_COLOR:if(!C())return;var t=G().getRoomObject(e.roomId,e.objectId,e.category),n=t.model;return a(t.id),d(parseInt(n.getValue(l.Ig.FURNITURE_ROOM_BACKGROUND_COLOR_HUE))),h(parseInt(n.getValue(l.Ig.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION))),void v(parseInt(n.getValue(l.Ig.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS)));case Xe.FURNI_REMOVED:if(r!==e.objectId)return;return void y()}}),[r,C,y]);qt(l.mg.REQUEST_BACKGROUND_COLOR,T),Ht(Xe.FURNI_REMOVED,I,T);var S=Object(c.useCallback)((function(e){switch(e){case\"apply\":ea(new l.h(r,u,O,m));break;case\"toggle\":_.useMultistateItem(r)}}),[_,r,u,O,m]);return Object(c.useEffect)((function(){-1!==r&&I.dispatchEvent(new ke(ke.PREVIEW,u,O,m))}),[I,r,u,O,m]),-1===r?null:Object($a.jsxs)(Pc,{theme:\"primary-slim\",className:\"nitro-room-widget-toner\",children:[Object($a.jsx)(Tc,{headerText:st(\"widget.backgroundcolor.title\"),onCloseClick:y}),Object($a.jsxs)(Ec,{overflow:\"hidden\",justifyContent:\"between\",children:[Object($a.jsxs)(Jc,{overflow:\"auto\",gap:1,children:[Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"widget.backgroundcolor.hue\")}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:0,max:360,value:u,onChange:function(e){return d(e)},thumbClassName:\"thumb degree\",renderThumb:function(e,t){return Object($a.jsx)(\"div\",Object(bt.a)(Object(bt.a)({},e),{},{children:t.valueNow}))}})]}),Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"widget.backgroundcolor.saturation\")}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:0,max:255,value:O,onChange:function(e){return h(e)},thumbClassName:\"thumb percent\",renderThumb:function(e,t){return Object($a.jsx)(\"div\",Object(bt.a)(Object(bt.a)({},e),{},{children:t.valueNow}))}})]}),Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"widget.backgroundcolor.lightness\")}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:0,max:255,value:m,onChange:function(e){return v(e)},thumbClassName:\"thumb percent\",renderThumb:function(e,t){return Object($a.jsx)(\"div\",Object(bt.a)(Object(bt.a)({},e),{},{children:t.valueNow}))}})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"primary\",onClick:function(e){return S(\"toggle\")},children:st(\"widget.backgroundcolor.button.on\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"primary\",onClick:function(e){return S(\"apply\")},children:st(\"widget.backgroundcolor.button.apply\")})]})]})]})},nO=Object(d.a)((function e(t,n,r,a,c,i,s){Object(u.a)(this,e),this.objectId=t,this.category=n,this.color=r,this.ownerName=a,this.date=c,this.message=i,this.customTitle=s})),rO=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=ub().widgetHandler,s=void 0===i?null:i,u=Object(c.useCallback)((function(e){switch(e.type){case l.mg.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING:case l.mg.REQUEST_BADGE_DISPLAY_ENGRAVING:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return;var r=new l.Kh;r.initializeFromRoomObjectModel(n.model);var c=it(r.getValue(1)),i=ct(r.getValue(1)),s=r.getValue(2),o=r.getValue(3);return void a(new nO(t.objectId,t.category,\"1\",o,s,i,c));case Xe.FURNI_REMOVED:var u=e;return void a((function(e){return e&&u.id===e.objectId&&u.category===e.category?null:e}))}}),[]);qt(l.mg.REQUEST_BADGE_DISPLAY_ENGRAVING,u),qt(l.mg.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,u),Ht(Xe.FURNI_REMOVED,s.eventDispatcher,u);var d=Object(c.useCallback)((function(e){\"close\"!==e||a(null)}),[]);return r?Object($a.jsx)(Si,{color:r.color,message:r.message,date:r.date,senderName:r.ownerName,customTitle:r.customTitle,onCloseClick:function(){return d(\"close\")}}):null},aO=function(e){var t=e.objectId,n=void 0===t?-1:t,r=e.close,a=void 0===r?null:r,c=ub().roomSession,i=void 0===c?null:c;return Object($a.jsxs)(Pc,{className:\"nitro-use-product-confirmation\",children:[Object($a.jsx)(Tc,{headerText:st(\"effectbox.header.title\"),onCloseClick:a}),Object($a.jsx)(Ec,{center:!0,children:Object($a.jsx)(lc,{gap:2,children:Object($a.jsxs)(Jc,{justifyContent:\"between\",children:[Object($a.jsx)(Hi,{children:st(\"effectbox.header.description\")}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"danger\",onClick:a,children:st(\"generic.cancel\")}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(){i.useMultistateItem(n),a()},children:st(\"generic.ok\")})]})]})})})]})},cO=function(e){var t=e.objectId,n=void 0===t?-1:t,r=e.close,a=void 0===r?null:r,i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(-1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=ub(),g=f.roomSession,m=void 0===g?null:g,v=f.widgetHandler,p=void 0===v?null:v;return Object(c.useEffect)((function(){if(m&&-1!==n){var e=se(m.roomId,n,l.Cg.FLOOR);if(e){d(e);var t=-1;if(e.specialType===Un.MONSTERPLANT_SEED)t=0;-1!==t?h(t):a()}}}),[m,n,a]),-1===O?null:Object($a.jsxs)(Pc,{className:\"nitro-use-product-confirmation\",children:[Object($a.jsx)(Tc,{headerText:st(\"useproduct.widget.title.plant_seed\",[\"name\"],[u.name]),onCloseClick:a}),Object($a.jsx)(Ec,{center:!0,children:Object($a.jsxs)(lc,{gap:2,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{children:Object($a.jsx)(tc,{className:\"product-preview\",children:Object($a.jsx)(tc,{className:\"monsterplant-image\"})})}),Object($a.jsxs)(Jc,{justifyContent:\"between\",overflow:\"auto\",children:[Object($a.jsxs)(Jc,{gap:2,children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.plant_seed\",[\"productName\"],[u.name])}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.plant_seed\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"danger\",onClick:a,children:st(\"useproduct.widget.cancel\")}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(){p.processWidgetMessage(new Rr(Rr.MONSTERPLANT_SEED,n)),a()},children:st(\"widget.monsterplant_seed.button.use\")})]})]})]})})]})},iO=function(e){var t=e.objectId,n=void 0===t?-1:t,r=e.close,a=void 0===r?null:r,i=Object(c.useState)(-1),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(us.MALE),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(null),m=Object(o.a)(g,2),v=m[0],p=m[1],x=ub().roomSession,_=void 0===x?null:x;return Object(c.useEffect)((function(){var e=-1,t=ae().figure,r=ae().gender,c=[];if(_&&n>=0){var i=se(_.roomId,n,l.Cg.FLOOR);if(i&&i.specialType===Un.FIGURE_PURCHASABLE_SET){e=0;var o,u=i.customParams.split(\",\").map((function(e){return parseInt(e)})),d=Object(s.a)(u);try{for(d.s();!(o=d.n()).done;){var b=o.value;k().isValidFigureSetForGender(b,r)&&c.push(b)}}catch(O){d.e(O)}finally{d.f()}}}-1!==e?(f(r),p(k().getFigureStringWithFigureIds(t,r,c)),j(e)):a()}),[_,n,a]),-1===d?null:Object($a.jsxs)(Pc,{className:\"nitro-use-product-confirmation\",children:[Object($a.jsx)(Tc,{headerText:st(\"useproduct.widget.title.bind_clothing\"),onCloseClick:a}),Object($a.jsx)(Ec,{center:!0,children:Object($a.jsxs)(lc,{gap:2,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{children:Object($a.jsx)(tc,{className:\"mannequin-preview\",children:Object($a.jsx)(Mc,{figure:v,direction:2})})}),Object($a.jsxs)(Jc,{justifyContent:\"between\",overflow:\"auto\",children:[Object($a.jsxs)(Jc,{gap:2,children:[Object($a.jsx)(Hi,{children:st(\"useproduct.widget.text.bind_clothing\")}),Object($a.jsx)(Hi,{children:st(\"useproduct.widget.info.bind_clothing\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(dc,{variant:\"danger\",onClick:a,children:st(\"useproduct.widget.cancel\")}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(){M().send(new l.Cf(n)),M().send(new l.xi(h,v)),a()},children:st(\"useproduct.widget.bind_clothing\")})]})]})]})})]})},sO=\"MONSTERPLANT_SEED_CONFIRMATION\",oO=\"PURCHASABLE_CLOTHING_CONFIRMATION\",lO=\"GROUP_FURNITURE\",uO=\"EFFECTBOX_OPEN\",dO=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(-1),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(null),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(!1),y=Object(o.a)(I,2),C=y[0],T=y[1],S=ub(),N=S.roomSession,R=void 0===N?null:N,k=S.widgetHandler,A=void 0===k?null:k,w=Object(c.useCallback)((function(){a(-1),E(null),T(!1),d(null)}),[]),D=function(){h(null),v(-1)},U=Object(c.useCallback)((function(e){var t=G().getRoomObject(R.roomId,e.objectId,e.category);if(t)switch(e.type){case l.mg.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:if(!Z(t))return;return v(t.id),h(sO),void w();case l.mg.REQUEST_EFFECTBOX_OPEN_DIALOG:if(!Z(t))return;return v(t.id),h(uO),void w();case l.mg.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:if(!Z(t))return;return v(t.id),h(oO),void w();case l.mg.OPEN_FURNI_CONTEXT_MENU:switch(a(t.id),e.contextMenu){case l.lb.FRIEND_FURNITURE:return void d(l.lb.FRIEND_FURNITURE);case l.lb.MONSTERPLANT_SEED:return void(Z(t)&&d(l.lb.MONSTERPLANT_SEED));case l.lb.MYSTERY_BOX:return;case l.lb.RANDOM_TELEPORT:return void d(l.lb.RANDOM_TELEPORT);case l.lb.PURCHASABLE_CLOTHING:return void(Z(t)&&d(l.lb.PURCHASABLE_CLOTHING))}return;case l.mg.CLOSE_FURNI_CONTEXT_MENU:return void(t.id===r&&w())}}),[R,r,w]);qt(l.mg.OPEN_FURNI_CONTEXT_MENU,U),qt(l.mg.CLOSE_FURNI_CONTEXT_MENU,U),qt(l.mg.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,U),qt(l.mg.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,U),qt(l.mg.REQUEST_EFFECTBOX_OPEN_DIALOG,U);var P=Object(c.useCallback)((function(e){var t=e.getParser();a(t.objectId),E(t),T(t.userIsMember),d(lO)}),[]);dt(l.Nc,P);var L=function(e){if(e)switch(e){case\"use_friend_furni\":R.useMultistateItem(r);break;case\"use_monsterplant_seed\":h(sO),v(r);break;case\"use_random_teleport\":A.processWidgetMessage(new Ir(Ir.USE,r,l.Cg.FLOOR));break;case\"use_purchaseable_clothing\":h(oO),v(r);break;case\"join_group\":return Ta(_.guildId),void T(!0);case\"go_to_group_homeroom\":_&&Da(_.guildHomeRoomId)}w()};return Object($a.jsxs)($a.Fragment,{children:[O===sO&&Object($a.jsx)(cO,{objectId:m,close:D}),O===oO&&Object($a.jsx)(iO,{objectId:m,close:D}),O===uO&&Object($a.jsx)(aO,{objectId:m,close:D}),r>=0&&u&&Object($a.jsxs)(yb,{objectId:r,category:l.Cg.FLOOR,close:w,fades:!0,children:[u===l.lb.FRIEND_FURNITURE&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Ob,{children:st(\"friendfurni.context.title\")}),Object($a.jsx)(vb,{onClick:function(e){return L(\"use_friend_furni\")},children:st(\"friendfurni.context.use\")})]}),u===l.lb.MONSTERPLANT_SEED&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Ob,{children:st(\"furni.mnstr_seed.name\")}),Object($a.jsx)(vb,{onClick:function(e){return L(\"use_monsterplant_seed\")},children:st(\"widget.monsterplant_seed.button.use\")})]}),u===l.lb.RANDOM_TELEPORT&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Ob,{children:st(\"furni.random_teleport.name\")}),Object($a.jsx)(vb,{onClick:function(e){return L(\"use_random_teleport\")},children:st(\"widget.random_teleport.button.use\")})]}),u===l.lb.PURCHASABLE_CLOTHING&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Ob,{children:st(\"furni.generic_usable.name\")}),Object($a.jsx)(vb,{onClick:function(e){return L(\"use_purchaseable_clothing\")},children:st(\"widget.generic_usable.button.use\")})]}),u===lO&&_&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Ob,{className:\"cursor-pointer text-truncate\",onClick:function(){return Ia(_.guildId)},children:_.guildName}),!C&&Object($a.jsx)(vb,{onClick:function(e){return L(\"join_group\")},children:st(\"widget.furniture.button.join.group\")}),Object($a.jsx)(vb,{onClick:function(e){return L(\"go_to_group_homeroom\")},children:st(\"widget.furniture.button.go.to.group.home.room\")}),_.guildHasReadableForum&&Object($a.jsx)(vb,{onClick:function(e){return L(\"open_forum\")},children:st(\"widget.furniture.button.open_group_forum\")})]})]})]})},jO=40,bO=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(-1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=ub().eventDispatcher,g=void 0===f?null:f,m=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=0),e=Math.abs(e),t||e>jO&&(e=jO),d(parseFloat(e.toFixed(2))),t||h(100*e)}),[]),v=Object(c.useCallback)((function(e){if(e.type===Ue.UPDATE_CUSTOM_STACK_HEIGHT)a(e.objectId),m(e.height,!0)}),[m]);Ht(Ue.UPDATE_CUSTOM_STACK_HEIGHT,g,v);var p=Object(c.useCallback)((function(e){var t=e.getParser();r===t.furniId&&m(t.height,!0)}),[r,m]);dt(l.Xb,p);var x=Object(c.useCallback)((function(e){ea(new l.Wb(r,~~e))}),[r]);return Object(c.useEffect)((function(){if(-1!==r&&-1!==O){var e=setTimeout((function(){return x(~~O)}),10);return function(){return clearTimeout(e)}}}),[r,O,x]),-1===r?null:Object($a.jsxs)(Pc,{className:\"nitro-widget-custom-stack-height\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"widget.custom.stack.height.title\"),onCloseClick:function(){a(-1),d(0)}}),Object($a.jsxs)(Ec,{justifyContent:\"between\",children:[Object($a.jsx)(Hi,{children:st(\"widget.custom.stack.height.text\")}),Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:0,max:jO,step:.01,value:u,onChange:function(e){return m(e)},renderThumb:function(e,t){return Object($a.jsx)(\"div\",Object(bt.a)(Object(bt.a)({},e),{},{children:t.valueNow}))}}),Object($a.jsx)(\"input\",{type:\"number\",min:0,max:jO,value:u,onChange:function(e){return m(parseFloat(e.target.value))}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(dc,{onClick:function(e){return x(-100)},children:st(\"furniture.above.stack\")}),Object($a.jsx)(dc,{onClick:function(e){return x(0)},children:st(\"furniture.floor.level\")})]})]})]})},OO=Object(d.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(u.a)(this,e),this.id=t,this.type=n,this.color=r,this.light=a})),hO=[7665141,21495,15161822,15353138,15923281,8581961,0],fO=[\"#74F5F5\",\"#0053F7\",\"#E759DE\",\"#EA4532\",\"#F2F851\",\"#82F349\",\"#000000\"],gO=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(0),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(0),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(0),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(16777215),N=Object(o.a)(S,2),R=N[0],k=N[1],A=Object(c.useState)(255),w=Object(o.a)(A,2),D=w[0],U=w[1],P=Object(c.useState)(0),M=Object(o.a)(P,2),F=M[0],H=M[1],B=Object(c.useState)(0),G=Object(o.a)(B,2),W=G[0],V=G[1],q=Object(c.useState)(0),Y=Object(o.a)(q,2),z=Y[0],K=Y[1],Q=ub(),X=Q.eventDispatcher,J=void 0===X?null:X,Z=Q.widgetHandler,$=void 0===Z?null:Z,ee=Object(c.useCallback)((function(e){switch(e.type){case Me.PRESETS:var t,n=e,r=[],c=Object(s.a)(n.presets);try{for(c.s();!(t=c.n()).done;){var i=t.value;r.push(new OO(i.id,i.type,i.color,i.brightness))}}catch(l){c.e(l)}finally{c.f()}return d(r),h(n.selectedPresetId),void a(!0);case Me.HIDE:return void a(!1);case Fe.DIMMER_STATE:var o=e;return E(m),v(o.state),h(o.presetId),T(o.effectId),H(o.effectId),k(o.color),V(o.color),U(o.brightness),void K(o.brightness)}}),[m]);Ht(Me.PRESETS,J,ee),Ht(Me.HIDE,J,ee),Ht(Fe.DIMMER_STATE,J,ee);var te=Object(c.useCallback)((function(e){var t=u[e-1];t&&(h(t.id),H(t.type),V(t.color),K(t.light))}),[u]),ne=Object(c.useCallback)((function(){$.processWidgetMessage(new _r(R,D,2===C)),a(!1)}),[$,R,D,C]),re=Object(c.useCallback)((function(){$.processWidgetMessage(new xr)}),[$]),ae=Object(c.useCallback)((function(){if(0!==m){var e=O-1;if(!(O<1||O>u.length)){var t=u[e];!t||F===t.type&&W===t.color&&z===t.light||(d((function(n){var r=Object(ut.a)(n);return r[e]=new OO(t.id,F,W,z),r})),$.processWidgetMessage(new Er(t.id,F,W,z,!0)))}}}),[$,m,O,u,F,W,z]),ce=Object(c.useCallback)((function(e){return~~(100*(e-76)/179+0)}),[]),ie=Object(c.useMemo)((function(){return L(\"widget.dimmer.colorwheel\",!1)}),[]);return Object(c.useEffect)((function(){0===m&&0===_||$.processWidgetMessage(new _r(W,z,2===F))}),[$,m,_,W,z,F]),r?Object($a.jsxs)(Pc,{className:\"nitro-room-widget-dimmer\",children:[Object($a.jsx)(Tc,{headerText:st(\"widget.dimmer.title\"),onCloseClick:ne}),1===m&&Object($a.jsx)(Di,{children:u.map((function(e){return Object($a.jsx)(Ai,{isActive:O===e.id,onClick:function(t){return te(e.id)},children:st(\"widget.dimmer.tab.\".concat(e.id))},e.id)}))}),Object($a.jsxs)(Ec,{children:[0===m&&Object($a.jsxs)(Jc,{alignItems:\"center\",children:[Object($a.jsx)(tc,{className:\"dimmer-banner\"}),Object($a.jsx)(Hi,{center:!0,className:\"bg-muted rounded p-1\",children:st(\"widget.dimmer.info.off\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:re,children:st(\"widget.dimmer.button.on\")})]}),1===m&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{fontWeight:\"bold\",children:st(\"widget.backgroundcolor.hue\")}),ie&&Object($a.jsx)(\"input\",{type:\"color\",className:\"form-control\",value:at.makeColorNumberHex(W),onChange:function(e){return V(at.convertFromHex(e.target.value))}}),!ie&&Object($a.jsx)(cc,{gap:1,columnCount:7,children:hO.map((function(e,t){return Object($a.jsx)(Jc,{fullWidth:!0,pointer:!0,className:\"color-swatch rounded\"+io()({\" active\":e===W}),onClick:function(){return V(e)},style:{backgroundColor:fO[t]}},t)}))})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{fontWeight:\"bold\",children:st(\"widget.backgroundcolor.lightness\")}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:76,max:255,value:z,onChange:function(e){return K(e)},thumbClassName:\"thumb percent\",renderThumb:function(e,t){return Object($a.jsx)(\"div\",Object(bt.a)(Object(bt.a)({},e),{},{children:ce(t.valueNow)}))}})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:2===F,onChange:function(e){return H(e.target.checked?2:1)}}),Object($a.jsx)(Hi,{children:st(\"widget.dimmer.type.checkbox\")})]}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"danger\",onClick:re,children:st(\"widget.dimmer.button.off\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:ae,children:st(\"widget.dimmer.button.apply\")})]})]})]})]}):null},mO=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),l=s[0],u=s[1],d=ub(),j=d.eventDispatcher,b=void 0===j?null:j,O=d.widgetHandler,h=void 0===O?null:O,f=Object(c.useCallback)((function(e){a(e.objectId),u(e.value)}),[]);Ht(De.CREDIT_FURNI_UPDATE,b,f);var g=function(){a(-1),u(0)};return-1===r?null:Object($a.jsxs)(Pc,{className:\"nitro-widget-exchange-credit\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"catalog.redeem.dialog.title\"),onCloseClick:g}),Object($a.jsx)(Ec,{center:!0,children:Object($a.jsxs)(lc,{overflow:\"hidden\",gap:2,children:[Object($a.jsx)(Jc,{center:!0,children:Object($a.jsx)(tc,{className:\"exchange-image\"})}),Object($a.jsxs)(Jc,{grow:!0,justifyContent:\"between\",overflow:\"hidden\",children:[Object($a.jsxs)(Jc,{gap:1,overflow:\"auto\",children:[Object($a.jsx)(Hi,{fontWeight:\"bold\",children:st(\"creditfurni.description\",[\"credits\"],[l.toString()])}),Object($a.jsx)(Hi,{children:st(\"creditfurni.prompt\")})]}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(){h.processWidgetMessage(new vr(vr.REDEEM,r)),g()},children:st(\"catalog.redeem.dialog.button.exchange\")})]})]})})]})},vO=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],u=s[1],d=ub().eventDispatcher,j=void 0===d?null:d,b=Object(c.useCallback)((function(e){if(e.type===He.UPDATE_EXTERNAL_IMAGE)return a(e.objectId),void u(e.photoData)}),[]);return Ht(He.UPDATE_EXTERNAL_IMAGE,j,b),-1!==r&&l?Object($a.jsxs)(Pc,{className:\"nitro-external-image-widget\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:\"\",onCloseClick:function(){a(-1),u(null)}}),Object($a.jsxs)(Ec,{children:[Object($a.jsx)(lc,{center:!0,className:\"picture-preview border border-black\",style:l.w?{backgroundImage:\"url(\"+l.w+\")\"}:{},children:!l.w&&Object($a.jsx)(Hi,{bold:!0,children:st(\"camera.loading\")})}),l.m&&l.m.length&&Object($a.jsx)(Hi,{center:!0,children:l.m}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(Hi,{children:l.n||\"\"}),Object($a.jsx)(Hi,{children:new Date(1e3*l.t).toLocaleDateString()})]})]})]}):null},pO=Object(d.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(u.a)(this,e),this.objectId=t,this.category=n,this.type=r,this.usernames=a,this.figures=c,this.date=i})),xO=function(e){var t=ub(),n=t.eventDispatcher,r=void 0===n?null:n,a=(t.widgetHandler,Object(c.useState)(null)),i=Object(o.a)(a,2),s=i[0],u=i[1],d=Object(c.useState)(0),j=Object(o.a)(d,2),b=j[0],O=j[1],h=function(e){switch(e.type){case l.mg.REQUEST_FRIEND_FURNITURE_ENGRAVING:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return;var r=n.model.getValue(l.Ig.FURNITURE_DATA),a=n.model.getValue(l.Ig.FURNITURE_FRIENDFURNI_ENGRAVING);if(\"1\"===r[0]){if(6!==r.length)return;u(new pO(t.objectId,t.category,a,[r[1],r[2]],[r[3],r[4]],r[5])),O(0)}return;case Xe.FURNI_REMOVED:var c=e;return void u((function(e){return e&&c.id===e.objectId&&c.category===e.category?null:e}))}};qt(l.mg.REQUEST_FRIEND_FURNITURE_ENGRAVING,h),Ht(Xe.FURNI_REMOVED,r,h);var f=Object(c.useCallback)((function(e){var t=e.getParser();u(new pO(t.furniId)),O(t.start?1:2)}),[]);dt(l.Vd,f);var g=Object(c.useCallback)((function(e){switch(e){case\"close_view\":return void u(null);case\"accept_request\":return ue().connection.send(new l.Eb(s.objectId,!0)),void g(\"close_request\");case\"reject_request\":return ue().connection.send(new l.Eb(s.objectId,!1)),void g(\"close_request\");case\"close_request\":return O(0),void u(null)}}),[s]),m=Object(c.useCallback)((function(e){g(\"close_request\")}),[g]);return dt(l.Td,m),dt(l.Ud,m),Object($a.jsxs)($a.Fragment,{children:[b>0&&Object($a.jsxs)(Pc,{className:\"nitro-engraving-lock\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"friend.furniture.confirm.lock.caption\"),onCloseClick:function(e){return g(\"close_request\")}}),Object($a.jsxs)(Ec,{children:[Object($a.jsx)(\"h5\",{className:\"text-black text-center fw-bold mt-2 mb-2\",children:st(\"friend.furniture.confirm.lock.subtitle\")}),Object($a.jsx)(\"div\",{className:\"d-flex justify-content-center mb-2\",children:Object($a.jsx)(\"div\",{className:\"engraving-lock-stage-\"+b})}),2===b&&Object($a.jsx)(\"div\",{className:\"text-small text-black text-center mb-2\",children:st(\"friend.furniture.confirm.lock.other.locked\")}),Object($a.jsxs)(\"div\",{className:\"d-flex\",children:[Object($a.jsx)(\"button\",{className:\"btn btn-primary w-100 me-2\",onClick:function(e){return g(\"reject_request\")},children:st(\"friend.furniture.confirm.lock.button.cancel\")}),Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:function(e){return g(\"accept_request\")},children:st(\"friend.furniture.confirm.lock.button.confirm\")})]})]})]}),s&&s.usernames.length>0&&Object($a.jsx)(Dc,{handleSelector:\".nitro-engraving-lock-view\",children:Object($a.jsxs)(\"div\",{className:\"nitro-engraving-lock-view engraving-lock-\"+s.type,children:[Object($a.jsx)(\"div\",{className:\"engraving-lock-close\",onClick:function(e){return g(\"close_view\")}}),Object($a.jsxs)(\"div\",{className:\"d-flex justify-content-center\",children:[Object($a.jsx)(\"div\",{className:\"engraving-lock-avatar\",children:Object($a.jsx)(Mc,{figure:s.figures[0],direction:2})}),Object($a.jsx)(\"div\",{className:\"engraving-lock-avatar\",children:Object($a.jsx)(Mc,{figure:s.figures[1],direction:4})})]}),Object($a.jsxs)(\"div\",{className:\"text-center mt-1\",children:[Object($a.jsxs)(\"div\",{children:[0===s.type&&st(\"lovelock.engraving.caption\"),3===s.type&&st(\"wildwest.engraving.caption\")]}),Object($a.jsx)(\"div\",{children:s.date}),Object($a.jsxs)(\"div\",{className:\"d-flex justify-content-center\",children:[Object($a.jsx)(\"div\",{className:\"me-4\",children:s.usernames[0]}),Object($a.jsx)(\"div\",{children:s.usernames[1]})]})]})]})})]})},_O=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),_=(x[0],x[1]),E=Object(c.useState)(null),I=Object(o.a)(E,2),y=I[0],C=I[1],T=Object(c.useState)(null),S=Object(o.a)(T,2),N=S[0],R=S[1],k=Object(c.useState)(-1),A=Object(o.a)(k,2),w=A[0],D=A[1],P=Object(c.useState)(null),L=Object(o.a)(P,2),M=L[0],F=L[1],H=Object(c.useState)(!1),B=Object(o.a)(H,2),W=B[0],V=B[1],q=Object(c.useState)(null),Y=Object(o.a)(q,2),z=Y[0],K=Y[1],Q=Object(c.useState)(!1),X=Object(o.a)(Q,2),J=X[0],Z=X[1],$=ub(),ee=$.roomSession,te=void 0===ee?null:ee,ne=$.eventDispatcher,re=void 0===ne?null:ne,ce=$.widgetHandler,ie=void 0===ce?null:ce,se=Object(c.useCallback)((function(){J||a(-1),v(null),_(!1)}),[J]),oe=Object(c.useCallback)((function(e){return\"\"}),[]),le=Object(c.useCallback)((function(e){switch(e.type){case ze.PACKAGEINFO:return Z(!1),a(e.objectId),v(e.giftMessage),_(e.isController),C(e.purchaserName),R(e.purchaserFigure),void K(e.imageUrl);case ze.CONTENTS_FLOOR:case ze.CONTENTS_LANDSCAPE:case ze.CONTENTS_WALLPAPER:var t=null;return e.type===ze.CONTENTS_FLOOR?t=\"packagecard_icon_floor\":e.type===ze.CONTENTS_LANDSCAPE?t=\"packagecard_icon_landscape\":e.type===ze.CONTENTS_WALLPAPER&&(t=\"packagecard_icon_wallpaper\"),a(e.objectId),d(e.classId),h(e.itemType),v(e.giftMessage),_(e.isController),D(e.placedItemId),F(e.placedItemType),V(e.placedInRoom),void K(oe(t));case ze.CONTENTS_CLUB:return a(e.objectId),d(e.classId),h(e.itemType),v(e.giftMessage),_(e.isController),void K(oe(\"packagecard_icon_hc\"));case ze.CONTENTS:if(!J)return;return a(e.objectId),d(e.classId),h(e.itemType),v(e.giftMessage),_(e.isController),D(e.placedItemId),F(e.placedItemType),V(e.placedInRoom),void K(e.imageUrl);case ze.CONTENTS_IMAGE:if(!J)return;K(e.imageUrl)}}),[J,oe]);Ht(ze.PACKAGEINFO,re,le),Ht(ze.CONTENTS,re,le),Ht(ze.CONTENTS_FLOOR,re,le),Ht(ze.CONTENTS_LANDSCAPE,re,le),Ht(ze.CONTENTS_WALLPAPER,re,le),Ht(ze.CONTENTS_CLUB,re,le),Ht(ze.CONTENTS_IMAGE,re,le);var ue=Object(c.useCallback)((function(e){e.id===r&&se(),e.id===w&&W&&V(!1)}),[r,w,W,se]);Ht(Xe.FURNI_REMOVED,re,ue);var de=Object(c.useCallback)((function(){a(-1),Z(!1),D(-1),V(!1),v(null),_(!1)}),[]),je=Object(c.useMemo)((function(){if(O!==aa.WALL)return!1;var e=ae().getWallItemData(u);if(!e)return!1;var t=e.className;return\"floor\"===t||\"landscape\"===t||\"wallpaper\"===t}),[u,O]),be=Object(c.useMemo)((function(){return-1===r?\"\":je?\"widget.furni.present.spaces.message_opened\":\"widget.furni.present.message_opened\"}),[r,je]),Oe=Object(c.useCallback)((function(e){switch(e){case 0:return void U(\"catalog/open\");case 1:return Z(!0),void ie.processWidgetMessage(new Tr(Tr.OPEN_PRESENT,r));case 2:return;case 3:if(w>0&&W)if(M===aa.PET)te.pickupPet(w);else{var t=G().getRoomObject(te.roomId,w,l.Cg.FLOOR);t&&G().processRoomObjectOperation(t.id,l.Cg.FLOOR,l.Eg.OBJECT_PICKUP)}return void de()}}),[te,ie,r,W,w,M,de]);return-1===r?null:Object($a.jsxs)(Pc,{className:\"nitro-gift-opening\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(y?\"widget.furni.present.window.title_from\":\"widget.furni.present.window.title\",[\"name\"],[y]),onCloseClick:de}),Object($a.jsxs)(Ec,{center:!0,children:[-1===w&&Object($a.jsxs)(Jc,{overflow:\"hidden\",children:[Object($a.jsx)(lc,{center:!0,overflow:\"auto\",children:Object($a.jsx)(Qc,{userName:y,figure:N,message:m})}),Object($a.jsxs)(lc,{gap:1,children:[y&&Object($a.jsx)(dc,{fullWidth:!0,onClick:function(e){return Oe(0)},children:st(\"widget.furni.present.give_gift\",[\"name\"],[y])}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(e){return Oe(1)},children:st(\"widget.furni.present.open_gift\")})]})]}),w>-1&&Object($a.jsxs)(Jc,{overflow:\"hidden\",children:[Object($a.jsxs)(lc,{center:!0,overflow:\"auto\",gap:2,children:[Object($a.jsx)(\"img\",{src:z,className:\"no-select\",alt:\"\"}),Object($a.jsx)(Hi,{wrap:!0,children:st(be,[\"product\"],[m])})]}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,onClick:function(e){return Oe(3)},children:st(\"widget.furni.present.put_in_inventory\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(e){return Oe(2)},children:st(W?\"widget.furni.present.keep_in_room\":\"widget.furni.present.place_in_room\")})]}),y&&y.length&&Object($a.jsx)(dc,{fullWidth:!0,onClick:function(e){return Oe(0)},children:st(\"widget.furni.present.give_gift\",[\"name\"],[y])})]})]})]})]})},EO=[\"perteam\",\"mostwins\",\"classic\"],IO=[\"alltime\",\"daily\",\"weekly\",\"monthly\"],yO=function(e){var t=Object(c.useState)(new Map),n=Object(o.a)(t,2),r=n[0],a=n[1],i=ub().roomSession,s=void 0===i?null:i,u=Object(c.useCallback)((function(e){switch(e.type){case l.mg.REQUEST_HIGH_SCORE_DISPLAY:var t=G().getRoomObject(s.roomId,e.objectId,e.category);if(!t)return;var n=t.model.getValue(l.Ig.FURNITURE_DATA_FORMAT),r=l.bf.getData(n);return r.initializeFromRoomObjectModel(t.model),void a((function(e){var n=new Map(e);return n.set(t.id,r),n}));case l.mg.REQUEST_HIDE_HIGH_SCORE_DISPLAY:if(e.roomId!==s.roomId)return;return void a((function(t){var n=new Map(t);return n.delete(e.objectId),n}))}}),[s]);return qt(l.mg.REQUEST_HIGH_SCORE_DISPLAY,u),qt(l.mg.REQUEST_HIDE_HIGH_SCORE_DISPLAY,u),r.size?Object($a.jsx)($a.Fragment,{children:Array.from(r.entries()).map((function(e,t){var n=Object(o.a)(e,2),r=n[0],a=n[1];return Object($a.jsx)(Zb,{objectId:r,category:l.Cg.FLOOR,children:Object($a.jsxs)(Jc,{className:\"nitro-widget-high-score nitro-context-menu\",gap:0,children:[Object($a.jsx)(Ob,{children:st(\"high.score.display.caption\",[\"scoretype\",\"cleartype\"],[st(\"high.score.display.scoretype.\".concat(EO[a.scoreType])),st(\"high.score.display.cleartype.\".concat(IO[a.clearType]))])}),Object($a.jsxs)(Nb,{overflow:\"hidden\",gap:1,className:\"h-100\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",children:[Object($a.jsx)(Hi,{center:!0,bold:!0,variant:\"white\",className:\"col-8\",children:st(\"high.score.display.users.header\")}),Object($a.jsx)(Hi,{center:!0,bold:!0,variant:\"white\",className:\"col-4\",children:st(\"high.score.display.score.header\")})]}),Object($a.jsx)(\"hr\",{className:\"m-0\"})]}),Object($a.jsx)(Jc,{overflow:\"auto\",gap:1,className:\"overflow-y-scroll\",children:a.entries.map((function(e,t){return Object($a.jsxs)(lc,{alignItems:\"center\",children:[Object($a.jsx)(Hi,{center:!0,variant:\"white\",className:\"col-8\",children:e.users.join(\", \")}),Object($a.jsx)(Hi,{center:!0,variant:\"white\",className:\"col-4\",children:e.score})]},t)}))})]})]})},t)}))}):null},CO=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(-1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=ub(),g=(f.roomSession,f.eventDispatcher),m=void 0===g?null:g,v=(f.widgetHandler,Object(c.useCallback)((function(){ve(u,O,l.Eg.OBJECT_ROTATE_POSITIVE)}),[u,O])),p=Object(c.useCallback)((function(){ve(u,O,l.Eg.OBJECT_MOVE)}),[u,O]),x=Object(c.useCallback)((function(){ve(u,O,l.Eg.OBJECT_PICKUP)}),[u,O]),_=Object(c.useCallback)((function(e){switch(e.type){case Xe.OBJECT_REQUEST_MANIPULATION:return a(!0),d(e.id),void h(e.category);case Xe.FURNI_REMOVED:return void(e.id===u&&(a(!1),d(-1),h(-1)));case Xe.OBJECT_DESELECTED:return a(!1),d(-1),void h(-1)}}),[u]);Ht(Xe.OBJECT_REQUEST_MANIPULATION,m,_),Ht(Xe.OBJECT_DESELECTED,m,_);var E=Object(c.useCallback)((function(e){e.isDecorating||(p(),a(!1),d(-1),h(-1))}),[p]);return Ht(Le.UPDATE_DECORATE,m,E),Object(c.useEffect)((function(){r?(m.dispatchEvent(new Le(!0)),p()):m.dispatchEvent(new Le(!1))}),[m,r,p]),r?Object($a.jsx)(Zb,{objectId:u,category:O,children:Object($a.jsxs)(\"div\",{className:\"btn-group\",children:[Object($a.jsx)(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",onClick:x,children:Object($a.jsx)(mc.a,{icon:\"times\"})}),Object($a.jsx)(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",onClick:v,children:Object($a.jsx)(mc.a,{icon:\"undo\"})})]})}):null},TO=[\"hd\",99999,[99998]],SO=[l.p.CHEST_ACCESSORY,l.p.COAT_CHEST,l.p.CHEST,l.p.LEGS,l.p.SHOES,l.p.WAIST_ACCESSORY],NO=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(null),O=Object(o.a)(b,2),h=(O[0],O[1]),f=Object(c.useState)(null),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(l.zd.NO_CLUB),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(null),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(l.zd.NO_CLUB),N=Object(o.a)(S,2),R=(N[0],N[1]),A=Object(c.useState)(-1),w=Object(o.a)(A,2),D=w[0],U=w[1],P=ub(),L=P.roomSession,M=void 0===L?null:L,F=P.eventDispatcher,H=void 0===F?null:F,B=Object(c.useCallback)((function(e){var t=k().createFigureContainer(e.figure),n=k().getFigureClubLevel(t,e.gender,SO);a(e.objectId),j(e.figure),h(e.gender),v(e.name),E(n),M.isRoomOwner||M.controllerLevel>=l.Yf.GUEST||ae().isModerator?U(0):ae().gender.toLowerCase()!==e.gender.toLowerCase()?U(4):ce()<n?U(3):U(2)}),[M]);Ht(Ye.MANNEQUIN_UPDATE,H,B);var G=function(e){var t,n=Object(s.a)(e.getPartTypeIds());try{for(n.s();!(t=n.n()).done;){var r=t.value;SO.indexOf(r)>=0||e.removePart(r)}}catch(a){n.e(a)}finally{n.f()}e.updatePart(TO[0],TO[1],TO[2])},W=Object(c.useCallback)((function(e){switch(e){case 3:ea(new l.Qb(r));break;case 2:ea(new l.Sb(r));break;case 1:return void ea(new l.Rb(r,m))}U(-1)}),[r,m]);return Object(c.useEffect)((function(){switch(D){case 0:case 4:var e=k().createFigureContainer(d);G(e),T(e.getFigureString()),R(_);break;case 1:var t=k().createFigureContainer(ae().figure);G(t),T(t.getFigureString()),R(k().getFigureClubLevel(t,ae().gender,SO));break;case 2:case 3:var n=function(e,t){var n,r=k().createFigureContainer(e),a=k().createFigureContainer(t),c=Object(s.a)(SO);try{for(c.s();!(n=c.n()).done;){var i=n.value;r.removePart(i)}}catch(d){c.e(d)}finally{c.f()}var o,l=Object(s.a)(a.getPartTypeIds());try{for(l.s();!(o=l.n()).done;){var u=o.value;r.updatePart(u,a.getPartSetId(u),a.getPartColorIds(u))}}catch(d){l.e(d)}finally{l.f()}return r}(ae().figure,d);T(n.getFigureString()),R(_)}}),[D,d,_]),-1===D?null:Object($a.jsxs)(Pc,{className:\"nitro-mannequin\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"mannequin.widget.title\"),onCloseClick:function(e){return U(-1)}}),Object($a.jsx)(Ec,{center:!0,children:Object($a.jsxs)(lc,{gap:2,overflow:\"hidden\",children:[Object($a.jsx)(Jc,{children:Object($a.jsxs)(tc,{position:\"relative\",className:\"mannequin-preview\",children:[Object($a.jsx)(Mc,{figure:C,direction:2}),_>0&&Object($a.jsx)(Vc,{className:\"position-absolute end-2 bottom-2\",type:\"hc\"})]})}),Object($a.jsxs)(Jc,{justifyContent:\"between\",overflow:\"auto\",children:[0===D&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control\",value:m,onChange:function(e){return v(e.target.value)},onKeyDown:function(e){return function(e){\"Enter\"===e.key&&W(1)}(e)}}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return U(1)},children:st(\"mannequin.widget.style\")}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return W(2)},children:st(\"mannequin.widget.wear\")})]})]}),1===D&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:m}),Object($a.jsx)(Hi,{wrap:!0,children:st(\"mannequin.widget.savetext\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsx)(Hi,{underline:!0,pointer:!0,onClick:function(e){return U(0)},children:st(\"mannequin.widget.back\")}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return W(3)},children:st(\"mannequin.widget.save\")})]})]}),2===D&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:m}),Object($a.jsx)(Hi,{children:st(\"mannequin.widget.weartext\")})]}),Object($a.jsx)(dc,{variant:\"success\",onClick:function(e){return W(2)},children:st(\"mannequin.widget.wear\")})]}),3===D&&Object($a.jsx)(Hi,{children:st(\"mannequin.widget.clubnotification\")}),4===D&&Object($a.jsx)(Hi,{children:st(\"mannequin.widget.wronggender\")})]})]})})]})},RO=Object(d.a)((function e(t,n,r,a){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(u.a)(this,e),this.objectId=t,this.category=n,this.color=r,this.text=a,this.canModify=c,this.isEditing=i})),kO=[\"9CCEFF\",\"FF9CFF\",\"9CFF9C\",\"FFFF33\"],AO=[\"blue\",\"pink\",\"green\",\"yellow\"];function wO(e){var t=kO.indexOf(e);return-1===t&&(t=0),AO[t]}var DO=function(e){var t=ub(),n=t.eventDispatcher,r=void 0===n?null:n,a=(t.widgetHandler,Object(c.useState)(null)),i=Object(o.a)(a,2),s=i[0],u=i[1],d=Object(c.useCallback)((function(e){switch(e.type){case l.mg.REQUEST_STICKIE:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return;var r=n.model.getValue(l.Ig.FURNITURE_ITEMDATA);if(r.length<6)return;var a=null,c=null;return r.indexOf(\" \")>0?(a=r.slice(0,r.indexOf(\" \")),c=r.slice(r.indexOf(\" \")+1,r.length)):a=r,void u(new RO(t.objectId,t.category,a,c,ue().isRoomOwner||ae().isModerator,!1));case Xe.FURNI_REMOVED:var i=e;return void u((function(e){return e&&i.id===e.objectId&&i.category===e.category?null:e}))}}),[]);qt(l.mg.REQUEST_STICKIE,d),Ht(Xe.FURNI_REMOVED,r,d);var j=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case\"close\":return void u(null);case\"trash\":return void u((function(e){return e?(G().deleteRoomObject(e.objectId,e.category),null):null}));case\"changeColor\":return void u((function(e){var n=new RO(e.objectId,e.category,t,e.text,e.canModify);return G().modifyRoomObjectData(n.objectId,n.category,n.color,n.text),n}));case\"changeText\":return void u((function(e){var n=new RO(e.objectId,e.category,e.color,t,e.canModify);return G().modifyRoomObjectData(n.objectId,n.category,n.color,n.text),n}));case\"editMode\":return void u((function(e){return e.canModify?new RO(e.objectId,e.category,e.color,e.text,e.canModify,!0):e}))}}),[]);return s?Object($a.jsx)(Dc,{handleSelector:\".drag-handler\",windowPosition:kc.NOTHING,children:Object($a.jsxs)(\"div\",{className:\"nitro-stickie nitro-stickie-image stickie-\"+wO(s.color),children:[Object($a.jsxs)(\"div\",{className:\"d-flex align-items-center stickie-header drag-handler\",children:[Object($a.jsx)(\"div\",{className:\"d-flex align-items-center flex-grow-1 h-100\",children:s.canModify&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"div\",{className:\"nitro-stickie-image stickie-trash header-trash\",onClick:function(e){return j(\"trash\")}}),kO.map((function(e){return Object($a.jsx)(\"div\",{className:\"stickie-color ms-1\",onClick:function(t){return j(\"changeColor\",e)},style:{backgroundColor:at.makeColorHex(e)}},e)}))]})}),Object($a.jsx)(\"div\",{className:\"d-flex align-items-center nitro-stickie-image stickie-close header-close\",onClick:function(e){return j(\"close\")}})]}),Object($a.jsx)(\"div\",{className:\"stickie-context\",children:s.isEditing?Object($a.jsx)(\"textarea\",{className:\"context-text\",defaultValue:s.text||\"\",tabIndex:0,onBlur:function(e){return j(\"changeText\",e.target.value)},autoFocus:!0}):Object($a.jsx)(\"div\",{className:\"context-text\",onClick:function(e){return j(\"editMode\")},children:s.text})})]})}):null},UO=function(e){var t=ub(),n=(t.eventDispatcher,t.widgetHandler),r=void 0===n?null:n,a=Object(c.useState)(null),i=Object(o.a)(a,2),s=i[0],u=i[1],d=Object(c.useCallback)((function(e){switch(e.type){case l.mg.REQUEST_TROPHY:var t=e,n=G().getRoomObject(t.roomId,t.objectId,t.category);if(!n)return;var r=n.model.getValue(l.Ig.FURNITURE_DATA),a=n.model.getValue(l.Ig.FURNITURE_EXTRAS);a||(a=\"0\");var c=n.model.getValue(l.Ig.FURNITURE_COLOR),i=r.substring(0,r.indexOf(\"\\t\")),s=(r=r.substring(i.length+1,r.length)).substring(0,r.indexOf(\"\\t\")),o=r.substr(s.length+1,r.length);return void u(new nO(t.objectId,t.category,c,i,s,o));case Xe.FURNI_REMOVED:var d=e;return void u((function(e){return e&&d.id===e.objectId&&d.category===e.category?null:e}))}}),[]);qt(l.mg.REQUEST_TROPHY,d),Ht(Xe.FURNI_REMOVED,r.eventDispatcher,d);var j=Object(c.useCallback)((function(e){\"close\"!==e||u(null)}),[]);return s?Object($a.jsx)(Si,{color:s.color,message:s.message,date:s.date,senderName:s.ownerName,onCloseClick:function(){return j(\"close\")}}):null},PO=n(125),LO=Object(d.a)((function e(){Object(u.a)(this,e)}));LO.UNSTARTED=-1,LO.ENDED=0,LO.PLAYING=1,LO.PAUSED=2,LO.BUFFERING=3,LO.CUED=5;var MO=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(-1),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)(null),y=Object(o.a)(I,2),C=y[0],T=y[1],S=Object(c.useState)(null),N=Object(o.a)(S,2),R=N[0],k=N[1],A=Object(c.useState)(!1),w=Object(o.a)(A,2),D=w[0],U=w[1],P=Object(c.useState)(null),L=Object(o.a)(P,2),M=L[0],F=L[1],H=ub().eventDispatcher,B=void 0===H?null:H,G=Object(c.useCallback)((function(e){if(e.type===$e.UPDATE_YOUTUBE_DISPLAY)a(e.objectId),U(e.hasControl)}),[]),W=Object(c.useCallback)((function(){a(-1),T(null),k(null),U(!1),d(null),v(null),h(null),E(-1)}),[]);Ht($e.UPDATE_YOUTUBE_DISPLAY,B,G);var V=Object(c.useCallback)((function(e){if(-1!==r){var t=e.getParser();r===t.furniId&&(d(t.videoId),h(t.startAtSeconds),v(t.endAtSeconds),E(t.state))}}),[r]),q=Object(c.useCallback)((function(e){if(-1!==r){var t=e.getParser();r===t.furniId&&(k(t.playlists),T(t.selectedPlaylistId),d(null),E(-1),v(null),h(null))}}),[r]),Y=Object(c.useCallback)((function(e){if(-1!==r){var t=e.getParser();if(r===t.furniId)switch(t.commandId){case 1:E(LO.PLAYING),M.getPlayerState()!==LO.PLAYING&&M.playVideo();break;case 2:E(LO.PAUSED),M.getPlayerState()!==LO.PAUSED&&M.pauseVideo()}}}),[r,M]);dt(l.dj,V),dt(l.cj,q),dt(l.bj,Y);var z=Object(c.useCallback)((function(e){switch(e){case\"playlist_prev\":ea(new l.mb(r,Wr.CONTROL_COMMAND_PREVIOUS_VIDEO));break;case\"playlist_next\":ea(new l.mb(r,Wr.CONTROL_COMMAND_NEXT_VIDEO));break;case\"video_pause\":D&&u&&u.length&&ea(new l.mb(r,Wr.CONTROL_COMMAND_PAUSE_VIDEO));break;case\"video_play\":D&&u&&u.length&&ea(new l.mb(r,Wr.CONTROL_COMMAND_CONTINUE_VIDEO));break;default:if(C===e)return T(null),void ea(new l.Jh(r,\"\"));ea(new l.Jh(r,e)),T(e)}}),[D,r,C,u]),K=Object(c.useCallback)((function(e){F(e.target)}),[]),Q=Object(c.useCallback)((function(e){if(F(e.target),r)switch(e.target.getPlayerState()){case-1:case 1:return void(1!==_&&z(\"video_play\"));case 2:2!==_&&z(\"video_pause\")}}),[_,r,z]),X=Object(c.useMemo)((function(){return O||m?{height:\"375\",width:\"500\",playerVars:{autoplay:1,disablekb:1,controls:0,origin:window.origin,modestbranding:1,start:O,end:m}}:{height:\"375\",width:\"500\",playerVars:{autoplay:1,disablekb:1,controls:0,origin:window.origin,modestbranding:1}}}),[m,O]);return-1===r?null:Object($a.jsxs)(Pc,{className:\"youtube-tv-widget\",children:[Object($a.jsx)(Tc,{headerText:\"\",onCloseClick:W}),Object($a.jsx)(Ec,{children:Object($a.jsxs)(\"div\",{className:\"row w-100 h-100\",children:[Object($a.jsxs)(\"div\",{className:\"youtube-video-container col-9\",children:[u&&u.length>0&&Object($a.jsx)(PO.a,{videoId:u,opts:X,onReady:K,onStateChange:Q,containerClassName:\"youtubeContainer\"}),(!u||0===u.length)&&Object($a.jsx)(\"div\",{className:\"empty-video w-100 h-100 justify-content-center align-items-center d-flex\",children:st(\"widget.furni.video_viewer.no_videos\")})]}),Object($a.jsxs)(\"div\",{className:\"playlist-container col-3\",children:[Object($a.jsxs)(\"span\",{className:\"playlist-controls justify-content-center d-flex\",children:[Object($a.jsx)(\"i\",{className:\"icon icon-youtube-prev cursor-pointer\",onClick:function(){return z(\"playlist_prev\")}}),Object($a.jsx)(\"i\",{className:\"icon icon-youtube-next cursor-pointer\",onClick:function(){return z(\"playlist_next\")}})]}),Object($a.jsx)(\"div\",{className:\"mb-1\",children:st(\"widget.furni.video_viewer.playlists\")}),Object($a.jsx)(cc,{columnCount:1,className:\"playlist-grid\",children:R&&R.map((function(e,t){return Object($a.jsxs)(ii,{onClick:function(){return z(e.video)},itemActive:e.video===C,children:[Object($a.jsx)(\"b\",{children:e.title}),\" - \",e.description]},t)}))})]})]})})]})},FO=function(e){return Object($a.jsxs)(\"div\",{className:\"position-absolute nitro-room-widgets top-0 start-0 w-100 h-100\",children:[Object($a.jsx)(tO,{}),Object($a.jsx)(dO,{}),Object($a.jsx)(bO,{}),Object($a.jsx)(gO,{}),Object($a.jsx)(xO,{}),Object($a.jsx)(_O,{}),Object($a.jsx)(mO,{}),Object($a.jsx)(yO,{}),Object($a.jsx)(CO,{}),Object($a.jsx)(NO,{}),Object($a.jsx)(DO,{}),Object($a.jsx)(UO,{}),Object($a.jsx)(rO,{}),Object($a.jsx)(vO,{}),Object($a.jsx)(MO,{})]})},HO=function(e){var t=e.botData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r;return n?Object($a.jsxs)(Jc,{className:\"nitro-infostand rounded\",style:{backgroundColor:\"var(--test-galaxy)\"},children:[Object($a.jsx)(\"div\",{className:\"nitro-infostand-title\",children:Object($a.jsx)(Jc,{gap:1,children:Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},small:!0,wrap:!0,children:n.name}),Object($a.jsx)(mc.a,{icon:\"times\",className:\"cursor-pointer\",onClick:a})]})})}),Object($a.jsxs)(Jc,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Jc,{fullWidth:!0,className:\"body-image bot\",children:Object($a.jsx)(Mc,{figure:n.figure,direction:4})}),Object($a.jsx)(Jc,{grow:!0,center:!0,gap:0,children:n.badges.length>0&&n.badges.map((function(e){return Object($a.jsx)(Gc,{badgeCode:e,showInfo:!0},e)}))})]}),Object($a.jsx)(\"hr\",{className:\"m-0\"})]}),Object($a.jsx)(lc,{alignItems:\"center\",className:\"bg-light-dark rounded py-1 px-2\",children:Object($a.jsx)(Hi,{fullWidth:!0,wrap:!0,textBreak:!0,variant:\"white\",small:!0,className:\"motto-content\",children:n.motto})}),n.carryItem>0&&Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(\"hr\",{className:\"m-0\"}),Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"infostand.text.handitem\",[\"item\"],[st(\"handitem\"+n.carryItem)])})]})]})]}):null},BO=function(e){var t=e.furniData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=ub(),u=i.roomSession,d=void 0===u?null:u,j=(i.eventDispatcher,i.widgetHandler),b=void 0===j?null:j,O=Object(c.useState)(0),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useState)(!1),v=Object(o.a)(m,2),p=v[0],x=v[1],_=Object(c.useState)(!1),E=Object(o.a)(_,2),I=E[0],y=E[1],C=Object(c.useState)(!1),T=Object(o.a)(C,2),S=T[0],N=T[1],R=Object(c.useState)([]),k=Object(o.a)(R,2),A=k[0],w=k[1],D=Object(c.useState)([]),P=Object(o.a)(D,2),L=P[0],M=P[1],F=Object(c.useState)([]),H=Object(o.a)(F,2),B=H[0],W=H[1],V=Object(c.useState)([]),q=Object(o.a)(V,2),Y=q[0],z=q[1],K=Object(c.useState)(!1),Q=Object(o.a)(K,2),X=Q[0],J=Q[1],Z=Object(c.useState)(0),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ne=Object(c.useState)(0),re=Object(o.a)(ne,2),ae=re[0],ce=re[1],ie=Object(c.useState)(!1),se=Object(o.a)(ie,2),oe=se[0],le=se[1],ue=Object(c.useState)(!1),de=Object(o.a)(ue,2),je=de[0],be=de[1],Oe=Object(c.useState)(null),he=Object(o.a)(Oe,2),fe=he[0],ge=he[1];Object(c.useEffect)((function(){var e=0,t=!1,r=!1,a=!1,c=[],i=[],o=[],u=[],j=!1,b=0,O=0,h=!1,f=!1,m=n.roomControllerLevel>=l.Yf.GUEST;if((m||n.isOwner||n.isRoomOwner||n.isAnyRoomController)&&(t=!0,r=!n.isWallItem,n.roomControllerLevel>=l.Yf.MODERATOR&&(h=!0)),n.isAnyRoomController&&(f=!0),(n.usagePolicy===l.uh.EVERYBODY||n.usagePolicy===l.uh.CONTROLLER&&m||n.extraParam===l.th.JUKEBOX&&m||n.extraParam===l.th.USABLE_PRODUCT&&m)&&(a=!0),n.extraParam){if(n.extraParam===l.th.CRACKABLE_FURNI){var v=n.stuffData;a=!0,j=!0,b=v.hits,O=v.target}if(h){var p=n.extraParam.substr(l.th.BRANDING_OPTIONS.length);if(p){var _,E=p.split(\"\\t\"),I=Object(s.a)(E);try{for(I.s();!(_=I.n()).done;){var C=_.value.split(\"=\");C&&2===C.length&&(c.push(C[0]),i.push(C[1]))}}catch(U){I.e(U)}finally{I.f()}}}}if(h){var T=G().getRoomObject(d.roomId,n.id,n.isWallItem?l.Cg.WALL:l.Cg.FLOOR);if(T){var S=T.model.getValue(l.Ig.FURNITURE_CUSTOM_VARIABLES),R=T.model.getValue(l.Ig.FURNITURE_DATA);if(S&&S.length){var k,A=Object(s.a)(S);try{for(A.s();!(k=A.n()).done;){var D=k.value;o.push(D),u.push(R[D]||\"\")}}catch(U){A.e(U)}finally{A.f()}}}}n.isOwner||n.isAnyRoomController?e=2:(n.isRoomOwner||n.roomControllerLevel>=l.Yf.GUILD_ADMIN)&&(e=1),n.isStickie&&(e=0),g(e),x(t),y(r),N(a),w(c),M(i),W(o),z(u),J(j),te(b),ce(O),le(h),be(f),ge(null),n.groupId&&ea(new l.Oc(n.groupId,!1))}),[d,n]);var me=Object(c.useCallback)((function(e){var t=e.getParser();n&&n.groupId===t.id&&!t.flag&&(fe&&ge(null),ge(t.title))}),[n,fe]);dt(l.Pc,me);var ve=Object(c.useCallback)((function(e,t){var n=Array.from(L);n[e]=t,M(n)}),[L]),pe=Object(c.useCallback)((function(e,t){var n=Array.from(Y);n[e]=t,z(n)}),[Y]),xe=Object(c.useCallback)((function(){if(0===A.length||0===L.length)return\"\";for(var e=\"\",t=0;t<A.length;){e=e+(A[t]+\"=\")+L[t]+\"\\t\",t++}return e}),[A,L]),_e=Object(c.useCallback)((function(e){if(e&&\"\"!==e){var t=null,r=null;switch(e){case\"buy_one\":return void U(\"catalog/open/offerId/\".concat(n.purchaseOfferId));case\"move\":t=Ir.MOVE;break;case\"rotate\":t=Ir.ROTATE;break;case\"pickup\":t=2===f?Ir.PICKUP:Ir.EJECT;break;case\"use\":t=Ir.USE;break;case\"save_branding_configuration\":t=Ir.SAVE_STUFF_DATA,r=xe();break;case\"save_custom_variables\":for(var a=new Map,c=0;c<B.length;c++){var i=B[c],s=Y[c];i&&i.length&&s&&s.length&&a.set(i,s)}ea(new l.Hh(n.id,a))}t&&b.processWidgetMessage(new Ir(t,n.id,n.category,n.purchaseOfferId,r))}}),[b,n,f,B,Y,xe]),Ee=Object(c.useCallback)((function(){var e=n.stuffData;return e&&e instanceof l.Kh?e.getValue(2):null}),[n]);return n?Object($a.jsxs)(Jc,{gap:1,alignItems:\"end\",children:[Object($a.jsxs)(Jc,{className:\"nitro-infostand rounded\",style:{backgroundColor:\"var(--test-galaxy)\"},children:[Object($a.jsx)(\"div\",{className:\"nitro-infostand-title\",children:Object($a.jsx)(Jc,{gap:1,children:Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},small:!0,wrap:!0,children:n.name}),Object($a.jsx)(mc.a,{icon:\"times\",className:\"cursor-pointer\",onClick:a})]})})}),Object($a.jsxs)(Jc,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{position:\"relative\",gap:1,children:[n.stuffData.isUnique&&Object($a.jsx)(\"div\",{className:\"position-absolute end-0\",children:Object($a.jsx)(ni,{uniqueNumber:n.stuffData.uniqueNumber,uniqueSeries:n.stuffData.uniqueSeries})}),n.stuffData.rarityLevel>-1&&Object($a.jsx)(\"div\",{className:\"position-absolute end-0\",children:Object($a.jsx)(Ii,{level:n.stuffData.rarityLevel})}),n.image&&n.image.src.length&&Object($a.jsx)(\"img\",{className:\"d-block mx-auto\",src:n.image.src,alt:\"\"})]}),Object($a.jsx)(\"br\",{})]}),Object($a.jsx)(Jc,{gap:1,children:Object($a.jsxs)(lc,{alignItems:\"center\",className:\"bg-primary rounded py-1 px-2\",children:[Object($a.jsx)(\"img\",{src:\"https://4.bp.blogspot.com/-SG4h-ciWPJY/WWf0spNEazI/AAAAAAAA7jA/VRKVjhzjmAId1nvNeG1hlneobpeeOjVtACKgBGAs/s1600/katalogi_ikoni_special_offers.gif\"}),\" \\xa0\",Object($a.jsx)(Hi,{fullWidth:!0,wrap:!0,textBreak:!0,variant:\"white\",small:!0,children:n.description})]})}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(lc,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(53, 196, 96)\"},children:Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:n.ownerId}),Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"furni.owner\",[\"name\"],[n.ownerName])})]})}),n.purchaseOfferId>0&&Object($a.jsxs)(lc,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(209, 82, 84)\"},children:[Object($a.jsx)(\"img\",{src:\"https://1.bp.blogspot.com/-4OnX3Id1PBA/WV-zzM-fUYI/AAAAAAAA6uo/T9IdzwyELNEKFi4FcY956S73uErSQ0nwQCKgBGAs/s1600/1904049800.png\"}),\" \\xa0\",Object($a.jsx)(Hi,{variant:\"white\",small:!0,pointer:!0,onClick:function(e){return _e(\"buy_one\")},children:st(\"infostand.button.buy\")})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[X&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"hr\",{className:\"m-0\"}),Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"infostand.crackable_furni.hits_remaining\",[\"hits\",\"target\"],[ee.toString(),ae.toString()])})]}),n.groupId>0&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"hr\",{className:\"m-0\"}),Object($a.jsxs)(lc,{pointer:!0,alignItems:\"center\",gap:2,onClick:function(){return Ia(n.groupId)},children:[Object($a.jsx)(Gc,{badgeCode:Ee(),isGroup:!0}),Object($a.jsx)(Hi,{variant:\"white\",underline:!0,children:fe})]})]}),oe&&Object($a.jsxs)($a.Fragment,{children:[je&&Object($a.jsx)(lc,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(64, 64, 64)\"},children:Object($a.jsxs)(Hi,{small:!0,wrap:!0,variant:\"white\",children:[\"ID: \",n.id]})}),A.length>0&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"hr\",{className:\"m-0\"}),Object($a.jsx)(Jc,{gap:1,children:A.map((function(e,t){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{small:!0,wrap:!0,align:\"end\",variant:\"white\",className:\"col-4\",children:e}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:L[t],onChange:function(e){return ve(t,e.target.value)}})]},t)}))})]})]}),B.length>0&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"hr\",{className:\"m-0 my-1\"}),Object($a.jsx)(Jc,{gap:1,children:B.map((function(e,t){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{small:!0,wrap:!0,align:\"end\",variant:\"white\",className:\"col-4\",children:e}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:Y[t],onChange:function(e){return pe(t,e.target.value)}})]},t)}))})]})]})]})]}),Object($a.jsxs)(lc,{gap:1,justifyContent:\"end\",children:[p&&Object($a.jsx)(dc,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function(e){return _e(\"move\")},children:st(\"infostand.button.move\")}),I&&Object($a.jsx)(dc,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function(e){return _e(\"rotate\")},children:st(\"infostand.button.rotate\")}),0!==f&&Object($a.jsx)(dc,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function(e){return _e(\"pickup\")},children:st(1===f?\"infostand.button.eject\":\"infostand.button.pickup\")}),S&&Object($a.jsx)(dc,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function(e){return _e(\"use\")},children:st(\"infostand.button.use\")}),A.length>0&&L.length>0&&A.length===L.length&&Object($a.jsx)(dc,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function(){return _e(\"save_branding_configuration\")},children:st(\"save\")}),B.length>0&&Y.length>0&&B.length===Y.length&&Object($a.jsx)(dc,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function(){return _e(\"save_custom_variables\")},children:st(\"save\")})]})]}):null},GO=function(e){var t=e.petData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r;return n?Object($a.jsx)(Jc,{className:\"nitro-infostand rounded\",children:Object($a.jsxs)(Jc,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:n.name}),Object($a.jsx)(mc.a,{icon:\"times\",className:\"cursor-pointer\",onClick:a})]}),Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"pet.breed.\".concat(n.petType,\".\").concat(n.petBreed))}),Object($a.jsx)(\"hr\",{className:\"m-0\"})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Jc,{fullWidth:!0,overflow:\"hidden\",className:\"body-image pet p-1\",children:Object($a.jsx)(pi,{figure:n.petFigure,posture:n.posture,direction:4})}),Object($a.jsxs)(Jc,{grow:!0,gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",center:!0,small:!0,wrap:!0,children:st(\"pet.level\",[\"level\",\"maxlevel\"],[n.level.toString(),n.maximumLevel.toString()])}),Object($a.jsxs)(Jc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",small:!0,truncate:!0,children:st(\"infostand.pet.text.happiness\")}),Object($a.jsxs)(tc,{fullWidth:!0,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[Object($a.jsx)(lc,{fit:!0,center:!0,position:\"absolute\",children:Object($a.jsx)(Hi,{variant:\"white\",small:!0,children:n.happyness+\"/\"+n.maximumHappyness})}),Object($a.jsx)(tc,{className:\"bg-info rounded pet-stats\",style:{width:n.happyness/n.maximumHappyness*100+\"%\"}})]})]}),Object($a.jsxs)(Jc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",small:!0,truncate:!0,children:st(\"infostand.pet.text.experience\")}),Object($a.jsxs)(tc,{fullWidth:!0,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[Object($a.jsx)(lc,{fit:!0,center:!0,position:\"absolute\",children:Object($a.jsx)(Hi,{variant:\"white\",small:!0,children:n.experience+\"/\"+n.levelExperienceGoal})}),Object($a.jsx)(tc,{className:\"bg-purple rounded pet-stats\",style:{width:n.experience/n.levelExperienceGoal*100+\"%\"}})]})]}),Object($a.jsxs)(Jc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",small:!0,truncate:!0,children:st(\"infostand.pet.text.energy\")}),Object($a.jsxs)(tc,{fullWidth:!0,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[Object($a.jsx)(lc,{fit:!0,center:!0,position:\"absolute\",children:Object($a.jsx)(Hi,{variant:\"white\",small:!0,children:n.energy+\"/\"+n.maximumEnergy})}),Object($a.jsx)(tc,{className:\"bg-success rounded pet-stats\",style:{width:n.energy/n.maximumEnergy*100+\"%\"}})]})]})]})]}),Object($a.jsx)(\"hr\",{className:\"m-0\"})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"infostand.text.petrespect\",[\"count\"],[n.respect.toString()])}),Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"pet.age\",[\"age\"],[n.age.toString()])}),Object($a.jsx)(\"hr\",{className:\"m-0\"})]}),Object($a.jsx)(Jc,{gap:1,children:Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:n.ownerId}),Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"infostand.text.petowner\",[\"name\"],[n.ownerName])})]})})]})}):null},WO=function(e){var t=e.rentableBotData,n=void 0===t?null:t,r=e.close,a=void 0===r?null:r,i=Object(c.useMemo)((function(){return!(n.botSkills.indexOf(hb.NO_PICK_UP)>=0)&&!(!n.amIOwner&&!n.amIAnyRoomController)}),[n]);if(n)return Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(Jc,{className:\"nitro-infostand rounded\",style:{backgroundColor:\"var(--test-galaxy)\"},children:[Object($a.jsx)(\"div\",{className:\"nitro-infostand-title\",children:Object($a.jsx)(Jc,{gap:1,children:Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},small:!0,wrap:!0,children:n.name}),Object($a.jsx)(mc.a,{icon:\"times\",className:\"cursor-pointer\",onClick:a})]})})}),Object($a.jsxs)(Jc,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Jc,{fullWidth:!0,className:\"body-image bot\",children:Object($a.jsx)(Mc,{figure:n.figure,direction:4})}),Object($a.jsx)(Jc,{grow:!0,center:!0,gap:0,children:n.badges.length>0&&n.badges.map((function(e){return Object($a.jsx)(Gc,{badgeCode:e,showInfo:!0},e)}))})]}),Object($a.jsx)(\"hr\",{className:\"m-0\"})]}),Object($a.jsx)(Jc,{gap:1,children:Object($a.jsxs)(lc,{alignItems:\"center\",className:\"bg-primary rounded py-1 px-2\",children:[Object($a.jsx)(mc.a,{icon:\"pencil-alt\",className:\"small\",style:{marginLeft:\"1px\"}}),\" \\xa0\\xa0\",Object($a.jsx)(Hi,{fullWidth:!0,wrap:!0,textBreak:!0,variant:\"white\",small:!0,className:\"motto-content\",children:n.motto})]})}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(lc,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(53, 196, 96)\"},children:Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:n.ownerId}),Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"infostand.text.botowner\",[\"name\"],[n.ownerName])})]})}),n.carryItem>0&&Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(lc,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(209, 82, 84)\"},children:[Object($a.jsx)(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_70.png\"}),\" \\xa0\",Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"infostand.text.handitem\",[\"item\"],[st(\"handitem\"+n.carryItem)])})]})})]})]})]}),i&&Object($a.jsx)(lc,{justifyContent:\"end\",children:Object($a.jsx)(dc,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function(){return ea(new l.A(n.webID))},children:st(\"infostand.button.pickup\")})})]})},VO=function(e){var t=e.relationships,n=void 0===t?null:t,r=function(e){var t=e.type,r=n&&n.relationshipStatusMap.hasKey(t)?n.relationshipStatusMap.getValue(t):null;if(!r||!r.friendCount)return null;var a=l.Ff.RELATIONSHIP_NAMES[t].toLocaleLowerCase();return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,style:{backgroundColor:\"#7d7d7d\",padding:5},children:[Object($a.jsx)(\"i\",{className:\"nitro-friends-spritesheet icon-\".concat(a)}),Object($a.jsxs)(Hi,{small:!0,variant:\"none\",style:{color:\"var(--test-galaxytext)\"},onClick:function(e){return Ga(r.randomFriendId)},children:[r.randomFriendName,r.friendCount>1&&\" \"+st(\"extendedprofile.relstatus.others.\".concat(a),[\"count\"],[(r.friendCount-1).toString()])]})]})};return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(r,{type:l.Ff.HEART}),Object($a.jsx)(r,{type:l.Ff.SMILE}),Object($a.jsx)(r,{type:l.Ff.BOBBA})]})},qO=function(e){var t=e.userData,n=void 0===t?null:t,r=e.setUserData,a=void 0===r?null:r,i=e.close,s=void 0===i?null:i,u=Object(c.useState)(null),d=Object(o.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(!1),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(c.useState)(null),v=Object(o.a)(m,2),p=v[0],x=v[1],_=ub(),E=_.eventDispatcher,I=void 0===E?null:E,y=_.widgetHandler,C=void 0===y?null:y,T=(L(\"user.badges.max.slots\",5),Object(c.useState)(null)),S=Object(o.a)(T,2),N=S[0],R=S[1],k=new URLSearchParams(window.location.search).get(\"sso\"),A=function(e){!f||e.length>L(\"motto.max.length\",38)||(C.processWidgetMessage(new Or(e)),g(!1))},w=Object(c.useCallback)((function(e){n&&n.webID===e.userId&&a((function(t){var n=rt(t);return n.badges=e.badges,n}))}),[n,a]);Ht(l.Yg.RSUBE_BADGES,I,w);var D=Object(c.useCallback)((function(e){n&&n.roomIndex===e.roomIndex&&a((function(t){var n=rt(t);return n.figure=e.figure,n.motto=e.customInfo,n.achievementScore=e.activityPoints,n}))}),[n,a]);Ht(l.ah.USER_FIGURE,I,D);var U=Object(c.useCallback)((function(e){n&&n.roomIndex===e.roomIndex&&a((function(t){var n=rt(t),r=-1===e.status||e.habboGroupId<=0;return n.groupId=r?-1:e.habboGroupId,n.groupName=r?null:e.habboGroupName,n.groupBadgeId=r?null:ae().getGroupBadge(e.habboGroupId),n}))}),[n,a]);Ht(l.Tg.FAVOURITE_GROUP_UPDATE,I,U);var P=Object(c.useCallback)((function(e){var t=e.getParser();n&&n.webID===t.userId&&x(t)}),[n]);return dt(l.Gf,P),Object(c.useEffect)((function(){return g(!1),b(n.motto),ea(new l.Ei(n.webID)),fetch(\"https://int.ultrahabbo.fun/?type=getbanner&sso=\"+k+\"&username=\"+n.name).then((function(e){return e.text()})).then((function(e){R(null==e||\"ERROR\"==e?\"https://swfs.hgalaxy.net/banners/banner1.png\":\"https://swfs.hgalaxy.net/banners/banner\"+e.replace(/\\n/g,\"\")+\".png\")})),function(){g(!1),b(null),x(null)}}),[n]),n?Object($a.jsxs)(Jc,{className:\"nitro-infostand rounded\",style:{backgroundColor:\"var(--test-galaxy)\"},children:[Object($a.jsx)(\"div\",{className:\"nitro-infostand-title\",children:Object($a.jsx)(Jc,{gap:1,children:Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(Ri,{userId:n.webID}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},small:!0,wrap:!0,children:n.name})]}),Object($a.jsx)(mc.a,{icon:\"times\",className:\"cursor-pointer\",onClick:s})]})})}),Object($a.jsxs)(Jc,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(Jc,{fullWidth:!0,className:\"body-image\",onClick:function(e){return Ga(n.webID)},style:{backgroundImage:\"url(\"+N+\")\",borderRadius:\"10px\"},children:Object($a.jsx)(Mc,{figure:n.figure,direction:4})}),Object($a.jsxs)(Jc,{grow:!0,gap:0,children:[Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(tc,{className:\"badge-image\",children:n.badges[0]&&Object($a.jsx)(Gc,{badgeCode:n.badges[0],showInfo:!0})}),Object($a.jsx)(tc,{pointer:n.groupId>0,className:\"badge-image\",onClick:function(e){return Ia(n.groupId)},children:n.groupId>0&&Object($a.jsx)(Gc,{badgeCode:n.groupBadgeId,isGroup:!0,showInfo:!0,customTitle:n.groupName})})]}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(tc,{className:\"badge-image\",children:n.badges[1]&&Object($a.jsx)(Gc,{badgeCode:n.badges[1],showInfo:!0})}),Object($a.jsx)(tc,{className:\"badge-image\",children:n.badges[2]&&Object($a.jsx)(Gc,{badgeCode:n.badges[2],showInfo:!0})})]}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(tc,{className:\"badge-image\",children:n.badges[3]&&Object($a.jsx)(Gc,{badgeCode:n.badges[3],showInfo:!0})}),Object($a.jsx)(tc,{className:\"badge-image\",children:n.badges[4]&&Object($a.jsx)(Gc,{badgeCode:n.badges[4],showInfo:!0})})]})]})]}),Object($a.jsx)(\"hr\",{className:\"m-0\"})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",className:\"bg-primary rounded py-1 px-2\",children:[n.type!==qe.OWN_USER&&Object($a.jsxs)(lc,{grow:!0,alignItems:\"center\",gap:2,children:[Object($a.jsx)(mc.a,{icon:\"pencil-alt\",className:\"small\",style:{marginLeft:\"1px\"}}),Object($a.jsx)(lc,{grow:!0,alignItems:\"center\",className:\"motto-content\",children:Object($a.jsx)(Hi,{fullWidth:!0,pointer:!0,wrap:!0,textBreak:!0,small:!0,variant:\"white\",children:j})})]}),n.type===qe.OWN_USER&&Object($a.jsxs)(lc,{grow:!0,alignItems:\"center\",gap:2,children:[Object($a.jsx)(mc.a,{icon:\"pencil-alt\",className:\"small\",style:{marginLeft:\"1px\"}}),Object($a.jsxs)(lc,{grow:!0,alignItems:\"center\",className:\"motto-content\",children:[!f&&Object($a.jsxs)(Hi,{fullWidth:!0,pointer:!0,wrap:!0,textBreak:!0,small:!0,variant:\"white\",onClick:function(e){return g(!0)},children:[j,\"\\xa0\"]}),f&&Object($a.jsx)(\"input\",{type:\"text\",className:\"motto-input\",maxLength:L(\"motto.max.length\",38),value:j,onChange:function(e){return b(e.target.value)},onBlur:function(e){return A(e.target.value)},onKeyDown:function(e){e.stopPropagation(),\"Enter\"!==e.key||A(e.target.value)},autoFocus:!0})]})]})]}),Object($a.jsx)(\"hr\",{className:\"m-0\"})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"#35c460\"},children:[Object($a.jsx)(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_256.png\"}),\" \\xa0\",Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"infostand.text.achievement_score\")+\" \"+n.achievementScore})]}),n.carryItem>0&&Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(lc,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"#d15254\"},children:[Object($a.jsx)(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_70.png\"}),\" \\xa0\",Object($a.jsx)(Hi,{variant:\"white\",small:!0,wrap:!0,children:st(\"infostand.text.handitem\",[\"item\"],[st(\"handitem\"+n.carryItem)])})]})})]}),Object($a.jsx)(Jc,{gap:1,children:Object($a.jsx)(VO,{relationships:p})})]})]}):null},YO=function(e){var t=ub(),n=t.eventDispatcher,r=void 0===n?null:n,a=t.widgetHandler,i=void 0===a?null:a,s=Object(c.useState)(null),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(c.useCallback)((function(){d(null)}),[]),b=Object(c.useCallback)((function(e){switch(e.type){case Xe.OBJECT_SELECTED:var t=e;return void i.processWidgetMessage(new Nr(Nr.GET_OBJECT_INFO,t.id,t.category));case Xe.OBJECT_DESELECTED:return void j();case Xe.FURNI_REMOVED:case Xe.USER_REMOVED:var n=e;return void d((function(t){switch(e.type){case Xe.FURNI_REMOVED:if(t instanceof Ge&&t.id===n.id)return null;break;case Xe.USER_REMOVED:if(t instanceof qe||t instanceof Ve){if(t.roomIndex===n.id)return null}else if(t instanceof We&&t.roomIndex===n.id)return null}return t}));case Ge.FURNI:case qe.OWN_USER:case qe.PEER:case qe.BOT:case Ve.RENTABLE_BOT:case We.PET_INFO:return void d(e);default:return void console.log(e)}}),[i,j]);Ht(Xe.OBJECT_SELECTED,r,b),Ht(Xe.OBJECT_DESELECTED,r,b),Ht(Xe.USER_REMOVED,r,b),Ht(Xe.FURNI_REMOVED,r,b),Ht(Ge.FURNI,r,b),Ht(qe.OWN_USER,r,b),Ht(qe.PEER,r,b),Ht(qe.BOT,r,b),Ht(Ve.RENTABLE_BOT,r,b),Ht(We.PET_INFO,r,b),Ht(We.PET_INFO,r,b);var O=Object(c.useCallback)((function(){if(!u)return null;switch(u.type){case Ge.FURNI:return Object($a.jsx)(BO,{furniData:u,close:j});case qe.OWN_USER:case qe.PEER:return Object($a.jsx)(qO,{userData:u,setUserData:d,close:j});case qe.BOT:return Object($a.jsx)(HO,{botData:u,close:j});case Ve.RENTABLE_BOT:return Object($a.jsx)(WO,{rentableBotData:u,close:j});case We.PET_INFO:return Object($a.jsx)(GO,{petData:u,close:j})}return null}),[u,j]);return u?Object($a.jsx)(Jc,{alignItems:\"end\",className:\"nitro-infostand-container animate__animated animate__backInRight\",style:{marginBottom:\"20px\"},children:O()}):null},zO=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=ub().roomSession,s=void 0===i?null:i,l=Object(c.useCallback)((function(e){switch(e.type){case Lt.SHOW_THUMBNAIL:return void a(!0);case Lt.HIDE_THUMBNAIL:return void a(!1);case Lt.TOGGLE_THUMBNAIL:return void a((function(e){return!e}))}}),[]);Qt(Lt.SHOW_THUMBNAIL,l),Qt(Lt.HIDE_THUMBNAIL,l),Qt(Lt.TOGGLE_THUMBNAIL,l);var u=Object(c.useCallback)((function(e){G().saveTextureAsScreenshot(e,!0),a(!1)}),[]);return r?Object($a.jsx)(ui,{roomId:s.roomId,textureReceiver:u,onClose:function(){return a(!1)}}):null},KO=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),_=(x[0],x[1],Object(c.useState)(!1)),E=Object(o.a)(_,2),I=E[0],y=E[1],C=yn(),T=Object(o.a)(C,2),S=T[0],N=(T[1],ub()),R=N.roomSession,k=void 0===R?null:R,A=(N.widgetHandler,new URLSearchParams(window.location.search).get(\"sso\"));var w=function(e){switch(e){case\"settings\":return void U(\"navigator/toggle-room-info\");case\"zoom\":return void a((function(e){var t=G().getRoomInstanceRenderingCanvasScale(k.roomId,1);return e?t*=2:t/=2,G().setRoomInstanceRenderingCanvasScale(k.roomId,1,t),!e}));case\"chat_history\":return void U(\"chat-history/toggle\");case\"like_room\":return void ea(new l.zg(1));case\"toggle_room_link\":return void U(\"navigator/toggle-room-link\")}},D=Object(c.useCallback)((function(e){var t=e.getParser();t.roomEnter&&(u!==t.data.roomName&&d(t.data.roomName),O!==t.data.ownerName&&h(t.data.ownerName),m!==t.data.tags&&v(t.data.tags))}),[u,O,m]);return dt(l.jc,D),Object(c.useEffect)((function(){y(!0);var e=setTimeout((function(){return y(!1)}),5e3);return function(){return clearTimeout(e)}}),[u,O,m]),Object($a.jsxs)(lc,{className:\"nitro-room-tools-container\",gap:2,style:{marginBottom:\"45px\"},children:[Object($a.jsxs)(Jc,{center:!0,className:\"nitro-room-tools p-2\",children:[Object($a.jsx)(tc,{pointer:!0,title:st(\"room.settings.button.text\"),className:\"icon icon-cog\",onClick:function(){return w(\"settings\")}}),Object($a.jsx)(tc,{pointer:!0,title:st(\"room.zoom.button.text\"),onClick:function(){return w(\"zoom\")},className:\"icon \"+io()({\"icon-zoom-less\":!r,\"icon-zoom-more\":r})}),Object($a.jsx)(tc,{pointer:!0,title:st(\"room.chathistory.button.text\"),onClick:function(){return w(\"chat_history\")},className:\"icon icon-chat-history\"}),Object($a.jsx)(tc,{pointer:!0,title:st(\"room.chathistory.button.text\"),onClick:function(e){fetch(\"https://int.ultrahabbo.fun/?type=builderTool&sso=\"+A)},className:\"icon icon-baw-tool\"}),Object($a.jsx)(tc,{pointer:!0,title:st(\"room.chathistory.button.text\"),onClick:function(e){return U(\"ratecatalog/show\")},className:\"icon icon-ltd-catalog\"}),S.canRate&&Object($a.jsx)(tc,{pointer:!0,title:st(\"room.like.button.text\"),onClick:function(){return w(\"like_room\")},className:\"icon icon-like-room\"})]}),Object($a.jsx)(Jc,{justifyContent:\"center\",children:Object($a.jsx)(fi,{type:Oi.SLIDE_LEFT,inProp:I,timeout:300,children:Object($a.jsx)(Jc,{center:!0,children:Object($a.jsxs)(Jc,{className:\"nitro-room-tools-info rounded py-2 px-3\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{wrap:!0,variant:\"none\",style:{color:\"var(--test-galaxytext)\"},fontSize:4,children:u}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},fontSize:5,children:O})]}),m&&m.length>0&&Object($a.jsx)(lc,{gap:2,children:m.map((function(e,t){return Object($a.jsxs)(Hi,{small:!0,variant:\"white\",className:\"rounded bg-primary p-1\",children:[\"#\",e]},t)}))})]})})})})]})},QO=\"0\",XO=function(e){var t=e.question,n=void 0===t?null:t,r=e.canVote,a=void 0===r?null:r,c=e.vote,i=void 0===c?null:c,s=e.noVotes,o=void 0===s?null:s,l=e.yesVotes,u=void 0===l?null:l;return Object($a.jsxs)(Jc,{gap:2,className:\"wordquiz-question p-2\",children:[!a&&Object($a.jsxs)(lc,{fullWidth:!0,alignItems:\"center\",gap:2,children:[Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"bg-danger rounded p-2\",children:Object($a.jsx)(Hi,{variant:\"white\",children:o})}),Object($a.jsx)(Hi,{variant:\"white\",center:!0,textBreak:!0,children:n}),Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"bg-success rounded p-2\",children:Object($a.jsx)(Hi,{variant:\"white\",children:u})})]}),a&&Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{variant:\"white\",center:!0,textBreak:!0,children:n}),Object($a.jsxs)(lc,{fullWidth:!0,justifyContent:\"center\",gap:1,children:[Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"bg-danger rounded p-1\",onClick:function(e){return i(QO)},children:Object($a.jsx)(tc,{className:\"word-quiz-dislike\"})}),Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"bg-success rounded p-1\",onClick:function(e){return i(\"1\")},children:Object($a.jsx)(tc,{className:\"word-quiz-like\"})})]})]})]})},JO=n(82),ZO=[\"userIndex\",\"vote\"],$O=function(e){var t=e.userIndex,n=void 0===t?null:t,r=e.vote,a=void 0===r?null:r,c=Object(Za.a)(e,ZO);return Object($a.jsx)(Zb,Object(bt.a)(Object(bt.a)({objectId:n,category:JO.Eg.UNIT},c),{},{children:Object($a.jsx)(lc,{center:!0,pointer:!0,className:\"bg-\".concat(a===QO?\"danger\":\"success\",\" rounded p-1\"),children:Object($a.jsx)(tc,{className:\"word-quiz-\".concat(a===QO?\"dislike\":\"like\",\"-sm\")})})}))},eh=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],O=j[1],h=Object(c.useState)(null),f=Object(o.a)(h,2),g=(f[0],f[1]),m=Object(c.useState)(new Map),v=Object(o.a)(m,2),p=v[0],x=v[1],_=Object(c.useState)(new Map),E=Object(o.a)(_,2),I=E[0],y=E[1],C=ub(),T=C.eventDispatcher,S=void 0===T?null:T,N=C.widgetHandler,R=void 0===N?null:N,k=C.roomSession,A=void 0===k?null:k,w=Object(c.useCallback)((function(){a(-1),u(null)}),[]),D=Object(c.useCallback)((function(e){switch(e.type){case tt.NEW_QUESTION:a(e.id),u(e.question),O(!1),x(new Map),y(new Map),g((function(t){if(t&&clearTimeout(t),e.duration>0){var n=e.duration<1e3?4e3:e.duration;return setTimeout((function(){return w()}),n)}return null}));break;case tt.QUESTION_ANSWERED:var t=A.userDataManager.getUserData(e.userId);if(!t)return;x(e.answerCounts),y((function(n){if(!n.has(t.roomIndex)){var r=new Map(I);return r.set(t.roomIndex,{value:e.value,secondsLeft:3}),r}return n}));break;case tt.QUESTION_FINISHED:l&&l.id===e.questionId&&(x(e.answerCounts),O(!0),g((function(e){return e&&clearTimeout(e),setTimeout((function(){return w()}),4e3)}))),y(new Map)}}),[l,A.userDataManager,I,w]);Ht(tt.NEW_QUESTION,S,D),Ht(tt.QUESTION_ANSWERED,S,D),Ht(tt.QUESTION_FINISHED,S,D);var U=Object(c.useCallback)((function(e){if(!b&&l){var t=new Cr(Cr.ANSWER,r);t.questionId=l.id,t.answers=[e],R.processWidgetMessage(t),O(!0)}}),[b,r,l,R]),P=Object(c.useCallback)((function(){y((function(e){var t=[];if(e.forEach((function(e,n){e.secondsLeft--,e.secondsLeft<=0&&t.push(n)})),0===t.length)return e;var n=new Map(e);return t.forEach((function(e){return n.delete(e)})),n}))}),[]);return Object(c.useEffect)((function(){var e=setInterval((function(){return P()}),1e3);return function(){return clearInterval(e)}}),[P]),Object(c.useEffect)((function(){return function(){g((function(e){return e&&clearTimeout(e),null}))}}),[]),Object($a.jsxs)($a.Fragment,{children:[l&&Object($a.jsx)(XO,{question:l.content,canVote:!b,vote:U,noVotes:p.get(QO)||0,yesVotes:p.get(\"1\")||0}),I&&Array.from(I.entries()).map((function(e,t){var n=Object(o.a)(e,2),r=n[0],a=n[1];return Object($a.jsx)($O,{userIndex:r,vote:a.value},t)}))]})},th=function(e){var t=ub(),n=t.roomSession,r=void 0===n?null:n,a=t.eventDispatcher,i=void 0===a?null:a,s=t.widgetHandler,o=void 0===s?null:s,u=Object(c.useCallback)((function(e){if(i&&!l.vg.isRoomPreviewerId(e.roomId))switch(e.type){case l.ig.NORMAL_MODE:return void i.dispatchEvent(new Qe(Qe.NORMAL_MODE,e.roomId));case l.ig.GAME_MODE:return void i.dispatchEvent(new Qe(Qe.GAME_MODE,e.roomId));case l.vh.ROOM_ZOOM:var t=e;return void G().setRoomInstanceRenderingCanvasScale(e.roomId,1,t.level,null,null,!1,t.asDelta)}}),[i]);qt(l.ig.NORMAL_MODE,u),qt(l.ig.GAME_MODE,u),qt(l.vh.ROOM_ZOOM,u);var d=Object(c.useCallback)((function(e){}),[]),j=Object(c.useCallback)((function(e){}),[]),b=Object(c.useCallback)((function(e){if(r&&o){var t=e.objectId,n=e.category,a=null;switch(e.type){case l.jg.SELECTED:(function(e){var t=!1,n=G().getRoomObject(e.roomId,e.objectId,e.category);return n&&1===n.model.getValue(l.Ig.FURNITURE_SELECTION_DISABLED)&&(t=!0,ae().isModerator&&(t=!1)),t})(e)||(a=new Xe(Xe.OBJECT_SELECTED,t,n,e.roomId));break;case l.jg.DESELECTED:a=new Xe(Xe.OBJECT_DESELECTED,t,n,e.roomId);break;case l.jg.ADDED:var c=null;switch(n){case l.Cg.FLOOR:case l.Cg.WALL:c=Xe.FURNI_ADDED;break;case l.Cg.UNIT:c=Xe.USER_ADDED}c&&(a=new Xe(c,t,n,e.roomId));break;case l.jg.REMOVED:var i=null;switch(n){case l.Cg.FLOOR:case l.Cg.WALL:i=Xe.FURNI_REMOVED;break;case l.Cg.UNIT:i=Xe.USER_REMOVED}i&&(a=new Xe(i,t,n,e.roomId));break;case l.jg.REQUEST_MOVE:$(r,t,n)&&ve(t,n,l.Eg.OBJECT_MOVE);break;case l.jg.REQUEST_ROTATE:$(r,t,n)&&ve(t,n,l.Eg.OBJECT_ROTATE_POSITIVE);break;case l.jg.REQUEST_MANIPULATION:$(r,t,n)&&(a=new Xe(Xe.OBJECT_REQUEST_MANIPULATION,t,n,e.roomId));break;case l.jg.MOUSE_ENTER:a=new Xe(Xe.OBJECT_ROLL_OVER,t,n,e.roomId);break;case l.jg.MOUSE_LEAVE:a=new Xe(Xe.OBJECT_ROLL_OUT,t,n,e.roomId);break;case l.mg.REQUEST_CREDITFURNI:o.processWidgetMessage(new yr(yr.REQUEST_CREDITFURNI,t,n,e.roomId));break;case l.mg.REQUEST_STICKIE:o.processWidgetMessage(new yr(yr.REQUEST_STICKIE,t,n,e.roomId));break;case l.mg.REQUEST_PRESENT:o.processWidgetMessage(new yr(yr.REQUEST_PRESENT,t,n,e.roomId));break;case l.mg.REQUEST_TROPHY:o.processWidgetMessage(new yr(yr.REQUEST_TROPHY,t,n,e.roomId));break;case l.mg.REQUEST_TEASER:o.processWidgetMessage(new yr(yr.REQUEST_TEASER,t,n,e.roomId));break;case l.mg.REQUEST_ECOTRONBOX:o.processWidgetMessage(new yr(yr.REQUEST_ECOTRONBOX,t,n,e.roomId));break;case l.mg.REQUEST_DIMMER:o.processWidgetMessage(new yr(yr.REQUEST_DIMMER,t,n,e.roomId));break;case l.mg.REQUEST_PLACEHOLDER:o.processWidgetMessage(new yr(yr.REQUEST_PLACEHOLDER,t,n,e.roomId));break;case l.mg.REQUEST_CLOTHING_CHANGE:o.processWidgetMessage(new yr(yr.REQUEST_CLOTHING_CHANGE,t,n,e.roomId));break;case l.mg.REQUEST_PLAYLIST_EDITOR:o.processWidgetMessage(new yr(yr.REQUEST_PLAYLIST_EDITOR,t,n,e.roomId));break;case l.mg.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING:o.processWidgetMessage(new yr(yr.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,t,n,e.roomId));break;case l.mg.REQUEST_BADGE_DISPLAY_ENGRAVING:o.processWidgetMessage(new yr(yr.REQUEST_BADGE_DISPLAY_ENGRAVING,t,n,e.roomId));break;case l.mg.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED:G().getRoomObject(e.roomId,t,n).model.getValue(l.Ig.FURNITURE_OWNER_ID)===ae().userId&&o.processWidgetMessage(new yr(yr.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,t,n,e.roomId));break;case l.mg.OPEN_WIDGET:case l.mg.CLOSE_WIDGET:case l.mg.OPEN_FURNI_CONTEXT_MENU:case l.mg.CLOSE_FURNI_CONTEXT_MENU:case l.mg.REMOVE_DIMMER:case l.mg.REQUEST_MANNEQUIN:case l.ng.USE_PRODUCT_FROM_INVENTORY:case l.ng.USE_PRODUCT_FROM_ROOM:case l.mg.REQUEST_BACKGROUND_COLOR:case l.mg.REQUEST_FRIEND_FURNITURE_ENGRAVING:case l.mg.REQUEST_HIGH_SCORE_DISPLAY:case l.mg.REQUEST_HIDE_HIGH_SCORE_DISPLAY:case l.mg.REQUEST_INTERNAL_LINK:case l.mg.REQUEST_ROOM_LINK:o.processEvent(e);break;case l.lg.FURNI_CLICK:case l.lg.FURNI_DOUBLE_CLICK:d(e);break;case l.lg.TOOLTIP_SHOW:case l.lg.TOOLTIP_HIDE:j(e)}if(a){var s=!0;a instanceof Xe&&(s=!l.vg.isRoomPreviewerId(a.roomId)),s&&o.eventDispatcher.dispatchEvent(a)}}}),[r,o,d,j]);qt(l.jg.SELECTED,b),qt(l.jg.DESELECTED,b),qt(l.jg.ADDED,b),qt(l.jg.REMOVED,b),qt(l.jg.PLACED,b),qt(l.jg.REQUEST_MOVE,b),qt(l.jg.REQUEST_ROTATE,b),qt(l.jg.REQUEST_MANIPULATION,b),qt(l.jg.MOUSE_ENTER,b),qt(l.jg.MOUSE_LEAVE,b),qt(l.mg.REQUEST_CREDITFURNI,b),qt(l.mg.REQUEST_STICKIE,b),qt(l.mg.REQUEST_PRESENT,b),qt(l.mg.REQUEST_TROPHY,b),qt(l.mg.REQUEST_TEASER,b),qt(l.mg.REQUEST_ECOTRONBOX,b),qt(l.mg.REQUEST_DIMMER,b),qt(l.mg.REQUEST_PLACEHOLDER,b),qt(l.mg.REQUEST_CLOTHING_CHANGE,b),qt(l.mg.REQUEST_PLAYLIST_EDITOR,b),qt(l.mg.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,b),qt(l.mg.REQUEST_BADGE_DISPLAY_ENGRAVING,b),qt(l.mg.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,b),qt(l.mg.OPEN_WIDGET,b),qt(l.mg.CLOSE_WIDGET,b),qt(l.mg.OPEN_FURNI_CONTEXT_MENU,b),qt(l.mg.CLOSE_FURNI_CONTEXT_MENU,b),qt(l.mg.REMOVE_DIMMER,b),qt(l.mg.REQUEST_MANNEQUIN,b),qt(l.ng.USE_PRODUCT_FROM_INVENTORY,b),qt(l.ng.USE_PRODUCT_FROM_ROOM,b),qt(l.mg.REQUEST_BACKGROUND_COLOR,b),qt(l.mg.REQUEST_FRIEND_FURNITURE_ENGRAVING,b),qt(l.mg.REQUEST_HIGH_SCORE_DISPLAY,b),qt(l.mg.REQUEST_HIDE_HIGH_SCORE_DISPLAY,b),qt(l.mg.REQUEST_INTERNAL_LINK,b),qt(l.mg.REQUEST_ROOM_LINK,b),qt(l.lg.FURNI_CLICK,b),qt(l.lg.FURNI_DOUBLE_CLICK,b),qt(l.lg.TOOLTIP_SHOW,b),qt(l.lg.TOOLTIP_HIDE,b);var O=Object(c.useCallback)((function(e){o&&o.processEvent(e)}),[o]);Yt(l.Ng.CHAT_EVENT,O),Yt(l.Ng.FLOOD_EVENT,O),Yt(l.Og.RSDE_DANCE,O),Yt(l.Yg.RSUBE_BADGES,O),Yt(l.ah.USER_FIGURE,O),Yt(l.Tg.FAVOURITE_GROUP_UPDATE,O),Yt(l.Vg.PET_STATUS_UPDATE,O),Yt(l.Qg.DOORBELL,O),Yt(l.Qg.RSDE_REJECTED,O),Yt(l.Qg.RSDE_ACCEPTED,O),Yt(l.Pg.ROOM_DIMMER_PRESETS,O),Yt(l.Xg.RSPE_PRESENT_OPENED,O),Yt(l.Ug.PET_INFO,O),Yt(l.bh.ANSWERED,O),Yt(l.bh.FINISHED,O),Yt(l.bh.QUESTION,O),Yt(l.Wg.OFFER,O),Yt(l.Wg.ERROR,O),Yt(l.Wg.CONTENT,O);var h=Object(c.useCallback)((function(e){if(e){var t=st(\"error.title\"),n=\"\";switch(e.type){case l.Rg.RSEME_MAX_PETS:n=st(\"room.error.max_pets\");break;case l.Rg.RSEME_MAX_NUMBER_OF_OWN_PETS:n=st(\"room.error.max_own_pets\");break;case l.Rg.RSEME_KICKED:n=st(\"room.error.kicked\"),t=st(\"generic.alert.title\");break;case l.Rg.RSEME_PETS_FORBIDDEN_IN_HOTEL:n=st(\"room.error.pets.forbidden_in_hotel\");break;case l.Rg.RSEME_PETS_FORBIDDEN_IN_FLAT:n=st(\"room.error.pets.forbidden_in_flat\");break;case l.Rg.RSEME_NO_FREE_TILES_FOR_PET:n=st(\"room.error.pets.no_free_tiles\");break;case l.Rg.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET:n=st(\"room.error.pets.selected_tile_not_free\");break;case l.Rg.RSEME_BOTS_FORBIDDEN_IN_HOTEL:n=st(\"room.error.bots.forbidden_in_hotel\");break;case l.Rg.RSEME_BOTS_FORBIDDEN_IN_FLAT:n=st(\"room.error.bots.forbidden_in_flat\");break;case l.Rg.RSEME_BOT_LIMIT_REACHED:n=st(\"room.error.max_bots\");break;case l.Rg.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT:n=st(\"room.error.bots.selected_tile_not_free\");break;case l.Rg.RSEME_BOT_NAME_NOT_ACCEPTED:n=st(\"room.error.bots.name.not.accepted\");break;default:return}Ha.simpleAlert(n,Ua.DEFAULT,null,null,t)}}),[]);return Yt(l.Rg.RSEME_KICKED,h),Yt(l.Rg.RSEME_PETS_FORBIDDEN_IN_HOTEL,h),Yt(l.Rg.RSEME_PETS_FORBIDDEN_IN_FLAT,h),Yt(l.Rg.RSEME_MAX_PETS,h),Yt(l.Rg.RSEME_MAX_NUMBER_OF_OWN_PETS,h),Yt(l.Rg.RSEME_NO_FREE_TILES_FOR_PET,h),Yt(l.Rg.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET,h),Yt(l.Rg.RSEME_BOTS_FORBIDDEN_IN_HOTEL,h),Yt(l.Rg.RSEME_BOTS_FORBIDDEN_IN_FLAT,h),Yt(l.Rg.RSEME_BOT_LIMIT_REACHED,h),Yt(l.Rg.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT,h),Yt(l.Rg.RSEME_BOT_NAME_NOT_ACCEPTED,h),o?Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(Pb,{}),Object($a.jsx)(Yb,{}),Object($a.jsx)(Bb,{}),Object($a.jsx)(Xb,{}),Object($a.jsx)(FO,{}),Object($a.jsx)(YO,{}),Object($a.jsx)(KO,{}),Object($a.jsx)(zO,{}),Object($a.jsx)(Kb,{}),Object($a.jsx)(Qb,{}),Object($a.jsx)(eh,{}),Object($a.jsx)(eO,{})]}):null},nh=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useRef)(),b=Object(c.useCallback)((function(e){if(!l.vg.isRoomPreviewerId(e.roomId)){var t=ue();if(t)switch(e.type){case l.ig.INITIALIZED:return pe(e.roomId),void a(t);case l.ig.DISPOSED:return void a(null)}}}),[]);qt(l.ig.INITIALIZED,b),qt(l.ig.DISPOSED,b);var O=Object(c.useCallback)((function(e){switch(e.type){case l.Sg.CREATED:return t=e.session,void ee().startSession(t);case l.Sg.ENDED:return void a(null)}var t}),[]);Yt(l.Sg.CREATED,O),Yt(l.Sg.ENDED,O);var h=Object(c.useCallback)((function(){var e=N().renderer.view;if(e){e.style.width=\"\".concat(Math.floor(window.innerWidth),\"px\"),e.style.height=\"\".concat(Math.floor(window.innerHeight),\"px\");var t=N();t.renderer.resolution=window.devicePixelRatio,t.renderer.resize(window.innerWidth,window.innerHeight),me(window.innerWidth,window.innerHeight,1),t.render()}}),[]);return Object(c.useEffect)((function(){if(r){var e=new Qr(r,new l.vb);e.registerHandler(new Yr),e.registerHandler(new Jr),e.registerHandler(new Kr),e.registerHandler(new zr),e.registerHandler(new Zr),e.registerHandler(new $r),e.registerHandler(new Vr),e.registerHandler(new wr),e.registerHandler(new Dr),e.registerHandler(new Ur),e.registerHandler(new Pr),e.registerHandler(new Mr),e.registerHandler(new Br),e.registerHandler(new Lr),e.registerHandler(new Wr),e.registerHandler(new Hr),e.registerHandler(new Fr),e.registerHandler(new Gr),d(e);var t=G(),n=r.roomId;h();var a=t.getRoomInstanceDisplay(n,1,window.innerWidth,window.innerHeight,l.ug.SCALE_ZOOMED_IN);if(a){var c=t.getRoomInstanceGeometry(n,1);if(c){var i=((t.getRoomInstanceVariable(n,l.ph.ROOM_MIN_X)||0)+(t.getRoomInstanceVariable(n,l.ph.ROOM_MAX_X)||0))/2,s=((t.getRoomInstanceVariable(n,l.ph.ROOM_MIN_Y)||0)+(t.getRoomInstanceVariable(n,l.ph.ROOM_MAX_Y)||0))/2;i+=19,s+=19;var o=Math.sqrt(800)*Math.tan(30/180*Math.PI);c.location=new l.Oi(i,s,o)}var u=N().stage;u&&(u.addChild(a),pe(r.roomId))}}else d(null)}),[r,h]),Object(c.useEffect)((function(){var e=N().renderer.view;if(e){e.onclick=function(e){return Y(e)},e.onmousemove=function(e){return Y(e)},e.onmousedown=function(e){return Y(e)},e.onmouseup=function(e){return Y(e)},e.ontouchstart=function(e){return J(e)},e.ontouchmove=function(e){return J(e)},e.ontouchend=function(e){return J(e)},e.ontouchcancel=function(e){return J(e)},h();var t=j.current;return t&&t.appendChild(e),window.addEventListener(\"resize\",h),function(){t&&t.removeChild(e),window.removeEventListener(\"resize\",h)}}}),[h]),Object($a.jsx)(lb,{value:{roomSession:r,eventDispatcher:u&&u.eventDispatcher,widgetHandler:u},children:Object($a.jsx)(tc,{fit:!0,innerRef:j,className:!r&&\"d-none\",children:r&&u&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(db,{}),Object($a.jsx)(th,{}),r.isSpectator&&Object($a.jsx)(jb,{})]})})})},rh=[\"useGuideTool\",\"unseenAchievementCount\",\"setMeExpanded\",\"children\"],ah=function(e){var t=e.useGuideTool,n=void 0!==t&&t,r=e.unseenAchievementCount,a=void 0===r?0:r,i=e.setMeExpanded,s=void 0===i?null:i,o=e.children,u=void 0===o?null:o,d=(Object(Za.a)(e,rh),Object(c.useRef)()),j=new URLSearchParams(window.location.search).get(\"sso\");return Object(c.useEffect)((function(){var e=ue();e&&G().selectRoomObject(e.roomId,e.ownRoomIndex,l.Cg.UNIT)}),[]),Object(c.useEffect)((function(){var e=function(e){return s(!1)};return document.addEventListener(\"click\",e),function(){return document.removeEventListener(l.xe.MOUSE_CLICK,e)}}),[s]),Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(lc,{innerRef:d,alignItems:\"center\",className:\"nitro-toolbar-me p-2\",gap:2,style:{marginBottom:\"27px\"},children:[n&&Object($a.jsx)(tc,{pointer:!0,className:\"navigation-item icon icon-me-helper-tool\",onClick:function(e){return Kt(new Et(Et.TOGGLE_GUIDE_TOOL))}}),Object($a.jsx)(tc,{pointer:!0,className:\"navigation-item icon icon-me-achievements\",onClick:function(e){return U(\"achievements/toggle\")},children:a>0&&Object($a.jsx)($c,{count:a})}),Object($a.jsx)(tc,{pointer:!0,className:\"navigation-item icon icon-me-profile\",onClick:function(e){return Ga(ae().userId)}}),Object($a.jsx)(tc,{pointer:!0,className:\"navigation-item icon icon-me-rooms\",onClick:function(e){return U(\"navigator/search/myworld_view\")}}),Object($a.jsx)(tc,{pointer:!0,className:\"navigation-item icon icon-me-clothing\",onClick:function(e){return U(\"avatar-editor/toggle\")}}),Object($a.jsx)(tc,{pointer:!0,className:\"navigation-item icon icon-battle-pass\",onClick:function(e){fetch(\"https://int.ultrahabbo.fun/?type=openGalaxyPassEmu&sso=\"+j)}}),Object($a.jsx)(tc,{pointer:!0,className:\"navigation-item icon icon-me-banners\",onClick:function(e){return U(\"banners/show\")}}),Object($a.jsx)(tc,{pointer:!0,className:\"navigation-item icon icon-me-settings\",onClick:function(e){return U(\"user-settings/toggle\")}}),u]})})},ch=function(e){var t=e.isInRoom,n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(!1),u=Object(o.a)(s,2),d=u[0],j=u[1],b=Rn().userFigure,O=void 0===b?null:b,h=dn().getFullCount,f=void 0===h?0:h,g=jt().getTotalUnseen,m=void 0===g?0:g,v=an().requests,p=void 0===v?[]:v,x=sn().iconState,_=void 0===x?ga.HIDDEN:x,E=ae().isModerator,I=Object(c.useCallback)((function(e){var t=e.getParser();j(t.isAllowed(l.gf.USE_GUIDE_TOOL))}),[j]);dt(l.ff,I);var y=Object(c.useCallback)((function(e,t,n,r){var a=document.body.getElementsByClassName(e)[0];if(a){t.className=\"toolbar-icon-animation\",t.style.visibility=\"visible\",t.style.left=n+\"px\",t.style.top=r+\"px\",document.body.append(t);var c=a.getBoundingClientRect(),i=t.getBoundingClientRect(),s=i.x-c.x,o=i.y-c.y,u=Math.sqrt(s*s+o*o),d=500-Math.abs(1/u*100*500*.5),j=\"ToolbarBouncing[\".concat(e,\"]\");l.we.getMotionByTag(j)||(l.we.runMotion(new l.Bf(new l.Ri(d+8),new l.tb(a,400,12))).tag=j);var b=new l.Bf(new l.ub(new l.Pd(t,d,c.x-i.x+20,c.y-i.y,100,1),1),new l.sb(t));l.we.runMotion(b)}}),[]),C=Object(c.useCallback)((function(e){y(\"icon-inventory\",e.image,e.x,e.y)}),[y]);return qt(l.Ye.ANIMATE_ICON,C),Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(fi,{type:Oi.FADE_IN,inProp:a,timeout:300,children:Object($a.jsx)(ah,{useGuideTool:d,unseenAchievementCount:m,setMeExpanded:i})}),Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",gap:3,className:\"nitro-toolbar py-1 px-3 animate__animated animate__backInUp\",style:{marginBottom:\"17px\"},children:[Object($a.jsx)(lc,{gap:2,alignItems:\"center\",children:Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,style:{marginBottom:\"3px\",paddingTop:2,paddingBottom:2,paddingLeft:10,paddingRight:10},children:[Object($a.jsx)(lc,{style:{borderRadius:\"50%\",backgroundColor:\"var(--test-galaxytwo)\",padding:\"26px\"},center:!0,pointer:!0,className:\"navigation-item item-avatar icon-border \"+(a?\"active \":\"\"),onClick:function(e){return i(!a)},children:Object($a.jsx)(Mc,{figure:O,direction:2,position:\"absolute\"})}),t&&Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-habbo icon-border message-icon-show\",onClick:function(e){return Oe()}}),!t&&Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-house icon-border\",onClick:function(e){return U(\"navigator/goto/home\")}}),Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-rooms icon-border\",onClick:function(e){return U(\"navigator/toggle\")}}),Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-catalog icon-border\",onClick:function(e){return U(\"catalog/toggle\")}}),Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-inventory icon-border\",onClick:function(e){return U(\"inventory/toggle\")},children:f>0&&Object($a.jsx)($c,{count:f})}),t&&Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-camera icon-border\",onClick:function(e){return U(\"camera/toggle\")}}),E&&Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-modtools icon-border\",onClick:function(e){return Kt(new Tt(Tt.TOGGLE_MOD_TOOLS))}})]})}),Object($a.jsx)(lc,{alignItems:\"center\",id:\"toolbar-chat-input-container\"}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:2,children:[Object($a.jsx)(\"div\",{style:{marginBottom:\"3px\",paddingTop:6,paddingBottom:6,paddingLeft:10,paddingRight:10},children:Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-friendall icon-border\",onClick:function(e){return U(\"friends/toggle\")},children:p.length>0&&Object($a.jsx)($c,{count:p.length})}),(_===ga.SHOW||_===ga.UNREAD)&&Object($a.jsx)(tc,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:!0,className:\"navigation-item icon icon-border icon-message  \".concat(_===ga.UNREAD&&\"is-unseen\"),onClick:function(e){return Ea()}})]})}),Object($a.jsx)(tc,{id:\"toolbar-friend-bar-container\",className:\"d-none d-lg-block\"})]})]})]})},ih=(n(183),function(e){var t=!1,n=\"https://stream2.svrdedicado.org:8130/stream\",r=Object(c.useState)(!0),a=Object(o.a)(r,2),i=a[0],s=a[1],l=Object(c.useState)([]),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(\"\"),O=Object(o.a)(b,2),h=(O[0],O[1],Object(c.useState)(new Audio(n))),f=Object(o.a)(h,2),g=f[0],m=(f[1],Object(c.useRef)(),new URLSearchParams(window.location.search).get(\"sso\"));function v(){fetch(\"https://hgalaxy.net/api/usersOnline\").then((function(e){return e.text()})).then((function(e){document.getElementById(\"usersOnline\").innerHTML=e}))}function p(e,t,n){return Object($a.jsxs)(\"div\",{className:\"animate__animated animate__fadeInDown\",style:{padding:\"10px\",backgroundColor:\"var(--test-galaxy)\",color:\"var(--test-galaxytext)\",borderRadius:\"5px\",width:\"270px\",marginBottom:\"20px\",wordBreak:\"break-all\"},children:[Object($a.jsxs)(\"div\",{style:{textAlign:\"left\",marginBottom:\"10px\"},children:[Object($a.jsx)(\"span\",{className:\"badge bg-danger\",children:\"Nueva menci\\xf3n recibida\"}),Object($a.jsx)(\"span\",{style:{float:\"right\",cursor:\"pointer\"},children:Object($a.jsx)(\"span\",{onClick:function(){return _(n)},className:\"badge bg-danger\",children:\"x\"})})]}),Object($a.jsxs)(\"div\",{style:{marginBottom:\"10px\"},children:[Object($a.jsxs)(\"b\",{children:[e,\":\"]}),\" \\xa0\",t]}),Object($a.jsx)(\"input\",{onChange:function(e){return t=e.target.value,void(x=t);var t},className:\"form-control\",type:\"text\",style:{marginBottom:\"4px\"}}),Object($a.jsx)(\"button\",{onClick:function(){return function(e,t){fetch(\"https://int.ultrahabbo.fun/?type=mentionUser&userToMention=\"+e+\"&message=\"+x+\"&sso=\"+m),_(t)}(e,n)},className:\"btn btn-success btn-sm w-100\",children:\"Responder\"})]})}Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");t.length<2||\"o\"!==t[1]||function(e,t){E.apply(this,arguments)}(t[2],t[3])},eventUrlPrefix:\"mal/\"};return R(e),function(){return B(e)}}),[s]),Object(c.useEffect)((function(){var e=setInterval((function(){return t.apply(this,arguments)}),3e3);function t(){return(t=Object(Bi.a)(Wi.a.mark((function t(){return Wi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.paused&&g.play(),new Promise((function(e){return setTimeout(e,1e3)})),g.paused||clearInterval(e);case 3:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}}),[]);var x=\"\";function _(e){j((function(t){return t.filter((function(t){return t.id!==e}))}))}function E(){return(E=Object(Bi.a)(Wi.a.mark((function e(t,n){var r,a;return Wi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.random(),a=p(t,n,r),j((function(e){return[].concat(Object(ut.a)(e),[{id:r,alert:a}])})),new Audio(\"https://swfs.hgalaxy.net/sounds/plin.mp3\").play();case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return v(),setInterval(v,2e4),g.volume=.1,g.autoplay=!0,Object($a.jsx)($a.Fragment,{children:i&&Object($a.jsx)($a.Fragment,{children:Object($a.jsxs)(\"div\",{className:\"nitro-left-side animate__animated animate__backInDown\",children:[Object($a.jsxs)(\"a\",{href:\"https://hgalaxy.net\",target:\"_blank\",className:\"nitro-left-side-button btn btn-sm rounded-pill border border-light\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/images/casa.png\",style:{marginTop:\"2px\",marginBottom:\"2px\"}}),\" Web\"]}),Object($a.jsxs)(\"button\",{onClick:function(e){return U(\"help/show\")},style:{backgroundColor:\"var(--test-galaxytwo)\",marginLeft:\"7px\"},className:\"btn btn-sm rounded-pill border border-light nitro-left-side-button\",children:[Object($a.jsx)(\"img\",{src:\"https://swfs.hgalaxy.net/images/frank.gif\",style:{marginTop:\"2px\",marginBottom:\"2px\"}}),\" Ayuda\"]}),Object($a.jsxs)(\"button\",{style:{backgroundColor:\"var(--test-galaxytwo)\",marginLeft:\"7px\"},className:\"btn btn-sm rounded-pill border border-light nitro-left-side-button\",children:[Object($a.jsx)(\"img\",{style:{transform:\"scale(0.9)\"},src:\"https://swfs.hgalaxy.net/images/ons.png\"}),Object($a.jsx)(\"b\",{id:\"usersOnline\",children:\"0\"}),\" \\xa0\"]}),Object($a.jsx)(\"button\",{style:{backgroundColor:\"var(--test-galaxytwo)\",marginLeft:\"7px\"},className:\"btn btn-sm rounded-pill border border-light nitro-left-side-button\",children:Object($a.jsxs)(\"div\",{style:{padding:\"4px\"},children:[Object($a.jsx)(mc.a,{id:\"startRadio\",style:{display:\"none\",fontSize:\"17px\"},onClick:function(e){return function(){g.src=n;var e=g.play();void 0!==e&&e.then((function(e){document.getElementById(\"startRadio\").style.display=\"none\",document.getElementById(\"pauseRadio\").style.display=\"inline-block\",t=!0})).catch((function(e){}))}()},icon:\"play\"}),Object($a.jsx)(mc.a,{id:\"pauseRadio\",style:{fontSize:\"17px\"},onClick:function(e){return document.getElementById(\"startRadio\").style.display=\"inline-block\",document.getElementById(\"pauseRadio\").style.display=\"none\",g.pause(),g.src=\"\",void(t=!1)},icon:\"pause\"}),\"\\xa0\\xa0\",Object($a.jsx)(mc.a,{style:{fontSize:\"17px\"},onClick:function(e){t&&1!=g.volume&&(g.volume=g.volume+.1)},icon:\"plus\"}),\" \\xa0\",Object($a.jsx)(mc.a,{style:{fontSize:\"17px\"},onClick:function(e){return function(){if(t){if(g.volume<.1)return;.1!=g.volume&&(g.volume=g.volume-.1)}}()},icon:\"minus\"})]})}),Object($a.jsx)(\"div\",{id:\"mentionAlerts\",style:{marginTop:\"20px\"},children:null!=d&&Object($a.jsx)($a.Fragment,{children:d.map((function(e){return Object($a.jsx)($a.Fragment,{children:e.alert})}))})})]})})})}),sh=[\"badges\",\"gap\",\"justifyContent\"],oh=function(e){var t=e.badges,n=void 0===t?null:t;e.gap,e.justifyContent,Object(Za.a)(e,sh);return Object($a.jsx)($a.Fragment,{children:n&&n.length>0&&n.map((function(e,t){return Object($a.jsx)(Jc,{center:!0,children:Object($a.jsx)(Gc,{badgeCode:e},e)},e)}))})},lh=function(e){var t=e.relationships,n=void 0===t?null:t,r=function(e){var t=e.type,r=n&&n.relationshipStatusMap.hasKey(t)?n.relationshipStatusMap.getValue(t):null,a=l.Ff.RELATIONSHIP_NAMES[t].toLocaleLowerCase();return Object($a.jsxs)(lc,{fullWidth:!0,gap:1,children:[Object($a.jsx)(lc,{center:!0,className:\"user-relationship\",children:Object($a.jsx)(\"i\",{className:\"nitro-friends-spritesheet icon-\".concat(a)})}),Object($a.jsxs)(Jc,{grow:!0,gap:0,children:[Object($a.jsxs)(lc,{alignItems:\"center\",justifyContent:\"between\",className:\"bg-white rounded px-2 py-1 user-relationship\",children:[Object($a.jsxs)(Hi,{small:!0,underline:!0,pointer:!0,onClick:function(e){return r&&r.randomFriendId>=1&&Ga(r.randomFriendId)},children:[(!r||0===r.friendCount)&&st(\"extendedprofile.add.friends\"),r&&r.friendCount>=1&&r.randomFriendName]}),r&&r.friendCount>=1&&Object($a.jsx)(lc,{center:!0,position:\"relative\",className:\"avatar-image-container\",children:Object($a.jsx)(Mc,{figure:r.randomFriendFigure,headOnly:!0,direction:4})})]}),Object($a.jsxs)(Hi,{small:!0,italics:!0,className:\"user-relationship-count\",children:[(!r||0===r.friendCount)&&st(\"extendedprofile.no.friends.in.this.category\"),r&&r.friendCount>1&&st(\"extendedprofile.relstatus.others.\".concat(a),[\"count\"],[(r.friendCount-1).toString()]),\"\\xa0\"]})]})]})};return Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(r,{type:l.Ff.HEART}),Object($a.jsx)(r,{type:l.Ff.SMILE}),Object($a.jsx)(r,{type:l.Ff.BOBBA})]})},uh=function(e){var t=e.relationships,n=void 0===t?null:t,r=e.friendsCount,a=void 0===r?null:r;return Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,children:[Object($a.jsx)(\"b\",{children:st(\"extendedprofile.friends.count\")}),\" \",a]}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,small:!0,children:st(\"extendedprofile.relstatus\")}),Object($a.jsx)(Jc,{children:Object($a.jsx)(lh,{relationships:n})})]})},dh=[\"itsMe\",\"groups\",\"onLeaveGroup\",\"overflow\",\"gap\"],jh=function(e){var t=e.itsMe,n=void 0===t?null:t,r=e.groups,a=void 0===r?null:r,i=e.onLeaveGroup,s=void 0===i?null:i,u=e.overflow,d=void 0===u?\"hidden\":u,j=(e.gap,Object(Za.a)(e,dh)),b=Object(c.useState)(null),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(null),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useCallback)((function(e){var t=e.getParser();h&&h===t.id&&!t.flag&&p(t)}),[h]);return dt(l.Pc,x),Object(c.useEffect)((function(){h&&ea(new l.Oc(h,!1))}),[h]),Object(c.useEffect)((function(){p(null),a.length>0&&f((function(e){return e===a[0].groupId&&ea(new l.Oc(a[0].groupId,!1)),a[0].groupId}))}),[a]),a&&a.length?Object($a.jsxs)(cc,Object(bt.a)(Object(bt.a)({overflow:d,gap:2},j),{},{children:[Object($a.jsx)(Jc,{alignItems:\"center\",size:2,overflow:\"auto\",children:Object($a.jsx)(sc,{overflow:null,columnCount:1,columnMinHeight:50,className:\"user-groups-container\",children:a.map((function(e,t){return Object($a.jsxs)(ii,{overflow:\"unset\",itemActive:h===e.groupId,onClick:function(){return f(e.groupId)},className:\"p-1\",children:[n&&Object($a.jsx)(\"i\",{className:\"position-absolute end-0 top-0 z-index-1 icon icon-group-\"+(e.favourite?\"favorite\":\"not-favorite\"),onClick:function(){return function(e){ea(e.favourite?new l.ed(e.groupId):new l.Mc(e.groupId))}(e)}}),Object($a.jsx)(Gc,{badgeCode:e.badgeCode,isGroup:!0})]},t)}))})}),Object($a.jsx)(Jc,{size:10,overflow:\"hidden\",children:v&&Object($a.jsx)(Ru,{groupInformation:v,onClose:s})})]})):Object($a.jsx)(Jc,{center:!0,fullHeight:!0,children:Object($a.jsxs)(lc,{justifyContent:\"center\",gap:2,children:[Object($a.jsx)(tc,{className:\"no-group-spritesheet image-1\"}),Object($a.jsx)(tc,{className:\"no-group-spritesheet image-2\"}),Object($a.jsx)(tc,{className:\"no-group-spritesheet image-3\"})]})})},bh=function(e){var t=e.userProfile,n=void 0===t?null:t,r=Object(c.useState)(n.requestSent),a=Object(o.a)(r,2),i=a[0],s=a[1],u=n.id===ae().userId,d=!i&&!u&&!n.isMyFriend&&!n.requestSent;return Object(c.useEffect)((function(){s(n.requestSent)}),[n]),Object($a.jsxs)(lc,{gap:2,children:[Object($a.jsx)(Jc,{center:!0,className:\"avatar-container\",children:Object($a.jsx)(Mc,{figure:n.figure,direction:2})}),Object($a.jsxs)(Jc,{children:[Object($a.jsxs)(Jc,{gap:0,children:[Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,children:n.username}),Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",italics:!0,textBreak:!0,small:!0,children:[n.motto,\"\\xa0\"]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,children:[Object($a.jsx)(\"b\",{children:st(\"extendedprofile.created\")}),\" \",n.registration]}),Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,children:[Object($a.jsx)(\"b\",{children:st(\"extendedprofile.last.login\")}),\" \",l.Ib.format(n.secondsSinceLastVisit,\".ago\",2)]}),Object($a.jsxs)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,children:[Object($a.jsx)(\"b\",{children:st(\"extendedprofile.achievementscore\")}),\" \",n.achievementPoints]})]}),Object($a.jsxs)(lc,{gap:1,children:[n.isOnline&&Object($a.jsx)(\"i\",{className:\"icon icon-pf-online\"}),!n.isOnline&&Object($a.jsx)(\"i\",{className:\"icon icon-pf-offline\"}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[d&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:!0,underline:!0,pointer:!0,onClick:function(){s(!0),ea(new l.Of(n.username))},children:st(\"extendedprofile.addasafriend\")}),!d&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"i\",{className:\"icon icon-pf-tick\"}),u&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"extendedprofile.me\")}),n.isMyFriend&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"extendedprofile.friend\")}),(i||n.requestSent)&&Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:st(\"extendedprofile.friendrequestsent\")})]})]})]})]})]})},Oh=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useCallback)((function(){r&&r.id===ae().userId&&Ga(r.id)}),[r]),g=Object(c.useCallback)((function(e){var t=e.getParser();r&&t.userId===r.id&&d(t.badges)}),[r]);dt(l.wi,g);var m=Object(c.useCallback)((function(e){var t=e.getParser();r&&t.userId===r.id&&h(t)}),[r]);dt(l.Gf,m);var v=Object(c.useCallback)((function(e){var t=e.getParser(),n=!1;a((function(e){return e&&e.id&&(n=e.id===t.id),t})),n||(d([]),h(null)),ea(new l.vi(t.id)),ea(new l.Ei(t.id))}),[]);dt(l.Di,v);var p=Object(c.useCallback)((function(e){if(r&&e.category===l.Cg.UNIT){var t=ue().userDataManager.getUserDataByIndex(e.objectId);t.type===l.Gg.USER&&Ga(t.webID)}}),[r]);return qt(l.jg.SELECTED,p),r?Object($a.jsxs)(Pc,{uniqueKey:\"nitro-user-profile\",theme:\"primary-slim\",className:\"user-profile\",children:[Object($a.jsx)(Tc,{headerText:st(\"extendedprofile.caption\"),onCloseClick:function(){a(null),d([]),h(null)}}),Object($a.jsxs)(Ec,{overflow:\"hidden\",children:[Object($a.jsxs)(cc,{fullHeight:!1,gap:2,children:[Object($a.jsxs)(Jc,{size:7,gap:1,className:\"user-container pe-2\",children:[Object($a.jsx)(bh,{userProfile:r}),Object($a.jsx)(cc,{columnCount:5,fullHeight:!0,className:\"bg-muted rounded px-2 py-1\",children:Object($a.jsx)(oh,{fullWidth:!0,center:!0,badges:u})})]}),Object($a.jsx)(Jc,{size:5,children:O&&Object($a.jsx)(uh,{relationships:O,friendsCount:r.friendsCount})})]}),Object($a.jsx)(lc,{alignItems:\"center\",className:\"rooms-button-container px-2 py-1\",children:Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,onClick:function(e){return U(\"navigator/search/hotel_view/owner:\".concat(r.username))},children:[Object($a.jsx)(\"i\",{className:\"icon icon-rooms\"}),Object($a.jsx)(Hi,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:!0,underline:!0,pointer:!0,children:st(\"extendedprofile.rooms\")})]})}),Object($a.jsx)(jh,{fullWidth:!0,itsMe:r.id===ae().userId,groups:r.groups,onLeaveGroup:f})]})]}):null},hh=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Zt(),b=Object(o.a)(j,2),O=b[0],h=b[1],f=en(),g=Object(o.a)(f,2),m=g[0],v=g[1],p=new URLSearchParams(window.location.search).get(\"sso\"),x=\"\",_=\"\",E=\"\";var I=Object(c.useCallback)((function(e){var t=e.getParser(),n=new l.Ue;n.volumeSystem=t.volumeSystem,n.volumeFurni=t.volumeFurni,n.volumeTrax=t.volumeTrax,n.oldChat=t.oldChat,n.roomInvites=t.roomInvites,n.cameraFollow=t.cameraFollow,n.flags=t.flags,n.chatType=t.chatType,d(n),Wt(n)}),[]);dt(l.Gi,I);var y=Object(c.useCallback)((function(e,t){var n=!0,r=u.clone();switch(e){case\"close_view\":return a(!1),void(n=!1);case\"oldchat\":r.oldChat=t,ea(new l.Hi(r.oldChat));break;case\"room_invites\":r.roomInvites=t,ea(new l.Ii(r.roomInvites));break;case\"camera_follow\":r.cameraFollow=t,ea(new l.Fi(r.cameraFollow));break;case\"system_volume\":r.volumeSystem=t,r.volumeSystem=Math.max(0,r.volumeSystem),r.volumeSystem=Math.min(100,r.volumeSystem);break;case\"furni_volume\":r.volumeFurni=t,r.volumeFurni=Math.max(0,r.volumeFurni),r.volumeFurni=Math.min(100,r.volumeFurni);break;case\"trax_volume\":r.volumeTrax=t,r.volumeTrax=Math.max(0,r.volumeTrax),r.volumeTrax=Math.min(100,r.volumeTrax)}n&&d(r),Wt(r)}),[u]),C=Object(c.useCallback)((function(e){if(\"volume\"===e)ea(new l.Ji(Math.round(u.volumeSystem),Math.round(u.volumeFurni),Math.round(u.volumeTrax)))}),[u]);return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void a(!0);case\"hide\":return void a(!1);case\"toggle\":return void a((function(e){return!e}))}},eventUrlPrefix:\"user-settings/\"};return R(e),function(){return B(e)}}),[]),Object(c.useEffect)((function(){u&&Kt(u)}),[u]),r?Object($a.jsxs)(Pc,{uniqueKey:\"user-settings\",className:\"user-settings-window\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"widget.memenu.settings.title\"),onCloseClick:function(e){return y(\"close_view\")}}),Object($a.jsxs)(Ec,{className:\"text-black\",children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:u.oldChat,onChange:function(e){return y(\"oldchat\",e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"memenu.settings.chat.prefer.old.chat\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:u.roomInvites,onChange:function(e){return y(\"room_invites\",e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"memenu.settings.other.ignore.room.invites\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:u.cameraFollow,onChange:function(e){return y(\"camera_follow\",e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"memenu.settings.other.disable.room.camera.follow\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:O,onChange:function(e){return h(e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"memenu.settings.other.place.multiple.objects\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:m,onChange:function(e){return v(e.target.checked)}}),Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"memenu.settings.other.skip.purchase.confirmation\")})]})]}),Object($a.jsx)(\"hr\",{}),Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:!0,children:st(\"widget.memenu.settings.volume\")}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"widget.memenu.settings.volume.ui\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(mc.a,{style:{color:\"var(--test-galaxytext)\"},icon:0===u.volumeSystem?\"volume-mute\":u.volumeSystem>0?\"volume-down\":null,className:u.volumeSystem>=50?\"text-muted\":\"\"}),Object($a.jsx)(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeSystem\",value:u.volumeSystem,onChange:function(e){return y(\"system_volume\",e.target.value)},onMouseUp:function(){return C(\"volume\")}}),Object($a.jsx)(mc.a,{style:{color:\"var(--test-galaxytext)\"},icon:\"volume-up\",className:u.volumeSystem<50?\"text-muted\":\"\"})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"widget.memenu.settings.volume.furni\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(mc.a,{style:{color:\"var(--test-galaxytext)\"},icon:0===u.volumeFurni?\"volume-mute\":u.volumeFurni>0?\"volume-down\":null,className:u.volumeFurni>=50?\"text-muted\":\"\"}),Object($a.jsx)(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeFurni\",value:u.volumeFurni,onChange:function(e){return y(\"furni_volume\",e.target.value)},onMouseUp:function(){return C(\"volume\")}}),Object($a.jsx)(mc.a,{style:{color:\"var(--test-galaxytext)\"},icon:\"volume-up\",className:u.volumeFurni<50?\"text-muted\":\"\"})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:st(\"widget.memenu.settings.volume.trax\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(mc.a,{style:{color:\"var(--test-galaxytext)\"},icon:0===u.volumeTrax?\"volume-mute\":u.volumeTrax>0?\"volume-down\":null,className:u.volumeTrax>=50?\"text-muted\":\"\"}),Object($a.jsx)(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeTrax\",value:u.volumeTrax,onChange:function(e){return y(\"trax_volume\",e.target.value)},onMouseUp:function(){return C(\"volume\")}}),Object($a.jsx)(mc.a,{style:{color:\"var(--test-galaxytext)\"},icon:\"volume-up\",className:u.volumeTrax<50?\"text-muted\":\"\"})]})]}),Object($a.jsx)(\"hr\",{}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:Object($a.jsx)(\"b\",{children:\"Color de la interfaz\"})}),Object($a.jsx)(\"div\",{id:\"alertColor\",className:\"alert alert-warning\",children:\"Recuerda guardar los cambios para mantener siempre la misma configuraci\\xf3n.\"}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Color principal\"}),Object($a.jsx)(\"input\",{className:\"form-control form-control-color\",type:\"color\",onChange:function(e){return function(e){var t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16);document.querySelector(\"html\").style.setProperty(\"--test-galaxy\",\"rgba(\".concat(t,\", \").concat(n,\", \").concat(r,\", .81)\")),x=\"rgba(\".concat(t,\", \").concat(n,\", \").concat(r,\", .81)\")}(e.target.value)}}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Color del texto\"}),Object($a.jsx)(\"input\",{className:\"form-control form-control-color\",type:\"color\",onChange:function(e){return function(e){var t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16);document.querySelector(\"html\").style.setProperty(\"--test-galaxytext\",\"rgba(\".concat(t,\", \").concat(n,\", \").concat(r,\")\")),_=\"rgba(\".concat(t,\", \").concat(n,\", \").concat(r,\")\")}(e.target.value)}}),Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Color secundario\"}),Object($a.jsx)(\"input\",{className:\"form-control form-control-color\",type:\"color\",onChange:function(e){return function(e){var t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16);document.querySelector(\"html\").style.setProperty(\"--test-galaxytwo\",\"rgba(\".concat(t,\", \").concat(n,\", \").concat(r,\")\")),E=\"rgba(\".concat(t,\", \").concat(n,\", \").concat(r,\")\")}(e.target.value)}})]}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return function(){var e=document.getElementById(\"alertColor\");if(\"\"==x||\"\"==_||\"\"==E)return e.classList.remove(\"alert-warning\"),e.classList.add(\"alert-danger\"),void(e.innerHTML=\"Debes de seleccionar todos los colores para poder guardar los cambios.\");fetch(\"https://int.ultrahabbo.fun/?type=setColors&sso=\"+p+\"&colorPrimary=\"+x+\"&colorText=\"+_+\"&colorSecondary=\"+E),e.classList.remove(\"alert-warning\"),e.classList.remove(\"alert-danger\"),e.classList.add(\"alert-success\"),e.innerHTML=\"Se han guardado los cambios con \\xe9xito\"}()},className:\"btn btn-success btn-sm w-100\",children:\"Guardar\"})]})]})]})]}):null},fh=function(e){var t=new URLSearchParams(window.location.search).get(\"sso\"),n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(\"home\"),l=Object(o.a)(s,2),u=l[0],d=l[1];function j(e){switch(e){case 1:fetch(\"https://hgalaxy.net/system/controllers/eha.php?changeLook=ch-215-1189.sh-305-92.hr-851-45.ea-987463055-62-62.hd-209-2.lg-710-82.wa-2007-1408.ca-3175-1408&sso=\"+t);break;case 2:fetch(\"https://hgalaxy.net/system/controllers/eha.php?changeLook=hr-515-45.hd-629-2.ch-255-91.lg-710-1409.sh-906-80.he-1603-80&sso=\"+t);break;case 3:fetch(\"https://hgalaxy.net/system/controllers/eha.php?changeLook=hr-989999875-1092.hd-629-2.ch-665-64.lg-3174-1195-1408.sh-305-92.he-1606-1408.ca-1807-1408&sso=\"+t);break;case 4:fetch(\"https://hgalaxy.net/system/controllers/eha.php?changeLook=ch-250-64.sh-3016-110.hr-828-1028.ea-987463055-62-62.hd-180-1006.lg-3078-110.he-3071-92&sso=\"+t)}d(\"rooms\")}function b(e){fetch(\"https://hgalaxy.net/system/controllers/eha.php?chooseWelcomeRoom=\"+e+\"&sso=\"+t),d(\"furni\")}return Object(c.useEffect)((function(){var e={linkReceived:function(e){var t=e.split(\"/\");if(!(t.length<2))switch(t[1]){case\"show\":return void i(!0);case\"hide\":return void i(!1)}},eventUrlPrefix:\"welcomewizard/\"};return R(e),function(){return B(e)}}),[i]),Object($a.jsx)($a.Fragment,{children:a&&Object($a.jsxs)(Pc,{children:[Object($a.jsx)(Tc,{headerText:\"Bienvenid@ a HGalaxy\",onCloseClick:function(e){return i(!1)}}),Object($a.jsx)(Ec,{className:\"text-dark\",children:Object($a.jsxs)(Gj.a,{defaultActiveKey:\"home\",id:\"uncontrolled-tab-example\",className:\"mb-3\",activeKey:u,children:[Object($a.jsxs)(Wj.a,{eventKey:\"home\",title:\"Bienvenida\",style:{width:\"630px\"},children:[Object($a.jsxs)(Ls.a,{children:[Object($a.jsx)(Ms.a,{md:12,children:Object($a.jsx)(\"div\",{className:\"alert bg-warning\",children:Object($a.jsxs)(\"div\",{style:{textAlign:\"left\"},children:[Object($a.jsx)(\"b\",{children:\"\\xbfYa tienes cuenta?\"}),\" Inicia sesi\\xf3n para no empezar de 0.\",Object($a.jsx)(\"span\",{style:{float:\"right\"},children:Object($a.jsx)(\"a\",{href:\"https://hgalaxy.net/logout\",children:Object($a.jsx)(\"span\",{className:\"badge bg-success\",children:\"Iniciar sesi\\xf3n\"})})})]})})}),Object($a.jsxs)(Ms.a,{md:7,style:{color:\"var(--test-galaxytext)\"},children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:Object($a.jsx)(\"b\",{children:\"\\xa1Nos complace darte la bienvenida a HGalaxy!\"})}),\"Bienvenido a tu mundo virtual favorito. Aqu\\xed podr\\xe1s conocer \",Object($a.jsx)(\"br\",{}),\"nuevas amistades, jugar o crear tus propios juegos, \",Object($a.jsx)(\"br\",{}),\"participar en eventos organizados por el equipo...\",Object($a.jsx)(\"br\",{}),\"\\xa1Y mucho mas!\",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:[\"\\xbfEst\\xe1s listo para empezar?\",Object($a.jsx)(\"br\",{}),\"\\xa1Estamos encantados de que est\\xe9s aqu\\xed!\"]})]}),Object($a.jsx)(Ms.a,{md:3,children:Object($a.jsx)(\"img\",{src:\"https://images.habbo.com/c_images/WhatIsHabbo/ill_15.png\",style:{objectFit:\"contain\"}})})]}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:function(e){return d(\"changeName\")},children:\"Siguiente\"})]}),Object($a.jsxs)(Wj.a,{eventKey:\"changeName\",title:\"Cambia tu nombre\",style:{width:\"630px\"},children:[Object($a.jsxs)(Ls.a,{children:[Object($a.jsxs)(Ms.a,{md:9,style:{color:\"var(--test-galaxytext)\"},children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:Object($a.jsx)(\"b\",{children:\"\\xa1Cambia tu nombre!\"})}),\"Para cambiar tu nombre, debes clickear encima de tu personaje\",Object($a.jsx)(\"br\",{}),\" y seleccionar un nombre.\",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"b\",{children:[\"Si quieres mantener tu cuenta, te recomendamos que lo cambies\",Object($a.jsx)(\"br\",{}),\" ya que actualmente tienes un nombre gen\\xe9rico.\"]}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),\"Despu\\xe9s podr\\xe1s usar el nombre asignado para iniciar sesi\\xf3n.\",Object($a.jsx)(\"br\",{}),\"Mas adelante te pediremos que crees una contrase\\xf1a.\",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"b\",{children:\"\\xa1Recuerda, es muy importante que cambies tu nombre!\"})]}),Object($a.jsx)(Ms.a,{md:3,children:Object($a.jsx)(\"img\",{src:\"https://cdn.discordapp.com/attachments/888286259850653737/1006174235439415396/7b80162084a09cf4927c0710494ac903.png\",style:{objectFit:\"contain\"}})})]}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:function(e){return d(\"appearance\")},children:\"Siguiente\"})]}),Object($a.jsxs)(Wj.a,{eventKey:\"appearance\",title:\"Apariencia\",children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:Object($a.jsx)(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"\\xbfQu\\xe9 tal si empezamos por cambiarnos la apariencia?\"})}),Object($a.jsx)(\"div\",{className:\"container\",children:Object($a.jsxs)(Ls.a,{children:[Object($a.jsx)(Ms.a,{md:3,children:Object($a.jsx)(\"div\",{className:\"text-white look-image card\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/ruled_paper.gif)\"},children:Object($a.jsxs)(\"div\",{className:\"card-body\",children:[Object($a.jsx)(\"img\",{className:\"mx-auto d-block\",src:\"https://habbo-imaging.hgalaxy.net/avatarimage/ch-215-1189.sh-305-92.hr-851-45.ea-987463055-62-62.hd-209-2.lg-710-82.wa-2007-1408.ca-3175-1408&gesture=sml&action=wav&direction=3\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return j(1)},className:\"btn btn-success btn-sm w-100\",children:\"Seleccionar\"})]})})}),Object($a.jsx)(Ms.a,{md:3,children:Object($a.jsx)(\"div\",{className:\"text-white look-image card\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/ruled_paper.gif)\"},children:Object($a.jsxs)(\"div\",{className:\"card-body\",children:[Object($a.jsx)(\"img\",{className:\"mx-auto d-block\",src:\"https://habbo-imaging.hgalaxy.net/avatarimage/hr-515-45.hd-629-2.ch-255-91.lg-710-1409.sh-906-80.he-1603-80&gesture=sml&action=wav&direction=3\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return j(2)},className:\"btn btn-success btn-sm w-100\",children:\"Seleccionar\"})]})})}),Object($a.jsx)(Ms.a,{md:3,children:Object($a.jsx)(\"div\",{className:\"text-white look-image card\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/ruled_paper.gif)\"},children:Object($a.jsxs)(\"div\",{className:\"card-body\",children:[Object($a.jsx)(\"img\",{className:\"mx-auto d-block\",src:\"https://habbo-imaging.hgalaxy.net/avatarimage/hr-989999875-1092.hd-629-2.ch-665-64.lg-3174-1195-1408.sh-305-92.he-1606-1408.ca-1807-1408&gesture=sml&action=wav&direction=3\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return j(3)},className:\"btn btn-success btn-sm w-100\",children:\"Seleccionar\"})]})})}),Object($a.jsx)(Ms.a,{md:3,children:Object($a.jsx)(\"div\",{className:\"text-white look-image card\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/ruled_paper.gif)\"},children:Object($a.jsxs)(\"div\",{className:\"card-body\",children:[Object($a.jsx)(\"img\",{className:\"mx-auto d-block\",src:\"https://habbo-imaging.hgalaxy.net/avatarimage/ch-250-64.sh-3016-110.hr-828-1028.ea-987463055-62-62.hd-180-1006.lg-3078-110.he-3071-92&gesture=sml&action=wav&direction=3\"}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return j(4)},className:\"btn btn-success btn-sm w-100\",children:\"Seleccionar\"})]})})})]})}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:function(e){return U(\"avatar-editor/show\")},children:\"Abrir vestidor\"}),Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:function(e){return d(\"rooms\")},style:{marginTop:\"5px\"},children:\"Siguiente\"})]}),Object($a.jsxs)(Wj.a,{eventKey:\"rooms\",title:\"Salas\",children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:Object($a.jsx)(\"b\",{children:\"\\xbfContinuamos con tu primera sala?\"})}),Object($a.jsx)(\"div\",{className:\"text-center\",style:{color:\"var(--test-galaxytext)\"},children:\"Hemos creado algunas salas predeterminadas, puedes seleccionar entre ellas.  Si no te gustan, \\xa1puedes crear la tuya!\"}),\" \",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"div\",{className:\"container\",children:Object($a.jsxs)(Ls.a,{children:[Object($a.jsxs)(Ms.a,{md:4,className:\"text-center\",children:[Object($a.jsx)(\"img\",{src:\"https://cdn.discordapp.com/attachments/1005777601723387934/1007205463525437541/unknown.png\",className:\"room-welcome-image rounded-circle\",style:{height:\"130px\"}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return b(1)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),Object($a.jsxs)(Ms.a,{md:4,className:\"text-center\",children:[Object($a.jsx)(\"img\",{src:\"https://cdn.discordapp.com/attachments/1005777601723387934/1007205858679197766/unknown.png\",className:\"room-welcome-image rounded-circle\",style:{height:\"130px\"}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return b(2)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),Object($a.jsxs)(Ms.a,{md:4,className:\"text-center\",children:[Object($a.jsx)(\"img\",{src:\"https://cdn.discordapp.com/attachments/1005777601723387934/1007208121422319627/unknown.png\",className:\"room-welcome-image rounded-circle\",style:{height:\"130px\"}}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{onClick:function(e){return b(3)},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]})]})}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:function(e){return U(\"navigator/create\")},children:\"\\xa1Prefiero crearme mi sala!\"}),Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:function(e){return d(\"furni\")},style:{marginTop:\"5px\"},children:\"Siguiente\"})]}),Object($a.jsxs)(Wj.a,{eventKey:\"furni\",title:\"Furni\",children:[Object($a.jsx)(\"div\",{className:\"container\",children:Object($a.jsxs)(Ls.a,{children:[Object($a.jsxs)(Ms.a,{md:7,style:{color:\"var(--test-galaxytext)\"},children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:Object($a.jsx)(\"b\",{children:\"\\xbfQu\\xe9 son los furnis?\"})}),\"Furni es el nombre que recibe un mueble del hotel. \",Object($a.jsx)(\"br\",{}),\"Puedes encontrar furnis de distintas categor\\xedas en el \",Object($a.jsx)(\"br\",{}),\"el hotel, la mayor\\xeda de ellos los puedes encontrar \",Object($a.jsx)(\"br\",{}),\"en el cat\\xe1logo. Tambi\\xe9n existen algunos furnis \",Object($a.jsx)(\"br\",{}),\"que solo podr\\xe1s ganar en eventos realizados por \",Object($a.jsx)(\"br\",{}),\"el staff. Cuando compres un furni, este se guardar\\xe1 \",Object($a.jsx)(\"br\",{}),\"en tu inventario, y desde ah\\xed podr\\xe1s colocarlo \",Object($a.jsx)(\"br\",{}),\"en cualquiera de tus salas.\"]}),Object($a.jsx)(Ms.a,{md:5,children:Object($a.jsx)(\"img\",{src:\"https://images.habbo.com/c_images/HabboWay/habboway_3b.png\",alt:\"\"})})]})}),Object($a.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:function(e){return U(\"catalog/show\")},style:{marginBottom:\"5px\"},children:\"Abrir cat\\xe1logo de furnis\"}),Object($a.jsx)(\"button\",{className:\"btn btn-danger w-100\",onClick:function(e){return U(\"inventory/show\")},style:{marginBottom:\"5px\"},children:\"Abrir inventario\"}),Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:function(e){return d(\"friends\")},children:\"Siguiente\"})]}),Object($a.jsxs)(Wj.a,{eventKey:\"friends\",title:\"Amigos\",children:[Object($a.jsx)(\"div\",{className:\"container\",children:Object($a.jsxs)(Ls.a,{children:[Object($a.jsxs)(Ms.a,{md:7,style:{color:\"var(--test-galaxytext)\"},children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:Object($a.jsx)(\"b\",{children:\"\\xbfC\\xf3mo agrego a amigos?\"})}),\"Para agregar a un amigo a consola, debes hacer click \",Object($a.jsx)(\"br\",{}),\"en su personaje, al hacerlo se te abrir\\xe1 un men\\xfa\",Object($a.jsx)(\"br\",{}),\"encima de su cabeza con varias opciones, selecciona\",Object($a.jsx)(\"br\",{}),\"la opci\\xf3n de A\\xf1adir amig@ y una vez aceptado lo\",Object($a.jsx)(\"br\",{}),\"tendr\\xe1s en la consola.\",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),\"Tambi\\xe9n puedes recibir solicitudes de otros\",Object($a.jsx)(\"br\",{}),\"usuarios y aceptarlos desde la consola.\"]}),Object($a.jsx)(Ms.a,{md:5,children:Object($a.jsx)(\"img\",{src:\"https://cdn.discordapp.com/attachments/888286259850653737/974177651008880692/segs.png\",alt:\"\"})})]})}),Object($a.jsx)(\"button\",{className:\"btn btn-primary w-100\",onClick:function(e){return U(\"friends/show\")},children:\"Abrir consola\"}),Object($a.jsx)(\"button\",{className:\"btn btn-success w-100\",onClick:function(e){return d(\"security\")},style:{marginTop:\"5px\"},children:\"Siguiente\"})]}),Object($a.jsxs)(Wj.a,{eventKey:\"security\",title:\"Seguridad\",children:[Object($a.jsx)(\"div\",{className:\"container\",children:Object($a.jsxs)(Ls.a,{children:[Object($a.jsxs)(Ms.a,{md:7,style:{color:\"var(--test-galaxytext)\"},children:[Object($a.jsx)(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:Object($a.jsx)(\"b\",{children:\"\\xa1Crea una contrase\\xf1a!\"})}),\"Si no has creado una contrase\\xf1a a la hora de registrarte,\",Object($a.jsx)(\"br\",{}),\"te damos la posibilidad de que lo hagas ahora.\",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),\"Te recomendamos una contrase\\xf1a que tenga mas de 6 \",Object($a.jsx)(\"br\",{}),\"car\\xe1cteres y contenga n\\xfameros y letras.\",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),Object($a.jsxs)(\"b\",{children:[\"Al darle click a crear nueva contrase\\xf1a se te abrir\\xe1\",Object($a.jsx)(\"br\",{}),\"una pesta\\xf1a con la secci\\xf3n de configuraci\\xf3n.\",Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{}),\"Recuerda que es muy importante que establezcas una\",Object($a.jsx)(\"br\",{}),\"contrase\\xf1a.\"]}),Object($a.jsx)(\"br\",{}),Object($a.jsx)(\"br\",{})]}),Object($a.jsx)(Ms.a,{md:5,children:Object($a.jsx)(\"img\",{src:\"https://cdn.discordapp.com/attachments/888286259850653737/974908816787378206/elmayor1.png\",alt:\"\"})})]})}),Object($a.jsx)(\"a\",{href:\"https://hgalaxy.net/me/settings\",onClick:function(e){return i(!1)},target:\"_blank\",className:\"btn btn-primary w-100\",children:\"Crear nueva contrase\\xf1a\"}),Object($a.jsx)(\"button\",{className:\"btn btn-danger w-100\",onClick:function(e){return i(!1)},style:{marginTop:\"5px\"},children:\"Cerrar\"})]})]})})]})})},gh=Object(c.createContext)({trigger:null,setTrigger:null,intParams:null,setIntParams:null,stringParam:null,setStringParam:null,furniIds:null,setFurniIds:null,actionDelay:null,setActionDelay:null,saveWired:null}),mh=function(e){return Object($a.jsx)(gh.Provider,{value:e.value,children:e.children})},vh=function(){return Object(c.useContext)(gh)},ph=function(e){var t=vh(),n=t.trigger,r=void 0===n?null:n,a=t.furniIds,i=void 0===a?[]:a,s=t.setFurniIds,o=void 0===s?null:s,l=Object(c.useCallback)((function(e){var t=e.objectId;t<=0||o((function(e){var n=Object(ut.a)(e),a=e.indexOf(t);return a>=0?(n.splice(a,1),Qa.hide(t)):n.length<r.maximumItemSelectionCount&&(n.push(t),Qa.show(t)),n}))}),[r,o]);return Qt(Ft.SELECT_OBJECT,l),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.pickfurnis.caption\",[\"count\",\"limit\"],[i.length.toString(),r.maximumItemSelectionCount.toString()])}),Object($a.jsx)(Hi,{small:!0,children:st(\"wiredfurni.pickfurnis.desc\")})]})},xh=function(e){var t=e.wiredType,n=void 0===t?\"\":t,r=e.requiresFurni,a=void 0===r?za.STUFF_SELECTION_OPTION_NONE:r,i=e.save,s=void 0===i?null:i,l=e.validate,u=void 0===l?null:l,d=e.children,j=void 0===d?null:d,b=e.hasSpecialInput,O=void 0!==b&&b,h=Object(c.useState)(null),f=Object(o.a)(h,2),g=f[0],m=f[1],v=Object(c.useState)(null),p=Object(o.a)(v,2),x=p[0],_=p[1],E=Object(c.useState)(!1),I=Object(o.a)(E,2),y=I[0],C=I[1],T=vh(),S=T.trigger,N=void 0===S?null:S,R=T.setTrigger,k=void 0===R?null:R,A=T.setIntParams,w=void 0===A?null:A,D=T.setStringParam,U=void 0===D?null:D,P=T.setFurniIds,L=void 0===P?null:P,M=T.saveWired,F=void 0===M?null:M,H=function(){return k(null)};return Object(c.useEffect)((function(){y&&(F(),C(!1))}),[y,F]),Object(c.useEffect)((function(){if(N){var e=N.spriteId||-1,t=ae().getFloorItemData(e);return t?(m(t.name),_(t.description)):(m(\"NAME: \"+e),_(\"NAME: \"+e)),O&&(w(N.intData),U(N.stringData)),a>za.STUFF_SELECTION_OPTION_NONE&&L((function(e){return e&&e.length&&Qa.clearSelectionShaderFromFurni(e),N.selectedItems&&N.selectedItems.length?(Qa.applySelectionShaderToFurni(N.selectedItems),N.selectedItems):[]})),function(){C(!1),w([]),U(null),L((function(e){return e&&e.length&&Qa.clearSelectionShaderFromFurni(e),[]}))}}}),[N,O,a,w,U,L]),Object($a.jsxs)(Pc,{uniqueKey:\"nitro-wired\",className:\"nitro-wired\",theme:\"primary-slim\",children:[Object($a.jsx)(Tc,{headerText:st(\"wiredfurni.title\"),onCloseClick:H}),Object($a.jsxs)(Ec,{children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"i\",{className:\"icon icon-wired-\".concat(n)}),Object($a.jsx)(Hi,{bold:!0,children:g})]}),Object($a.jsx)(Hi,{small:!0,children:x})]}),!!j&&Object($a.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),j,a>za.STUFF_SELECTION_OPTION_NONE&&Object($a.jsxs)($a.Fragment,{children:[Object($a.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object($a.jsx)(ph,{})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(dc,{fullWidth:!0,variant:\"success\",onClick:function(){u&&!u()||(s&&s(),C(!0))},children:st(\"wiredfurni.ready\")}),Object($a.jsx)(dc,{fullWidth:!0,variant:\"secondary\",onClick:H,children:st(\"cancel\")})]})]})]})},_h=function(e){var t=e.requiresFurni,n=void 0===t?za.STUFF_SELECTION_OPTION_NONE:t,r=e.save,a=void 0===r?null:r,i=e.hasSpecialInput,s=void 0!==i&&i,o=e.children,l=void 0===o?null:o,u=vh(),d=u.trigger,j=void 0===d?null:d,b=u.actionDelay,O=void 0===b?0:b,h=u.setActionDelay,f=void 0===h?null:h;return Object(c.useEffect)((function(){f(j.delayInPulses)}),[j,f]),Object($a.jsxs)(xh,{wiredType:\"action\",requiresFurni:n,save:a,hasSpecialInput:s,children:[l,!!l&&Object($a.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object($a.jsxs)(Jc,{children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.delay\",[\"seconds\"],[Wa(O)])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:0,max:20,value:O,onChange:function(e){return f(e)}})]})]})},Eh=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setStringParam,h=void 0===O?null:O;return Object(c.useEffect)((function(){var e=b.stringData.split(Xa);e.length>0&&a(e[0]),e.length>1&&u(e[1].length>0?e[1]:\"hd-180-1.ch-210-66.lg-270-82.sh-290-81\")}),[b]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return h(r+Xa+l)},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]}),Object($a.jsxs)(lc,{center:!0,children:[Object($a.jsx)(Mc,{figure:l,direction:4}),Object($a.jsx)(dc,{onClick:function(e){return u(ae().figure)},children:st(\"wiredfurni.params.capture.figure\")})]})]})},Ih=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setStringParam,h=void 0===O?null:O,f=d.setIntParams,g=void 0===f?null:f;return Object(c.useEffect)((function(){a(b.stringData),u(b.intData.length>0?b.intData[0]:0)}),[b]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){h(r),g([l])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"followMode\",id:\"followMode1\",checked:1===l,onChange:function(e){return u(1)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.start.following\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"followMode\",id:\"followMode2\",checked:0===l,onChange:function(e){return u(0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.stop.following\")})]})]})]})},yh=[2,5,7,8,9,10,27],Ch=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setStringParam,h=void 0===O?null:O,f=d.setIntParams,g=void 0===f?null:f;return Object(c.useEffect)((function(){a(b.stringData),u(b.intData.length>0?b.intData[0]:0)}),[b]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){h(r),g([l])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.handitem\")}),Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm\",value:l,onChange:function(e){return u(parseInt(e.target.value))},children:[Object($a.jsx)(\"option\",{value:\"0\",children:\"------\"}),yh.map((function(e){return Object($a.jsx)(\"option\",{value:e,children:st(\"handitem\".concat(e))},e)}))]})]})]})},Th=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setStringParam,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.stringData)}),[l]),Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:function(){return d(r)},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]})})},Sh=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(-1),j=Object(o.a)(d,2),b=j[0],O=j[1],h=vh(),f=h.trigger,g=void 0===f?null:f,m=h.setStringParam,v=void 0===m?null:m,p=h.setIntParams,x=void 0===p?null:p;return Object(c.useEffect)((function(){var e=g.stringData.split(Xa);e.length>0&&a(e[0]),e.length>1&&u(e[1].length>0?e[1]:\"\"),O(g.intData.length>0?g.intData[0]:0)}),[g]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){v(r+Xa+l),x([b])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.message\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:64,value:l,onChange:function(e){return u(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode1\",checked:0===b,onChange:function(e){return O(0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.talk\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode2\",checked:1===b,onChange:function(e){return O(1)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.whisper\")})]})]})]})},Nh=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(-1),j=Object(o.a)(d,2),b=j[0],O=j[1],h=vh(),f=h.trigger,g=void 0===f?null:f,m=h.setStringParam,v=void 0===m?null:m,p=h.setIntParams,x=void 0===p?null:p;return Object(c.useEffect)((function(){var e=g.stringData.split(Xa);e.length>0&&a(e[0]),e.length>1&&u(e[1].length>0?e[1]:\"\"),O(g.intData.length>0?g.intData[0]:0)}),[g]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){v(r+Xa+l),x([b])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.message\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:64,value:l,onChange:function(e){return u(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode1\",checked:0===b,onChange:function(e){return O(0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.talk\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode2\",checked:1===b,onChange:function(e){return O(1)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.shout\")})]})]})]})},Rh=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setStringParam,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.stringData)}),[l]),Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:function(){return d(r)},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]})})},kh=function(e){return Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null})},Ah=function(e){return Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null})},wh=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setStringParam,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.stringData)}),[l]),Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d(r)},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.message\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:r,onChange:function(e){return a(e.target.value)},maxLength:100})]})})},Dh=function(e){return Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null})},Uh=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(1),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)(1),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(1),x=Object(o.a)(p,2),_=x[0],E=x[1],I=Object(c.useState)([]),y=Object(o.a)(I,2),C=y[0],T=y[1],S=vh(),N=S.trigger,R=void 0===N?null:N,k=S.setIntParams,A=void 0===k?null:k,w=S.setStringParam,D=void 0===w?null:w,U=Object(c.useCallback)((function(){T((function(e){return[].concat(Object(ut.a)(e),[{isBadge:!1,itemCode:\"\",probability:null}])}))}),[T]),P=Object(c.useCallback)((function(e){T((function(t){var n=Array.from(t);return n.splice(e,1),n}))}),[T]),L=Object(c.useCallback)((function(e,t,n,r){var a=Array.from(C),c=a[e];c&&(c.isBadge=t,c.itemCode=n,c.probability=r,T(a))}),[C,T]),M=Object(c.useCallback)((function(){var e,t=[],n=Object(s.a)(C);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.itemCode){var a=[r.isBadge?\"0\":\"1\",r.itemCode,r.probability.toString()];t.push(a.join(\",\"))}}}catch(c){n.e(c)}finally{n.f()}t.length>0&&(D(t.join(\";\")),A([u,O?1:0,m,_]))}),[u,O,m,_,C,A,D]);return Object(c.useEffect)((function(){var e=[];if(R.stringData.length>0&&R.stringData.includes(\";\")){var t,n=R.stringData.split(\";\"),r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){var c=t.value.split(\",\");3===c.length&&e.push({isBadge:\"0\"===c[0],itemCode:c[1],probability:Number(c[2])})}}catch(i){r.e(i)}finally{r.f()}}0===e.length&&e.push({isBadge:!1,itemCode:\"\",probability:null}),d(R.intData.length>0?R.intData[0]:0),h(R.intData.length>1&&1===R.intData[1]),v(R.intData.length>2?R.intData[2]:0),E(R.intData.length>3?R.intData[3]:0),a(R.intData.length>3&&R.intData[3]>0),T(e)}),[R]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:M,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"limitEnabled\",onChange:function(e){return a(e.target.checked)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.prizelimit\",[\"amount\"],[r?m.toString():\"\"])})]}),!r&&Object($a.jsx)(Hi,{center:!0,small:!0,className:\"bg-muted rounded p-1\",children:\"Reward limit not set. Make sure rewards are badges or non-tradeable items.\"}),r&&Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:1e3,value:m,onChange:function(e){return v(e)}}),Object($a.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:\"How often can a user be rewarded?\"}),Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsxs)(\"select\",{className:\"form-select form-select-sm w-100\",value:u,onChange:function(e){return d(Number(e.target.value))},children:[Object($a.jsx)(\"option\",{value:\"0\",children:\"Once\"}),Object($a.jsxs)(\"option\",{value:\"3\",children:[\"Once every \",_,\" minutes\"]}),Object($a.jsxs)(\"option\",{value:\"2\",children:[\"Once every \",_,\" hours\"]}),Object($a.jsxs)(\"option\",{value:\"1\",children:[\"Once every \",_,\" days\"]})]}),u>0&&Object($a.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:_,onChange:function(e){return E(Number(e.target.value))}})]})]}),Object($a.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"uniqueRewards\",checked:O,onChange:function(e){return h(e.target.checked)}}),Object($a.jsx)(Hi,{children:\"Unique rewards\"})]}),Object($a.jsx)(Hi,{center:!0,small:!0,className:\"bg-muted rounded p-1\",children:\"If checked each reward will be given once to each user. This will disable the probabilities option.\"}),Object($a.jsx)(\"hr\",{className:\"m-0 bg-dark\"}),Object($a.jsxs)(lc,{justifyContent:\"between\",alignItems:\"center\",children:[Object($a.jsx)(Hi,{bold:!0,children:\"Rewards\"}),Object($a.jsx)(dc,{variant:\"success\",onClick:U,children:Object($a.jsx)(mc.a,{icon:\"plus\"})})]}),Object($a.jsx)(Jc,{gap:1,children:C&&C.map((function(e,t){return Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:e.isBadge,onChange:function(n){return L(t,n.target.checked,e.itemCode,e.probability)}}),Object($a.jsx)(Hi,{small:!0,children:\"Badge?\"})]}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:e.itemCode,onChange:function(n){return L(t,e.isBadge,n.target.value,e.probability)},placeholder:\"Item Code\"}),Object($a.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:e.probability,onChange:function(n){return L(t,e.isBadge,e.itemCode,Number(n.target.value))},placeholder:\"Probability\"}),t>0&&Object($a.jsx)(dc,{variant:\"danger\",onClick:function(e){return P(t)},children:Object($a.jsx)(mc.a,{icon:\"trash\"})})]},t)}))})]})},Ph=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(1),j=Object(o.a)(d,2),b=j[0],O=j[1],h=vh(),f=h.trigger,g=void 0===f?null:f,m=h.setIntParams,v=void 0===m?null:m;return Object(c.useEffect)((function(){g.intData.length>=2?(a(g.intData[0]),u(g.intData[1]),O(g.intData[2])):(a(1),u(1),O(1))}),[g]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return v([r,l,b])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.setpoints\",[\"points\"],[r.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:100,value:r,onChange:function(e){return a(e)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.settimesingame\",[\"times\"],[l.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:10,value:l,onChange:function(e){return u(e)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.team\")}),[1,2,3,4].map((function(e){return Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"selectedTeam\".concat(e),checked:b===e,onChange:function(t){return O(e)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.team.\"+e)})]},e)}))]})]})},Lh=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setIntParams,h=void 0===O?null:O;return Object(c.useEffect)((function(){b.intData.length>=2?(a(b.intData[0]),u(b.intData[1])):(a(1),u(1))}),[b]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return h([r,l])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.setpoints\",[\"points\"],[r.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:100,value:r,onChange:function(e){return a(e)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.settimesingame\",[\"times\"],[l.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:10,value:l,onChange:function(e){return u(e)}})]})]})},Mh=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.team\")}),[1,2,3,4].map((function(e){return Object($a.jsxs)(lc,{gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"selectedTeam\".concat(e),checked:r===e,onChange:function(t){return a(e)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.team.\".concat(e))})]},e)}))]})})},Fh=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setStringParam,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.stringData)}),[l]),Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d(r)},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.message\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:r,onChange:function(e){return a(e.target.value)},maxLength:100})]})})},Hh=function(e){return Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null})},Bh=[{value:0,icon:\"ne\"},{value:2,icon:\"se\"},{value:4,icon:\"sw\"},{value:6,icon:\"nw\"}],Gh=[0,1,2,3,4,5,6],Wh=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setIntParams,h=void 0===O?null:O;return Object(c.useEffect)((function(){b.intData.length>=2?(a(b.intData[0]),u(b.intData[1])):(a(-1),u(-1))}),[b]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!0,save:function(){return h([r,l])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.startdir\")}),Object($a.jsx)(lc,{gap:1,children:Bh.map((function(e){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:\"movement\".concat(e.value),checked:r===e.value,onChange:function(t){return a(e.value)}}),Object($a.jsx)(Hi,{children:Object($a.jsx)(\"i\",{className:\"icon icon-\".concat(e.icon)})})]},e.value)}))})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.turn\")}),Gh.map((function(e){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"rotation\",id:\"rotation\".concat(e),checked:l===e,onChange:function(t){return u(e)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.turn.\".concat(e))})]},e)}))]})]})},Vh=[{value:0,icon:\"ne\"},{value:2,icon:\"se\"},{value:4,icon:\"sw\"},{value:6,icon:\"nw\"}],qh=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setIntParams,h=void 0===O?null:O;return Object(c.useEffect)((function(){b.intData.length>=2?(a(b.intData[1]),u(b.intData[0])):(a(-1),u(-1))}),[b]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!0,save:function(){return h([l,r])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.emptytiles\",[\"tiles\"],[r.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:5,value:r,onChange:function(e){return a(e)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.startdir\")}),Object($a.jsx)(lc,{gap:1,children:Vh.map((function(e){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:\"movement\".concat(e.value),checked:l===e.value,onChange:function(t){return u(e.value)}}),Object($a.jsx)(Hi,{children:Object($a.jsx)(\"i\",{className:\"icon icon-\".concat(e.icon)})})]},e.value)}))})]})]})},Yh=[{value:4,icon:\"ne\"},{value:5,icon:\"se\"},{value:6,icon:\"sw\"},{value:7,icon:\"nw\"},{value:2,icon:\"mv-2\"},{value:3,icon:\"mv-3\"},{value:1,icon:\"mv-1\"}],zh=[0,1,2,3],Kh=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setIntParams,h=void 0===O?null:O;return Object(c.useEffect)((function(){b.intData.length>=2?(a(b.intData[0]),u(b.intData[1])):(a(-1),u(-1))}),[b]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!0,save:function(){return h([r,l])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.movefurni\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"movement0\",checked:0===r,onChange:function(e){return a(0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.movefurni.0\")})]}),Object($a.jsxs)(lc,{gap:1,children:[Yh.map((function(e){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:\"movement\".concat(e.value),checked:r===e.value,onChange:function(t){return a(e.value)}}),Object($a.jsx)(\"i\",{className:\"icon icon-\".concat(e.icon)})]},e.value)})),Object($a.jsx)(\"div\",{className:\"col\"})]})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.rotatefurni\")}),zh.map((function(e){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"rotation\",id:\"rotation\".concat(e),checked:l===e,onChange:function(t){return u(e)}}),Object($a.jsxs)(Hi,{children:[[1,2].includes(e)&&Object($a.jsx)(\"i\",{className:\"icon icon-rot-\".concat(e)}),st(\"wiredfurni.params.rotatefurni.\".concat(e))]})]},e)}))]})]})},Qh=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setIntParams,h=void 0===O?null:O,f=d.setStringParam,g=void 0===f?null:f;return Object(c.useEffect)((function(){a(b.intData.length>0?b.intData[0]:0),u(b.stringData)}),[b]),Object($a.jsxs)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){h([r]),g(l)},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.length.minutes\",[\"minutes\"],[r.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:10,value:r,onChange:function(e){return a(e)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.message\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:l,onChange:function(e){return u(e.target.value)},maxLength:100})]})]})},Xh=function(e){return Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null})},Jh=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(0),j=Object(o.a)(d,2),b=j[0],O=j[1],h=vh(),f=h.trigger,g=void 0===f?null:f,m=h.setIntParams,v=void 0===m?null:m;return Object(c.useEffect)((function(){a(g.getBoolean(0)?1:0),u(g.getBoolean(1)?1:0),O(g.getBoolean(2)?1:0)}),[g]),Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:function(){return v([r,l,b])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.conditions\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"stateFlag\",checked:!!r,onChange:function(e){return a(e.target.checked?1:0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.condition.state\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"directionFlag\",checked:!!l,onChange:function(e){return u(e.target.checked?1:0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.condition.direction\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"positionFlag\",checked:!!b,onChange:function(e){return O(e.target.checked?1:0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.condition.position\")})]})]})})},Zh=function(e){return Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null})},$h=function(e){return Object($a.jsx)(_h,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:!1,save:null})},ef=function(e){var t=e.requiresFurni,n=void 0===t?za.STUFF_SELECTION_OPTION_NONE:t,r=e.save,a=void 0===r?null:r,c=e.hasSpecialInput,i=void 0!==c&&c,s=e.children,o=void 0===s?null:s;return Object($a.jsx)(xh,{wiredType:\"condition\",requiresFurni:n,hasSpecialInput:i,save:function(){return a&&a()},children:o})},tf=[2,5,7,8,9,10,27],nf=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.handitem\")}),Object($a.jsx)(\"select\",{className:\"form-select form-select-sm\",value:r,onChange:function(e){return a(parseInt(e.target.value))},children:tf.map((function(e){return Object($a.jsx)(\"option\",{value:e,children:st(\"handitem\".concat(e))},e)}))})]})})},rf=function(e){return Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null})},af=function(e){return Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!1,save:null})},cf=[1,2,3,4],sf=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.team\")}),cf.map((function(e){return Object($a.jsxs)(lc,{gap:1,alignItems:\"center\",children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"selectedTeam\".concat(e),checked:r===e,onChange:function(t){return a(e)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.team.\".concat(e))})]},e)}))]})})},of=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setStringParam,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.stringData)}),[l]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d(r)},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.badgecode\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:r,onChange:function(e){return a(e.target.value)}})]})})},lf=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.effectid\")}),Object($a.jsx)(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:r,onChange:function(e){return a(parseInt(e.target.value))}})]})})},uf=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(\"\"),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setIntParams,h=void 0===O?null:O;return Object(c.useEffect)((function(){if(b.intData.length>=2){var e=new Date,t=new Date;b.intData[0]>0&&(e=new Date(1e3*b.intData[0])),b.intData[1]>0&&(t=new Date(1e3*b.intData[1])),a(Ya(e)),u(Ya(t))}}),[b]),Object($a.jsxs)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){var e=0,t=0,n=new Date(r),a=new Date(l);n&&a&&(e=n.getTime()/1e3,t=a.getTime()/1e3),h([e,t])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.startdate\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:r,onChange:function(e){return a(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.enddate\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:l,onChange:function(e){return u(e.target.value)}})]})]})},df=function(e){return Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!1,save:null})},jf=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.requireall\")}),[0,1].map((function(e){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"requireAll\",id:\"requireAll\".concat(e),checked:r===e,onChange:function(t){return a(e)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.requireall.\"+e)})]},e)}))]})})},bf=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.not_requireall\")}),[0,1].map((function(e){return Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"requireAll\",id:\"requireAll\".concat(e),checked:r===e,onChange:function(t){return a(e)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.not_requireall.\".concat(e))})]},e)}))]})})},Of=function(e){return Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!1,save:null})},hf=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(0),j=Object(o.a)(d,2),b=j[0],O=j[1],h=vh(),f=h.trigger,g=void 0===f?null:f,m=h.setIntParams,v=void 0===m?null:m;return Object(c.useEffect)((function(){a(g.getBoolean(0)?1:0),u(g.getBoolean(1)?1:0),O(g.getBoolean(2)?1:0)}),[g]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:!0,save:function(){return v([r,l,b])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.conditions\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"stateFlag\",checked:!!r,onChange:function(e){return a(e.target.checked?1:0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.condition.state\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"directionFlag\",checked:!!l,onChange:function(e){return u(e.target.checked?1:0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.condition.direction\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"positionFlag\",checked:!!b,onChange:function(e){return O(e.target.checked?1:0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.condition.position\")})]})]})})},ff=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.allowbefore\",[\"seconds\"],[Wa(r)])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:1200,value:r,onChange:function(e){return a(e)}})]})})},gf=function(e){var t=Object(c.useState)(-1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.allowafter\",[\"seconds\"],[Wa(r)])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:1200,value:r,onChange:function(e){return a(e)}})]})})},mf=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setIntParams,h=void 0===O?null:O;return Object(c.useEffect)((function(){b.intData.length>=2?(a(b.intData[0]),u(b.intData[1])):(a(1),u(1))}),[b]),Object($a.jsxs)(ef,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return h([r,l])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.usercountmin\",[\"value\"],[r.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:50,value:r,onChange:function(e){return a(e)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.usercountmax\",[\"value\"],[l.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:50,value:l,onChange:function(e){return u(e)}})]})]})},vf=function(e){var t=e.requiresFurni,n=void 0===t?za.STUFF_SELECTION_OPTION_NONE:t,r=e.save,a=void 0===r?null:r,c=e.hasSpecialInput,i=void 0!==c&&c,s=e.children,o=void 0===s?null:s;return Object($a.jsx)(xh,{wiredType:\"trigger\",requiresFurni:n,hasSpecialInput:i,save:function(){return a&&a()},children:o})},pf=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setStringParam,h=void 0===O?null:O;return Object(c.useEffect)((function(){a(b.stringData),u(b.stringData?1:0)}),[b]),Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return h(1===l?r:\"\")},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.picktriggerer\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"avatarMode\",id:\"avatarMode0\",checked:0===l,onChange:function(e){return u(0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.anyavatar\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"avatarMode\",id:\"avatarMode1\",checked:1===l,onChange:function(e){return u(1)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.certainavatar\")})]}),1===l&&Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:r,onChange:function(e){return a(e.target.value)}})]})})},xf=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(-1),s=Object(o.a)(i,2),l=s[0],u=s[1],d=vh(),j=d.trigger,b=void 0===j?null:j,O=d.setStringParam,h=void 0===O?null:O,f=d.setIntParams,g=void 0===f?null:f;return Object(c.useEffect)((function(){a(b.stringData),u(b.intData.length>0?b.intData[0]:0)}),[b]),Object($a.jsxs)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){h(r),g([l])},children:[Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.whatissaid\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:r,onChange:function(e){return a(e.target.value)}})]}),Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.picktriggerer\")}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"triggererAvatar\",id:\"triggererAvatar0\",checked:0===l,onChange:function(e){return u(0)}}),Object($a.jsx)(Hi,{children:st(\"wiredfurni.params.anyavatar\")})]}),Object($a.jsxs)(lc,{alignItems:\"center\",gap:1,children:[Object($a.jsx)(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"triggererAvatar\",id:\"triggererAvatar1\",checked:1===l,onChange:function(e){return u(1)}}),Object($a.jsx)(Hi,{children:ae().userName})]})]})]})},_f=function(e){return Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!1,save:null})},Ef=function(e){return Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!1,save:null})},If=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setStringParam,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.stringData)}),[l]),Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d(r)},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]})})},yf=function(e){var t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setStringParam,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.stringData)}),[l]),Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d(r)},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.bot.name\")}),Object($a.jsx)(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:r,onChange:function(e){return a(e.target.value)}})]})})},Cf=function(e){return Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null})},Tf=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.settime\",[\"seconds\"],[Wa(r)])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:1200,value:r,onChange:function(e){return a(e)}})]})})},Sf=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,u=void 0===s?null:s,d=i.setIntParams,j=void 0===d?null:d;return Object(c.useEffect)((function(){a(u.intData.length>0?u.intData[0]:0)}),[u]),Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return j([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.setlongtime\",[\"time\"],[l.Ib.format(5*r).toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:120,value:r,onChange:function(e){return a(e)}})]})})},Nf=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.settime\",[\"seconds\"],[Wa(r)])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:60,value:r,onChange:function(e){return a(e)}})]})})},Rf=function(e){return Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null})},kf=function(e){return Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!1,save:null})},Af=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=vh(),s=i.trigger,l=void 0===s?null:s,u=i.setIntParams,d=void 0===u?null:u;return Object(c.useEffect)((function(){a(l.intData.length>0?l.intData[0]:0)}),[l]),Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:!0,save:function(){return d([r])},children:Object($a.jsxs)(Jc,{gap:1,children:[Object($a.jsx)(Hi,{bold:!0,children:st(\"wiredfurni.params.setscore\",[\"points\"],[r.toString()])}),Object($a.jsx)(zs.a,{className:\"nitro-slider\",min:1,max:1e3,value:r,onChange:function(e){return a(e)}})]})})},wf=function(e){return Object($a.jsx)(vf,{requiresFurni:za.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:!1,save:null})},Df=function(e){return e instanceof l.Ti?function(e){switch(e){case Va.BOT_CHANGE_FIGURE:return Object($a.jsx)(Eh,{});case Va.BOT_FOLLOW_AVATAR:return Object($a.jsx)(Ih,{});case Va.BOT_GIVE_HAND_ITEM:return Object($a.jsx)(Ch,{});case Va.BOT_MOVE:return Object($a.jsx)(Th,{});case Va.BOT_TALK:return Object($a.jsx)(Nh,{});case Va.BOT_TALK_DIRECT_TO_AVTR:return Object($a.jsx)(Sh,{});case Va.BOT_TELEPORT:return Object($a.jsx)(Rh,{});case Va.CALL_ANOTHER_STACK:return Object($a.jsx)(kh,{});case Va.CHASE:return Object($a.jsx)(Ah,{});case Va.CHAT:return Object($a.jsx)(wh,{});case Va.FLEE:return Object($a.jsx)(Dh,{});case Va.GIVE_REWARD:return Object($a.jsx)(Uh,{});case Va.GIVE_SCORE:return Object($a.jsx)(Lh,{});case Va.GIVE_SCORE_TO_PREDEFINED_TEAM:return Object($a.jsx)(Ph,{});case Va.JOIN_TEAM:return Object($a.jsx)(Mh,{});case Va.KICK_FROM_ROOM:return Object($a.jsx)(Fh,{});case Va.LEAVE_TEAM:return Object($a.jsx)(Hh,{});case Va.MOVE_FURNI:return Object($a.jsx)(Kh,{});case Va.MOVE_AND_ROTATE_FURNI:return Object($a.jsx)(Wh,{});case Va.MOVE_FURNI_TO:return Object($a.jsx)(qh,{});case Va.MUTE_USER:return Object($a.jsx)(Qh,{});case Va.RESET:return Object($a.jsx)(Xh,{});case Va.SET_FURNI_STATE:return Object($a.jsx)(Jh,{});case Va.TELEPORT:return Object($a.jsx)(Zh,{});case Va.TOGGLE_FURNI_STATE:return Object($a.jsx)($h,{})}return null}(e.code):e instanceof l.ii?function(e){switch(e){case Ja.AVATAR_ENTERS_ROOM:return Object($a.jsx)(pf,{});case Ja.AVATAR_SAYS_SOMETHING:return Object($a.jsx)(xf,{});case Ja.AVATAR_WALKS_OFF_FURNI:return Object($a.jsx)(_f,{});case Ja.AVATAR_WALKS_ON_FURNI:return Object($a.jsx)(Ef,{});case Ja.BOT_REACHED_AVATAR:return Object($a.jsx)(If,{});case Ja.BOT_REACHED_STUFF:return Object($a.jsx)(yf,{});case Ja.COLLISION:return Object($a.jsx)(Cf,{});case Ja.EXECUTE_ONCE:return Object($a.jsx)(Tf,{});case Ja.EXECUTE_PERIODICALLY:return Object($a.jsx)(Nf,{});case Ja.EXECUTE_PERIODICALLY_LONG:return Object($a.jsx)(Sf,{});case Ja.GAME_ENDS:return Object($a.jsx)(Rf,{});case Ja.GAME_STARTS:return Object($a.jsx)(kf,{});case Ja.SCORE_ACHIEVED:return Object($a.jsx)(Af,{});case Ja.TOGGLE_FURNI:return Object($a.jsx)(wf,{})}return null}(e.code):e instanceof l.jb?function(e){switch(e){case qa.ACTOR_HAS_HANDITEM:return Object($a.jsx)(nf,{});case qa.ACTOR_IS_GROUP_MEMBER:case qa.NOT_ACTOR_IN_GROUP:return Object($a.jsx)(rf,{});case qa.ACTOR_IS_ON_FURNI:case qa.NOT_ACTOR_ON_FURNI:return Object($a.jsx)(af,{});case qa.ACTOR_IS_IN_TEAM:case qa.NOT_ACTOR_IN_TEAM:return Object($a.jsx)(sf,{});case qa.ACTOR_IS_WEARING_BADGE:case qa.NOT_ACTOR_WEARS_BADGE:return Object($a.jsx)(of,{});case qa.ACTOR_IS_WEARING_EFFECT:case qa.NOT_ACTOR_WEARING_EFFECT:return Object($a.jsx)(lf,{});case qa.DATE_RANGE_ACTIVE:return Object($a.jsx)(uf,{});case qa.FURNIS_HAVE_AVATARS:case qa.FURNI_NOT_HAVE_HABBO:return Object($a.jsx)(df,{});case qa.HAS_STACKED_FURNIS:return Object($a.jsx)(jf,{});case qa.NOT_HAS_STACKED_FURNIS:return Object($a.jsx)(bf,{});case qa.STUFF_TYPE_MATCHES:case qa.NOT_FURNI_IS_OF_TYPE:return Object($a.jsx)(Of,{});case qa.STATES_MATCH:case qa.NOT_STATES_MATCH:return Object($a.jsx)(hf,{});case qa.TIME_ELAPSED_LESS:return Object($a.jsx)(ff,{});case qa.TIME_ELAPSED_MORE:return Object($a.jsx)(gf,{});case qa.USER_COUNT_IN:case qa.NOT_USER_COUNT_IN:return Object($a.jsx)(mf,{})}return null}(e.code):null},Uf=function(e){var t=vh().setTrigger,n=void 0===t?null:t,r=Object(c.useCallback)((function(e){var t=e.getParser();n(t.definition)}),[n]),a=Object(c.useCallback)((function(e){var t=e.getParser();n(t.definition)}),[n]),i=Object(c.useCallback)((function(e){var t=e.getParser();n(t.definition)}),[n]),s=Object(c.useCallback)((function(e){var t=e.getParser();console.log(t)}),[]),o=Object(c.useCallback)((function(e){var t=e.getParser();console.log(t)}),[]),u=Object(c.useCallback)((function(e){n(null)}),[n]),d=Object(c.useCallback)((function(e){var t=e.getParser();Ha.simpleAlert(t.info,Ua.DEFAULT,null,null,st(\"error.title\")),console.log(t)}),[]);return dt(l.Ui,r),dt(l.Vi,a),dt(l.Wi,i),dt(l.Xi,s),dt(l.Yi,o),dt(l.Zi,u),dt(l.aj,d),null},Pf=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),s=Object(o.a)(i,2),u=s[0],d=s[1],j=Object(c.useState)(\"\"),b=Object(o.a)(j,2),O=b[0],h=b[1],f=Object(c.useState)([]),g=Object(o.a)(f,2),m=g[0],v=g[1],p=Object(c.useState)(0),x=Object(o.a)(p,2),_=x[0],E=x[1];return Object($a.jsxs)(mh,{value:{trigger:r,setTrigger:a,intParams:u,setIntParams:d,stringParam:O,setStringParam:h,furniIds:m,setFurniIds:v,actionDelay:_,setActionDelay:E,saveWired:function(){var e=function(e){e&&(e instanceof l.Ti?ea(new l.mi(e.id,u,O,m,_,e.stuffTypeSelectionCode)):e instanceof l.ii?ea(new l.pi(e.id,u,O,m,e.stuffTypeSelectionCode)):e instanceof l.jb&&ea(new l.ni(e.id,u,O,m,e.stuffTypeSelectionCode)))};!function(e){var t=G().getRoomObject(ue().roomId,e,l.Cg.FLOOR);return!(!t||!t.model)&&ae().userId===t.model.getValue(l.Ig.FURNITURE_OWNER_ID)}(r.id)?Ha.confirm(st(\"wiredfurni.nonowner.change.confirm.body\"),(function(){e(r)}),null,null,null,st(\"wiredfurni.nonowner.change.confirm.title\")):e(r)}},children:[Object($a.jsx)(Uf,{}),null!==r&&Df(r)]})},Lf=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=(n[0],n[1]),a=Object(c.useState)(!0),i=Object(o.a)(a,2),s=i[0],u=i[1],d=new URLSearchParams(window.location.search).get(\"sso\");fetch(\"https://int.ultrahabbo.fun/?type=getColors&sso=\"+d).then((function(e){return e.json()})).then((function(e){document.querySelector(\"html\").style.setProperty(\"--test-galaxy\",e.color_primary),document.querySelector(\"html\").style.setProperty(\"--test-galaxytext\",e.color_text),document.querySelector(\"html\").style.setProperty(\"--test-galaxytwo\",e.color_secondary)}));var j=Object(c.useCallback)((function(e){switch(e.type){case l.Sg.CREATED:return void u(!1);case l.Sg.ENDED:return void u(e.openLandingView)}}),[]);Yt(l.Sg.CREATED,j),Yt(l.Sg.ENDED,j);var b=Object(c.useCallback)((function(e){var t=e.split(\"/\");if(!(t.length<2))if(\"open\"!==t[1]);else if(t.length>2)if(\"credits\"===t[2]);else{var n=t[2];l.Ed.openHabblet(n)}}),[]);return Object(c.useEffect)((function(){r(!0),P().connection.onReady()}),[]),Object(c.useEffect)((function(){var e={linkReceived:b,eventUrlPrefix:\"habblet/\"};return R(e),function(){B(e)}}),[b]),Object($a.jsxs)(tc,{fit:!0,children:[Object($a.jsx)(fi,{type:Oi.FADE_IN,inProp:s,timeout:300,children:Object($a.jsx)(md,{})}),Object($a.jsx)(ch,{isInRoom:!s}),Object($a.jsx)(bj,{}),Object($a.jsx)(nh,{}),Object($a.jsx)(Sl,{}),Object($a.jsx)(Pf,{}),Object($a.jsx)(Ps,{}),Object($a.jsx)(ss,{}),Object($a.jsx)(Fj,{}),Object($a.jsx)(Hd,{}),Object($a.jsx)(gl,{}),Object($a.jsx)(du,{}),Object($a.jsx)(ih,{}),Object($a.jsx)(sb,{}),Object($a.jsx)(hh,{}),Object($a.jsx)(Oh,{}),Object($a.jsx)(Lu,{}),Object($a.jsx)(eo,{}),Object($a.jsx)(gd,{}),Object($a.jsx)(Xl,{}),Object($a.jsx)(Bj,{}),Object($a.jsx)(Ku,{}),Object($a.jsx)(Ju,{}),Object($a.jsx)(ro,{}),Object($a.jsx)(Fs,{}),Object($a.jsx)(Bs,{}),Object($a.jsx)(ao,{}),Object($a.jsx)(Hs,{}),Object($a.jsx)(ju,{}),Object($a.jsx)(fh,{}),Object($a.jsx)(Vj,{}),Object($a.jsx)(Bd,{})]})},Mf=function(){var e=[];self.onmessage=function(t){if(t){var n=t.data;switch(n.type){case\"CREATE_INTERVAL\":var r=n.timerId,a=n.time,c=n.response,i=setInterval((function(){return postMessage(c)}),a);return void e.push({id:r,interval:i});case\"REMOVE_INTERVAL\":for(var s=n.timerId;0<e.length;){var o=e[0];if(o.id===s)return clearInterval(o.interval),void e.splice(0,1)}}}}},Ff=n(134),Hf=function(e){Object(Ee.a)(n,e);var t=Object(Ie.a)(n);function n(e){Object(u.a)(this,n);var r=e.toString(),a=new Blob([\"(\".concat(r,\")()\")]);return t.call(this,URL.createObjectURL(a))}return Object(d.a)(n)}(Object(Ff.a)(Worker));l.Ze.UI_VERSION=\"2.0.0\";var Bf=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(\"Getting Ready\"),O=Object(o.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(0),m=Object(o.a)(g,2),v=m[0],p=m[1],x=Object(c.useState)(!0),_=Object(o.a)(x,2),E=_[0],I=_[1];if(!N()){if(!NitroConfig)throw new Error(\"NitroConfig is not defined!\");l.Je.bootstrap();var y=new Hf(Mf);l.Je.instance.setWorker(y)}var C=Object(c.useCallback)((function(e){switch(e.type){case l.kb.LOADED:return N().localization.init(),void p((function(e){return e+20}));case l.kb.FAILED:return j(!0),void f(\"Configuration Failed\");case l.Je.WEBGL_UNAVAILABLE:return j(!0),void f(\"WebGL Required\");case l.Je.WEBGL_CONTEXT_LOST:return j(!0),f(\"WebGL Context Lost - Reloading\"),void setTimeout((function(){return window.location.reload()}),1500);case l.Me.CONNECTION_HANDSHAKING:return void p((function(e){return e+20}));case l.Me.CONNECTION_HANDSHAKE_FAILED:return j(!0),void f(\"Handshake Failed\");case l.Me.CONNECTION_AUTHENTICATED:return p((function(e){return e+20})),N().init(),void(l.Rd.available&&l.Rd.call(\"legacyTrack\",\"authentication\",\"authok\",[]));case l.Me.CONNECTION_ERROR:return j(!0),void f(\"Connection Error\");case l.Me.CONNECTION_CLOSED:return f(\"Connection Error\"),void l.Ed.send(-1,\"client.init.handshake.fail\");case l.ig.ENGINE_INITIALIZED:return p((function(e){return e+20})),void setTimeout((function(){return a(!0)}),300);case l.Qe.LOADED:var t=L(\"preload.assets.urls\"),n=[];if(t&&t.length){var r,c=Object(s.a)(t);try{for(c.s();!(r=c.n()).done;){var i=r.value;n.push(N().core.configuration.interpolate(i))}}catch(o){c.e(o)}finally{c.f()}}return void N().core.asset.downloadAssets(n,(function(e){e?(P().init(),p((function(e){return e+20}))):(j(!0),f(\"Assets Failed\"))}))}}),[]);return Vt(l.Je.WEBGL_UNAVAILABLE,C),Vt(l.Je.WEBGL_CONTEXT_LOST,C),Vt(l.Me.CONNECTION_HANDSHAKING,C),Vt(l.Me.CONNECTION_HANDSHAKE_FAILED,C),Vt(l.Me.CONNECTION_AUTHENTICATED,C),Vt(l.Me.CONNECTION_ERROR,C),Vt(l.Me.CONNECTION_CLOSED,C),qt(l.ig.ENGINE_INITIALIZED,C),function(e,t){Ht(e,N().localization.events,t)}(l.Qe.LOADED,C),Bt(l.kb.LOADED,C),Bt(l.kb.FAILED,C),Object(c.useEffect)((function(){l.Si.isWebGLAvailable()?N().core.configuration.init():Kt(new l.Oe(l.Je.WEBGL_UNAVAILABLE));var e=function(e){return I(!(window.devicePixelRatio%1))};return window.addEventListener(\"resize\",e),e(),function(){window.removeEventListener(\"resize\",e)}}),[]),Object($a.jsxs)(tc,{fit:!0,overflow:\"hidden\",className:E&&\"image-rendering-pixelated\",children:[(!r||d)&&Object($a.jsx)(zi,{isError:d,message:h,percent:v}),Object($a.jsx)(fi,{type:Oi.FADE_IN,inProp:r,children:Object($a.jsx)(Lf,{})}),Object($a.jsx)(tc,{id:\"draggable-windows-container\"})]})};n(184);r.b.add(a.a),Object(i.createRoot)(document.getElementById(\"root\")).render(Object($a.jsx)(Bf,{}))}},[[185,2,1,3]]]);","name":"static/js/main.8d361151.chunk.js","input":"(this[\"webpackJsonpnitro-react\"] = this[\"webpackJsonpnitro-react\"] || []).push([[0],{\n\n/***/ 183:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/fontawesome-svg-core/index.es.js\nvar index_es = __webpack_require__(69);\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\nvar free_solid_svg_icons_index_es = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(113);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@nitrots/nitro-renderer/index.ts\nvar nitro_renderer = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/api/achievements/GetAchievementCategoryMaxProgress.ts\nvar GetAchievementCategoryMaxProgress_GetAchievementCategoryMaxProgress=function GetAchievementCategoryMaxProgress(category){if(!category)return 0;var progress=0;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(category.achievements),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var achievement=_step.value;progress+=achievement.levelCount;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return progress;};\n// CONCATENATED MODULE: ./src/api/achievements/AchievementCategory.ts\nvar AchievementCategory_AchievementCategory=/*#__PURE__*/function(){function AchievementCategory(code){Object(classCallCheck[\"a\" /* default */])(this,AchievementCategory);this._code=void 0;this._achievements=void 0;this._code=code;this._achievements=[];}Object(createClass[\"a\" /* default */])(AchievementCategory,[{key:\"getProgress\",value:function getProgress(){return GetAchievementCategoryProgress_GetAchievementCategoryProgress(this);}},{key:\"getMaxProgress\",value:function getMaxProgress(){return GetAchievementCategoryMaxProgress_GetAchievementCategoryMaxProgress(this);}},{key:\"code\",get:function get(){return this._code;}},{key:\"achievements\",get:function get(){return this._achievements;},set:function set(achievements){this._achievements=achievements;}}]);return AchievementCategory;}();\n// CONCATENATED MODULE: ./src/api/achievements/GetAchievementBadgeCode.ts\nvar GetAchievementBadgeCode_GetAchievementBadgeCode=function GetAchievementBadgeCode(achievement){if(!achievement)return null;var badgeId=achievement.badgeId;if(!achievement.finalLevel)badgeId=GetLocalization().getPreviousLevelBadgeId(badgeId);return badgeId;};\n// CONCATENATED MODULE: ./src/api/achievements/GetAchievementCategoryImageUrl.ts\nvar GetAchievementCategoryImageUrl_GetAchievementCategoryImageUrl=function GetAchievementCategoryImageUrl(category){var progress=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var icon=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var imageUrl=GetConfiguration('achievements.images.url');var imageName=icon?'achicon_':'achcategory_';imageName+=category.code;if(progress!==null)imageName+=\"_\".concat(progress>0?'active':'inactive');return imageUrl.replace('%image%',imageName);};\n// CONCATENATED MODULE: ./src/api/achievements/GetAchievementCategoryProgress.ts\nvar GetAchievementCategoryProgress_GetAchievementCategoryProgress=function GetAchievementCategoryProgress(category){if(!category)return 0;var progress=0;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(category.achievements),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var achievement=_step.value;progress+=achievement.finalLevel?achievement.level:achievement.level-1;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return progress;};\n// CONCATENATED MODULE: ./src/api/achievements/GetAchievementCategoryTotalUnseen.ts\nvar GetAchievementCategoryTotalUnseen_GetAchievementCategoryTotalUnseen=function GetAchievementCategoryTotalUnseen(category){if(!category)return 0;var unseen=0;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(category.achievements),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var achievement=_step.value;achievement.unseen>0&&unseen++;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return unseen;};\n// CONCATENATED MODULE: ./src/api/achievements/GetAchievementHasStarted.ts\nvar GetAchievementHasStarted=function GetAchievementHasStarted(achievement){if(!achievement)return false;if(achievement.finalLevel||achievement.level-1>0)return true;return false;};\n// CONCATENATED MODULE: ./src/api/achievements/GetAchievementIsIgnored.ts\nvar GetAchievementIsIgnored_GetAchievementIsIgnored=function GetAchievementIsIgnored(achievement){if(!achievement)return false;var ignored=GetConfiguration('achievements.unseen.ignored');var value=achievement.badgeId.replace(/[0-9]/g,'');var index=ignored.indexOf(value);if(index>=0)return true;return false;};\n// CONCATENATED MODULE: ./src/api/achievements/GetAchievementLevel.ts\nvar GetAchievementLevel=function GetAchievementLevel(achievement){if(!achievement)return 0;if(achievement.finalLevel)return achievement.level;return achievement.level-1;};\n// CONCATENATED MODULE: ./src/api/achievements/IAchievementCategory.ts\n\n// CONCATENATED MODULE: ./src/api/achievements/index.ts\n\n// CONCATENATED MODULE: ./src/api/campaign/CalendarItem.ts\nvar CalendarItem_CalendarItem=/*#__PURE__*/function(){function CalendarItem(productName,customImage,furnitureClassName){Object(classCallCheck[\"a\" /* default */])(this,CalendarItem);this._productName=void 0;this._customImage=void 0;this._furnitureClassName=void 0;this._productName=productName;this._customImage=customImage;this._furnitureClassName=furnitureClassName;}Object(createClass[\"a\" /* default */])(CalendarItem,[{key:\"productName\",get:function get(){return this._productName;}},{key:\"customImage\",get:function get(){return this._customImage;}},{key:\"furnitureClassName\",get:function get(){return this._furnitureClassName;}}]);return CalendarItem;}();\n// CONCATENATED MODULE: ./src/api/campaign/CalendarItemState.ts\nvar CalendarItemState_CalendarItemState=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CalendarItemState(){Object(classCallCheck[\"a\" /* default */])(this,CalendarItemState);});CalendarItemState_CalendarItemState.STATE_UNLOCKED=1;CalendarItemState_CalendarItemState.STATE_LOCKED_AVAILABLE=2;CalendarItemState_CalendarItemState.STATE_LOCKED_EXPIRED=3;CalendarItemState_CalendarItemState.STATE_LOCKED_FUTURE=4;\n// CONCATENATED MODULE: ./src/api/campaign/ICalendarItem.ts\n\n// CONCATENATED MODULE: ./src/api/campaign/index.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/BuilderFurniPlaceableStatus.ts\nvar BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function BuilderFurniPlaceableStatus(){Object(classCallCheck[\"a\" /* default */])(this,BuilderFurniPlaceableStatus);});BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.OKAY=0;BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.MISSING_OFFER=1;BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.FURNI_LIMIT_REACHED=2;BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.NOT_IN_ROOM=3;BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.NOT_ROOM_OWNER=4;BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.GUILD_ROOM=5;BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.VISITORS_IN_ROOM=6;\n// CONCATENATED MODULE: ./src/api/catalog/CatalogNode.ts\nvar CatalogNode_CatalogNode=/*#__PURE__*/function(){function CatalogNode(node,depth,parent){Object(classCallCheck[\"a\" /* default */])(this,CatalogNode);this._depth=0;this._localization='';this._pageId=-1;this._pageName='';this._iconId=0;this._children=void 0;this._offerIds=void 0;this._parent=void 0;this._isVisible=void 0;this._isActive=void 0;this._isOpen=void 0;this._depth=depth;this._parent=parent;this._localization=node.localization;this._pageId=node.pageId;this._pageName=node.pageName;this._iconId=node.icon;this._children=[];this._offerIds=node.offerIds;this._isVisible=node.visible;this._isActive=false;this._isOpen=false;}Object(createClass[\"a\" /* default */])(CatalogNode,[{key:\"activate\",value:function activate(){this._isActive=true;}},{key:\"deactivate\",value:function deactivate(){this._isActive=false;}},{key:\"open\",value:function open(){this._isOpen=true;}},{key:\"close\",value:function close(){this._isOpen=false;}},{key:\"addChild\",value:function addChild(child){if(!child)return;this._children.push(child);}},{key:\"depth\",get:function get(){return this._depth;}},{key:\"isBranch\",get:function get(){return this._children.length>0;}},{key:\"isLeaf\",get:function get(){return this._children.length===0;}},{key:\"localization\",get:function get(){return this._localization;}},{key:\"pageId\",get:function get(){return this._pageId;}},{key:\"pageName\",get:function get(){return this._pageName;}},{key:\"iconId\",get:function get(){return this._iconId;}},{key:\"children\",get:function get(){return this._children;}},{key:\"offerIds\",get:function get(){return this._offerIds;}},{key:\"parent\",get:function get(){return this._parent;}},{key:\"isVisible\",get:function get(){return this._isVisible;}},{key:\"isActive\",get:function get(){return this._isActive;}},{key:\"isOpen\",get:function get(){return this._isOpen;}}]);return CatalogNode;}();\n// CONCATENATED MODULE: ./src/api/catalog/CatalogPage.ts\nvar CatalogPage_CatalogPage=/*#__PURE__*/function(){function CatalogPage(pageId,layoutCode,localization,offers,acceptSeasonCurrencyAsCredits){var mode=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;Object(classCallCheck[\"a\" /* default */])(this,CatalogPage);this._pageId=void 0;this._layoutCode=void 0;this._localization=void 0;this._offers=void 0;this._acceptSeasonCurrencyAsCredits=void 0;this._mode=void 0;this._pageId=pageId;this._layoutCode=layoutCode;this._localization=localization;this._offers=offers;this._acceptSeasonCurrencyAsCredits=acceptSeasonCurrencyAsCredits;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(offers),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var offer=_step.value;offer.page=this;}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(mode===-1)this._mode=CatalogPage.MODE_NORMAL;else this._mode=mode;}Object(createClass[\"a\" /* default */])(CatalogPage,[{key:\"pageId\",get:function get(){return this._pageId;}},{key:\"layoutCode\",get:function get(){return this._layoutCode;}},{key:\"localization\",get:function get(){return this._localization;}},{key:\"offers\",get:function get(){return this._offers;}},{key:\"acceptSeasonCurrencyAsCredits\",get:function get(){return this._acceptSeasonCurrencyAsCredits;}},{key:\"mode\",get:function get(){return this._mode;}}]);return CatalogPage;}();CatalogPage_CatalogPage.MODE_NORMAL=0;\n// CONCATENATED MODULE: ./src/api/catalog/CatalogPageName.ts\nvar CatalogPageName_CatalogPageName=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CatalogPageName(){Object(classCallCheck[\"a\" /* default */])(this,CatalogPageName);});CatalogPageName_CatalogPageName.DUCKET_INFO='ducket_info';CatalogPageName_CatalogPageName.CREDITS='credits';CatalogPageName_CatalogPageName.AVATAR_EFFECTS='avatar_effects';CatalogPageName_CatalogPageName.HC_MEMBERSHIP='hc_membership';CatalogPageName_CatalogPageName.CLUB_GIFTS='club_gifts';CatalogPageName_CatalogPageName.LIMITED_SOLD='limited_sold';CatalogPageName_CatalogPageName.PET_ACCESSORIES='pet_accessories';CatalogPageName_CatalogPageName.TRAX_SONGS='trax_songs';CatalogPageName_CatalogPageName.NEW_ADDITIONS='new_additions';CatalogPageName_CatalogPageName.QUEST_SHELL='quest_shell';CatalogPageName_CatalogPageName.QUEST_SNOWFLAKES='quest_snowflakes';CatalogPageName_CatalogPageName.VAL_QUESTS='val_quests';CatalogPageName_CatalogPageName.GUILD_CUSTOM_FURNI='guild_custom_furni';CatalogPageName_CatalogPageName.GIFT_SHOP='gift_shop';CatalogPageName_CatalogPageName.HORSE_STYLES='horse_styles';CatalogPageName_CatalogPageName.HORSE_SHOE='horse_shoe';CatalogPageName_CatalogPageName.SET_EASTER='set_easter';CatalogPageName_CatalogPageName.ECOTRON_TRANSFORM='ecotron_transform';CatalogPageName_CatalogPageName.LOYALTY_INFO='loyalty_info';CatalogPageName_CatalogPageName.ROOM_BUNDLES='room_bundles';CatalogPageName_CatalogPageName.ROOM_BUNDLES_MOBILE='room_bundles_mobile';CatalogPageName_CatalogPageName.HABBO_CLUB_DESKTOP='habbo_club_desktop';CatalogPageName_CatalogPageName.MOBILE_SUBSCRIPTIONS='mobile_subscriptions';\n// CONCATENATED MODULE: ./src/api/catalog/CatalogPetPalette.ts\nvar CatalogPetPalette_CatalogPetPalette=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CatalogPetPalette(breed,palettes){Object(classCallCheck[\"a\" /* default */])(this,CatalogPetPalette);this.breed=breed;this.palettes=palettes;});\n// CONCATENATED MODULE: ./src/api/catalog/CatalogPurchaseState.ts\nvar CatalogPurchaseState_CatalogPurchaseState=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CatalogPurchaseState(){Object(classCallCheck[\"a\" /* default */])(this,CatalogPurchaseState);});CatalogPurchaseState_CatalogPurchaseState.NONE=0;CatalogPurchaseState_CatalogPurchaseState.CONFIRM=1;CatalogPurchaseState_CatalogPurchaseState.PURCHASE=2;CatalogPurchaseState_CatalogPurchaseState.NO_CREDITS=3;CatalogPurchaseState_CatalogPurchaseState.NO_POINTS=4;CatalogPurchaseState_CatalogPurchaseState.SOLD_OUT=5;CatalogPurchaseState_CatalogPurchaseState.FAILED=6;\n// CONCATENATED MODULE: ./src/api/catalog/CatalogType.ts\nvar CatalogType_CatalogType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CatalogType(){Object(classCallCheck[\"a\" /* default */])(this,CatalogType);});CatalogType_CatalogType.NORMAL='NORMAL';CatalogType_CatalogType.BUILDER='BUILDERS_CLUB';\n// CONCATENATED MODULE: ./src/api/nitro/GetNitroInstance.ts\nfunction GetNitroInstance(){return nitro_renderer[\"Je\" /* Nitro */].instance;}\n// CONCATENATED MODULE: ./src/api/nitro/AddLinkEventTracker.ts\nfunction AddEventLinkTracker(tracker){GetNitroInstance().addLinkEventTracker(tracker);}\n// CONCATENATED MODULE: ./src/api/nitro/AddWorkerEventTracker.ts\nvar AddWorkerEventTracker_AddWorkerEventTracker=function AddWorkerEventTracker(tracker){GetNitroInstance().addWorkerEventTracker(tracker);};\n// CONCATENATED MODULE: ./src/api/nitro/avatar/GetAvatarRenderManager.ts\nfunction GetAvatarRenderManager(){return GetNitroInstance().avatar;}\n// CONCATENATED MODULE: ./src/api/nitro/avatar/GetAvatarPalette.ts\nfunction GetAvatarPalette(paletteId){return GetAvatarRenderManager().structureData.getPalette(paletteId);}\n// CONCATENATED MODULE: ./src/api/nitro/avatar/GetAvatarSetType.ts\nfunction GetAvatarSetType(setType){return GetAvatarRenderManager().structureData.getSetType(setType);}\n// CONCATENATED MODULE: ./src/api/nitro/avatar/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/camera/GetRoomCameraWidgetManager.ts\nfunction GetRoomCameraWidgetManager(){return GetNitroInstance().cameraManager;}\n// CONCATENATED MODULE: ./src/api/nitro/camera/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/CreateLinkEvent.ts\nfunction CreateLinkEvent(link){link=link.startsWith('event:')?link.substring(6):link;GetNitroInstance().createLinkEvent(link);}\n// CONCATENATED MODULE: ./src/api/nitro/GetCommunication.ts\nfunction GetCommunication(){return GetNitroInstance().communication;}\n// CONCATENATED MODULE: ./src/api/nitro/GetConfiguration.ts\nfunction GetConfiguration(key){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return GetNitroInstance().getConfiguration(key,value);}\n// CONCATENATED MODULE: ./src/api/nitro/GetConnection.ts\nfunction GetConnection(){return GetCommunication().connection;}\n// CONCATENATED MODULE: ./src/api/nitro/GetLocalization.ts\nfunction GetLocalization(){return GetNitroInstance().localization;}\n// CONCATENATED MODULE: ./src/api/nitro/GetTicker.ts\nfunction GetTicker(){return GetNitroInstance().ticker;}\n// CONCATENATED MODULE: ./src/api/nitro/RemoveLinkEventTracker.ts\nfunction RemoveLinkEventTracker(tracker){GetNitroInstance().removeLinkEventTracker(tracker);}\n// CONCATENATED MODULE: ./src/api/nitro/RemoveWorkerEventTracker.ts\nvar RemoveWorkerEventTracker_RemoveWorkerEventTracker=function RemoveWorkerEventTracker(tracker){GetNitroInstance().removeWorkerEventTracker(tracker);};\n// CONCATENATED MODULE: ./src/api/nitro/room/GetRoomEngine.ts\nfunction GetRoomEngine(){return GetNitroInstance().roomEngine;}\n// CONCATENATED MODULE: ./src/api/nitro/room/DispatchMouseEvent.ts\nvar didMouseMove=false;var lastClick=0;var clickCount=0;var DispatchMouseEvent_DispatchMouseEvent=function DispatchMouseEvent(event){var canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var x=event.clientX;var y=event.clientY;var eventType=event.type;if(eventType===nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_CLICK){if(lastClick){clickCount=1;if(lastClick>=Date.now()-300)clickCount++;}lastClick=Date.now();if(clickCount===2){if(!didMouseMove)eventType=nitro_renderer[\"xe\" /* MouseEventType */].DOUBLE_CLICK;clickCount=0;lastClick=null;}}switch(eventType){case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_CLICK:break;case nitro_renderer[\"xe\" /* MouseEventType */].DOUBLE_CLICK:break;case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_MOVE:didMouseMove=true;break;case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN:didMouseMove=false;break;case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_UP:break;case nitro_renderer[\"xe\" /* MouseEventType */].RIGHT_CLICK:break;default:return;}GetRoomEngine().dispatchMouseEvent(canvasId,x,y,eventType,event.altKey,event.ctrlKey||event.metaKey,event.shiftKey,false);};\n// CONCATENATED MODULE: ./src/api/nitro/room/DispatchTouchEvent.ts\nvar DispatchTouchEvent_didMouseMove=false;var DispatchTouchEvent_lastClick=0;var DispatchTouchEvent_clickCount=0;var touchTimer=null;var DispatchTouchEvent_DispatchTouchEvent=function DispatchTouchEvent(event){var canvasId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var longTouch=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var altKey=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var ctrlKey=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var shiftKey=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var eventType=event.type;if(longTouch)eventType=nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_LONG;if(eventType===nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_END&&!DispatchTouchEvent_didMouseMove){eventType=nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_CLICK;if(DispatchTouchEvent_lastClick){DispatchTouchEvent_clickCount=1;if(DispatchTouchEvent_lastClick>=Date.now()-300)DispatchTouchEvent_clickCount++;}DispatchTouchEvent_lastClick=Date.now();if(DispatchTouchEvent_clickCount===2){eventType=nitro_renderer[\"xe\" /* MouseEventType */].DOUBLE_CLICK;DispatchTouchEvent_clickCount=0;DispatchTouchEvent_lastClick=null;}}if(touchTimer)clearTimeout(touchTimer);var x=0;var y=0;if(event.touches[0]){x=event.touches[0].clientX;y=event.touches[0].clientY;}else if(event.changedTouches[0]){x=event.changedTouches[0].clientX;y=event.changedTouches[0].clientY;}switch(eventType){case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_CLICK:break;case nitro_renderer[\"xe\" /* MouseEventType */].DOUBLE_CLICK:break;case nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_START:touchTimer=setTimeout(function(){if(DispatchTouchEvent_didMouseMove)return;DispatchTouchEvent(event,canvasId,true);},300);eventType=nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN;DispatchTouchEvent_didMouseMove=false;break;case nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_MOVE:eventType=nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_MOVE;DispatchTouchEvent_didMouseMove=true;break;case nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_END:eventType=nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_UP;break;case nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_LONG:eventType=nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN_LONG;break;default:return;}GetRoomEngine().dispatchMouseEvent(canvasId,x,y,eventType,altKey,ctrlKey,shiftKey,false);};\n// CONCATENATED MODULE: ./src/api/nitro/session/IsOwnerOfFurniture.ts\nfunction IsOwnerOfFurniture(roomObject){if(!roomObject||!roomObject.model)return false;var userId=GetSessionDataManager().userId;var objectOwnerId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);return userId===objectOwnerId;}\n// CONCATENATED MODULE: ./src/api/nitro/session/CanManipulateFurniture.ts\nfunction CanManipulateFurniture(roomSession,objectId,category){if(!roomSession)return false;return roomSession.controllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator||IsOwnerOfFurniture(GetRoomEngine().getRoomObject(roomSession.roomId,objectId,category));}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetRoomSessionManager.ts\nfunction GetRoomSessionManager(){return GetNitroInstance().roomSessionManager;}\n// CONCATENATED MODULE: ./src/api/nitro/session/CreateRoomSession.ts\nfunction CreateRoomSession(roomId){var password=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;GetRoomSessionManager().createSession(roomId,password);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetCanStandUp.ts\nfunction GetCanStandUp(){var roomObject=GetOwnRoomObject();if(!roomObject)return nitro_renderer[\"k\" /* AvatarAction */].POSTURE_STAND;var model=roomObject.model;return model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_CAN_STAND_UP);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetCanUseExpression.ts\nfunction GetCanUseExpression(){var roomObject=GetOwnRoomObject();if(!roomObject)return false;var model=roomObject.model;var effectId=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_EFFECT);return!(effectId===29||effectId===30||effectId===185);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetSessionDataManager.ts\nfunction GetSessionDataManager(){return GetNitroInstance().sessionDataManager;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetClubMemberLevel.ts\nfunction GetClubMemberLevel(){if(GetConfiguration('hc.disabled',false))return nitro_renderer[\"zd\" /* HabboClubLevelEnum */].VIP;return GetSessionDataManager().clubLevel;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetFurnitureData.ts\nfunction GetFurnitureData(furniClassId,productType){var furniData=null;switch(productType.toLowerCase()){case ProductTypeEnum_ProductTypeEnum.FLOOR:furniData=GetSessionDataManager().getFloorItemData(furniClassId);break;case ProductTypeEnum_ProductTypeEnum.WALL:furniData=GetSessionDataManager().getWallItemData(furniClassId);break;}return furniData;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetFurnitureDataForProductOffer.ts\nfunction GetFurnitureDataForProductOffer(offer){if(!offer)return null;var furniData=null;switch(offer.productType.toUpperCase()){case nitro_renderer[\"Yb\" /* FurnitureType */].FLOOR:furniData=GetSessionDataManager().getFloorItemData(offer.furniClassId);break;case nitro_renderer[\"Yb\" /* FurnitureType */].WALL:furniData=GetSessionDataManager().getWallItemData(offer.furniClassId);break;}return furniData;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetFurnitureDataForRoomObject.ts\nfunction GetFurnitureDataForRoomObject(roomId,objectId,category){var roomObject=GetRoomEngine().getRoomObject(roomId,objectId,category);if(!roomObject)return;var typeId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);switch(category){case nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR:return GetSessionDataManager().getFloorItemData(typeId);case nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:return GetSessionDataManager().getWallItemData(typeId);}return null;}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetOwnPosture.ts\nfunction GetOwnPosture(){var roomObject=GetOwnRoomObject();if(!roomObject)return nitro_renderer[\"k\" /* AvatarAction */].POSTURE_STAND;var model=roomObject.model;return model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_POSTURE);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetProductDataForLocalization.ts\nfunction GetProductDataForLocalization(localizationId){if(!localizationId)return null;return GetSessionDataManager().getProductData(localizationId);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GetRoomSession.ts\nfunction GetRoomSession(){return GetRoomSessionManager().getSession(-1);}\n// CONCATENATED MODULE: ./src/api/nitro/session/GoToDesktop.ts\nfunction GoToDesktop(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"qb\" /* DesktopViewComposer */]());}\n// CONCATENATED MODULE: ./src/api/nitro/session/HasHabboClub.ts\nfunction HasHabboClub(){return GetSessionDataManager().clubLevel>=nitro_renderer[\"zd\" /* HabboClubLevelEnum */].CLUB;}\n// CONCATENATED MODULE: ./src/api/nitro/session/HasHabboVip.ts\nfunction HasHabboVip(){return GetSessionDataManager().clubLevel>=nitro_renderer[\"zd\" /* HabboClubLevelEnum */].VIP;}\n// CONCATENATED MODULE: ./src/api/nitro/session/IsOwnerOfFloorFurniture.ts\nfunction IsOwnerOfFloorFurniture(id){var roomObject=GetRoomEngine().getRoomObject(GetRoomSession().roomId,id,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(!roomObject||!roomObject.model)return false;var userId=GetSessionDataManager().userId;var objectOwnerId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);return userId===objectOwnerId;}\n// CONCATENATED MODULE: ./src/api/nitro/session/IsRidingHorse.ts\nfunction IsRidingHorse(){var roomObject=GetOwnRoomObject();if(!roomObject)return false;var model=roomObject.model;var effectId=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_EFFECT);return effectId===77;}\n// CONCATENATED MODULE: ./src/api/nitro/session/StartRoomSession.ts\nfunction StartRoomSession(session){GetRoomSessionManager().startSession(session);}\n// CONCATENATED MODULE: ./src/api/nitro/session/VisitDesktop.ts\nvar VisitDesktop_VisitDesktop=function VisitDesktop(){if(!GetRoomSession())return;GoToDesktop();GetRoomSessionManager().removeSession(-1);};\n// CONCATENATED MODULE: ./src/api/nitro/session/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/GetOwnRoomObject.ts\nfunction GetOwnRoomObject(){var userId=GetSessionDataManager().userId;var roomId=GetRoomEngine().activeRoomId;var category=nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT;var totalObjects=GetRoomEngine().getTotalObjectsForManager(roomId,category);var i=0;while(i<totalObjects){var roomObject=GetRoomEngine().getRoomObjectByIndex(roomId,i,category);if(roomObject){var userData=GetRoomSession().userDataManager.getUserDataByIndex(roomObject.id);if(userData){if(userData.webID===userId)return roomObject;}}i++;}return null;}\n// CONCATENATED MODULE: ./src/api/nitro/room/GetRoomObjectBounds.ts\nvar GetRoomObjectBounds_GetRoomObjectBounds=function GetRoomObjectBounds(roomId,objectId,category){var canvasId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var rectangle=GetRoomEngine().getRoomObjectBoundingRectangle(roomId,objectId,category,canvasId);if(!rectangle)return null;rectangle.x=Math.round(rectangle.x);rectangle.y=Math.round(rectangle.y);return rectangle;};\n// CONCATENATED MODULE: ./src/api/nitro/room/GetRoomObjectScreenLocation.ts\nvar GetRoomObjectScreenLocation_GetRoomObjectScreenLocation=function GetRoomObjectScreenLocation(roomId,objectId,category){var canvasId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var point=GetRoomEngine().getRoomObjectScreenLocation(roomId,objectId,category,canvasId);if(!point)return null;point.x=Math.round(point.x);point.y=Math.round(point.y);return point;};\n// CONCATENATED MODULE: ./src/api/nitro/room/InitializeRoomInstanceRenderingCanvas.ts\nvar InitializeRoomInstanceRenderingCanvas_InitializeRoomInstanceRenderingCanvas=function InitializeRoomInstanceRenderingCanvas(width,height){var canvasId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var roomEngine=GetRoomEngine();var roomId=roomEngine.activeRoomId;roomEngine.initializeRoomInstanceRenderingCanvas(roomId,canvasId,width,height);};\n// CONCATENATED MODULE: ./src/api/nitro/room/IsFurnitureSelectionDisabled.ts\nfunction IsFurnitureSelectionDisabled(event){var result=false;var roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(roomObject){var selectionDisabled=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_SELECTION_DISABLED)===1;if(selectionDisabled){result=true;if(GetSessionDataManager().isModerator)result=false;}}return result;}\n// CONCATENATED MODULE: ./src/api/nitro/room/ProcessRoomObjectOperation.ts\nfunction ProcessRoomObjectOperation(objectId,category,operation){GetRoomEngine().processRoomObjectOperation(objectId,category,operation);}\n// CONCATENATED MODULE: ./src/api/nitro/room/SetActiveRoomId.ts\nfunction SetActiveRoomId(roomId){GetRoomEngine().setActiveRoomId(roomId);}\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/IPhotoData.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomDimmerPreset.ts\nvar RoomDimmerPreset_RoomDimmerPreset=/*#__PURE__*/function(){function RoomDimmerPreset(id,type,color,brightness){Object(classCallCheck[\"a\" /* default */])(this,RoomDimmerPreset);this._id=void 0;this._type=void 0;this._color=void 0;this._brightness=void 0;this._id=id;this._type=type;this._color=color;this._brightness=brightness;}Object(createClass[\"a\" /* default */])(RoomDimmerPreset,[{key:\"id\",get:function get(){return this._id;}},{key:\"type\",get:function get(){return this._type;}},{key:\"color\",get:function get(){return this._color;}},{key:\"brightness\",get:function get(){return this._brightness;}}]);return RoomDimmerPreset;}();\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomObjectItem.ts\nvar RoomObjectItem_RoomObjectItem=/*#__PURE__*/function(){function RoomObjectItem(id,category,name){Object(classCallCheck[\"a\" /* default */])(this,RoomObjectItem);this._id=void 0;this._category=void 0;this._name=void 0;this._id=id;this._category=category;this._name=name;}Object(createClass[\"a\" /* default */])(RoomObjectItem,[{key:\"id\",get:function get(){return this._id;}},{key:\"category\",get:function get(){return this._category;}},{key:\"name\",get:function get(){return this._name;}}]);return RoomObjectItem;}();\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateEvent.ts\nvar RoomWidgetUpdateEvent_RoomWidgetUpdateEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateEvent);function RoomWidgetUpdateEvent(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(RoomWidgetUpdateEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetAvatarInfoEvent.ts\nvar RoomWidgetAvatarInfoEvent_RoomWidgetAvatarInfoEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetAvatarInfoEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetAvatarInfoEvent);function RoomWidgetAvatarInfoEvent(userId,userName,userType,roomIndex,allowNameChange){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetAvatarInfoEvent);_this=_super.call(this,RoomWidgetAvatarInfoEvent.AVATAR_INFO);_this._userId=void 0;_this._userName=void 0;_this._userType=void 0;_this._roomIndex=void 0;_this._allowNameChange=void 0;_this._userId=userId;_this._userName=userName;_this._userType=userType;_this._roomIndex=roomIndex;_this._allowNameChange=allowNameChange;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetAvatarInfoEvent,[{key:\"userId\",get:function get(){return this._userId;}},{key:\"userName\",get:function get(){return this._userName;}},{key:\"userType\",get:function get(){return this._userType;}},{key:\"roomIndex\",get:function get(){return this._roomIndex;}},{key:\"allowNameChange\",get:function get(){return this._allowNameChange;}}]);return RoomWidgetAvatarInfoEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetAvatarInfoEvent_RoomWidgetAvatarInfoEvent.AVATAR_INFO='RWAIE_AVATAR_INFO';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetChooserContentEvent.ts\nvar RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetChooserContentEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetChooserContentEvent);function RoomWidgetChooserContentEvent(type,items){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetChooserContentEvent);_this=_super.call(this,type);_this._items=void 0;_this._items=items;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetChooserContentEvent,[{key:\"items\",get:function get(){return this._items;}}]);return RoomWidgetChooserContentEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent.USER_CHOOSER_CONTENT='RWCCE_USER_CHOOSER_CONTENT';RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent.FURNI_CHOOSER_CONTENT='RWCCE_FURNI_CHOOSER_CONTENT';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetFloodControlEvent.ts\nvar RoomWidgetFloodControlEvent_RoomWidgetFloodControlEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetFloodControlEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetFloodControlEvent);function RoomWidgetFloodControlEvent(seconds){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetFloodControlEvent);_this=_super.call(this,RoomWidgetFloodControlEvent.FLOOD_CONTROL);_this._seconds=0;_this._seconds=seconds;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetFloodControlEvent,[{key:\"seconds\",get:function get(){return this._seconds;}}]);return RoomWidgetFloodControlEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetFloodControlEvent_RoomWidgetFloodControlEvent.FLOOD_CONTROL='RWFCE_FLOOD_CONTROL';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetObjectNameEvent.ts\nvar RoomWidgetObjectNameEvent_RoomWidgetObjectNameEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetObjectNameEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetObjectNameEvent);function RoomWidgetObjectNameEvent(type,roomIndex,category,id,name,userType){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetObjectNameEvent);_this=_super.call(this,type);_this._roomIndex=void 0;_this._category=void 0;_this._id=void 0;_this._name=void 0;_this._userType=void 0;_this._roomIndex=roomIndex;_this._category=category;_this._id=id;_this._name=name;_this._userType=userType;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetObjectNameEvent,[{key:\"roomIndex\",get:function get(){return this._roomIndex;}},{key:\"category\",get:function get(){return this._category;}},{key:\"id\",get:function get(){return this._id;}},{key:\"name\",get:function get(){return this._name;}},{key:\"userType\",get:function get(){return this._userType;}}]);return RoomWidgetObjectNameEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetObjectNameEvent_RoomWidgetObjectNameEvent.TYPE='RWONE_TYPE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetPollUpdateEvent.ts\nvar RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetPollUpdateEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetPollUpdateEvent);function RoomWidgetPollUpdateEvent(type,id){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetPollUpdateEvent);_this=_super.call(this,type);_this._id=-1;_this._summary=void 0;_this._headline=void 0;_this._numQuestions=0;_this._startMessage='';_this._endMessage='';_this._questionArray=null;_this._pollType='';_this._npsPoll=false;_this._id=id;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetPollUpdateEvent,[{key:\"id\",get:function get(){return this._id;}},{key:\"summary\",get:function get(){return this._summary;},set:function set(k){this._summary=k;}},{key:\"headline\",get:function get(){return this._headline;},set:function set(k){this._headline=k;}},{key:\"numQuestions\",get:function get(){return this._numQuestions;},set:function set(k){this._numQuestions=k;}},{key:\"startMessage\",get:function get(){return this._startMessage;},set:function set(k){this._startMessage=k;}},{key:\"endMessage\",get:function get(){return this._endMessage;},set:function set(k){this._endMessage=k;}},{key:\"questionArray\",get:function get(){return this._questionArray;},set:function set(k){this._questionArray=k;}},{key:\"pollType\",get:function get(){return this._pollType;},set:function set(k){this._pollType=k;}},{key:\"npsPoll\",get:function get(){return this._npsPoll;},set:function set(k){this._npsPoll=k;}}]);return RoomWidgetPollUpdateEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.OFFER='RWPUW_OFFER';RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.ERROR='RWPUW_ERROR';RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.CONTENT='RWPUW_CONTENT';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateBackgroundColorPreviewEvent.ts\nvar RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateBackgroundColorPreviewEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateBackgroundColorPreviewEvent);function RoomWidgetUpdateBackgroundColorPreviewEvent(type){var _this;var hue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var saturation=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var lightness=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateBackgroundColorPreviewEvent);_this=_super.call(this,type);_this._hue=void 0;_this._saturation=void 0;_this._lightness=void 0;_this._hue=hue;_this._saturation=saturation;_this._lightness=lightness;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateBackgroundColorPreviewEvent,[{key:\"hue\",get:function get(){return this._hue;}},{key:\"saturation\",get:function get(){return this._saturation;}},{key:\"lightness\",get:function get(){return this._lightness;}}]);return RoomWidgetUpdateBackgroundColorPreviewEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.PREVIEW='RWUBCPE_PREVIEW';RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.CLEAR_PREVIEW='RWUBCPE_CLEAR_PREVIEW';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateChatEvent.ts\nvar RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateChatEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateChatEvent);function RoomWidgetUpdateChatEvent(type,userId,text,userName,userCategory,userType,petType,userX,userY,userImage,userColor,roomId){var _this;var chatType=arguments.length>12&&arguments[12]!==undefined?arguments[12]:0;var styleId=arguments.length>13&&arguments[13]!==undefined?arguments[13]:0;var links=arguments.length>14&&arguments[14]!==undefined?arguments[14]:null;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateChatEvent);_this=_super.call(this,type);_this._userId=void 0;_this._text=void 0;_this._chatType=void 0;_this._userName=void 0;_this._links=void 0;_this._userX=void 0;_this._userY=void 0;_this._userImage=void 0;_this._userColor=void 0;_this._roomId=void 0;_this._userCategory=void 0;_this._userType=void 0;_this._petType=void 0;_this._styleId=void 0;_this._userId=userId;_this._text=text;_this._chatType=chatType;_this._userName=userName;_this._userCategory=userCategory;_this._userType=userType;_this._petType=petType;_this._links=links;_this._userX=userX;_this._userY=userY;_this._userImage=userImage;_this._userColor=userColor;_this._roomId=roomId;_this._styleId=styleId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateChatEvent,[{key:\"userId\",get:function get(){return this._userId;}},{key:\"text\",get:function get(){return this._text;}},{key:\"chatType\",get:function get(){return this._chatType;}},{key:\"userName\",get:function get(){return this._userName;}},{key:\"userCategory\",get:function get(){return this._userCategory;}},{key:\"userType\",get:function get(){return this._userType;}},{key:\"petType\",get:function get(){return this._petType;}},{key:\"links\",get:function get(){return this._links;}},{key:\"userX\",get:function get(){return this._userX;}},{key:\"userY\",get:function get(){return this._userY;}},{key:\"userImage\",get:function get(){return this._userImage;}},{key:\"userColor\",get:function get(){return this._userColor;}},{key:\"roomId\",get:function get(){return this._roomId;}},{key:\"styleId\",get:function get(){return this._styleId;}}]);return RoomWidgetUpdateChatEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_EVENT='RWUCE_CHAT_EVENT';RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_SPEAK=0;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_WHISPER=1;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_SHOUT=2;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_RESPECT=3;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_PETRESPECT=4;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_NOTIFY=5;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_PETTREAT=6;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_PETREVIVE=7;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_PET_REBREED_FERTILIZE=8;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_PET_SPEED_FERTILIZE=9;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_BOT_SPEAK=10;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_BOT_SHOUT=11;RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_TYPE_BOT_WHISPER=12;\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateChatInputContentEvent.ts\nvar RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateChatInputContentEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateChatInputContentEvent);function RoomWidgetUpdateChatInputContentEvent(chatMode,userName){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateChatInputContentEvent);_this=_super.call(this,RoomWidgetUpdateChatInputContentEvent.CHAT_INPUT_CONTENT);_this._chatMode='';_this._userName='';_this._chatMode=chatMode;_this._userName=userName;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateChatInputContentEvent,[{key:\"chatMode\",get:function get(){return this._chatMode;}},{key:\"userName\",get:function get(){return this._userName;}}]);return RoomWidgetUpdateChatInputContentEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.CHAT_INPUT_CONTENT='RWUCICE_CHAT_INPUT_CONTENT';RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.WHISPER='whisper';RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.SHOUT='shout';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateCreditFurniEvent.ts\nvar RoomWidgetUpdateCreditFurniEvent_RoomWidgetUpdateCreditFurniEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateCreditFurniEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateCreditFurniEvent);function RoomWidgetUpdateCreditFurniEvent(type,objectId,value,furniType){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateCreditFurniEvent);_this=_super.call(this,type);_this._objectId=void 0;_this._value=void 0;_this._furniType=void 0;_this._objectId=objectId;_this._value=value;_this._furniType=furniType;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateCreditFurniEvent,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"value\",get:function get(){return this._value;}},{key:\"furniType\",get:function get(){return this._furniType;}}]);return RoomWidgetUpdateCreditFurniEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateCreditFurniEvent_RoomWidgetUpdateCreditFurniEvent.CREDIT_FURNI_UPDATE='RWUCFE_CREDIT_FURNI_UPDATE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateCustomStackHeightEvent.ts\nvar RoomWidgetUpdateCustomStackHeightEvent_RoomWidgetUpdateCustomStackHeightEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateCustomStackHeightEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateCustomStackHeightEvent);function RoomWidgetUpdateCustomStackHeightEvent(objectId){var _this;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateCustomStackHeightEvent);_this=_super.call(this,RoomWidgetUpdateCustomStackHeightEvent.UPDATE_CUSTOM_STACK_HEIGHT);_this._objectId=void 0;_this._height=void 0;_this._objectId=objectId;_this._height=height;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateCustomStackHeightEvent,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"height\",get:function get(){return this._height;}}]);return RoomWidgetUpdateCustomStackHeightEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateCustomStackHeightEvent_RoomWidgetUpdateCustomStackHeightEvent.UPDATE_CUSTOM_STACK_HEIGHT='RWUCSHE_UPDATE_CUSTOM_STACK_HEIGHT';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateDanceStatusEvent.ts\nvar RoomWidgetUpdateDanceStatusEvent_RoomWidgetUpdateDanceStatusEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateDanceStatusEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateDanceStatusEvent);function RoomWidgetUpdateDanceStatusEvent(isDancing){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateDanceStatusEvent);_this=_super.call(this,RoomWidgetUpdateDanceStatusEvent.UPDATE_DANCE);_this._isDancing=void 0;_this._isDancing=isDancing;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateDanceStatusEvent,[{key:\"isDancing\",get:function get(){return this._isDancing;}}]);return RoomWidgetUpdateDanceStatusEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateDanceStatusEvent_RoomWidgetUpdateDanceStatusEvent.UPDATE_DANCE='RWUDSE_UPDATE_DANCE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateDecorateModeEvent.ts\nvar RoomWidgetUpdateDecorateModeEvent_RoomWidgetUpdateDecorateModeEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateDecorateModeEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateDecorateModeEvent);function RoomWidgetUpdateDecorateModeEvent(isDecorating){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateDecorateModeEvent);_this=_super.call(this,RoomWidgetUpdateDecorateModeEvent.UPDATE_DECORATE);_this._isDecorating=void 0;_this._isDecorating=isDecorating;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateDecorateModeEvent,[{key:\"isDecorating\",get:function get(){return this._isDecorating;}}]);return RoomWidgetUpdateDecorateModeEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateDecorateModeEvent_RoomWidgetUpdateDecorateModeEvent.UPDATE_DECORATE='RWUDME_UPDATE_DECORATE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateDimmerEvent.ts\nvar RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateDimmerEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateDimmerEvent);function RoomWidgetUpdateDimmerEvent(type){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateDimmerEvent);_this=_super.call(this,type);_this._selectedPresetId=0;_this._presets=void 0;_this._presets=[];return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateDimmerEvent,[{key:\"presetCount\",get:function get(){return this._presets.length;}},{key:\"presets\",get:function get(){return this._presets;}},{key:\"selectedPresetId\",get:function get(){return this._selectedPresetId;},set:function set(k){this._selectedPresetId=k;}},{key:\"setPresetValues\",value:function setPresetValues(id,type,color,brightness){var preset=new RoomDimmerPreset_RoomDimmerPreset(id,type,color,brightness);this._presets[id-1]=preset;}},{key:\"getPresetNumber\",value:function getPresetNumber(id){return this._presets[id];}}]);return RoomWidgetUpdateDimmerEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent.PRESETS='RWUDE_PRESETS';RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent.HIDE='RWUDE_HIDE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateDimmerStateEvent.ts\nvar RoomWidgetUpdateDimmerStateEvent_RoomWidgetUpdateDimmerStateEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateDimmerStateEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateDimmerStateEvent);function RoomWidgetUpdateDimmerStateEvent(state,presetId,effectId,color,brightness){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateDimmerStateEvent);_this=_super.call(this,RoomWidgetUpdateDimmerStateEvent.DIMMER_STATE);_this._state=void 0;_this._presetId=void 0;_this._effectId=void 0;_this._color=void 0;_this._brightness=void 0;_this._state=state;_this._presetId=presetId;_this._effectId=effectId;_this._color=color;_this._brightness=brightness;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateDimmerStateEvent,[{key:\"state\",get:function get(){return this._state;}},{key:\"presetId\",get:function get(){return this._presetId;}},{key:\"effectId\",get:function get(){return this._effectId;}},{key:\"color\",get:function get(){return this._color;}},{key:\"brightness\",get:function get(){return this._brightness;}}]);return RoomWidgetUpdateDimmerStateEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateDimmerStateEvent_RoomWidgetUpdateDimmerStateEvent.DIMMER_STATE='RWUDSE_DIMMER_STATE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateExternalImageEvent.ts\nvar RoomWidgetUpdateExternalImageEvent_RoomWidgetUpdateExternalImageEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateExternalImageEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateExternalImageEvent);function RoomWidgetUpdateExternalImageEvent(objectId){var _this;var photoData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateExternalImageEvent);_this=_super.call(this,RoomWidgetUpdateExternalImageEvent.UPDATE_EXTERNAL_IMAGE);_this._objectId=void 0;_this._photoData=void 0;_this._objectId=objectId;_this._photoData=photoData;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateExternalImageEvent,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"photoData\",get:function get(){return this._photoData;}}]);return RoomWidgetUpdateExternalImageEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateExternalImageEvent_RoomWidgetUpdateExternalImageEvent.UPDATE_EXTERNAL_IMAGE='RWUEIE_UPDATE_EXTERNAL_IMAGE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateInfostandEvent.ts\nvar RoomWidgetUpdateInfostandEvent_RoomWidgetUpdateInfostandEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateInfostandEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateInfostandEvent);function RoomWidgetUpdateInfostandEvent(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateInfostandEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(RoomWidgetUpdateInfostandEvent);}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateInfostandFurniEvent.ts\nvar RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent=/*#__PURE__*/function(_RoomWidgetUpdateInfo){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateInfostandFurniEvent,_RoomWidgetUpdateInfo);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateInfostandFurniEvent);function RoomWidgetUpdateInfostandFurniEvent(){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateInfostandFurniEvent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.id=0;_this.category=0;_this.name='';_this.description='';_this.image=null;_this.isWallItem=false;_this.isStickie=false;_this.isRoomOwner=false;_this.roomControllerLevel=0;_this.isAnyRoomController=false;_this.expiration=-1;_this.purchaseCatalogPageId=-1;_this.purchaseOfferId=-1;_this.extraParam='';_this.isOwner=false;_this.stuffData=null;_this.groupId=0;_this.ownerId=0;_this.ownerName='';_this.usagePolicy=0;_this.rentCatalogPageId=-1;_this.rentOfferId=-1;_this.purchaseCouldBeUsedForBuyout=false;_this.rentCouldBeUsedForBuyout=false;_this.availableForBuildersClub=false;_this.tileSizeX=1;_this.tileSizeY=1;return _this;}return Object(createClass[\"a\" /* default */])(RoomWidgetUpdateInfostandFurniEvent);}(RoomWidgetUpdateInfostandEvent_RoomWidgetUpdateInfostandEvent);RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent.FURNI='RWUIFE_FURNI';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateInfostandPetEvent.ts\nvar RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent=/*#__PURE__*/function(_RoomWidgetUpdateInfo){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateInfostandPetEvent,_RoomWidgetUpdateInfo);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateInfostandPetEvent);function RoomWidgetUpdateInfostandPetEvent(){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateInfostandPetEvent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.level=0;_this.maximumLevel=0;_this.experience=0;_this.levelExperienceGoal=0;_this.energy=0;_this.maximumEnergy=0;_this.happyness=0;_this.maximumHappyness=0;_this.respectsPetLeft=0;_this.respect=0;_this.age=0;_this.name='';_this.id=-1;_this.image=null;_this.petType=0;_this.petBreed=0;_this.petFigure='';_this.posture='std';_this.isOwner=false;_this.ownerId=-1;_this.ownerName='';_this.canRemovePet=false;_this.roomIndex=0;_this.unknownRarityLevel=0;_this.saddle=false;_this.rider=false;_this.breedable=false;_this.skillTresholds=[];_this.publiclyRideable=0;_this.fullyGrown=false;_this.dead=false;_this.rarityLevel=0;_this.maximumTimeToLive=0;_this.remainingTimeToLive=0;_this.remainingGrowTime=0;_this.publiclyBreedable=false;return _this;}return Object(createClass[\"a\" /* default */])(RoomWidgetUpdateInfostandPetEvent);}(RoomWidgetUpdateInfostandEvent_RoomWidgetUpdateInfostandEvent);RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent.PET_INFO='RWUIPE_PET_INFO';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateInfostandRentableBotEvent.ts\nvar RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent=/*#__PURE__*/function(_RoomWidgetUpdateInfo){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateInfostandRentableBotEvent,_RoomWidgetUpdateInfo);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateInfostandRentableBotEvent);function RoomWidgetUpdateInfostandRentableBotEvent(){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateInfostandRentableBotEvent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.name='';_this.motto='';_this.webID=0;_this.figure='';_this.badges=[];_this.carryItem=0;_this.roomIndex=0;_this.amIOwner=false;_this.amIAnyRoomController=false;_this.roomControllerLevel=0;_this.ownerId=-1;_this.ownerName='';_this.botSkills=[];return _this;}return Object(createClass[\"a\" /* default */])(RoomWidgetUpdateInfostandRentableBotEvent);}(RoomWidgetUpdateInfostandEvent_RoomWidgetUpdateInfostandEvent);RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent.RENTABLE_BOT='RWUIRBE_RENTABLE_BOT';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateInfostandUserEvent.ts\nvar RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent=/*#__PURE__*/function(_RoomWidgetUpdateInfo){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateInfostandUserEvent,_RoomWidgetUpdateInfo);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateInfostandUserEvent);function RoomWidgetUpdateInfostandUserEvent(){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateInfostandUserEvent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.name='';_this.motto='';_this.achievementScore=0;_this.webID=0;_this.xp=0;_this.userType=-1;_this.figure='';_this.badges=[];_this.groupId=0;_this.groupName='';_this.groupBadgeId='';_this.carryItem=0;_this.roomIndex=0;_this.isSpectatorMode=false;_this.allowNameChange=false;_this.amIOwner=false;_this.amIAnyRoomController=false;_this.roomControllerLevel=0;_this.canBeKicked=false;_this.canBeBanned=false;_this.canBeMuted=false;_this.respectLeft=0;_this.isIgnored=false;_this.isGuildRoom=false;_this.canTrade=false;_this.canTradeReason=0;_this.targetRoomControllerLevel=0;_this.isAmbassador=false;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateInfostandUserEvent,[{key:\"isOwnUser\",get:function get(){return this.type===RoomWidgetUpdateInfostandUserEvent.OWN_USER;}}]);return RoomWidgetUpdateInfostandUserEvent;}(RoomWidgetUpdateInfostandEvent_RoomWidgetUpdateInfostandEvent);RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER='RWUIUE_OWN_USER';RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER='RWUIUE_PEER';RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.BOT='RWUIUE_BOT';RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.TRADE_REASON_OK=0;RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.TRADE_REASON_SHUTDOWN=2;RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.TRADE_REASON_NO_TRADING=3;RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.DEFAULT_BOT_BADGE_ID='BOT';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateMannequinEvent.ts\nvar RoomWidgetUpdateMannequinEvent_RoomWidgetUpdateMannequinEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateMannequinEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateMannequinEvent);function RoomWidgetUpdateMannequinEvent(type,objectId,figure,gender,name){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateMannequinEvent);_this=_super.call(this,type);_this._objectId=void 0;_this._figure=void 0;_this._gender=void 0;_this._name=void 0;_this._objectId=objectId;_this._figure=figure;_this._gender=gender;_this._name=name;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateMannequinEvent,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"figure\",get:function get(){return this._figure;}},{key:\"gender\",get:function get(){return this._gender;}},{key:\"name\",get:function get(){return this._name;}}]);return RoomWidgetUpdateMannequinEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateMannequinEvent_RoomWidgetUpdateMannequinEvent.MANNEQUIN_UPDATE='RWUME_MANNEQUIN_UPDATE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdatePresentDataEvent.ts\nvar RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdatePresentDataEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdatePresentDataEvent);function RoomWidgetUpdatePresentDataEvent(type,objectId,giftMessage){var _this;var isOwnerOfFurniture=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var imageUrl=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var purchaserName=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var purchaserFigure=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdatePresentDataEvent);_this=_super.call(this,type);_this._objectId=-1;_this._classId=0;_this._itemType='';_this._giftMessage='';_this._imageUrl=null;_this._isController=void 0;_this._purchaserName=void 0;_this._purchaserFigure=void 0;_this._placedItemId=-1;_this._placedItemType='';_this._placedInRoom=void 0;_this._objectId=objectId;_this._giftMessage=giftMessage;_this._imageUrl=imageUrl;_this._isController=isOwnerOfFurniture;_this._purchaserName=purchaserName;_this._purchaserFigure=purchaserFigure;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdatePresentDataEvent,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"classId\",get:function get(){return this._classId;},set:function set(classId){this._classId=classId;}},{key:\"itemType\",get:function get(){return this._itemType;},set:function set(type){this._itemType=type;}},{key:\"giftMessage\",get:function get(){return this._giftMessage;}},{key:\"imageUrl\",get:function get(){return this._imageUrl;}},{key:\"isController\",get:function get(){return this._isController;}},{key:\"purchaserName\",get:function get(){return this._purchaserName;}},{key:\"purchaserFigure\",get:function get(){return this._purchaserFigure;}},{key:\"placedItemId\",get:function get(){return this._placedItemId;},set:function set(itemId){this._placedItemId=itemId;}},{key:\"placedInRoom\",get:function get(){return this._placedInRoom;},set:function set(flag){this._placedInRoom=flag;}},{key:\"placedItemType\",get:function get(){return this._placedItemType;},set:function set(type){this._placedItemType=type;}}]);return RoomWidgetUpdatePresentDataEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.PACKAGEINFO='RWUPDE_PACKAGEINFO';RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS='RWUPDE_CONTENTS';RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_CLUB='RWUPDE_CONTENTS_CLUB';RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_FLOOR='RWUPDE_CONTENTS_FLOOR';RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_LANDSCAPE='RWUPDE_CONTENTS_LANDSCAPE';RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_WALLPAPER='RWUPDE_CONTENTS_WALLPAPER';RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_IMAGE='RWUPDE_CONTENTS_IMAGE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateRentableBotChatEvent.ts\nvar RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateRentableBotChatEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateRentableBotChatEvent);function RoomWidgetUpdateRentableBotChatEvent(objectId,category,botId,chat,automaticChat,chatDelay,mixSentences){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateRentableBotChatEvent);_this=_super.call(this,RoomWidgetUpdateRentableBotChatEvent.UPDATE_CHAT);_this._objectId=void 0;_this._category=void 0;_this._botId=void 0;_this._chat=void 0;_this._automaticChat=void 0;_this._chatDelay=void 0;_this._mixSentences=void 0;_this._objectId=objectId;_this._category=category;_this._botId=botId;_this._chat=chat;_this._automaticChat=automaticChat;_this._chatDelay=chatDelay;_this._mixSentences=mixSentences;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateRentableBotChatEvent,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"category\",get:function get(){return this._category;}},{key:\"botId\",get:function get(){return this._botId;}},{key:\"chat\",get:function get(){return this._chat;}},{key:\"automaticChat\",get:function get(){return this._automaticChat;}},{key:\"chatDelay\",get:function get(){return this._chatDelay;}},{key:\"mixSentences\",get:function get(){return this._mixSentences;}}]);return RoomWidgetUpdateRentableBotChatEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent.UPDATE_CHAT='RWURBCE_UPDATE_CHAT';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateRoomEngineEvent.ts\nvar RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateRoomEngineEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateRoomEngineEvent);function RoomWidgetUpdateRoomEngineEvent(type,roomId){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateRoomEngineEvent);_this=_super.call(this,type);_this._roomId=0;_this._roomId=roomId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateRoomEngineEvent,[{key:\"roomId\",get:function get(){return this._roomId;}}]);return RoomWidgetUpdateRoomEngineEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent.GAME_MODE='RWUREE_GAME_MODE';RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent.NORMAL_MODE='RWUREE_NORMAL_MODE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateRoomObjectEvent.ts\nvar RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateRoomObjectEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateRoomObjectEvent);function RoomWidgetUpdateRoomObjectEvent(type,id,category,roomId){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateRoomObjectEvent);_this=_super.call(this,type);_this._id=void 0;_this._category=void 0;_this._roomId=void 0;_this._id=id;_this._category=category;_this._roomId=roomId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateRoomObjectEvent,[{key:\"id\",get:function get(){return this._id;}},{key:\"category\",get:function get(){return this._category;}},{key:\"roomId\",get:function get(){return this._roomId;}}]);return RoomWidgetUpdateRoomObjectEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_SELECTED='RWUROE_OBJECT_SELECTED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED='RWUROE_OBJECT_DESELECTED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED='RWUROE_USER_REMOVED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED='RWUROE_FURNI_REMOVED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_ADDED='RWUROE_FURNI_ADDED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED='RWUROE_USER_ADDED';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OVER='RWUROE_OBJECT_ROLL_OVER';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OUT='RWUROE_OBJECT_ROLL_OUT';RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_REQUEST_MANIPULATION='RWUROE_OBJECT_REQUEST_MANIPULATION';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateSongEvent.ts\nvar RoomWidgetUpdateSongEvent_RoomWidgetUpdateSongEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateSongEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateSongEvent);function RoomWidgetUpdateSongEvent(type,songId,songName,songAuthor){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateSongEvent);_this=_super.call(this,type);_this._songId=void 0;_this._songName=void 0;_this._songAuthor=void 0;_this._songId=songId;_this._songName=songName;_this._songAuthor=songAuthor;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateSongEvent,[{key:\"songId\",get:function get(){return this._songId;}},{key:\"songName\",get:function get(){return this._songName;}},{key:\"songAuthor\",get:function get(){return this._songAuthor;}}]);return RoomWidgetUpdateSongEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateSongEvent_RoomWidgetUpdateSongEvent.PLAYING_CHANGED='RWUSE_PLAYING_CHANGED';RoomWidgetUpdateSongEvent_RoomWidgetUpdateSongEvent.DATA_RECEIVED='RWUSE_DATA_RECEIVED';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateTrophyEvent.ts\nvar RoomWidgetUpdateTrophyEvent_RoomWidgetUpdateTrophyEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateTrophyEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateTrophyEvent);function RoomWidgetUpdateTrophyEvent(type,color,name,date,message,extra){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateTrophyEvent);_this=_super.call(this,type);_this._color=void 0;_this._name=void 0;_this._date=void 0;_this._message=void 0;_this._extra=void 0;_this._color=color;_this._name=name;_this._date=date;_this._message=message;_this._extra=extra;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateTrophyEvent,[{key:\"color\",get:function get(){return this._color;}},{key:\"name\",get:function get(){return this._name;}},{key:\"date\",get:function get(){return this._date;}},{key:\"message\",get:function get(){return this._message;}},{key:\"extra\",get:function get(){return this._extra;}}]);return RoomWidgetUpdateTrophyEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateTrophyEvent_RoomWidgetUpdateTrophyEvent.TROPHY_UPDATE='RWUTE_TROPHY_UPDATE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateUserDataEvent.ts\nvar RoomWidgetUpdateUserDataEvent_RoomWidgetUpdateUserDataEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateUserDataEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateUserDataEvent);function RoomWidgetUpdateUserDataEvent(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateUserDataEvent);return _super.call(this,RoomWidgetUpdateUserDataEvent.USER_DATA_UPDATED);}return Object(createClass[\"a\" /* default */])(RoomWidgetUpdateUserDataEvent);}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateUserDataEvent_RoomWidgetUpdateUserDataEvent.USER_DATA_UPDATED='RWUUDE_USER_DATA_UPDATED';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUpdateYoutubeDisplayEvent.ts\nvar RoomWidgetUpdateYoutubeDisplayEvent_RoomWidgetUpdateYoutubeDisplayEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUpdateYoutubeDisplayEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUpdateYoutubeDisplayEvent);function RoomWidgetUpdateYoutubeDisplayEvent(objectId){var _this;var hasControl=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUpdateYoutubeDisplayEvent);_this=_super.call(this,RoomWidgetUpdateYoutubeDisplayEvent.UPDATE_YOUTUBE_DISPLAY);_this._objectId=void 0;_this._hasControl=void 0;_this._objectId=objectId;_this._hasControl=hasControl;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUpdateYoutubeDisplayEvent,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"hasControl\",get:function get(){return this._hasControl;}}]);return RoomWidgetUpdateYoutubeDisplayEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUpdateYoutubeDisplayEvent_RoomWidgetUpdateYoutubeDisplayEvent.UPDATE_YOUTUBE_DISPLAY='RWUEIE_UPDATE_YOUTUBE_DISPLAY';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetUseProductBubbleEvent.ts\nvar RoomWidgetUseProductBubbleEvent_RoomWidgetUseProductBubbleEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetUseProductBubbleEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUseProductBubbleEvent);function RoomWidgetUseProductBubbleEvent(type,items){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUseProductBubbleEvent);_this=_super.call(this,type);_this._items=void 0;_this._items=items;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUseProductBubbleEvent,[{key:\"items\",get:function get(){return this._items;}}]);return RoomWidgetUseProductBubbleEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetUseProductBubbleEvent_RoomWidgetUseProductBubbleEvent.USE_PRODUCT_BUBBLES='RWUPBE_USE_PRODUCT_BUBBLES';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/RoomWidgetWordQuizUpdateEvent.ts\nvar RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent=/*#__PURE__*/function(_RoomWidgetUpdateEven){Object(inherits[\"a\" /* default */])(RoomWidgetWordQuizUpdateEvent,_RoomWidgetUpdateEven);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetWordQuizUpdateEvent);function RoomWidgetWordQuizUpdateEvent(type,id){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetWordQuizUpdateEvent);_this=_super.call(this,type);_this._id=-1;_this._pollType=null;_this._pollId=-1;_this._questionId=-1;_this._duration=-1;_this._question=null;_this._userId=-1;_this._value=void 0;_this._answerCounts=void 0;_this._id=id;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetWordQuizUpdateEvent,[{key:\"id\",get:function get(){return this._id;}},{key:\"pollType\",get:function get(){return this._pollType;},set:function set(k){this._pollType=k;}},{key:\"pollId\",get:function get(){return this._pollId;},set:function set(k){this._pollId=k;}},{key:\"questionId\",get:function get(){return this._questionId;},set:function set(k){this._questionId=k;}},{key:\"duration\",get:function get(){return this._duration;},set:function set(k){this._duration=k;}},{key:\"question\",get:function get(){return this._question;},set:function set(k){this._question=k;}},{key:\"userId\",get:function get(){return this._userId;},set:function set(k){this._userId=k;}},{key:\"value\",get:function get(){return this._value;},set:function set(k){this._value=k;}},{key:\"answerCounts\",get:function get(){return this._answerCounts;},set:function set(k){this._answerCounts=k;}}]);return RoomWidgetWordQuizUpdateEvent;}(RoomWidgetUpdateEvent_RoomWidgetUpdateEvent);RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.NEW_QUESTION='RWPUW_NEW_QUESTION';RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.QUESTION_FINISHED='RWPUW_QUESION_FINSIHED';RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.QUESTION_ANSWERED='RWPUW_QUESTION_ANSWERED';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/UseProductItem.ts\nvar UseProductItem_UseProductItem=/*#__PURE__*/function(){function UseProductItem(id,category,name,requestRoomObjectId,targetRoomObjectId,requestInventoryStripId,replace){Object(classCallCheck[\"a\" /* default */])(this,UseProductItem);this._id=void 0;this._category=void 0;this._name=void 0;this._requestRoomObjectId=void 0;this._targetRoomObjectId=void 0;this._requestInventoryStripId=void 0;this._replace=void 0;this._id=id;this._category=category;this._name=name;this._requestRoomObjectId=requestRoomObjectId;this._requestInventoryStripId=requestInventoryStripId;this._replace=replace;}Object(createClass[\"a\" /* default */])(UseProductItem,[{key:\"id\",get:function get(){return this._id;}},{key:\"category\",get:function get(){return this._category;}},{key:\"name\",get:function get(){return this._name;}},{key:\"requestRoomObjectId\",get:function get(){return this._requestRoomObjectId;}},{key:\"requestInventoryStripId\",get:function get(){return this._requestInventoryStripId;}},{key:\"replace\",get:function get(){return this._replace;}}]);return UseProductItem;}();\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/events/index.ts\n\n// CONCATENATED MODULE: ./src/api/utils/CloneObject.ts\nvar CloneObject=function CloneObject(object){if(object==null||'object'!=typeof object)return object;// @ts-ignore\nvar copy=new object.constructor();for(var attr in object){if(object.hasOwnProperty(attr))copy[attr]=object[attr];}return copy;};\n// CONCATENATED MODULE: ./src/api/utils/ColorUtils.ts\nvar ColorUtils_ColorUtils=/*#__PURE__*/function(){function ColorUtils(){Object(classCallCheck[\"a\" /* default */])(this,ColorUtils);}Object(createClass[\"a\" /* default */])(ColorUtils,null,[{key:\"makeColorHex\",value:function makeColorHex(color){return'#'+color;}},{key:\"makeColorNumberHex\",value:function makeColorNumberHex(color){var val=color.toString(16);if(val.length<6){var diff=6-val.length;for(var i=0;i<diff;i++){val='0'+val;}}return'#'+val;}},{key:\"convertFromHex\",value:function convertFromHex(color){return parseInt(color.replace('#',''),16);}}]);return ColorUtils;}();\n// CONCATENATED MODULE: ./src/api/utils/LocalizeBadgeDescription.ts\nvar LocalizeBadgeDescription_LocalizeBadgeDescription=function LocalizeBadgeDescription(key){var badgeDesc=GetNitroInstance().localization.getBadgeDesc(key);if(!badgeDesc||!badgeDesc.length)badgeDesc=\"badge_desc_\".concat(key);return badgeDesc;};\n// CONCATENATED MODULE: ./src/api/utils/LocalizeBageName.ts\nvar LocalizeBageName_LocalizeBadgeName=function LocalizeBadgeName(key){var badgeName=GetNitroInstance().localization.getBadgeName(key);if(!badgeName||!badgeName.length)badgeName=\"badge_name_\".concat(key);return badgeName;};\n// CONCATENATED MODULE: ./src/api/utils/LocalizeFormattedNumber.ts\nfunction LocalizeFormattedNumber(number){if(!number||isNaN(number))return'0';return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,' ');};\n// CONCATENATED MODULE: ./src/api/utils/LocalizeShortNumber.ts\nfunction LocalizeShortNumber(number){if(!number||isNaN(number))return'0';var abs=Math.abs(number);var rounder=Math.pow(10,1);var isNegative=number<0;var key='';var powers=[{key:'Q',value:Math.pow(10,15)},{key:'T',value:Math.pow(10,12)},{key:'B',value:Math.pow(10,9)},{key:'M',value:Math.pow(10,6)},{key:'K',value:1000}];for(var _i=0,_powers=powers;_i<_powers.length;_i++){var power=_powers[_i];var reduced=abs/power.value;reduced=Math.round(reduced*rounder)/rounder;if(reduced>=1){abs=reduced;key=power.key;break;}}return(isNegative?'-':'')+abs+key;}\n// CONCATENATED MODULE: ./src/api/utils/LocalizeText.ts\nfunction LocalizeText(key){var parameters=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var replacements=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return GetNitroInstance().getLocalizationWithParameters(key,parameters,replacements);}\n// CONCATENATED MODULE: ./src/api/utils/LocalStorageKeys.ts\nvar LocalStorageKeys_LocalStorageKeys=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function LocalStorageKeys(){Object(classCallCheck[\"a\" /* default */])(this,LocalStorageKeys);});LocalStorageKeys_LocalStorageKeys.CATALOG_PLACE_MULTIPLE_OBJECTS='catalogPlaceMultipleObjects';LocalStorageKeys_LocalStorageKeys.CATALOG_SKIP_PURCHASE_CONFIRMATION='catalogSkipPurchaseConfirmation';\n// EXTERNAL MODULE: ./node_modules/@nitrots/nitro-renderer/src/nitro/events/NitroSoundEvent.ts\nvar NitroSoundEvent = __webpack_require__(58);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/hooks/messages/UseMessageEventHook.tsx\nfunction UseMessageEventHook(eventType,handler){Object(react[\"useEffect\"])(function(){//@ts-ignore\nvar event=new eventType(handler);GetCommunication().registerMessageEvent(event);return function(){return GetCommunication().removeMessageEvent(event);};},[eventType,handler]);}\n// CONCATENATED MODULE: ./src/hooks/messages/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/achievements/useAchievements.ts\nvar useAchievements_useAchievementsState=function useAchievementsState(){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),needsUpdate=_useState2[0],setNeedsUpdate=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),achievementCategories=_useState4[0],setAchievementCategories=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedCategoryCode=_useState6[0],setSelectedCategoryCode=_useState6[1];var _useState7=Object(react[\"useState\"])(-1),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),selectedAchievementId=_useState8[0],setSelectedAchievementId=_useState8[1];var _useState9=Object(react[\"useState\"])(0),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),achievementScore=_useState10[0],setAchievementScore=_useState10[1];var getTotalUnseen=Object(react[\"useMemo\"])(function(){var unseen=0;achievementCategories.forEach(function(category){return unseen+=GetAchievementCategoryTotalUnseen_GetAchievementCategoryTotalUnseen(category);});return unseen;},[achievementCategories]);var getProgress=Object(react[\"useMemo\"])(function(){var progress=0;achievementCategories.forEach(function(category){return progress+=category.getProgress();});return progress;},[achievementCategories]);var getMaxProgress=Object(react[\"useMemo\"])(function(){var progress=0;achievementCategories.forEach(function(category){return progress+=category.getMaxProgress();});return progress;},[achievementCategories]);var scaledProgressPercent=Object(react[\"useMemo\"])(function(){return~~((getProgress-0)*(100-0)/(getMaxProgress-0)+0);},[getProgress,getMaxProgress]);var setAchievementSeen=Object(react[\"useCallback\"])(function(categoryCode,achievementId){setAchievementCategories(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(newValue),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var category=_step.value;if(category.code!==categoryCode)continue;var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(category.achievements),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var achievement=_step2.value;if(achievement.achievementId!==achievementId)continue;achievement.unseen=0;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return newValue;});},[]);var onAchievementEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var achievement=parser.achievement;setAchievementCategories(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var categoryIndex=newValue.findIndex(function(existing){return existing.code===achievement.category;});if(categoryIndex===-1){var category=new AchievementCategory_AchievementCategory(achievement.category);category.achievements.push(achievement);newValue.push(category);}else{var _category=CloneObject(newValue[categoryIndex]);var newAchievements=Object(toConsumableArray[\"a\" /* default */])(_category.achievements);var achievementIndex=newAchievements.findIndex(function(existing){return existing.achievementId===achievement.achievementId;});var previousAchievement=null;if(achievementIndex===-1){newAchievements.push(achievement);}else{previousAchievement=newAchievements[achievementIndex];newAchievements[achievementIndex]=achievement;}if(!GetAchievementIsIgnored_GetAchievementIsIgnored(achievement)){achievement.unseen++;if(previousAchievement)achievement.unseen+=previousAchievement.unseen;}_category.achievements=newAchievements;newValue[categoryIndex]=_category;}return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"b\" /* AchievementEvent */],onAchievementEvent);var onAchievementsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var categories=[];var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.achievements),_step3;try{var _loop=function _loop(){var achievement=_step3.value;var categoryName=achievement.category;var existing=categories.find(function(category){return category.code===categoryName;});if(!existing){existing=new AchievementCategory_AchievementCategory(categoryName);categories.push(existing);}existing.achievements.push(achievement);};for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop();}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}setAchievementCategories(categories);},[]);UseMessageEventHook(nitro_renderer[\"d\" /* AchievementsEvent */],onAchievementsEvent);var onAchievementsScoreEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setAchievementScore(parser.score);},[]);UseMessageEventHook(nitro_renderer[\"e\" /* AchievementsScoreEvent */],onAchievementsScoreEvent);Object(react[\"useEffect\"])(function(){if(!needsUpdate)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Kf\" /* RequestAchievementsMessageComposer */]());setNeedsUpdate(false);},[needsUpdate]);return{achievementCategories:achievementCategories,selectedCategoryCode:selectedCategoryCode,setSelectedCategoryCode:setSelectedCategoryCode,selectedAchievementId:selectedAchievementId,setSelectedAchievementId:setSelectedAchievementId,achievementScore:achievementScore,getTotalUnseen:getTotalUnseen,getProgress:getProgress,getMaxProgress:getMaxProgress,scaledProgressPercent:scaledProgressPercent,setAchievementSeen:setAchievementSeen};};var useAchievements=useAchievements_useAchievementsState;\n// CONCATENATED MODULE: ./src/hooks/achievements/index.ts\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/use-between/release/index.esm.js\nvar index_esm = __webpack_require__(36);\n\n// CONCATENATED MODULE: ./src/events/catalog/CatalogEvent.ts\nvar CatalogEvent_CatalogEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(CatalogEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogEvent);function CatalogEvent(){Object(classCallCheck[\"a\" /* default */])(this,CatalogEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(CatalogEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);CatalogEvent_CatalogEvent.SHOW_CATALOG='CE_SHOW_CATALOG';CatalogEvent_CatalogEvent.HIDE_CATALOG='CE_HIDE_CATALOG';CatalogEvent_CatalogEvent.TOGGLE_CATALOG='CE_TOGGLE_CATALOG';CatalogEvent_CatalogEvent.SOLD_OUT='CE_SOLD_OUT';CatalogEvent_CatalogEvent.APPROVE_NAME_RESULT='CE_APPROVE_NAME_RESULT';CatalogEvent_CatalogEvent.PURCHASE_APPROVED='CE_PURCHASE_APPROVED';CatalogEvent_CatalogEvent.INIT_GIFT='CE_INIT_GIFT';CatalogEvent_CatalogEvent.CATALOG_RESET='CE_RESET';CatalogEvent_CatalogEvent.CATALOG_INVISIBLE_PAGE_VISITED='CE_CATALOG_INVISIBLE_PAGE_VISITED';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogInitGiftEvent.ts\nvar CatalogInitGiftEvent_CatalogInitGiftEvent=/*#__PURE__*/function(_CatalogEvent){Object(inherits[\"a\" /* default */])(CatalogInitGiftEvent,_CatalogEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogInitGiftEvent);function CatalogInitGiftEvent(pageId,offerId,extraData){var _this;Object(classCallCheck[\"a\" /* default */])(this,CatalogInitGiftEvent);_this=_super.call(this,CatalogEvent_CatalogEvent.INIT_GIFT);_this._pageId=void 0;_this._offerId=void 0;_this._extraData=void 0;_this._pageId=pageId;_this._offerId=offerId;_this._extraData=extraData;return _this;}Object(createClass[\"a\" /* default */])(CatalogInitGiftEvent,[{key:\"pageId\",get:function get(){return this._pageId;}},{key:\"offerId\",get:function get(){return this._offerId;}},{key:\"extraData\",get:function get(){return this._extraData;}}]);return CatalogInitGiftEvent;}(CatalogEvent_CatalogEvent);\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPostMarketplaceOfferEvent.ts\nvar CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent=/*#__PURE__*/function(_CatalogEvent){Object(inherits[\"a\" /* default */])(CatalogPostMarketplaceOfferEvent,_CatalogEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogPostMarketplaceOfferEvent);function CatalogPostMarketplaceOfferEvent(item){var _this;Object(classCallCheck[\"a\" /* default */])(this,CatalogPostMarketplaceOfferEvent);_this=_super.call(this,CatalogPostMarketplaceOfferEvent.POST_MARKETPLACE);_this._item=void 0;_this._item=item;return _this;}Object(createClass[\"a\" /* default */])(CatalogPostMarketplaceOfferEvent,[{key:\"item\",get:function get(){return this._item;}}]);return CatalogPostMarketplaceOfferEvent;}(CatalogEvent_CatalogEvent);CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent.POST_MARKETPLACE='CE_POST_MARKETPLACE';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchasedEvent.ts\nvar CatalogPurchasedEvent_CatalogPurchasedEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(CatalogPurchasedEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogPurchasedEvent);function CatalogPurchasedEvent(purchase){var _this;Object(classCallCheck[\"a\" /* default */])(this,CatalogPurchasedEvent);_this=_super.call(this,CatalogPurchasedEvent.PURCHASE_SUCCESS);_this._purchase=void 0;_this._purchase=purchase;return _this;}Object(createClass[\"a\" /* default */])(CatalogPurchasedEvent,[{key:\"purchase\",get:function get(){return this._purchase;}}]);return CatalogPurchasedEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS='CPE_PURCHASE_SUCCESS';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchaseFailureEvent.ts\nvar CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(CatalogPurchaseFailureEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogPurchaseFailureEvent);function CatalogPurchaseFailureEvent(code){var _this;Object(classCallCheck[\"a\" /* default */])(this,CatalogPurchaseFailureEvent);_this=_super.call(this,CatalogPurchaseFailureEvent.PURCHASE_FAILED);_this._code=void 0;_this._code=code;return _this;}Object(createClass[\"a\" /* default */])(CatalogPurchaseFailureEvent,[{key:\"code\",get:function get(){return this._code;}}]);return CatalogPurchaseFailureEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED='CPFE_PURCHASE_FAILED';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchaseNotAllowedEvent.ts\nvar CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(CatalogPurchaseNotAllowedEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogPurchaseNotAllowedEvent);function CatalogPurchaseNotAllowedEvent(code){var _this;Object(classCallCheck[\"a\" /* default */])(this,CatalogPurchaseNotAllowedEvent);_this=_super.call(this,CatalogPurchaseNotAllowedEvent.NOT_ALLOWED);_this._code=void 0;_this._code=code;return _this;}Object(createClass[\"a\" /* default */])(CatalogPurchaseNotAllowedEvent,[{key:\"code\",get:function get(){return this._code;}}]);return CatalogPurchaseNotAllowedEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent.NOT_ALLOWED='CPNAE_NOT_ALLOWED';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogWidgetEvent.ts\nvar CatalogWidgetEvent_CatalogWidgetEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(CatalogWidgetEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogWidgetEvent);function CatalogWidgetEvent(){Object(classCallCheck[\"a\" /* default */])(this,CatalogWidgetEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(CatalogWidgetEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);CatalogWidgetEvent_CatalogWidgetEvent.WIDGETS_INITIALIZED='CWE_CWE_WIDGETS_INITIALIZED';CatalogWidgetEvent_CatalogWidgetEvent.SELECT_PRODUCT='CWE_SELECT_PRODUCT';CatalogWidgetEvent_CatalogWidgetEvent.SET_EXTRA_PARM='CWE_CWE_SET_EXTRA_PARM';CatalogWidgetEvent_CatalogWidgetEvent.PURCHASE='CWE_PURCHASE';CatalogWidgetEvent_CatalogWidgetEvent.COLOUR_ARRAY='CWE_COLOUR_ARRAY';CatalogWidgetEvent_CatalogWidgetEvent.MULTI_COLOUR_ARRAY='CWE_MULTI_COLOUR_ARRAY';CatalogWidgetEvent_CatalogWidgetEvent.COLOUR_INDEX='CWE_COLOUR_INDEX';CatalogWidgetEvent_CatalogWidgetEvent.TEXT_INPUT='CWE_TEXT_INPUT';CatalogWidgetEvent_CatalogWidgetEvent.DROPMENU_SELECT='CWE_CWE_DROPMENU_SELECT';CatalogWidgetEvent_CatalogWidgetEvent.PURCHASE_OVERRIDE='CWE_PURCHASE_OVERRIDE';CatalogWidgetEvent_CatalogWidgetEvent.SELLABLE_PET_PALETTES='CWE_SELLABLE_PET_PALETTES';CatalogWidgetEvent_CatalogWidgetEvent.UPDATE_ROOM_PREVIEW='CWE_UPDATE_ROOM_PREVIEW';CatalogWidgetEvent_CatalogWidgetEvent.GUILD_SELECTED='CWE_GUILD_SELECTED';CatalogWidgetEvent_CatalogWidgetEvent.TOTAL_PRICE_WIDGET_INITIALIZED='CWE_TOTAL_PRICE_WIDGET_INITIALIZED';CatalogWidgetEvent_CatalogWidgetEvent.PRODUCT_OFFER_UPDATED='CWE_CWE_PRODUCT_OFFER_UPDATED';CatalogWidgetEvent_CatalogWidgetEvent.SET_PREVIEWER_STUFFDATA='CWE_CWE_SET_PREVIEWER_STUFFDATA';CatalogWidgetEvent_CatalogWidgetEvent.EXTRA_PARAM_REQUIRED_FOR_BUY='CWE_CWE_EXTRA_PARAM_REQUIRED_FOR_BUY';CatalogWidgetEvent_CatalogWidgetEvent.TOGGLE='CWE_CWE_TOGGLE';CatalogWidgetEvent_CatalogWidgetEvent.BUILDER_SUBSCRIPTION_UPDATED='CWE_CWE_BUILDER_SUBSCRIPTION_UPDATED';CatalogWidgetEvent_CatalogWidgetEvent.ROOM_CHANGED='CWE_CWE_ROOM_CHANGED';CatalogWidgetEvent_CatalogWidgetEvent.SHOW_WARNING_TEXT='CWE_CWE_SHOW_WARNING_TEXT';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchaseOverrideEvent.ts\nvar CatalogPurchaseOverrideEvent_CatalogPurchaseOverrideEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(CatalogPurchaseOverrideEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogPurchaseOverrideEvent);function CatalogPurchaseOverrideEvent(callback){var _this;Object(classCallCheck[\"a\" /* default */])(this,CatalogPurchaseOverrideEvent);_this=_super.call(this,CatalogWidgetEvent_CatalogWidgetEvent.PURCHASE_OVERRIDE);_this._callback=void 0;_this._callback=callback;return _this;}Object(createClass[\"a\" /* default */])(CatalogPurchaseOverrideEvent,[{key:\"callback\",get:function get(){return this._callback;}}]);return CatalogPurchaseOverrideEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);\n// CONCATENATED MODULE: ./src/events/catalog/CatalogPurchaseSoldOutEvent.ts\nvar CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(CatalogPurchaseSoldOutEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogPurchaseSoldOutEvent);function CatalogPurchaseSoldOutEvent(){Object(classCallCheck[\"a\" /* default */])(this,CatalogPurchaseSoldOutEvent);return _super.call(this,CatalogPurchaseSoldOutEvent.SOLD_OUT);}return Object(createClass[\"a\" /* default */])(CatalogPurchaseSoldOutEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent.SOLD_OUT='CPSOE_SOLD_OUT';\n// CONCATENATED MODULE: ./src/events/catalog/CatalogSetRoomPreviewerStuffDataEvent.ts\nvar CatalogSetRoomPreviewerStuffDataEvent_CatalogSetRoomPreviewerStuffDataEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(CatalogSetRoomPreviewerStuffDataEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(CatalogSetRoomPreviewerStuffDataEvent);function CatalogSetRoomPreviewerStuffDataEvent(stuffData){var _this;Object(classCallCheck[\"a\" /* default */])(this,CatalogSetRoomPreviewerStuffDataEvent);_this=_super.call(this,CatalogWidgetEvent_CatalogWidgetEvent.SET_PREVIEWER_STUFFDATA);_this._stuffData=void 0;_this._stuffData=stuffData;return _this;}Object(createClass[\"a\" /* default */])(CatalogSetRoomPreviewerStuffDataEvent,[{key:\"stuffData\",get:function get(){return this._stuffData;}}]);return CatalogSetRoomPreviewerStuffDataEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);\n// CONCATENATED MODULE: ./src/events/catalog/SetRoomPreviewerStuffDataEvent.ts\nvar SetRoomPreviewerStuffDataEvent_SetRoomPreviewerStuffDataEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(SetRoomPreviewerStuffDataEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(SetRoomPreviewerStuffDataEvent);function SetRoomPreviewerStuffDataEvent(offer,stuffData){var _this;Object(classCallCheck[\"a\" /* default */])(this,SetRoomPreviewerStuffDataEvent);_this=_super.call(this,SetRoomPreviewerStuffDataEvent.UPDATE_STUFF_DATA);_this._offer=void 0;_this._stuffData=void 0;_this._offer=offer;_this._stuffData=stuffData;return _this;}Object(createClass[\"a\" /* default */])(SetRoomPreviewerStuffDataEvent,[{key:\"offer\",get:function get(){return this._offer;}},{key:\"stuffData\",get:function get(){return this._stuffData;}}]);return SetRoomPreviewerStuffDataEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);SetRoomPreviewerStuffDataEvent_SetRoomPreviewerStuffDataEvent.UPDATE_STUFF_DATA='SRPSA_UPDATE_STUFF_DATA';\n// CONCATENATED MODULE: ./src/events/catalog/index.ts\n\n// CONCATENATED MODULE: ./src/events/guide-tool/GuideToolEvent.ts\nvar GuideToolEvent_GuideToolEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(GuideToolEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(GuideToolEvent);function GuideToolEvent(){Object(classCallCheck[\"a\" /* default */])(this,GuideToolEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(GuideToolEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);GuideToolEvent_GuideToolEvent.SHOW_GUIDE_TOOL='GTE_SHOW_GUIDE_TOOL';GuideToolEvent_GuideToolEvent.HIDE_GUIDE_TOOL='GTE_HIDE_GUIDE_TOOL';GuideToolEvent_GuideToolEvent.TOGGLE_GUIDE_TOOL='GTE_TOGGLE_GUIDE_TOOL';GuideToolEvent_GuideToolEvent.CREATE_HELP_REQUEST='GTE_CREATE_HELP_REQUEST';GuideToolEvent_GuideToolEvent.CREATE_BULLY_REQUEST='GTE_CREATE_BULLY_REQUEST';\n// CONCATENATED MODULE: ./src/events/guide-tool/index.ts\n\n// EXTERNAL MODULE: ./node_modules/@nitrots/nitro-renderer/src/core/events/NitroEvent.ts\nvar NitroEvent = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./src/events/help/HelpNameChangeEvent.ts\nvar HelpNameChangeEvent_HelpNameChangeEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(HelpNameChangeEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(HelpNameChangeEvent);function HelpNameChangeEvent(){Object(classCallCheck[\"a\" /* default */])(this,HelpNameChangeEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(HelpNameChangeEvent);}(NitroEvent[\"a\" /* NitroEvent */]);HelpNameChangeEvent_HelpNameChangeEvent.INIT='HC_NAME_CHANGE_INIT';\n// CONCATENATED MODULE: ./src/events/help/HelpReportUserEvent.ts\nvar HelpReportUserEvent_HelpReportUserEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(HelpReportUserEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(HelpReportUserEvent);function HelpReportUserEvent(userId){var _this;Object(classCallCheck[\"a\" /* default */])(this,HelpReportUserEvent);_this=_super.call(this,HelpReportUserEvent.REPORT_USER);_this._reportedUserId=void 0;_this._reportedUserId=userId;return _this;}Object(createClass[\"a\" /* default */])(HelpReportUserEvent,[{key:\"reportedUserId\",get:function get(){return this._reportedUserId;}}]);return HelpReportUserEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);HelpReportUserEvent_HelpReportUserEvent.REPORT_USER='HCE_HELP_CENTER_REPORT_USER';\n// CONCATENATED MODULE: ./src/events/help/index.ts\n\n// CONCATENATED MODULE: ./src/events/inventory/InventoryFurniAddedEvent.ts\nvar InventoryFurniAddedEvent_InventoryFurniAddedEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(InventoryFurniAddedEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(InventoryFurniAddedEvent);function InventoryFurniAddedEvent(id,spriteId,category){var _this;Object(classCallCheck[\"a\" /* default */])(this,InventoryFurniAddedEvent);_this=_super.call(this,InventoryFurniAddedEvent.FURNI_ADDED);_this.id=id;_this.spriteId=spriteId;_this.category=category;return _this;}return Object(createClass[\"a\" /* default */])(InventoryFurniAddedEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);InventoryFurniAddedEvent_InventoryFurniAddedEvent.FURNI_ADDED='IFAE_FURNI_ADDED';\n// CONCATENATED MODULE: ./src/events/inventory/index.ts\n\n// CONCATENATED MODULE: ./src/events/mod-tools/ModToolsEvent.ts\nvar ModToolsEvent_ModToolsEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(ModToolsEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(ModToolsEvent);function ModToolsEvent(){Object(classCallCheck[\"a\" /* default */])(this,ModToolsEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(ModToolsEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);ModToolsEvent_ModToolsEvent.SHOW_MOD_TOOLS='MTE_SHOW_MOD_TOOLS';ModToolsEvent_ModToolsEvent.HIDE_MOD_TOOLS='MTE_HIDE_MOD_TOOLS';ModToolsEvent_ModToolsEvent.TOGGLE_MOD_TOOLS='MTE_TOGGLE_MOD_TOOLS';ModToolsEvent_ModToolsEvent.OPEN_ROOM_INFO='MTE_OPEN_ROOM_INFO';ModToolsEvent_ModToolsEvent.OPEN_ROOM_CHATLOG='MTE_OPEN_ROOM_CHATLOG';ModToolsEvent_ModToolsEvent.OPEN_USER_INFO='MTE_OPEN_USER_INFO';ModToolsEvent_ModToolsEvent.OPEN_USER_CHATLOG='MTE_OPEN_USER_CHATLOG';\n// CONCATENATED MODULE: ./src/events/mod-tools/ModToolsOpenRoomChatlogEvent.ts\nvar ModToolsOpenRoomChatlogEvent_ModToolsOpenRoomChatlogEvent=/*#__PURE__*/function(_ModToolsEvent){Object(inherits[\"a\" /* default */])(ModToolsOpenRoomChatlogEvent,_ModToolsEvent);var _super=Object(createSuper[\"a\" /* default */])(ModToolsOpenRoomChatlogEvent);function ModToolsOpenRoomChatlogEvent(roomId){var _this;Object(classCallCheck[\"a\" /* default */])(this,ModToolsOpenRoomChatlogEvent);_this=_super.call(this,ModToolsEvent_ModToolsEvent.OPEN_ROOM_CHATLOG);_this._roomId=void 0;_this._roomId=roomId;return _this;}Object(createClass[\"a\" /* default */])(ModToolsOpenRoomChatlogEvent,[{key:\"roomId\",get:function get(){return this._roomId;}}]);return ModToolsOpenRoomChatlogEvent;}(ModToolsEvent_ModToolsEvent);\n// CONCATENATED MODULE: ./src/events/mod-tools/ModToolsOpenRoomInfoEvent.ts\nvar ModToolsOpenRoomInfoEvent_ModToolsOpenRoomInfoEvent=/*#__PURE__*/function(_ModToolsEvent){Object(inherits[\"a\" /* default */])(ModToolsOpenRoomInfoEvent,_ModToolsEvent);var _super=Object(createSuper[\"a\" /* default */])(ModToolsOpenRoomInfoEvent);function ModToolsOpenRoomInfoEvent(roomId){var _this;Object(classCallCheck[\"a\" /* default */])(this,ModToolsOpenRoomInfoEvent);_this=_super.call(this,ModToolsEvent_ModToolsEvent.OPEN_ROOM_INFO);_this._roomId=void 0;_this._roomId=roomId;return _this;}Object(createClass[\"a\" /* default */])(ModToolsOpenRoomInfoEvent,[{key:\"roomId\",get:function get(){return this._roomId;}}]);return ModToolsOpenRoomInfoEvent;}(ModToolsEvent_ModToolsEvent);\n// CONCATENATED MODULE: ./src/events/mod-tools/ModToolsOpenUserChatlogEvent.ts\nvar ModToolsOpenUserChatlogEvent_ModToolsOpenUserChatlogEvent=/*#__PURE__*/function(_ModToolsEvent){Object(inherits[\"a\" /* default */])(ModToolsOpenUserChatlogEvent,_ModToolsEvent);var _super=Object(createSuper[\"a\" /* default */])(ModToolsOpenUserChatlogEvent);function ModToolsOpenUserChatlogEvent(userId){var _this;Object(classCallCheck[\"a\" /* default */])(this,ModToolsOpenUserChatlogEvent);_this=_super.call(this,ModToolsEvent_ModToolsEvent.OPEN_USER_CHATLOG);_this._userId=void 0;_this._userId=userId;return _this;}Object(createClass[\"a\" /* default */])(ModToolsOpenUserChatlogEvent,[{key:\"userId\",get:function get(){return this._userId;}}]);return ModToolsOpenUserChatlogEvent;}(ModToolsEvent_ModToolsEvent);\n// CONCATENATED MODULE: ./src/events/mod-tools/ModToolsOpenUserInfoEvent.ts\nvar ModToolsOpenUserInfoEvent_ModToolsOpenUserInfoEvent=/*#__PURE__*/function(_ModToolsEvent){Object(inherits[\"a\" /* default */])(ModToolsOpenUserInfoEvent,_ModToolsEvent);var _super=Object(createSuper[\"a\" /* default */])(ModToolsOpenUserInfoEvent);function ModToolsOpenUserInfoEvent(userId){var _this;Object(classCallCheck[\"a\" /* default */])(this,ModToolsOpenUserInfoEvent);_this=_super.call(this,ModToolsEvent_ModToolsEvent.OPEN_USER_INFO);_this._userId=void 0;_this._userId=userId;return _this;}Object(createClass[\"a\" /* default */])(ModToolsOpenUserInfoEvent,[{key:\"userId\",get:function get(){return this._userId;}}]);return ModToolsOpenUserInfoEvent;}(ModToolsEvent_ModToolsEvent);\n// CONCATENATED MODULE: ./src/events/mod-tools/index.ts\n\n// CONCATENATED MODULE: ./src/events/notification-center/NotificationAlertEvent.ts\nvar NotificationAlertEvent_NotificationAlertEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(NotificationAlertEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(NotificationAlertEvent);function NotificationAlertEvent(messages){var _this;var alertType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var clickUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var clickUrlText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var title=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var imageUrl=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;Object(classCallCheck[\"a\" /* default */])(this,NotificationAlertEvent);_this=_super.call(this,NotificationAlertEvent.ALERT);_this._messages=void 0;_this._alertType=void 0;_this._clickUrl=void 0;_this._clickUrlText=void 0;_this._title=void 0;_this._imageUrl=void 0;_this._messages=messages;_this._alertType=alertType;_this._clickUrl=clickUrl;_this._clickUrlText=clickUrlText;_this._title=title;_this._imageUrl=imageUrl;return _this;}Object(createClass[\"a\" /* default */])(NotificationAlertEvent,[{key:\"messages\",get:function get(){return this._messages;}},{key:\"alertType\",get:function get(){return this._alertType;}},{key:\"clickUrl\",get:function get(){return this._clickUrl;}},{key:\"clickUrlText\",get:function get(){return this._clickUrlText;}},{key:\"title\",get:function get(){return this._title;}},{key:\"imageUrl\",get:function get(){return this._imageUrl;}}]);return NotificationAlertEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);NotificationAlertEvent_NotificationAlertEvent.ALERT='NAE_ALERT';\n// CONCATENATED MODULE: ./src/events/notification-center/NotificationBubbleEvent.ts\nvar NotificationBubbleEvent_NotificationBubbleEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(NotificationBubbleEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(NotificationBubbleEvent);function NotificationBubbleEvent(message,notificationType,imageUrl,linkUrl){var _this;Object(classCallCheck[\"a\" /* default */])(this,NotificationBubbleEvent);_this=_super.call(this,NotificationBubbleEvent.NEW_BUBBLE);_this._message=void 0;_this._notificationType=void 0;_this._imageUrl=void 0;_this._linkUrl=void 0;_this._message=message;_this._notificationType=notificationType;_this._imageUrl=imageUrl;_this._linkUrl=linkUrl;return _this;}Object(createClass[\"a\" /* default */])(NotificationBubbleEvent,[{key:\"message\",get:function get(){return this._message;}},{key:\"notificationType\",get:function get(){return this._notificationType;}},{key:\"imageUrl\",get:function get(){return this._imageUrl;}},{key:\"linkUrl\",get:function get(){return this._linkUrl;}}]);return NotificationBubbleEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);NotificationBubbleEvent_NotificationBubbleEvent.NEW_BUBBLE='NBE_NEW_BUBBLE';\n// CONCATENATED MODULE: ./src/events/notification-center/NotificationCenterAlertEvent.ts\nvar NotificationCenterAlertEvent_NotificationCenterAlertEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(NotificationCenterAlertEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(NotificationCenterAlertEvent);function NotificationCenterAlertEvent(type,message){var _this;var clickUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var headerText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;Object(classCallCheck[\"a\" /* default */])(this,NotificationCenterAlertEvent);_this=_super.call(this,type);_this._message=void 0;_this._clickUrl=void 0;_this._headerText=void 0;_this._message=message;_this._clickUrl=clickUrl;_this._headerText=headerText;return _this;}Object(createClass[\"a\" /* default */])(NotificationCenterAlertEvent,[{key:\"message\",get:function get(){return this._message;}},{key:\"clickUrl\",get:function get(){return this._clickUrl;}},{key:\"headerText\",get:function get(){return this._headerText;}}]);return NotificationCenterAlertEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);NotificationCenterAlertEvent_NotificationCenterAlertEvent.HOTEL_ALERT='NCAE_HOTEL_ALERT';\n// CONCATENATED MODULE: ./src/events/notification-center/NotificationCenterEvent.ts\nvar NotificationCenterEvent_NotificationCenterEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(NotificationCenterEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(NotificationCenterEvent);function NotificationCenterEvent(){Object(classCallCheck[\"a\" /* default */])(this,NotificationCenterEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(NotificationCenterEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);NotificationCenterEvent_NotificationCenterEvent.SHOW_NOTIFICATION_CENTER='NCE_SHOW_NOTIFICATION_CENTER';NotificationCenterEvent_NotificationCenterEvent.HIDE_NOTIFICATION_CENTER='NCE_HIDE_NOTIFICATION_CENTER';NotificationCenterEvent_NotificationCenterEvent.TOGGLE_NOTIFICATION_CENTER='NCE_TOGGLE_NOTIFICATION_CENTER';NotificationCenterEvent_NotificationCenterEvent.ADD_NOTIFICATION='NCE_ADD_NOTIFICATION';\n// CONCATENATED MODULE: ./src/events/notification-center/NotificationConfirmEvent.ts\nvar NotificationConfirmEvent_NotificationConfirmEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(NotificationConfirmEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(NotificationConfirmEvent);function NotificationConfirmEvent(confirmType,message,onConfirm,onCancel,confirmText,cancelText,title){var _this;Object(classCallCheck[\"a\" /* default */])(this,NotificationConfirmEvent);_this=_super.call(this,NotificationConfirmEvent.CONFIRM);_this._confirmType=void 0;_this._message=void 0;_this._onConfirm=void 0;_this._onCancel=void 0;_this._confirmText=void 0;_this._cancelText=void 0;_this._title=void 0;_this._confirmType=confirmType;_this._message=message;_this._onConfirm=onConfirm;_this._onCancel=onCancel;_this._confirmText=confirmText;_this._cancelText=cancelText;_this._title=title;return _this;}Object(createClass[\"a\" /* default */])(NotificationConfirmEvent,[{key:\"confirmType\",get:function get(){return this._confirmType;}},{key:\"message\",get:function get(){return this._message;}},{key:\"onConfirm\",get:function get(){return this._onConfirm;}},{key:\"onCancel\",get:function get(){return this._onCancel;}},{key:\"confirmText\",get:function get(){return this._confirmText;}},{key:\"cancelText\",get:function get(){return this._cancelText;}},{key:\"title\",get:function get(){return this._title;}}]);return NotificationConfirmEvent;}(nitro_renderer[\"Oe\" /* NitroEvent */]);NotificationConfirmEvent_NotificationConfirmEvent.CONFIRM='NCE_CONFIRM';\n// CONCATENATED MODULE: ./src/events/notification-center/index.ts\n\n// CONCATENATED MODULE: ./src/events/room-widgets/thumbnail/RoomWidgetThumbnailEvent.ts\nvar RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(RoomWidgetThumbnailEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetThumbnailEvent);function RoomWidgetThumbnailEvent(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetThumbnailEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(RoomWidgetThumbnailEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.SHOW_THUMBNAIL='NE_SHOW_THUMBNAIL';RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.HIDE_THUMBNAIL='NE_HIDE_THUMBNAIL';RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL='NE_TOGGLE_THUMBNAIL';\n// CONCATENATED MODULE: ./src/events/room-widgets/thumbnail/index.ts\n\n// CONCATENATED MODULE: ./src/events/room-widgets/index.ts\n\n// CONCATENATED MODULE: ./src/events/wired/WiredEvent.ts\nvar WiredEvent_WiredEvent=/*#__PURE__*/function(_NitroEvent){Object(inherits[\"a\" /* default */])(WiredEvent,_NitroEvent);var _super=Object(createSuper[\"a\" /* default */])(WiredEvent);function WiredEvent(){Object(classCallCheck[\"a\" /* default */])(this,WiredEvent);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(WiredEvent);}(nitro_renderer[\"Oe\" /* NitroEvent */]);WiredEvent_WiredEvent.SAVE_WIRED='WE_SAVE_WIRED';\n// CONCATENATED MODULE: ./src/events/wired/WiredSelectObjectEvent.ts\nvar WiredSelectObjectEvent_WiredSelectObjectEvent=/*#__PURE__*/function(_WiredEvent){Object(inherits[\"a\" /* default */])(WiredSelectObjectEvent,_WiredEvent);var _super=Object(createSuper[\"a\" /* default */])(WiredSelectObjectEvent);function WiredSelectObjectEvent(){var _this;var objectId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;var category=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;Object(classCallCheck[\"a\" /* default */])(this,WiredSelectObjectEvent);_this=_super.call(this,WiredSelectObjectEvent.SELECT_OBJECT);_this._objectId=void 0;_this._category=void 0;_this._objectId=objectId;_this._category=category;return _this;}Object(createClass[\"a\" /* default */])(WiredSelectObjectEvent,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"category\",get:function get(){return this._category;}}]);return WiredSelectObjectEvent;}(WiredEvent_WiredEvent);WiredSelectObjectEvent_WiredSelectObjectEvent.SELECT_OBJECT='WE_SELECT_OBJECT';\n// CONCATENATED MODULE: ./src/events/wired/index.ts\n\n// CONCATENATED MODULE: ./src/events/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/events/UseEventDispatcherHook.tsx\nvar UseEventDispatcherHook_UseEventDispatcherHook=function UseEventDispatcherHook(type,eventDispatcher,handler){Object(react[\"useEffect\"])(function(){eventDispatcher.addEventListener(type,handler);return function(){return eventDispatcher.removeEventListener(type,handler);};},[type,eventDispatcher,handler]);};\n// CONCATENATED MODULE: ./src/hooks/events/core/UseCommunicationEvent.tsx\nvar UseCommunicationEvent_UseCommunicationEvent=function UseCommunicationEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetCommunication().events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/core/UseConfigurationEvent.tsx\nvar UseConfigurationEvent_UseConfigurationEvent=function UseConfigurationEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetConfigurationManager().events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/core/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/events/DispatchEventHook.ts\nvar DispatchEventHook=function DispatchEventHook(eventDispatcher,event){return eventDispatcher.dispatchEvent(event);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/DispatchMainEvent.ts\nvar DispatchMainEvent_DispatchMainEvent=function DispatchMainEvent(event){return DispatchEventHook(GetNitroInstance().events,event);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/UseAvatarEvent.tsx\nvar UseAvatarEvent_UseAvatarEvent=function UseAvatarEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetAvatarRenderManager().events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/UseCameraEvent.tsx\nvar UseCameraEvent_UseCameraEvent=function UseCameraEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetNitroInstance().cameraManager.events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/UseLocalizationEvent.tsx\nvar UseLocalizationEvent_UseLocalizationEvent=function UseLocalizationEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetNitroInstance().localization.events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/UseMainEvent.tsx\nvar UseMainEvent_UseMainEvent=function UseMainEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetNitroInstance().events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/UseRoomEngineEvent.tsx\nvar UseRoomEngineEvent_UseRoomEngineEvent=function UseRoomEngineEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetRoomEngine().events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/UseRoomSessionManagerEvent.tsx\nvar UseRoomSessionManagerEvent_UseRoomSessionManagerEvent=function UseRoomSessionManagerEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetRoomSessionManager().events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/UseSessionDataManagerEvent.tsx\nvar UseSessionDataManagerEvent_UseSessionDataManagerEvent=function UseSessionDataManagerEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,GetSessionDataManager().events,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/nitro/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/events/ui/UiEventDispatcher.ts\nvar UI_EVENT_DISPATCHER=new nitro_renderer[\"vb\" /* EventDispatcher */]();\n// CONCATENATED MODULE: ./src/hooks/events/ui/DispatchUiEvent.ts\nvar DispatchUiEvent_DispatchUiEvent=function DispatchUiEvent(event){return DispatchEventHook(UI_EVENT_DISPATCHER,event);};\n// CONCATENATED MODULE: ./src/hooks/events/ui/UseUiEvent.tsx\nvar UseUiEvent_UseUiEvent=function UseUiEvent(type,handler){return UseEventDispatcherHook_UseEventDispatcherHook(type,UI_EVENT_DISPATCHER,handler);};\n// CONCATENATED MODULE: ./src/hooks/events/ui/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/events/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/useLocalStorage.ts\nvar useLocalStorage_useLocalStorageState=function useLocalStorageState(key,initialValue){var _useState=Object(react[\"useState\"])(function(){if(typeof window==='undefined')return initialValue;try{var item=window.localStorage.getItem(key);return item?JSON.parse(item):initialValue;}catch(error){return initialValue;}}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),storedValue=_useState2[0],setStoredValuie=_useState2[1];var setValue=function setValue(value){try{var valueToStore=value instanceof Function?value(storedValue):value;setStoredValuie(valueToStore);if(typeof window!=='undefined')window.localStorage.setItem(key,JSON.stringify(valueToStore));}catch(error){nitro_renderer[\"Re\" /* NitroLogger */].error(error);}};return[storedValue,setValue];};var useLocalStorage=useLocalStorage_useLocalStorageState;\n// CONCATENATED MODULE: ./src/hooks/catalog/useCatalogPlaceMultipleItems.ts\nvar useCatalogPlaceMultipleItems_useCatalogPlaceMultipleItemsState=function useCatalogPlaceMultipleItemsState(){return useLocalStorage(LocalStorageKeys_LocalStorageKeys.CATALOG_PLACE_MULTIPLE_OBJECTS,false);};var useCatalogPlaceMultipleItems_useCatalogPlaceMultipleItems=function useCatalogPlaceMultipleItems(){return Object(index_esm[\"a\" /* useBetween */])(useCatalogPlaceMultipleItems_useCatalogPlaceMultipleItemsState);};\n// CONCATENATED MODULE: ./src/hooks/catalog/useCatalogSkipPurchaseConfirmation.ts\nvar useCatalogSkipPurchaseConfirmation_useCatalogSkipPurchaseConfirmationState=function useCatalogSkipPurchaseConfirmationState(){return useLocalStorage(LocalStorageKeys_LocalStorageKeys.CATALOG_SKIP_PURCHASE_CONFIRMATION,false);};var useCatalogSkipPurchaseConfirmation_useCatalogSkipPurchaseConfirmation=function useCatalogSkipPurchaseConfirmation(){return Object(index_esm[\"a\" /* useBetween */])(useCatalogSkipPurchaseConfirmation_useCatalogSkipPurchaseConfirmationState);};\n// CONCATENATED MODULE: ./src/hooks/catalog/useCatalog.ts\nvar DUMMY_PAGE_ID_FOR_OFFER_SEARCH=-12345678;var DRAG_AND_DROP_ENABLED=true;var useCatalog_useCatalogState=function useCatalogState(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isBusy=_useState4[0],setIsBusy=_useState4[1];var _useState5=Object(react[\"useState\"])(-1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),pageId=_useState6[0],setPageId=_useState6[1];var _useState7=Object(react[\"useState\"])(-1),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),previousPageId=_useState8[0],setPreviousPageId=_useState8[1];var _useState9=Object(react[\"useState\"])(CatalogType_CatalogType.NORMAL),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),currentType=_useState10[0],setCurrentType=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),rootNode=_useState12[0],setRootNode=_useState12[1];var _useState13=Object(react[\"useState\"])(null),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),offersToNodes=_useState14[0],setOffersToNodes=_useState14[1];var _useState15=Object(react[\"useState\"])(null),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),currentPage=_useState16[0],setCurrentPage=_useState16[1];var _useState17=Object(react[\"useState\"])(null),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),currentOffer=_useState18[0],setCurrentOffer=_useState18[1];var _useState19=Object(react[\"useState\"])([]),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),activeNodes=_useState20[0],setActiveNodes=_useState20[1];var _useState21=Object(react[\"useState\"])(null),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),searchResult=_useState22[0],setSearchResult=_useState22[1];var _useState23=Object(react[\"useState\"])([]),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),frontPageItems=_useState24[0],setFrontPageItems=_useState24[1];var _useState25=Object(react[\"useState\"])(null),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),roomPreviewer=_useState26[0],setRoomPreviewer=_useState26[1];var _useState27=Object(react[\"useState\"])(false),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),navigationHidden=_useState28[0],setNavigationHidden=_useState28[1];var _useState29=Object(react[\"useState\"])({quantity:1,extraData:null,extraParamRequired:false,previewStuffData:null}),_useState30=Object(slicedToArray[\"a\" /* default */])(_useState29,2),purchaseOptions=_useState30[0],setPurchaseOptions=_useState30[1];var _useState31=Object(react[\"useState\"])({}),_useState32=Object(slicedToArray[\"a\" /* default */])(_useState31,2),catalogOptions=_useState32[0],setCatalogOptions=_useState32[1];var _useState33=Object(react[\"useState\"])(false),_useState34=Object(slicedToArray[\"a\" /* default */])(_useState33,2),objectMoverRequested=_useState34[0],setObjectMoverRequested=_useState34[1];var _useCatalogPlaceMulti=useCatalogPlaceMultipleItems_useCatalogPlaceMultipleItems(),_useCatalogPlaceMulti2=Object(slicedToArray[\"a\" /* default */])(_useCatalogPlaceMulti,2),catalogPlaceMultipleObjects=_useCatalogPlaceMulti2[0],setCatalogPlaceMultipleObjects=_useCatalogPlaceMulti2[1];var _useCatalogSkipPurcha=useCatalogSkipPurchaseConfirmation_useCatalogSkipPurchaseConfirmation(),_useCatalogSkipPurcha2=Object(slicedToArray[\"a\" /* default */])(_useCatalogSkipPurcha,2),catalogSkipPurchaseConfirmation=_useCatalogSkipPurcha2[0],setCatalogSkipPurchaseConfirmation=_useCatalogSkipPurcha2[1];var _useState35=Object(react[\"useState\"])(null),_useState36=Object(slicedToArray[\"a\" /* default */])(_useState35,2),purchasableOffer=_useState36[0],setPurchaseableOffer=_useState36[1];var _useState37=Object(react[\"useState\"])(null),_useState38=Object(slicedToArray[\"a\" /* default */])(_useState37,2),placedObjectPurchaseData=_useState38[0],setPlacedObjectPurchaseData=_useState38[1];var _useState39=Object(react[\"useState\"])(0),_useState40=Object(slicedToArray[\"a\" /* default */])(_useState39,2),furniCount=_useState40[0],setFurniCount=_useState40[1];var _useState41=Object(react[\"useState\"])(0),_useState42=Object(slicedToArray[\"a\" /* default */])(_useState41,2),furniLimit=_useState42[0],setFurniLimit=_useState42[1];var _useState43=Object(react[\"useState\"])(0),_useState44=Object(slicedToArray[\"a\" /* default */])(_useState43,2),maxFurniLimit=_useState44[0],setMaxFurniLimit=_useState44[1];var _useState45=Object(react[\"useState\"])(0),_useState46=Object(slicedToArray[\"a\" /* default */])(_useState45,2),secondsLeft=_useState46[0],setSecondsLeft=_useState46[1];var _useState47=Object(react[\"useState\"])(0),_useState48=Object(slicedToArray[\"a\" /* default */])(_useState47,2),updateTime=_useState48[0],setUpdateTime=_useState48[1];var _useState49=Object(react[\"useState\"])(0),_useState50=Object(slicedToArray[\"a\" /* default */])(_useState49,2),secondsLeftWithGrace=_useState50[0],setSecondsLeftWithGrace=_useState50[1];var requestedPage=Object(react[\"useRef\"])(new RequestedPage_RequestedPage());var resetState=Object(react[\"useCallback\"])(function(){setPageId(-1);setPreviousPageId(-1);setRootNode(null);setOffersToNodes(null);setCurrentPage(null);setCurrentOffer(null);setActiveNodes([]);setSearchResult(null);setFrontPageItems([]);setIsVisible(false);},[]);var getBuilderFurniPlaceableStatus=Object(react[\"useCallback\"])(function(offer){if(!offer)return BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.MISSING_OFFER;if(furniCount<0||furniCount>=furniLimit)return BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.FURNI_LIMIT_REACHED;var roomSession=GetRoomSession();if(!roomSession)return BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.NOT_IN_ROOM;if(!roomSession.isRoomOwner)return BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.NOT_ROOM_OWNER;if(secondsLeft<=0){var roomEngine=GetRoomEngine();var objectCount=roomEngine.getRoomObjectCount(roomSession.roomId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);while(objectCount>0){var roomObject=roomEngine.getRoomObjectByIndex(roomSession.roomId,objectCount,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);var userData=roomSession.userDataManager.getUserDataByIndex(roomObject.id);if(userData&&userData.type===nitro_renderer[\"Gg\" /* RoomObjectType */].USER&&userData.roomIndex!==roomSession.ownRoomIndex&&!userData.isModerator)return BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.VISITORS_IN_ROOM;objectCount--;}}return BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.OKAY;},[furniCount,furniLimit,secondsLeft]);var isDraggable=Object(react[\"useCallback\"])(function(offer){var roomSession=GetRoomSession();if((DRAG_AND_DROP_ENABLED&&roomSession&&offer.page&&offer.page.layoutCode!=='sold_ltd_items'&&currentType===CatalogType_CatalogType.NORMAL&&(roomSession.isRoomOwner||roomSession.isGuildRoom&&roomSession.controllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUILD_MEMBER)||currentType===CatalogType_CatalogType.BUILDER&&getBuilderFurniPlaceableStatus(offer)===BuilderFurniPlaceableStatus_BuilderFurniPlaceableStatus.OKAY)&&offer.pricingModel!==Offer_Offer.PRICING_MODEL_BUNDLE&&offer.product.productType!==ProductTypeEnum_ProductTypeEnum.EFFECT&&offer.product.productType!==ProductTypeEnum_ProductTypeEnum.HABBO_CLUB)return true;return false;},[currentType,getBuilderFurniPlaceableStatus]);var requestOfferToMover=Object(react[\"useCallback\"])(function(offer){if(!isDraggable(offer))return;var product=offer.product;if(!product)return;var category=0;switch(product.productType){case ProductTypeEnum_ProductTypeEnum.FLOOR:category=nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR;break;case ProductTypeEnum_ProductTypeEnum.WALL:category=nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL;break;}if(GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Fg\" /* RoomObjectPlacementSource */].CATALOG,-offer.offerId,category,product.productClassId,product.extraParam)){setPurchaseableOffer(offer);setObjectMoverRequested(true);setIsVisible(false);}},[isDraggable]);var resetRoomPaint=Object(react[\"useCallback\"])(function(planeType,type){var roomEngine=GetRoomEngine();var wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_WALL_TYPE);var floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);var landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';switch(planeType){case'floor':roomEngine.updateRoomInstancePlaneType(roomEngine.activeRoomId,type,wallType,landscapeType,true);return;case'wallpaper':roomEngine.updateRoomInstancePlaneType(roomEngine.activeRoomId,floorType,type,landscapeType,true);return;case'landscape':roomEngine.updateRoomInstancePlaneType(roomEngine.activeRoomId,floorType,wallType,type,true);return;default:roomEngine.updateRoomInstancePlaneType(roomEngine.activeRoomId,floorType,wallType,landscapeType,true);return;}},[]);var cancelObjectMover=Object(react[\"useCallback\"])(function(){if(!purchasableOffer)return;GetRoomEngine().cancelRoomObjectInsert();setObjectMoverRequested(false);setPurchaseableOffer(null);},[purchasableOffer]);var resetObjectMover=Object(react[\"useCallback\"])(function(){var flag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;setObjectMoverRequested(function(prevValue){if(prevValue&&flag){CreateLinkEvent('catalog/open');}return false;});},[]);var resetPlacedOfferData=Object(react[\"useCallback\"])(function(){var flag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!flag)resetObjectMover();setPlacedObjectPurchaseData(function(prevValue){if(prevValue){switch(prevValue.category){case nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR:GetRoomEngine().removeRoomObjectFloor(prevValue.roomId,prevValue.objectId);break;case nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:{switch(prevValue.furniData.className){case'floor':case'wallpaper':case'landscape':resetRoomPaint('reset','');break;default:GetRoomEngine().removeRoomObjectWall(prevValue.roomId,prevValue.objectId);break;}break;}default:GetRoomEngine().deleteRoomObject(prevValue.objectId,prevValue.category);break;}}return null;});},[resetObjectMover,resetRoomPaint]);var getNodeById=Object(react[\"useCallback\"])(function(id,node){if(node.pageId===id&&node!==rootNode)return node;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(node.children),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;var found=getNodeById(id,child);if(found)return found;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return null;},[rootNode]);var getNodeByName=Object(react[\"useCallback\"])(function(name,node){if(node.pageName===name&&node!==rootNode)return node;var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(node.children),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var child=_step2.value;var found=getNodeByName(name,child);if(found)return found;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return null;},[rootNode]);var getNodesByOfferId=Object(react[\"useCallback\"])(function(offerId){var flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!offersToNodes||!offersToNodes.size)return null;if(flag){var nodes=[];var offers=offersToNodes.get(offerId);if(offers&&offers.length){var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(offers),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var offer=_step3.value;offer.isVisible&&nodes.push(offer);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}if(nodes.length)return nodes;}return offersToNodes.get(offerId);},[offersToNodes]);var loadCatalogPage=Object(react[\"useCallback\"])(function(pageId,offerId){if(pageId<0)return;setIsBusy(true);setPageId(pageId);if(pageId>-1)SendMessageComposer_SendMessageComposer(new nitro_renderer[\"cc\" /* GetCatalogPageComposer */](pageId,offerId,currentType));},[currentType]);var showCatalogPage=Object(react[\"useCallback\"])(function(pageId,layoutCode,localization,offers,offerId,acceptSeasonCurrencyAsCredits){var catalogPage=new CatalogPage_CatalogPage(pageId,layoutCode,localization,offers,acceptSeasonCurrencyAsCredits);setCurrentPage(catalogPage);setPreviousPageId(function(prevValue){return pageId!==-1?pageId:prevValue;});setNavigationHidden(false);if(offerId>-1&&catalogPage.offers.length){var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(catalogPage.offers),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var offer=_step4.value;if(offer.offerId!==offerId)continue;setCurrentOffer(offer);break;}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}},[]);var activateNode=Object(react[\"useCallback\"])(function(targetNode){var offerId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;cancelObjectMover();if(targetNode.parent.pageName==='root'){if(targetNode.children.length){var _iterator5=Object(createForOfIteratorHelper[\"a\" /* default */])(targetNode.children),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var child=_step5.value;if(!child.isVisible)continue;targetNode=child;break;}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}var nodes=[];var node=targetNode;while(node&&node.pageName!=='root'){nodes.push(node);node=node.parent;}nodes.reverse();setActiveNodes(function(prevValue){var isActive=prevValue.indexOf(targetNode)>=0;var isOpen=targetNode.isOpen;var _iterator6=Object(createForOfIteratorHelper[\"a\" /* default */])(prevValue),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var existing=_step6.value;existing.deactivate();if(nodes.indexOf(existing)===-1)existing.close();}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}var _iterator7=Object(createForOfIteratorHelper[\"a\" /* default */])(nodes),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var n=_step7.value;n.activate();if(n.parent)n.open();if(n===targetNode.parent&&n.children.length)n.open();}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}if(isActive&&isOpen)targetNode.close();else targetNode.open();return nodes;});if(targetNode.pageId>-1)loadCatalogPage(targetNode.pageId,offerId);},[setActiveNodes,loadCatalogPage,cancelObjectMover]);var openPageById=Object(react[\"useCallback\"])(function(id){setSearchResult(null);if(!isVisible){requestedPage.current.requestById=id;setIsVisible(true);}else{var node=getNodeById(id,rootNode);if(node)activateNode(node);}},[isVisible,rootNode,getNodeById,activateNode]);var openPageByName=Object(react[\"useCallback\"])(function(name){setSearchResult(null);if(!isVisible){requestedPage.current.requestByName=name;setIsVisible(true);}else{var node=getNodeByName(name,rootNode);if(node)activateNode(node);}},[isVisible,rootNode,getNodeByName,activateNode]);var openPageByOfferId=Object(react[\"useCallback\"])(function(offerId){setSearchResult(null);if(!isVisible){requestedPage.current.requestedByOfferId=offerId;setIsVisible(true);}else{var nodes=getNodesByOfferId(offerId);if(!nodes||!nodes.length)return;activateNode(nodes[0],offerId);}},[isVisible,getNodesByOfferId,activateNode]);var refreshBuilderStatus=Object(react[\"useCallback\"])(function(){},[]);var onCatalogPagesListEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var offers=new Map();var getCatalogNode=function getCatalogNode(node,depth,parent){var catalogNode=new CatalogNode_CatalogNode(node,depth,parent);var _iterator8=Object(createForOfIteratorHelper[\"a\" /* default */])(catalogNode.offerIds),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var offerId=_step8.value;if(offers.has(offerId))offers.get(offerId).push(catalogNode);else offers.set(offerId,[catalogNode]);}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}depth++;var _iterator9=Object(createForOfIteratorHelper[\"a\" /* default */])(node.children),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var child=_step9.value;catalogNode.addChild(getCatalogNode(child,depth,catalogNode));}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}return catalogNode;};setRootNode(getCatalogNode(parser.root,0,null));setOffersToNodes(offers);},[setRootNode,setOffersToNodes]);UseMessageEventHook(nitro_renderer[\"W\" /* CatalogPagesListEvent */],onCatalogPagesListEvent);var onCatalogPageMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(parser.catalogType!==currentType)return;var purchasableOffers=[];var _iterator10=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.offers),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var offer=_step10.value;var products=[];var productData=GetProductDataForLocalization(offer.localizationId);var _iterator11=Object(createForOfIteratorHelper[\"a\" /* default */])(offer.products),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var product=_step11.value;var furnitureData=GetFurnitureData(product.furniClassId,product.productType);products.push(new Product_Product(product.productType,product.furniClassId,product.extraParam,product.productCount,productData,furnitureData,product.uniqueLimitedItem,product.uniqueLimitedSeriesSize,product.uniqueLimitedItemsLeft));}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}if(!products.length)continue;var _purchasableOffer=new Offer_Offer(offer.offerId,offer.localizationId,offer.rent,offer.priceCredits,offer.priceActivityPoints,offer.priceActivityPointsType,offer.giftable,offer.clubLevel,products,offer.bundlePurchaseAllowed);if(currentType===CatalogType_CatalogType.NORMAL||_purchasableOffer.pricingModel!==Offer_Offer.PRICING_MODEL_BUNDLE&&_purchasableOffer.pricingModel!==Offer_Offer.PRICING_MODEL_MULTI)purchasableOffers.push(_purchasableOffer);}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}if(parser.frontPageItems&&parser.frontPageItems.length)setFrontPageItems(parser.frontPageItems);setIsBusy(false);if(pageId===parser.pageId){showCatalogPage(parser.pageId,parser.layoutCode,new PageLocalization_PageLocalization(parser.localization.images.concat(),parser.localization.texts.concat()),purchasableOffers,parser.offerId,parser.acceptSeasonCurrencyAsCredits);}},[currentType,pageId,setFrontPageItems,setIsBusy,showCatalogPage]);UseMessageEventHook(nitro_renderer[\"U\" /* CatalogPageMessageEvent */],onCatalogPageMessageEvent);var onPurchaseOKMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();DispatchUiEvent_DispatchUiEvent(new CatalogPurchasedEvent_CatalogPurchasedEvent(parser.offer));},[]);UseMessageEventHook(nitro_renderer[\"zf\" /* PurchaseOKMessageEvent */],onPurchaseOKMessageEvent);var onPurchaseErrorMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();DispatchUiEvent_DispatchUiEvent(new CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent(parser.code));},[]);UseMessageEventHook(nitro_renderer[\"vf\" /* PurchaseErrorMessageEvent */],onPurchaseErrorMessageEvent);var onPurchaseNotAllowedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();DispatchUiEvent_DispatchUiEvent(new CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent(parser.code));},[]);UseMessageEventHook(nitro_renderer[\"yf\" /* PurchaseNotAllowedMessageEvent */],onPurchaseNotAllowedMessageEvent);var onLimitedEditionSoldOutEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();DispatchUiEvent_DispatchUiEvent(new CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent());},[]);UseMessageEventHook(nitro_renderer[\"Sd\" /* LimitedEditionSoldOutEvent */],onLimitedEditionSoldOutEvent);var onProductOfferEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var offerData=parser.offer;if(!offerData||!offerData.products.length)return;var offerProductData=offerData.products[0];if(offerProductData.uniqueLimitedItem){// update unique\n}var products=[];var productData=GetProductDataForLocalization(offerData.localizationId);var _iterator12=Object(createForOfIteratorHelper[\"a\" /* default */])(offerData.products),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var product=_step12.value;var furnitureData=GetFurnitureData(product.furniClassId,product.productType);products.push(new Product_Product(product.productType,product.furniClassId,product.extraParam,product.productCount,productData,furnitureData,product.uniqueLimitedItem,product.uniqueLimitedSeriesSize,product.uniqueLimitedItemsLeft));}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}var offer=new Offer_Offer(offerData.offerId,offerData.localizationId,offerData.rent,offerData.priceCredits,offerData.priceActivityPoints,offerData.priceActivityPointsType,offerData.giftable,offerData.clubLevel,products,offerData.bundlePurchaseAllowed);if(!(currentType===CatalogType_CatalogType.NORMAL||offer.pricingModel!==Offer_Offer.PRICING_MODEL_BUNDLE&&offer.pricingModel!==Offer_Offer.PRICING_MODEL_MULTI))return;offer.page=currentPage;setCurrentOffer(offer);if(offer.product&&offer.product.productType===ProductTypeEnum_ProductTypeEnum.WALL){setPurchaseOptions(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.extraData=offer.product.extraParam||null;return newValue;});}// (this._isObjectMoverRequested) && (this._purchasableOffer)\n},[currentType,currentPage,setCurrentOffer,setPurchaseOptions]);UseMessageEventHook(nitro_renderer[\"tf\" /* ProductOfferEvent */],onProductOfferEvent);var onSellablePetPalettesMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var petPalette=new CatalogPetPalette_CatalogPetPalette(parser.productCode,parser.palettes.slice());setCatalogOptions(function(prevValue){var petPalettes=[];if(prevValue.petPalettes)petPalettes.push.apply(petPalettes,Object(toConsumableArray[\"a\" /* default */])(prevValue.petPalettes));for(var i=0;i<petPalettes.length;i++){var palette=petPalettes[i];if(palette.breed===petPalette.breed){petPalettes.splice(i,1);break;}}petPalettes.push(petPalette);return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{petPalettes:petPalettes});});},[setCatalogOptions]);UseMessageEventHook(nitro_renderer[\"Dh\" /* SellablePetPalettesMessageEvent */],onSellablePetPalettesMessageEvent);var onHabboClubOffersMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setCatalogOptions(function(prevValue){var clubOffers=parser.offers;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{clubOffers:clubOffers});});},[setCatalogOptions]);UseMessageEventHook(nitro_renderer[\"Ad\" /* HabboClubOffersMessageEvent */],onHabboClubOffersMessageEvent);var onGuildMembershipsMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setCatalogOptions(function(prevValue){var groups=parser.groups;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{groups:groups});});},[setCatalogOptions]);UseMessageEventHook(nitro_renderer[\"xd\" /* GuildMembershipsMessageEvent */],onGuildMembershipsMessageEvent);var onGiftWrappingConfigurationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setCatalogOptions(function(prevValue){var giftConfiguration=new GiftWrappingConfiguration_GiftWrappingConfiguration(parser);return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{giftConfiguration:giftConfiguration});});},[setCatalogOptions]);UseMessageEventHook(nitro_renderer[\"Ac\" /* GiftWrappingConfigurationEvent */],onGiftWrappingConfigurationEvent);var onMarketplaceMakeOfferResult=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var title='';if(parser.result===1){title=LocalizeText('inventory.marketplace.result.title.success');}else{title=LocalizeText('inventory.marketplace.result.title.failure');}var message=LocalizeText(\"inventory.marketplace.result.\".concat(parser.result));NotificationUtilities_NotificationUtilities.simpleAlert(message,NotificationAlertType_NotificationAlertType.DEFAULT,null,null,title);},[]);UseMessageEventHook(nitro_renderer[\"de\" /* MarketplaceMakeOfferResult */],onMarketplaceMakeOfferResult);var onClubGiftInfoEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setCatalogOptions(function(prevValue){var clubGifts=parser;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{clubGifts:clubGifts});});},[setCatalogOptions]);UseMessageEventHook(nitro_renderer[\"fb\" /* ClubGiftInfoEvent */],onClubGiftInfoEvent);var onCatalogPublishedMessageEvent=Object(react[\"useCallback\"])(function(event){var wasVisible=isVisible;resetState();if(wasVisible)NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('catalog.alert.published.description'),NotificationAlertType_NotificationAlertType.ALERT,null,null,LocalizeText('catalog.alert.published.title'));},[isVisible,resetState]);UseMessageEventHook(nitro_renderer[\"X\" /* CatalogPublishedMessageEvent */],onCatalogPublishedMessageEvent);var onBuildersClubFurniCountMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setFurniCount(parser.furniCount);refreshBuilderStatus();},[refreshBuilderStatus]);UseMessageEventHook(nitro_renderer[\"D\" /* BuildersClubFurniCountMessageEvent */],onBuildersClubFurniCountMessageEvent);var onBuildersClubSubscriptionStatusMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setFurniLimit(parser._Str_15864);setMaxFurniLimit(parser._Str_24094);setSecondsLeft(parser._Str_3709);setUpdateTime(GetNitroInstance().time);setSecondsLeftWithGrace(parser._Str_24379);refreshBuilderStatus();},[refreshBuilderStatus]);UseMessageEventHook(nitro_renderer[\"H\" /* BuildersClubSubscriptionStatusMessageEvent */],onBuildersClubSubscriptionStatusMessageEvent);var onCatalogPurchasedEvent=Object(react[\"useCallback\"])(function(event){PlaySound_PlaySound(SoundNames_SoundNames.CREDITS);},[]);UseUiEvent_UseUiEvent(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS,onCatalogPurchasedEvent);var onRoomEngineObjectPlacedEvent=Object(react[\"useCallback\"])(function(event){if(!objectMoverRequested||event.type!==nitro_renderer[\"kg\" /* RoomEngineObjectPlacedEvent */].PLACED)return;resetPlacedOfferData(true);if(!purchasableOffer){resetObjectMover();return;}var placed=false;var product=purchasableOffer.product;if(event.category===nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL){switch(product.furnitureData.className){case'floor':case'wallpaper':case'landscape':placed=event.placedOnFloor||event.placedOnWall;break;default:placed=event.placedInRoom;break;}}else{placed=event.placedInRoom;}if(!placed){resetObjectMover();return;}setPlacedObjectPurchaseData(new PlacedObjectPurchaseData_PlacedObjectPurchaseData(event.roomId,event.objectId,event.category,event.wallLocation,event.x,event.y,event.direction,purchasableOffer));switch(currentType){case CatalogType_CatalogType.NORMAL:{switch(event.category){case nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR:GetRoomEngine().addFurnitureFloor(event.roomId,event.objectId,product.productClassId,new nitro_renderer[\"Oi\" /* Vector3d */](event.x,event.y,event.z),new nitro_renderer[\"Oi\" /* Vector3d */](event.direction),0,new nitro_renderer[\"Qd\" /* LegacyDataType */]());break;case nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:{switch(product.furnitureData.className){case'floor':case'wallpaper':case'landscape':resetRoomPaint(product.furnitureData.className,product.extraParam);break;default:GetRoomEngine().addFurnitureWall(event.roomId,event.objectId,product.productClassId,new nitro_renderer[\"Oi\" /* Vector3d */](event.x,event.y,event.z),new nitro_renderer[\"Oi\" /* Vector3d */](event.direction*45),0,event.instanceData,0);break;}}}var roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);if(roomObject)roomObject.model.setValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_ALPHA_MULTIPLIER,0.5);if(catalogSkipPurchaseConfirmation){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"xf\" /* PurchaseFromCatalogComposer */](pageId,purchasableOffer.offerId,product.extraParam,1));if(catalogPlaceMultipleObjects)requestOfferToMover(purchasableOffer);}else{// confirm\nif(catalogPlaceMultipleObjects)requestOfferToMover(purchasableOffer);}break;}case CatalogType_CatalogType.BUILDER:{var _pageId=purchasableOffer.page.pageId;if(_pageId===DUMMY_PAGE_ID_FOR_OFFER_SEARCH){_pageId=-1;}switch(event.category){case nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"E\" /* BuildersClubPlaceRoomItemMessageComposer */](_pageId,purchasableOffer.offerId,product.extraParam,event.x,event.y,event.direction));break;case nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"F\" /* BuildersClubPlaceWallItemMessageComposer */](_pageId,purchasableOffer.offerId,product.extraParam,event.wallLocation));break;}if(catalogPlaceMultipleObjects)requestOfferToMover(purchasableOffer);break;}}},[objectMoverRequested,purchasableOffer,catalogPlaceMultipleObjects,catalogSkipPurchaseConfirmation,currentType,pageId,resetPlacedOfferData,resetObjectMover,resetRoomPaint,requestOfferToMover]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"kg\" /* RoomEngineObjectPlacedEvent */].PLACED,onRoomEngineObjectPlacedEvent);var onInventoryFurniAddedEvent=Object(react[\"useCallback\"])(function(event){var roomEngine=GetRoomEngine();if(!placedObjectPurchaseData||placedObjectPurchaseData.productClassId!==event.spriteId||placedObjectPurchaseData.roomId!==roomEngine.activeRoomId)return;switch(event.category){case FurniCategory_FurniCategory.FLOOR:{var floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);if(placedObjectPurchaseData.extraParam!==floorType)SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ub\" /* FurniturePlacePaintComposer */](event.id));break;}case FurniCategory_FurniCategory.WALL_PAPER:{var wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_WALL_TYPE);if(placedObjectPurchaseData.extraParam!==wallType)SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ub\" /* FurniturePlacePaintComposer */](event.id));break;}case FurniCategory_FurniCategory.LANDSCAPE:{var landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);if(placedObjectPurchaseData.extraParam!==landscapeType)SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ub\" /* FurniturePlacePaintComposer */](event.id));break;}default:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Tb\" /* FurniturePlaceComposer */](event.id,placedObjectPurchaseData.category,placedObjectPurchaseData.wallLocation,placedObjectPurchaseData.x,placedObjectPurchaseData.y,placedObjectPurchaseData.direction));}if(!catalogPlaceMultipleObjects)resetPlacedOfferData();},[placedObjectPurchaseData,catalogPlaceMultipleObjects,resetPlacedOfferData]);UseUiEvent_UseUiEvent(InventoryFurniAddedEvent_InventoryFurniAddedEvent.FURNI_ADDED,onInventoryFurniAddedEvent);Object(react[\"useEffect\"])(function(){return function(){return setCurrentOffer(null);};},[currentPage]);Object(react[\"useEffect\"])(function(){if(!isVisible||!rootNode||!requestedPage.current)return;switch(requestedPage.current.requestType){case RequestedPage_RequestedPage.REQUEST_TYPE_NONE:if(currentPage)return;if(rootNode.isBranch){var _iterator13=Object(createForOfIteratorHelper[\"a\" /* default */])(rootNode.children),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var child=_step13.value;if(child&&child.isVisible){activateNode(child);return;}}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}}return;case RequestedPage_RequestedPage.REQUEST_TYPE_ID:openPageById(requestedPage.current.requestById);requestedPage.current.resetRequest();return;case RequestedPage_RequestedPage.REQUEST_TYPE_OFFER:openPageByOfferId(requestedPage.current.requestedByOfferId);requestedPage.current.resetRequest();return;case RequestedPage_RequestedPage.REQUEST_TYPE_NAME:openPageByName(requestedPage.current.requestByName);requestedPage.current.resetRequest();return;}},[isVisible,rootNode,currentPage,activateNode,openPageById,openPageByOfferId,openPageByName]);Object(react[\"useEffect\"])(function(){if(!searchResult&&currentPage&&currentPage.pageId===-1)openPageById(previousPageId);},[searchResult,currentPage,previousPageId,openPageById]);Object(react[\"useEffect\"])(function(){if(!isVisible||rootNode)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ic\" /* GetGiftWrappingConfigurationComposer */]());SendMessageComposer_SendMessageComposer(new nitro_renderer[\"fc\" /* GetClubGiftInfo */]());SendMessageComposer_SendMessageComposer(new nitro_renderer[\"bc\" /* GetCatalogIndexComposer */](currentType));SendMessageComposer_SendMessageComposer(new nitro_renderer[\"G\" /* BuildersClubQueryFurniCountMessageComposer */]());},[isVisible,rootNode,currentType]);Object(react[\"useEffect\"])(function(){setRoomPreviewer(new nitro_renderer[\"Kg\" /* RoomPreviewer */](GetRoomEngine(),++nitro_renderer[\"Kg\" /* RoomPreviewer */].PREVIEW_COUNTER));return function(){setRoomPreviewer(function(prevValue){prevValue.dispose();return null;});};},[]);return{isVisible:isVisible,setIsVisible:setIsVisible,isBusy:isBusy,pageId:pageId,previousPageId:previousPageId,currentType:currentType,rootNode:rootNode,offersToNodes:offersToNodes,currentPage:currentPage,setCurrentPage:setCurrentPage,currentOffer:currentOffer,setCurrentOffer:setCurrentOffer,activeNodes:activeNodes,searchResult:searchResult,setSearchResult:setSearchResult,frontPageItems:frontPageItems,roomPreviewer:roomPreviewer,navigationHidden:navigationHidden,setNavigationHidden:setNavigationHidden,purchaseOptions:purchaseOptions,setPurchaseOptions:setPurchaseOptions,catalogOptions:catalogOptions,setCatalogOptions:setCatalogOptions,getNodeById:getNodeById,getNodeByName:getNodeByName,activateNode:activateNode,openPageById:openPageById,openPageByName:openPageByName,openPageByOfferId:openPageByOfferId,requestOfferToMover:requestOfferToMover};};var useCatalog_useCatalog=function useCatalog(){return Object(index_esm[\"a\" /* useBetween */])(useCatalog_useCatalogState);};\n// CONCATENATED MODULE: ./src/hooks/catalog/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/friends/useFriends.ts\nvar useFriends_useFriendsState=function useFriendsState(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),friends=_useState2[0],setFriends=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),requests=_useState4[0],setRequests=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),sentRequests=_useState6[0],setSentRequests=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),settings=_useState8[0],setSettings=_useState8[1];var onlineFriends=Object(react[\"useMemo\"])(function(){var onlineFriends=friends.filter(function(friend){return friend.online;});onlineFriends.sort(function(a,b){if(a.name<b.name)return-1;if(a.name>b.name)return 1;return 0;});return onlineFriends;},[friends]);var offlineFriends=Object(react[\"useMemo\"])(function(){var offlineFriends=friends.filter(function(friend){return!friend.online;});offlineFriends.sort(function(a,b){if(a.name<b.name)return-1;if(a.name>b.name)return 1;return 0;});return offlineFriends;},[friends]);var followFriend=Object(react[\"useCallback\"])(function(friend){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Db\" /* FollowFriendMessageComposer */](friend.id));},[]);var updateRelationship=Object(react[\"useCallback\"])(function(friend,type){return type!==friend.relationshipStatus&&SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ih\" /* SetRelationshipStatusComposer */](friend.id,type));},[]);var getFriend=Object(react[\"useCallback\"])(function(userId){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(friends),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var friend=_step.value;if(friend.id===userId)return friend;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return null;},[friends]);var canRequestFriend=Object(react[\"useCallback\"])(function(userId){if(getFriend(userId))return false;if(requests.find(function(request){return request.requesterUserId===userId;}))return false;if(sentRequests.indexOf(userId)>=0)return false;return true;},[requests,sentRequests,getFriend]);var requestFriend=Object(react[\"useCallback\"])(function(userId,userName){if(!canRequestFriend(userId))return false;setSentRequests(function(prevValue){var newSentRequests=Object(toConsumableArray[\"a\" /* default */])(prevValue);newSentRequests.push(userId);return newSentRequests;});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Of\" /* RequestFriendComposer */](userName));},[canRequestFriend]);var requestResponse=Object(react[\"useCallback\"])(function(requestId,flag){if(requestId===-1&&!flag){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ob\" /* DeclineFriendMessageComposer */](true));setRequests([]);}else{setRequests(function(prevValue){var newRequests=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newRequests.findIndex(function(request){return request.id===requestId;});if(index===-1)return prevValue;if(flag){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"a\" /* AcceptFriendMessageComposer */](newRequests[index].id));}else{SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ob\" /* DeclineFriendMessageComposer */](false,newRequests[index].id));}newRequests.splice(index,1);return newRequests;});}},[]);var onMessengerInitEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setSettings(new MessengerSettings_MessengerSettings(parser.userFriendLimit,parser.normalFriendLimit,parser.extendedFriendLimit,parser.categories));SendMessageComposer_SendMessageComposer(new nitro_renderer[\"hc\" /* GetFriendRequestsComposer */]());},[]);UseMessageEventHook(nitro_renderer[\"ge\" /* MessengerInitEvent */],onMessengerInitEvent);var onFriendsFragmentEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setFriends(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.fragment),_step2;try{var _loop=function _loop(){var friend=_step2.value;var index=newValue.findIndex(function(existingFriend){return existingFriend.id===friend.id;});var newFriend=new MessengerFriend_MessengerFriend();newFriend.populate(friend);if(index>-1)newValue[index]=newFriend;else newValue.push(newFriend);};for(_iterator2.s();!(_step2=_iterator2.n()).done;){_loop();}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"Fb\" /* FriendListFragmentEvent */],onFriendsFragmentEvent);var onFriendsUpdateEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setFriends(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var processUpdate=function processUpdate(friend){var index=newValue.findIndex(function(existingFriend){return existingFriend.id===friend.id;});if(index===-1){var newFriend=new MessengerFriend_MessengerFriend();newFriend.populate(friend);newValue.unshift(newFriend);}else{newValue[index].populate(friend);}};var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.addedFriends),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var friend=_step3.value;processUpdate(friend);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.updatedFriends),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _friend=_step4.value;processUpdate(_friend);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}var _iterator5=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.removedFriendIds),_step5;try{var _loop2=function _loop2(){var removedFriendId=_step5.value;var index=newValue.findIndex(function(existingFriend){return existingFriend.id===removedFriendId;});if(index>-1)newValue.splice(index,1);};for(_iterator5.s();!(_step5=_iterator5.n()).done;){_loop2();}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"Gb\" /* FriendListUpdateEvent */],onFriendsUpdateEvent);var onFriendRequestsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setRequests(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var _iterator6=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.requests),_step6;try{var _loop3=function _loop3(){var request=_step6.value;var index=newValue.findIndex(function(existing){return existing.requesterUserId===request.requesterUserId;});if(index>0){newValue[index]=CloneObject(newValue[index]);newValue[index].populate(request);}else{var newRequest=new MessengerRequest_MessengerRequest();newRequest.populate(request);newValue.push(newRequest);}};for(_iterator6.s();!(_step6=_iterator6.n()).done;){_loop3();}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"Hb\" /* FriendRequestsEvent */],onFriendRequestsEvent);var onNewFriendRequestEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var request=parser.request;setRequests(function(prevValue){var newRequests=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newRequests.findIndex(function(existing){return existing.requesterUserId===request.requesterUserId;});if(index===-1){var newRequest=new MessengerRequest_MessengerRequest();newRequest.populate(request);newRequests.push(newRequest);}return newRequests;});},[]);UseMessageEventHook(nitro_renderer[\"Ie\" /* NewFriendRequestEvent */],onNewFriendRequestEvent);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"fe\" /* MessengerInitComposer */]());},[]);return{friends:friends,requests:requests,sentRequests:sentRequests,settings:settings,onlineFriends:onlineFriends,offlineFriends:offlineFriends,getFriend:getFriend,canRequestFriend:canRequestFriend,requestFriend:requestFriend,requestResponse:requestResponse,followFriend:followFriend,updateRelationship:updateRelationship};};var useFriends_useFriends=function useFriends(){return Object(index_esm[\"a\" /* useBetween */])(useFriends_useFriendsState);};\n// CONCATENATED MODULE: ./src/hooks/friends/useMessenger.ts\nvar useMessenger_useMessengerState=function useMessengerState(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messageThreads=_useState2[0],setMessageThreads=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),activeThreadId=_useState4[0],setActiveThreadId=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),hiddenThreadIds=_useState6[0],setHiddenThreadIds=_useState6[1];var _useState7=Object(react[\"useState\"])(MessengerIconState_MessengerIconState.HIDDEN),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),iconState=_useState8[0],setIconState=_useState8[1];var _useFriends=useFriends_useFriends(),_useFriends$getFriend=_useFriends.getFriend,getFriend=_useFriends$getFriend===void 0?null:_useFriends$getFriend;var visibleThreads=Object(react[\"useMemo\"])(function(){return messageThreads.filter(function(thread){return hiddenThreadIds.indexOf(thread.threadId)===-1;});},[messageThreads,hiddenThreadIds]);var activeThread=Object(react[\"useMemo\"])(function(){return activeThreadId>0&&visibleThreads.find(function(thread){return thread.threadId===activeThreadId||null;});},[activeThreadId,visibleThreads]);var getMessageThread=Object(react[\"useCallback\"])(function(userId){var thread=messageThreads.find(function(thread){return thread.participant&&thread.participant.id===userId;});if(thread)return thread;var friend=getFriend(userId);if(!friend)return null;thread=new MessengerThread_MessengerThread(friend);setMessageThreads(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);newValue.push(thread);return newValue;});setHiddenThreadIds(function(prevValue){var index=prevValue.indexOf(thread.threadId);if(index===-1)return prevValue;var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);newValue.splice(index,1);return newValue;});return thread;},[messageThreads,getFriend]);var closeThread=function closeThread(threadId){setHiddenThreadIds(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);if(newValue.indexOf(threadId)>=0)return prevValue;newValue.push(threadId);return newValue;});};var sendMessage=function sendMessage(thread,text){if(!thread||!text||!text.length)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Eh\" /* SendMessageComposer */](thread.participant.id,text));if(messageThreads.length===1&&thread.groups.length===1)PlaySound_PlaySound(SoundNames_SoundNames.MESSENGER_NEW_THREAD);setMessageThreads(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newValue.findIndex(function(newThread){return newThread.threadId===thread.threadId;});if(index===-1)return prevValue;newValue[index]=CloneObject(newValue[index]);thread=newValue[index];thread.addMessage(GetSessionDataManager().userId,text,0,null,MessengerThreadChat_MessengerThreadChat.CHAT);if(activeThreadId===thread.threadId)thread.setRead();return newValue;});};var onNewConsoleMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setMessageThreads(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var existingIndex=newValue.findIndex(function(newThread){return newThread.participant&&newThread.participant.id===parser.senderId;});var thread=null;if(existingIndex===-1){var friend=getFriend(parser.senderId);if(friend){thread=new MessengerThread_MessengerThread(friend);newValue.push(thread);}}else{newValue[existingIndex]=CloneObject(newValue[existingIndex]);thread=newValue[existingIndex];}thread.addMessage(parser.senderId,parser.messageText,parser.secondsSinceSent,parser.extraData);if(activeThreadId===thread.threadId)thread.setRead();if(thread.unreadCount>0)PlaySound_PlaySound(SoundNames_SoundNames.MESSENGER_MESSAGE_RECEIVED);return newValue;});},[activeThreadId,getFriend]);UseMessageEventHook(nitro_renderer[\"He\" /* NewConsoleMessageEvent */],onNewConsoleMessageEvent);var onRoomInviteEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setMessageThreads(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var existingIndex=newValue.findIndex(function(newThread){return newThread.participant&&newThread.participant.id===parser.senderId;});var thread=null;if(existingIndex===-1){var friend=getFriend(parser.senderId);if(friend){thread=new MessengerThread_MessengerThread(friend);newValue.push(thread);}}else{newValue[existingIndex]=CloneObject(newValue[existingIndex]);thread=newValue[existingIndex];}thread.addMessage(null,parser.messageText,0,null,MessengerThreadChat_MessengerThreadChat.ROOM_INVITE);if(activeThreadId===thread.threadId)thread.setRead();if(thread.unreadCount>0)PlaySound_PlaySound(SoundNames_SoundNames.MESSENGER_MESSAGE_RECEIVED);return newValue;});},[activeThreadId,getFriend]);UseMessageEventHook(nitro_renderer[\"yg\" /* RoomInviteEvent */],onRoomInviteEvent);var onRoomInviteErrorEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var message='Received room invite error: errorCode: '+parser.errorCode+', recipients: '+parser.failedRecipients;NotificationUtilities_NotificationUtilities.simpleAlert(message,NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('friendlist.alert.title'));},[]);UseMessageEventHook(nitro_renderer[\"xg\" /* RoomInviteErrorEvent */],onRoomInviteErrorEvent);Object(react[\"useEffect\"])(function(){if(activeThreadId<=0)return;setMessageThreads(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var existingIndex=newValue.findIndex(function(newThread){return newThread.threadId===activeThreadId;});if(existingIndex===-1)return;newValue[existingIndex]=CloneObject(newValue[existingIndex]);newValue[existingIndex].setRead();return newValue;});},[activeThreadId]);Object(react[\"useEffect\"])(function(){setIconState(function(prevValue){if(!visibleThreads.length)return MessengerIconState_MessengerIconState.HIDDEN;var isUnread=false;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(visibleThreads),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var thread=_step.value;if(thread.unreadCount>0){isUnread=true;break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(isUnread)return MessengerIconState_MessengerIconState.UNREAD;return MessengerIconState_MessengerIconState.SHOW;});},[visibleThreads]);return{messageThreads:messageThreads,activeThread:activeThread,iconState:iconState,visibleThreads:visibleThreads,getMessageThread:getMessageThread,setActiveThreadId:setActiveThreadId,closeThread:closeThread,sendMessage:sendMessage};};var useMessenger_useMessenger=function useMessenger(){return Object(index_esm[\"a\" /* useBetween */])(useMessenger_useMessengerState);};\n// CONCATENATED MODULE: ./src/hooks/friends/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/useSharedVisibility.ts\nvar useSharedVisibility_useSharedVisibility=function useSharedVisibility(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),activeIds=_useState2[0],setActiveIds=_useState2[1];var isVisible=Object(react[\"useMemo\"])(function(){return!!activeIds.length;},[activeIds]);var activate=Object(react[\"useCallback\"])(function(){var id=-1;setActiveIds(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);id=newValue.length?newValue[newValue.length-1]+1:0;newValue.push(id);return newValue;});return id;},[]);var deactivate=Object(react[\"useCallback\"])(function(id){setActiveIds(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newValue.indexOf(id);if(index===-1)return prevValue;newValue.splice(index,1);return newValue;});},[]);return{isVisible:isVisible,activate:activate,deactivate:deactivate};};\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/construct.js\nvar construct = __webpack_require__(53);\n\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryUnseenTracker.ts\nvar useInventoryUnseenTracker_sendResetCategoryMessage=function sendResetCategoryMessage(category){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ki\" /* UnseenResetCategoryComposer */](category));};var useInventoryUnseenTracker_sendResetItemsMessage=function sendResetItemsMessage(category,itemIds){return SendMessageComposer_SendMessageComposer(Object(construct[\"a\" /* default */])(nitro_renderer[\"li\" /* UnseenResetItemsComposer */],[category].concat(Object(toConsumableArray[\"a\" /* default */])(itemIds))));};var useInventoryUnseenTracker_useInventoryUnseenTrackerState=function useInventoryUnseenTrackerState(){var _useState=Object(react[\"useState\"])(new Map()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),unseenItems=_useState2[0],setUnseenItems=_useState2[1];var getCount=Object(react[\"useCallback\"])(function(category){var _unseenItems$get;return((_unseenItems$get=unseenItems.get(category))===null||_unseenItems$get===void 0?void 0:_unseenItems$get.length)||0;},[unseenItems]);var getFullCount=Object(react[\"useMemo\"])(function(){var count=0;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(unseenItems.keys()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;count+=getCount(key);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return count;},[unseenItems,getCount]);var resetCategory=Object(react[\"useCallback\"])(function(category){var didReset=true;setUnseenItems(function(prevValue){if(!prevValue.has(category)){didReset=false;return prevValue;}var newValue=new Map(prevValue);newValue.delete(category);useInventoryUnseenTracker_sendResetCategoryMessage(category);return newValue;});return didReset;},[]);var resetItems=Object(react[\"useCallback\"])(function(category,itemIds){var didReset=true;setUnseenItems(function(prevValue){if(!prevValue.has(category)){didReset=false;return prevValue;}var newValue=new Map(prevValue);var existing=newValue.get(category);if(existing){var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(itemIds),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var itemId=_step2.value;existing.splice(existing.indexOf(itemId),1);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}useInventoryUnseenTracker_sendResetItemsMessage(category,itemIds);return newValue;});return didReset;},[]);var isUnseen=Object(react[\"useCallback\"])(function(category,itemId){if(!unseenItems.has(category))return false;var items=unseenItems.get(category);return items.indexOf(itemId)>=0;},[unseenItems]);var removeUnseen=Object(react[\"useCallback\"])(function(category,itemId){setUnseenItems(function(prevValue){if(!prevValue.has(category))return prevValue;var newValue=new Map(prevValue);var items=newValue.get(category);var index=items.indexOf(itemId);if(index>=0)items.splice(index,1);return newValue;});},[]);var onUnseenItemsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setUnseenItems(function(prevValue){var newValue=new Map(prevValue);var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.categories),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var category=_step3.value;var existing=newValue.get(category);if(!existing){existing=[];newValue.set(category,existing);}var itemIds=parser.getItemsByCategory(category);var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(itemIds),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var itemId=_step4.value;existing.indexOf(itemId)===-1&&existing.push(itemId);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"ji\" /* UnseenItemsEvent */],onUnseenItemsEvent);return{getCount:getCount,getFullCount:getFullCount,resetCategory:resetCategory,resetItems:resetItems,isUnseen:isUnseen,removeUnseen:removeUnseen};};var useInventoryUnseenTracker_useInventoryUnseenTracker=function useInventoryUnseenTracker(){return Object(index_esm[\"a\" /* useBetween */])(useInventoryUnseenTracker_useInventoryUnseenTrackerState);};\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryBadges.ts\nvar useInventoryBadges_useInventoryBadgesState=function useInventoryBadgesState(){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),needsUpdate=_useState2[0],setNeedsUpdate=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),badgeCodes=_useState4[0],setBadgeCodes=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),badgeIds=_useState6[0],setBadgeIds=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),activeBadgeCodes=_useState8[0],setActiveBadgeCodes=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),selectedBadgeCode=_useState10[0],setSelectedBadgeCode=_useState10[1];var _useSharedVisibility=useSharedVisibility_useSharedVisibility(),_useSharedVisibility$=_useSharedVisibility.isVisible,isVisible=_useSharedVisibility$===void 0?false:_useSharedVisibility$,_useSharedVisibility$2=_useSharedVisibility.activate,activate=_useSharedVisibility$2===void 0?null:_useSharedVisibility$2,_useSharedVisibility$3=_useSharedVisibility.deactivate,deactivate=_useSharedVisibility$3===void 0?null:_useSharedVisibility$3;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.resetCategory,resetCategory=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;var maxBadgeCount=GetConfiguration('user.badges.max.slots',5);var isWearingBadge=function isWearingBadge(badgeCode){return activeBadgeCodes.indexOf(badgeCode)>=0;};var canWearBadges=function canWearBadges(){return activeBadgeCodes.length<maxBadgeCount;};var toggleBadge=function toggleBadge(badgeCode){setActiveBadgeCodes(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newValue.indexOf(badgeCode);if(index===-1){if(!canWearBadges())return prevValue;newValue.push(badgeCode);}else{newValue.splice(index,1);}var composer=new nitro_renderer[\"Gh\" /* SetActivatedBadgesComposer */]();for(var i=0;i<maxBadgeCount;i++){composer.addActivatedBadge(newValue[i]||null);}SendMessageComposer_SendMessageComposer(composer);return newValue;});};var getBadgeId=function getBadgeId(badgeCode){var index=badgeCodes.indexOf(badgeCode);if(index===-1)return 0;return badgeIds[index]||0;};var onBadgesEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var newBadgeCodes=parser.getAllBadgeCodes();var newBadgeIds=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(newBadgeCodes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var newBadgeCode=_step.value;newBadgeIds.push(parser.getBadgeId(newBadgeCode));}}catch(err){_iterator.e(err);}finally{_iterator.f();}setBadgeCodes(newBadgeCodes);setBadgeIds(newBadgeIds);setActiveBadgeCodes(parser.getActiveBadgeCodes());},[]);UseMessageEventHook(nitro_renderer[\"v\" /* BadgesEvent */],onBadgesEvent);var onBadgeReceivedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var unseen=isUnseen(UnseenItemCategory_UnseenItemCategory.BADGE,parser.badgeId);setBadgeCodes(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);if(unseen)newValue.unshift(parser.badgeCode);else newValue.push(parser.badgeCode);return newValue;});setBadgeIds(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);if(unseen)newValue.unshift(parser.badgeId);else newValue.push(parser.badgeId);return newValue;});},[isUnseen]);UseMessageEventHook(nitro_renderer[\"u\" /* BadgeReceivedEvent */],onBadgeReceivedEvent);Object(react[\"useEffect\"])(function(){if(!badgeCodes||!badgeCodes.length)return;setSelectedBadgeCode(function(prevValue){var newValue=prevValue;if(newValue&&badgeCodes.indexOf(newValue)===-1)newValue=null;if(!newValue)newValue=badgeCodes[0];return newValue;});},[badgeCodes]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;return function(){resetCategory(UnseenItemCategory_UnseenItemCategory.BADGE);};},[isVisible,resetCategory]);Object(react[\"useEffect\"])(function(){if(!isVisible||!needsUpdate)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Lf\" /* RequestBadgesComposer */]());setNeedsUpdate(false);},[isVisible,needsUpdate]);return{badgeCodes:badgeCodes,activeBadgeCodes:activeBadgeCodes,selectedBadgeCode:selectedBadgeCode,setSelectedBadgeCode:setSelectedBadgeCode,isWearingBadge:isWearingBadge,canWearBadges:canWearBadges,toggleBadge:toggleBadge,getBadgeId:getBadgeId,activate:activate,deactivate:deactivate};};var useInventoryBadges_useInventoryBadges=function useInventoryBadges(){return Object(index_esm[\"a\" /* useBetween */])(useInventoryBadges_useInventoryBadgesState);};\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryBots.ts\nvar useInventoryBots_useInventoryBotsState=function useInventoryBotsState(){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),needsUpdate=_useState2[0],setNeedsUpdate=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),botItems=_useState4[0],setBotItems=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedBot=_useState6[0],setSelectedBot=_useState6[1];var _useSharedVisibility=useSharedVisibility_useSharedVisibility(),_useSharedVisibility$=_useSharedVisibility.isVisible,isVisible=_useSharedVisibility$===void 0?false:_useSharedVisibility$,_useSharedVisibility$2=_useSharedVisibility.activate,activate=_useSharedVisibility$2===void 0?null:_useSharedVisibility$2,_useSharedVisibility$3=_useSharedVisibility.deactivate,deactivate=_useSharedVisibility$3===void 0?null:_useSharedVisibility$3;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.resetCategory,resetCategory=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;var onBotInventoryMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setBotItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var existingIds=newValue.map(function(item){return item.botData.id;});var addedDatas=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.items.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _botData=_step.value;existingIds.indexOf(_botData.id)===-1&&addedDatas.push(_botData);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(existingIds),_step2;try{var _loop=function _loop(){var existingId=_step2.value;var remove=true;var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.items.values()),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _botData2=_step3.value;if(_botData2.id===existingId){remove=false;break;}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}if(!remove)return\"continue\";var index=newValue.findIndex(function(item){return item.botData.id===existingId;});var botItem=newValue[index];if(index===-1||!botItem)return\"continue\";if(getPlacingItemId()===botItem.botData.id){InventoryUtilities_cancelRoomObjectPlacement();CreateLinkEvent('inventory/open');}newValue.splice(index,1);};for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ret=_loop();if(_ret===\"continue\")continue;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}for(var _i=0,_addedDatas=addedDatas;_i<_addedDatas.length;_i++){var botData=_addedDatas[_i];var botItem={botData:botData};var unseen=isUnseen(UnseenItemCategory_UnseenItemCategory.BOT,botData.id);if(unseen)newValue.unshift(botItem);else newValue.push(botItem);}return newValue;});},[isUnseen]);UseMessageEventHook(nitro_renderer[\"z\" /* BotInventoryMessageEvent */],onBotInventoryMessageEvent);var onBotAddedToInventoryEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setBotItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newValue.findIndex(function(item){return item.botData.id===parser.item.id;});if(index>=0)return prevValue;var botItem={botData:parser.item};var unseen=isUnseen(UnseenItemCategory_UnseenItemCategory.BOT,botItem.botData.id);if(unseen)newValue.unshift(botItem);else newValue.push(botItem);return newValue;});},[isUnseen]);UseMessageEventHook(nitro_renderer[\"x\" /* BotAddedToInventoryEvent */],onBotAddedToInventoryEvent);var onBotRemovedFromInventoryEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setBotItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newValue.findIndex(function(item){return item.botData.id===parser.itemId;});if(index===-1)return prevValue;newValue.splice(index,1);if(getPlacingItemId()===parser.itemId){InventoryUtilities_cancelRoomObjectPlacement();CreateLinkEvent('inventory/show');}return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"B\" /* BotRemovedFromInventoryEvent */],onBotRemovedFromInventoryEvent);Object(react[\"useEffect\"])(function(){if(!botItems||!botItems.length)return;setSelectedBot(function(prevValue){var newValue=prevValue;if(newValue&&botItems.indexOf(newValue)===-1)newValue=null;if(!newValue)newValue=botItems[0];return newValue;});},[botItems]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;return function(){resetCategory(UnseenItemCategory_UnseenItemCategory.BOT);};},[isVisible,resetCategory]);Object(react[\"useEffect\"])(function(){if(!isVisible||!needsUpdate)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ac\" /* GetBotInventoryComposer */]());setNeedsUpdate(false);},[isVisible,needsUpdate]);return{botItems:botItems,selectedBot:selectedBot,setSelectedBot:setSelectedBot,activate:activate,deactivate:deactivate};};var useInventoryBots_useInventoryBots=function useInventoryBots(){return Object(index_esm[\"a\" /* useBetween */])(useInventoryBots_useInventoryBotsState);};\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryFurni.ts\nvar furniMsgFragments=null;var useInventoryFurni_useInventoryFurniState=function useInventoryFurniState(){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),needsUpdate=_useState2[0],setNeedsUpdate=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),groupItems=_useState4[0],setGroupItems=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedItem=_useState6[0],setSelectedItem=_useState6[1];var _useSharedVisibility=useSharedVisibility_useSharedVisibility(),_useSharedVisibility$=_useSharedVisibility.isVisible,isVisible=_useSharedVisibility$===void 0?false:_useSharedVisibility$,_useSharedVisibility$2=_useSharedVisibility.activate,activate=_useSharedVisibility$2===void 0?null:_useSharedVisibility$2,_useSharedVisibility$3=_useSharedVisibility.deactivate,deactivate=_useSharedVisibility$3===void 0?null:_useSharedVisibility$3;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.resetCategory,resetCategory=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;var onFurnitureListAddOrUpdateEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setGroupItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;var i=0;var groupItem=null;while(i<newValue.length){var group=newValue[i];var j=0;while(j<group.items.length){var furniture=group.items[j];if(furniture.id===item.itemId){furniture.update(item);var newFurniture=Object(toConsumableArray[\"a\" /* default */])(group.items);newFurniture[j]=furniture;group.items=newFurniture;groupItem=group;break;}j++;}if(groupItem)break;i++;}if(groupItem){groupItem.hasUnseenItems=true;newValue[i]=CloneObject(groupItem);}else{var _furniture=new FurnitureItem_FurnitureItem(item);addFurnitureItem(newValue,_furniture,isUnseen(UnseenItemCategory_UnseenItemCategory.FURNI,item.itemId));DispatchUiEvent_DispatchUiEvent(new InventoryFurniAddedEvent_InventoryFurniAddedEvent(_furniture.id,_furniture.type,_furniture.category));}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return newValue;});},[isUnseen]);UseMessageEventHook(nitro_renderer[\"Lb\" /* FurnitureListAddOrUpdateEvent */],onFurnitureListAddOrUpdateEvent);var onFurnitureListEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!furniMsgFragments)furniMsgFragments=new Array(parser.totalFragments);var fragment=FurnitureUtilities_mergeFurniFragments(parser.fragment,parser.totalFragments,parser.fragmentNumber,furniMsgFragments);if(!fragment)return;setGroupItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var existingIds=FurnitureUtilities_getAllItemIds(newValue);var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(existingIds),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var existingId=_step2.value;if(fragment.get(existingId))continue;var index=0;while(index<newValue.length){var group=newValue[index];var item=group.remove(existingId);if(!item){index++;continue;}if(getPlacingItemId()===item.ref){InventoryUtilities_cancelRoomObjectPlacement();if(!InventoryUtilities_attemptItemPlacement(group)){CreateLinkEvent('inventory/show');}}if(group.getTotalCount()<=0){newValue.splice(index,1);group.dispose();}break;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(fragment.keys()),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var itemId=_step3.value;if(existingIds.indexOf(itemId)>=0)continue;var _parser=fragment.get(itemId);if(!_parser)continue;var _item=new FurnitureItem_FurnitureItem(_parser);addFurnitureItem(newValue,_item,isUnseen(UnseenItemCategory_UnseenItemCategory.FURNI,itemId));DispatchUiEvent_DispatchUiEvent(new InventoryFurniAddedEvent_InventoryFurniAddedEvent(_item.id,_item.type,_item.category));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return newValue;});furniMsgFragments=null;},[isUnseen]);UseMessageEventHook(nitro_renderer[\"Nb\" /* FurnitureListEvent */],onFurnitureListEvent);var onFurnitureListInvalidateEvent=Object(react[\"useCallback\"])(function(event){setNeedsUpdate(true);},[]);UseMessageEventHook(nitro_renderer[\"Ob\" /* FurnitureListInvalidateEvent */],onFurnitureListInvalidateEvent);var onFurnitureListRemovedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setGroupItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=0;while(index<newValue.length){var group=newValue[index];var item=group.remove(parser.itemId);if(!item){index++;continue;}if(getPlacingItemId()===item.ref){InventoryUtilities_cancelRoomObjectPlacement();if(!InventoryUtilities_attemptItemPlacement(group))CreateLinkEvent('inventory/show');}if(group.getTotalCount()<=0){newValue.splice(index,1);group.dispose();}break;}return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"Pb\" /* FurnitureListRemovedEvent */],onFurnitureListRemovedEvent);var onFurniturePostItPlacedEvent=Object(react[\"useCallback\"])(function(event){},[]);UseMessageEventHook(nitro_renderer[\"Vb\" /* FurniturePostItPlacedEvent */],onFurniturePostItPlacedEvent);Object(react[\"useEffect\"])(function(){if(!groupItems||!groupItems.length)return;setSelectedItem(function(prevValue){var newValue=prevValue;if(newValue&&groupItems.indexOf(newValue)===-1)newValue=null;if(!newValue)newValue=groupItems[0];return newValue;});},[groupItems]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;return function(){if(resetCategory(UnseenItemCategory_UnseenItemCategory.FURNI)){setGroupItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(newValue),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var newGroup=_step4.value;newGroup.hasUnseenItems=false;}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return newValue;});}};},[isVisible,resetCategory]);Object(react[\"useEffect\"])(function(){if(!isVisible||!needsUpdate)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Mb\" /* FurnitureListComposer */]());setNeedsUpdate(false);},[isVisible,needsUpdate]);return{isVisible:isVisible,groupItems:groupItems,setGroupItems:setGroupItems,selectedItem:selectedItem,setSelectedItem:setSelectedItem,activate:activate,deactivate:deactivate};};var useInventoryFurni_useInventoryFurni=function useInventoryFurni(){return Object(index_esm[\"a\" /* useBetween */])(useInventoryFurni_useInventoryFurniState);};\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryPets.ts\nvar petMsgFragments=null;var useInventoryPets_useInventoryPetsState=function useInventoryPetsState(){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),needsUpdate=_useState2[0],setNeedsUpdate=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),petItems=_useState4[0],setPetItems=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedPet=_useState6[0],setSelectedPet=_useState6[1];var _useSharedVisibility=useSharedVisibility_useSharedVisibility(),_useSharedVisibility$=_useSharedVisibility.isVisible,isVisible=_useSharedVisibility$===void 0?false:_useSharedVisibility$,_useSharedVisibility$2=_useSharedVisibility.activate,activate=_useSharedVisibility$2===void 0?null:_useSharedVisibility$2,_useSharedVisibility$3=_useSharedVisibility.deactivate,deactivate=_useSharedVisibility$3===void 0?null:_useSharedVisibility$3;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.resetCategory,resetCategory=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;var onPetInventoryEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!petMsgFragments)petMsgFragments=new Array(parser.totalFragments);var fragment=PetUtilities_mergePetFragments(parser.fragment,parser.totalFragments,parser.fragmentNumber,petMsgFragments);if(!fragment)return;setPetItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);PetUtilities_processPetFragment(newValue,fragment,isUnseen);return newValue;});petMsgFragments=null;},[isUnseen]);UseMessageEventHook(nitro_renderer[\"kf\" /* PetInventoryEvent */],onPetInventoryEvent);var onPetAddedToInventoryEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setPetItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);addSinglePetItem(parser.pet,newValue,isUnseen(UnseenItemCategory_UnseenItemCategory.PET,parser.pet.id));return newValue;});},[isUnseen]);UseMessageEventHook(nitro_renderer[\"hf\" /* PetAddedToInventoryEvent */],onPetAddedToInventoryEvent);var onPetRemovedFromInventory=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setPetItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);PetUtilities_removePetItemById(parser.petId,newValue);return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"nf\" /* PetRemovedFromInventory */],onPetRemovedFromInventory);Object(react[\"useEffect\"])(function(){if(!petItems||!petItems.length)return;setSelectedPet(function(prevValue){var newValue=prevValue;if(newValue&&petItems.indexOf(newValue)===-1)newValue=null;if(!newValue)newValue=petItems[0];return newValue;});},[petItems]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;return function(){resetCategory(UnseenItemCategory_UnseenItemCategory.PET);};},[isVisible,resetCategory]);Object(react[\"useEffect\"])(function(){if(!isVisible||!needsUpdate)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Pf\" /* RequestPetsComposer */]());setNeedsUpdate(false);},[isVisible,needsUpdate]);return{petItems:petItems,selectedPet:selectedPet,setSelectedPet:setSelectedPet,activate:activate,deactivate:deactivate};};var useInventoryPets_useInventoryPets=function useInventoryPets(){return Object(index_esm[\"a\" /* useBetween */])(useInventoryPets_useInventoryPetsState);};\n// CONCATENATED MODULE: ./src/hooks/inventory/useInventoryTrade.ts\nvar useInventoryTrade_useInventoryTradeState=function useInventoryTradeState(){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),ownUser=_useState2[0],setOwnUser=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),otherUser=_useState4[0],setOtherUser=_useState4[1];var _useState5=Object(react[\"useState\"])(TradeState_TradeState.TRADING_STATE_READY),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),tradeState=_useState6[0],setTradeState=_useState6[1];var _useInventoryFurni=useInventoryFurni_useInventoryFurni(),_useInventoryFurni$gr=_useInventoryFurni.groupItems,groupItems=_useInventoryFurni$gr===void 0?[]:_useInventoryFurni$gr,_useInventoryFurni$se=_useInventoryFurni.setGroupItems,setGroupItems=_useInventoryFurni$se===void 0?null:_useInventoryFurni$se,_useInventoryFurni$ac=_useInventoryFurni.activate,activate=_useInventoryFurni$ac===void 0?null:_useInventoryFurni$ac,_useInventoryFurni$de=_useInventoryFurni.deactivate,deactivate=_useInventoryFurni$de===void 0?null:_useInventoryFurni$de;var isTrading=tradeState>=TradeState_TradeState.TRADING_STATE_RUNNING;var progressTrade=function progressTrade(){switch(tradeState){case TradeState_TradeState.TRADING_STATE_RUNNING:if(!otherUser.itemCount&&!ownUser.accepts){NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('inventory.trading.warning.other_not_offering'),null,null,null);}if(ownUser.accepts){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"gi\" /* TradingUnacceptComposer */]());}else{SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Oh\" /* TradingAcceptComposer */]());}return;case TradeState_TradeState.TRADING_STATE_CONFIRMING:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Vh\" /* TradingConfirmationComposer */]());setTradeState(TradeState_TradeState.TRADING_STATE_CONFIRMED);return;}};var removeItem=function removeItem(group){var item=group.getLastItem();if(!item)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ai\" /* TradingListItemRemoveComposer */](item.id));};var stopTrading=function stopTrading(){if(!isTrading)return;switch(tradeState){case TradeState_TradeState.TRADING_STATE_RUNNING:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Rh\" /* TradingCloseComposer */]());return;default:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Qh\" /* TradingCancelComposer */]());return;}};var onTradingAcceptEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!ownUser||!otherUser)return;if(ownUser.userId===parser.userID){setOwnUser(function(prevValue){var newValue=CloneObject(prevValue);newValue.accepts=parser.userAccepts;return newValue;});}else if(otherUser.userId===parser.userID){setOtherUser(function(prevValue){var newValue=CloneObject(prevValue);newValue.accepts=parser.userAccepts;return newValue;});}},[ownUser,otherUser]);UseMessageEventHook(nitro_renderer[\"Ph\" /* TradingAcceptEvent */],onTradingAcceptEvent);var onTradingCloseEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(parser.reason===nitro_renderer[\"Th\" /* TradingCloseParser */].ERROR_WHILE_COMMIT){TradingNotificationMessage_TradingNotificationMessage(TradingNotificationType_TradingNotificationType.ERROR_WHILE_COMMIT);}else{if(ownUser&&parser.userID!==ownUser.userId){TradingNotificationMessage_TradingNotificationMessage(TradingNotificationType_TradingNotificationType.THEY_CANCELLED);}}setOwnUser(null);setOtherUser(null);setTradeState(TradeState_TradeState.TRADING_STATE_READY);},[ownUser]);UseMessageEventHook(nitro_renderer[\"Sh\" /* TradingCloseEvent */],onTradingCloseEvent);var onTradingCompletedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setOwnUser(null);setOtherUser(null);setTradeState(TradeState_TradeState.TRADING_STATE_READY);},[]);UseMessageEventHook(nitro_renderer[\"Uh\" /* TradingCompletedEvent */],onTradingCompletedEvent);var onTradingConfirmationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setTradeState(TradeState_TradeState.TRADING_STATE_COUNTDOWN);},[]);UseMessageEventHook(nitro_renderer[\"Wh\" /* TradingConfirmationEvent */],onTradingConfirmationEvent);var onTradingListItemEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var firstUserItems=TradingUtilities_parseTradeItems(parser.firstUserItemArray);var secondUserItems=TradingUtilities_parseTradeItems(parser.secondUserItemArray);setOwnUser(function(prevValue){var newValue=CloneObject(prevValue);if(newValue.userId===parser.firstUserID){newValue.creditsCount=parser.firstUserNumCredits;newValue.itemCount=parser.firstUserNumItems;newValue.userItems=firstUserItems;}else{newValue.creditsCount=parser.secondUserNumCredits;newValue.itemCount=parser.secondUserNumItems;newValue.userItems=secondUserItems;}var tradeIds=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(newValue.userItems.getValues()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var groupItem=_step.value;var i=0;while(i<groupItem.getTotalCount()){var item=groupItem.getItemByIndex(i);if(item)tradeIds.push(item.ref);i++;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}setGroupItems(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(newValue),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var groupItem=_step2.value;groupItem.lockItemIds(tradeIds);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return newValue;});return newValue;});setOtherUser(function(prevValue){var newValue=CloneObject(prevValue);if(newValue.userId===parser.firstUserID){newValue.creditsCount=parser.firstUserNumCredits;newValue.itemCount=parser.firstUserNumItems;newValue.userItems=firstUserItems;}else{newValue.creditsCount=parser.secondUserNumCredits;newValue.itemCount=parser.secondUserNumItems;newValue.userItems=secondUserItems;}return newValue;});},[setGroupItems]);UseMessageEventHook(nitro_renderer[\"Zh\" /* TradingListItemEvent */],onTradingListItemEvent);var onTradingNotOpenEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();},[]);UseMessageEventHook(nitro_renderer[\"bi\" /* TradingNotOpenEvent */],onTradingNotOpenEvent);var onTradingOpenEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var firstUser=new TradeUserData_TradeUserData();var firstUserData=GetRoomSession().userDataManager.getUserData(parser.userID);firstUser.userItems=new nitro_renderer[\"g\" /* AdvancedMap */]();var secondUser=new TradeUserData_TradeUserData();var secondUserData=GetRoomSession().userDataManager.getUserData(parser.otherUserID);secondUser.userItems=new nitro_renderer[\"g\" /* AdvancedMap */]();if(firstUserData.webID===GetSessionDataManager().userId){firstUser.userId=firstUserData.webID;firstUser.userName=firstUserData.name;firstUser.canTrade=parser.userCanTrade;secondUser.userId=secondUserData.webID;secondUser.userName=secondUserData.name;secondUser.canTrade=parser.otherUserCanTrade;}else if(secondUserData.webID===GetSessionDataManager().userId){firstUser.userId=secondUserData.webID;firstUser.userName=secondUserData.name;firstUser.canTrade=parser.otherUserCanTrade;secondUser.userId=firstUserData.webID;secondUser.userName=firstUserData.name;secondUser.canTrade=parser.userCanTrade;}setOwnUser(firstUser);setOtherUser(secondUser);setTradeState(TradeState_TradeState.TRADING_STATE_RUNNING);},[]);UseMessageEventHook(nitro_renderer[\"di\" /* TradingOpenEvent */],onTradingOpenEvent);var onTradingOpenFailedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();TradingNotificationMessage_TradingNotificationMessage(parser.reason,parser.otherUserName);},[]);UseMessageEventHook(nitro_renderer[\"ei\" /* TradingOpenFailedEvent */],onTradingOpenFailedEvent);var onTradingOtherNotAllowedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();TradingNotificationMessage_TradingNotificationMessage(TradingNotificationType_TradingNotificationType.THEY_NOT_ALLOWED);},[]);UseMessageEventHook(nitro_renderer[\"fi\" /* TradingOtherNotAllowedEvent */],onTradingOtherNotAllowedEvent);var onTradingYouAreNotAllowedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();TradingNotificationMessage_TradingNotificationMessage(TradingNotificationType_TradingNotificationType.YOU_NOT_ALLOWED);},[]);UseMessageEventHook(nitro_renderer[\"hi\" /* TradingYouAreNotAllowedEvent */],onTradingYouAreNotAllowedEvent);Object(react[\"useEffect\"])(function(){if(tradeState===TradeState_TradeState.TRADING_STATE_READY)return;var id=activate();return function(){return deactivate(id);};},[tradeState,activate,deactivate]);return{ownUser:ownUser,otherUser:otherUser,tradeState:tradeState,setTradeState:setTradeState,isTrading:isTrading,groupItems:groupItems,progressTrade:progressTrade,removeItem:removeItem,stopTrading:stopTrading};};var useInventoryTrade_useInventoryTrade=function useInventoryTrade(){return Object(index_esm[\"a\" /* useBetween */])(useInventoryTrade_useInventoryTradeState);};\n// CONCATENATED MODULE: ./src/hooks/inventory/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/navigator/useSharedNavigatorData.ts\nvar useSharedNavigatorData_useNavigatorData=function useNavigatorData(){return Object(react[\"useState\"])({settingsReceived:false,homeRoomId:0,enteredGuestRoom:null,currentRoomOwner:false,currentRoomId:0,currentRoomIsStaffPick:false,createdFlatId:0,avatarId:0,roomPicker:false,eventMod:false,currentRoomRating:0,canRate:true});};var useSharedNavigatorData_useSharedNavigatorData=function useSharedNavigatorData(){return Object(index_esm[\"a\" /* useBetween */])(useSharedNavigatorData_useNavigatorData);};\n// CONCATENATED MODULE: ./src/hooks/navigator/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/purse/usePurse.ts\nvar usePurse_usePurseState=function usePurseState(){var _useState=Object(react[\"useState\"])(new Purse_Purse()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),purse=_useState2[0],setPurse=_useState2[1];var hcDisabled=Object(react[\"useMemo\"])(function(){return GetConfiguration('hc.disabled',false);},[]);var clubStatus=Object(react[\"useMemo\"])(function(){if(hcDisabled||purse.clubDays>0)return ClubStatus_ClubStatus.ACTIVE;if(purse.pastVipDays>0||purse.pastVipDays>0)return ClubStatus_ClubStatus.EXPIRED;return ClubStatus_ClubStatus.NONE;},[purse,hcDisabled]);var getCurrencyAmount=function getCurrencyAmount(type){if(type===-1)return purse.credits;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(purse.activityPoints.entries()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=Object(slicedToArray[\"a\" /* default */])(_step.value,2),key=_step$value[0],value=_step$value[1];if(key!==type)continue;return value;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return 0;};var onUserCreditsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setPurse(function(prevValue){var newValue=CloneObject(prevValue);newValue.credits=parseFloat(parser.credits);if(prevValue.credits!==newValue.credits)PlaySound_PlaySound(SoundNames_SoundNames.CREDITS);return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"si\" /* UserCreditsEvent */],onUserCreditsEvent);var onUserCurrencyEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setPurse(function(prevValue){var newValue=CloneObject(prevValue);newValue.activityPoints=parser.currencies;return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"ui\" /* UserCurrencyEvent */],onUserCurrencyEvent);var onActivityPointNotificationMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setPurse(function(prevValue){var newValue=CloneObject(prevValue);newValue.activityPoints=new Map(newValue.activityPoints);newValue.activityPoints.set(parser.type,parser.amount);if(parser.type===0)PlaySound_PlaySound(SoundNames_SoundNames.DUCKETS);return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"f\" /* ActivityPointNotificationMessageEvent */],onActivityPointNotificationMessageEvent);var onUserSubscriptionEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var productName=parser.productName;if(productName!=='club_habbo'&&productName!=='habbo_club')return;setPurse(function(prevValue){var newValue=CloneObject(prevValue);newValue.clubDays=Math.max(0,parser.daysToPeriodEnd);newValue.clubPeriods=Math.max(0,parser.periodsSubscribedAhead);newValue.isVip=parser.isVip;newValue.pastClubDays=parser.pastClubDays;newValue.pastVipDays=parser.pastVipDays;newValue.isExpiring=parser.responseType===nitro_renderer[\"Mi\" /* UserSubscriptionParser */].RESPONSE_TYPE_DISCOUNT_AVAILABLE?true:false;newValue.minutesUntilExpiration=parser.minutesUntilExpiration;newValue.minutesSinceLastModified=parser.minutesSinceLastModified;return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"Li\" /* UserSubscriptionEvent */],onUserSubscriptionEvent);Object(react[\"useEffect\"])(function(){if(hcDisabled)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ki\" /* UserSubscriptionComposer */]('habbo_club'));var interval=setInterval(function(){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ki\" /* UserSubscriptionComposer */]('habbo_club'));},50000);return function(){return clearInterval(interval);};},[hcDisabled]);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ti\" /* UserCurrencyComposer */]());},[]);return{purse:purse,hcDisabled:hcDisabled,clubStatus:clubStatus,getCurrencyAmount:getCurrencyAmount};};var usePurse_usePurse=function usePurse(){return Object(index_esm[\"a\" /* useBetween */])(usePurse_usePurseState);};\n// CONCATENATED MODULE: ./src/hooks/purse/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/useDoorbellWidget.ts\nvar useDoorbellWidget_useDoorbellWidgetState=function useDoorbellWidgetState(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),users=_useState2[0],setUsers=_useState2[1];var addUser=Object(react[\"useCallback\"])(function(userName){if(users.indexOf(userName)>=0)return;setUsers([].concat(Object(toConsumableArray[\"a\" /* default */])(users),[userName]));},[users]);var removeUser=Object(react[\"useCallback\"])(function(userName){var index=users.indexOf(userName);if(index===-1)return;var newUsers=Object(toConsumableArray[\"a\" /* default */])(users);newUsers.splice(index,1);setUsers(newUsers);},[users]);var answer=Object(react[\"useCallback\"])(function(userName,flag){GetRoomSession().sendDoorbellApprovalMessage(userName,flag);removeUser(userName);},[removeUser]);var onRoomSessionDoorbellEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].DOORBELL:addUser(event.userName);return;case nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].RSDE_REJECTED:case nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].RSDE_ACCEPTED:removeUser(event.userName);return;}},[addUser,removeUser]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].DOORBELL,onRoomSessionDoorbellEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].RSDE_REJECTED,onRoomSessionDoorbellEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].RSDE_ACCEPTED,onRoomSessionDoorbellEvent);return{users:users,addUser:addUser,removeUser:removeUser,answer:answer};};var useDoorbellWidget=useDoorbellWidget_useDoorbellWidgetState;\n// CONCATENATED MODULE: ./src/hooks/rooms/widgets/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/rooms/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/session/useSessionInfo.ts\nvar useSessionInfo_useSessionInfoState=function useSessionInfoState(){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userFigure=_useState4[0],setUserFigure=_useState4[1];var onUserInfoEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setUserInfo(parser.userInfo);setUserFigure(parser.userInfo.figure);},[]);UseMessageEventHook(nitro_renderer[\"zi\" /* UserInfoEvent */],onUserInfoEvent);var onUserFigureEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setUserFigure(parser.figure);},[]);UseMessageEventHook(nitro_renderer[\"xb\" /* FigureUpdateEvent */],onUserFigureEvent);return{userInfo:userInfo,userFigure:userFigure};};var useSessionInfo_useSessionInfo=function useSessionInfo(){return Object(index_esm[\"a\" /* useBetween */])(useSessionInfo_useSessionInfoState);};\n// CONCATENATED MODULE: ./src/hooks/session/index.ts\n\n// CONCATENATED MODULE: ./src/hooks/UseMountEffect.tsx\n// eslint-disable-next-line react-hooks/exhaustive-deps\nvar UseMountEffect_useEffectOnce=function useEffectOnce(effect){return Object(react[\"useEffect\"])(effect,[]);};var UseMountEffect=function UseMountEffect(fn){return UseMountEffect_useEffectOnce(function(){return fn();});};\n// CONCATENATED MODULE: ./src/hooks/index.ts\n\n// CONCATENATED MODULE: ./src/api/utils/PlaySound.ts\nvar canPlaySound=false;var PlaySound_PlaySound=function PlaySound(sampleCode){if(!canPlaySound)return;DispatchMainEvent_DispatchMainEvent(new NitroSoundEvent[\"a\" /* NitroSoundEvent */](NitroSoundEvent[\"a\" /* NitroSoundEvent */].PLAY_SOUND,sampleCode));};var PlaySound_eventTypes=[nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_CLICK];var startListening=function startListening(){var stopListening=function stopListening(){return PlaySound_eventTypes.forEach(function(type){return window.removeEventListener(type,onEvent);});};var onEvent=function onEvent(event){return(canPlaySound=true)&&stopListening();};PlaySound_eventTypes.forEach(function(type){return window.addEventListener(type,onEvent);});};startListening();\n// CONCATENATED MODULE: ./src/api/inventory/FurniCategory.ts\nvar FurniCategory_FurniCategory=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function FurniCategory(){Object(classCallCheck[\"a\" /* default */])(this,FurniCategory);});FurniCategory_FurniCategory.DEFAULT=1;FurniCategory_FurniCategory.WALL_PAPER=2;FurniCategory_FurniCategory.FLOOR=3;FurniCategory_FurniCategory.LANDSCAPE=4;FurniCategory_FurniCategory.POST_IT=5;FurniCategory_FurniCategory.POSTER=6;FurniCategory_FurniCategory.SOUND_SET=7;FurniCategory_FurniCategory.TRAX_SONG=8;FurniCategory_FurniCategory.PRESENT=9;FurniCategory_FurniCategory.ECOTRON_BOX=10;FurniCategory_FurniCategory.TROPHY=11;FurniCategory_FurniCategory.CREDIT_FURNI=12;FurniCategory_FurniCategory.PET_SHAMPOO=13;FurniCategory_FurniCategory.PET_CUSTOM_PART=14;FurniCategory_FurniCategory.PET_CUSTOM_PART_SHAMPOO=15;FurniCategory_FurniCategory.PET_SADDLE=16;FurniCategory_FurniCategory.GUILD_FURNI=17;FurniCategory_FurniCategory.GAME_FURNI=18;FurniCategory_FurniCategory.MONSTERPLANT_SEED=19;FurniCategory_FurniCategory.MONSTERPLANT_REVIVAL=20;FurniCategory_FurniCategory.MONSTERPLANT_REBREED=21;FurniCategory_FurniCategory.MONSTERPLANT_FERTILIZE=22;FurniCategory_FurniCategory.FIGURE_PURCHASABLE_SET=23;\n// CONCATENATED MODULE: ./src/api/inventory/FurnitureItem.ts\nvar FurnitureItem_FurnitureItem=/*#__PURE__*/function(){function FurnitureItem(parser){Object(classCallCheck[\"a\" /* default */])(this,FurnitureItem);this._expirationTimeStamp=void 0;this._isWallItem=void 0;this._songId=void 0;this._locked=void 0;this._id=void 0;this._ref=void 0;this._category=void 0;this._type=void 0;this._stuffData=void 0;this._extra=void 0;this._recyclable=void 0;this._tradeable=void 0;this._groupable=void 0;this._sellable=void 0;this._secondsToExpiration=void 0;this._hasRentPeriodStarted=void 0;this._creationDay=void 0;this._creationMonth=void 0;this._creationYear=void 0;this._slotId=void 0;this._isRented=void 0;this._flatId=void 0;if(!parser)return;this._locked=false;this._id=parser.itemId;this._type=parser.spriteId;this._ref=parser.ref;this._category=parser.category;this._groupable=parser.isGroupable&&!parser.rentable;this._tradeable=parser.tradable;this._recyclable=parser.isRecycleable;this._sellable=parser.sellable;this._stuffData=parser.stuffData;this._extra=parser.extra;this._secondsToExpiration=parser.secondsToExpiration;this._expirationTimeStamp=parser.expirationTimeStamp;this._hasRentPeriodStarted=parser.hasRentPeriodStarted;this._creationDay=parser.creationDay;this._creationMonth=parser.creationMonth;this._creationYear=parser.creationYear;this._slotId=parser.slotId;this._songId=parser.songId;this._flatId=parser.flatId;this._isRented=parser.rentable;this._isWallItem=parser.isWallItem;}Object(createClass[\"a\" /* default */])(FurnitureItem,[{key:\"rentable\",get:function get(){return this._isRented;}},{key:\"id\",get:function get(){return this._id;}},{key:\"ref\",get:function get(){return this._ref;}},{key:\"category\",get:function get(){return this._category;}},{key:\"type\",get:function get(){return this._type;}},{key:\"stuffData\",get:function get(){return this._stuffData;},set:function set(k){this._stuffData=k;}},{key:\"extra\",get:function get(){return this._extra;}},{key:\"recyclable\",get:function get(){return this._recyclable;}},{key:\"isTradable\",get:function get(){return this._tradeable;}},{key:\"isGroupable\",get:function get(){return this._groupable;}},{key:\"sellable\",get:function get(){return this._sellable;}},{key:\"secondsToExpiration\",get:function get(){if(this._secondsToExpiration===-1)return-1;var time=-1;if(this._hasRentPeriodStarted){time=this._secondsToExpiration-(GetNitroInstance().time-this._expirationTimeStamp)/1000;if(time<0)time=0;}else{time=this._secondsToExpiration;}return time;}},{key:\"creationDay\",get:function get(){return this._creationDay;}},{key:\"creationMonth\",get:function get(){return this._creationMonth;}},{key:\"creationYear\",get:function get(){return this._creationYear;}},{key:\"slotId\",get:function get(){return this._slotId;}},{key:\"songId\",get:function get(){return this._songId;}},{key:\"locked\",get:function get(){return this._locked;},set:function set(k){this._locked=k;}},{key:\"flatId\",get:function get(){return this._flatId;}},{key:\"isWallItem\",get:function get(){return this._isWallItem;}},{key:\"hasRentPeriodStarted\",get:function get(){return this._hasRentPeriodStarted;}},{key:\"expirationTimeStamp\",get:function get(){return this._expirationTimeStamp;}},{key:\"update\",value:function update(parser){this._type=parser.spriteId;this._ref=parser.ref;this._category=parser.category;this._groupable=parser.isGroupable&&!parser.rentable;this._tradeable=parser.tradable;this._recyclable=parser.isRecycleable;this._sellable=parser.sellable;this._stuffData=parser.stuffData;this._extra=parser.extra;this._secondsToExpiration=parser.secondsToExpiration;this._expirationTimeStamp=parser.expirationTimeStamp;this._hasRentPeriodStarted=parser.hasRentPeriodStarted;this._creationDay=parser.creationDay;this._creationMonth=parser.creationMonth;this._creationYear=parser.creationYear;this._slotId=parser.slotId;this._songId=parser.songId;this._flatId=parser.flatId;this._isRented=parser.rentable;this._isWallItem=parser.isWallItem;}},{key:\"clone\",value:function clone(){var item=new FurnitureItem(null);item._expirationTimeStamp=this._expirationTimeStamp;item._isWallItem=this._isWallItem;item._songId=this._songId;item._locked=this._locked;item._id=this._id;item._ref=this._ref;item._category=this._category;item._type=this._type;item._stuffData=this._stuffData;item._extra=this._extra;item._recyclable=this._recyclable;item._tradeable=this._tradeable;item._groupable=this._groupable;item._sellable=this._sellable;item._secondsToExpiration=this._secondsToExpiration;item._hasRentPeriodStarted=this._hasRentPeriodStarted;item._creationDay=this._creationDay;item._creationMonth=this._creationMonth;item._creationYear=this._creationYear;item._slotId=this._slotId;item._isRented=this._isRented;item._flatId=this._flatId;return item;}}]);return FurnitureItem;}();\n// CONCATENATED MODULE: ./src/api/inventory/GroupItem.ts\nvar GroupItem_GroupItem=/*#__PURE__*/function(){function GroupItem(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;var category=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;var roomEngine=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var stuffData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var extra=arguments.length>4&&arguments[4]!==undefined?arguments[4]:-1;Object(classCallCheck[\"a\" /* default */])(this,GroupItem);this._type=void 0;this._category=void 0;this._roomEngine=void 0;this._stuffData=void 0;this._extra=void 0;this._isWallItem=void 0;this._iconUrl=void 0;this._name=void 0;this._description=void 0;this._locked=void 0;this._selected=void 0;this._hasUnseenItems=void 0;this._items=void 0;this._type=type;this._category=category;this._roomEngine=roomEngine;this._stuffData=stuffData;this._extra=extra;this._isWallItem=false;this._iconUrl=null;this._name=null;this._description=null;this._locked=false;this._selected=false;this._hasUnseenItems=false;this._items=[];}Object(createClass[\"a\" /* default */])(GroupItem,[{key:\"clone\",value:function clone(){var groupItem=new GroupItem();groupItem._type=this._type;groupItem._category=this._category;groupItem._roomEngine=this._roomEngine;groupItem._stuffData=this._stuffData;groupItem._extra=this._extra;groupItem._isWallItem=this._isWallItem;groupItem._iconUrl=this._iconUrl;groupItem._name=this._name;groupItem._description=this._description;groupItem._locked=this._locked;groupItem._selected=this._selected;groupItem._hasUnseenItems=this._hasUnseenItems;groupItem._items=this._items;return groupItem;}},{key:\"prepareGroup\",value:function prepareGroup(){this.setIcon();this.setName();this.setDescription();}},{key:\"dispose\",value:function dispose(){}},{key:\"getItemByIndex\",value:function getItemByIndex(index){return this._items[index];}},{key:\"getItemById\",value:function getItemById(id){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(this._items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(item.id!==id)continue;return item;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return null;}},{key:\"getTradeItems\",value:function getTradeItems(count){var items=[];var furnitureItem=this.getLastItem();if(!furnitureItem)return items;var found=0;var i=0;while(i<this._items.length){if(found>=count)break;var item=this.getItemByIndex(i);if(!item.locked&&item.isTradable&&item.type===furnitureItem.type){items.push(item);found++;}i++;}return items;}},{key:\"push\",value:function push(item){var items=Object(toConsumableArray[\"a\" /* default */])(this._items);var index=0;while(index<items.length){var existingItem=items[index];if(existingItem.id===item.id){existingItem=existingItem.clone();existingItem.locked=false;items.splice(index,1);items.push(existingItem);this._items=items;return;}index++;}items.push(item);this._items=items;if(this._items.length===1)this.prepareGroup();}},{key:\"pop\",value:function pop(){var items=Object(toConsumableArray[\"a\" /* default */])(this._items);var item=null;if(items.length>0){var index=items.length-1;item=items[index];items.splice(index,1);}this._items=items;return item;}},{key:\"remove\",value:function remove(k){var items=Object(toConsumableArray[\"a\" /* default */])(this._items);var index=0;while(index<items.length){var existingItem=items[index];if(existingItem.id===k){items.splice(index,1);this._items=items;return existingItem;}index++;}return null;}},{key:\"getTotalCount\",value:function getTotalCount(){if(this._category===FurniCategory_FurniCategory.POST_IT){var count=0;var index=0;while(index<this._items.length){var item=this.getItemByIndex(index);count=count+parseInt(item.stuffData.getLegacyString());index++;}return count;}return this._items.length;}},{key:\"getUnlockedCount\",value:function getUnlockedCount(){if(this.category===FurniCategory_FurniCategory.POST_IT)return this.getTotalCount();var count=0;var index=0;while(index<this._items.length){var item=this.getItemByIndex(index);if(!item.locked)count++;index++;}return count;}},{key:\"getLastItem\",value:function getLastItem(){if(!this._items.length)return null;var item=this.getItemByIndex(this._items.length-1);return item;}},{key:\"unlockAllItems\",value:function unlockAllItems(){var items=Object(toConsumableArray[\"a\" /* default */])(this._items);var index=0;while(index<items.length){var item=items[index];if(item.locked){var newItem=item.clone();newItem.locked=false;items[index]=newItem;}index++;}this._items=items;}},{key:\"lockItemIds\",value:function lockItemIds(itemIds){var items=Object(toConsumableArray[\"a\" /* default */])(this._items);var index=0;var updated=false;while(index<items.length){var item=items[index];var locked=itemIds.indexOf(item.ref)>=0;if(item.locked!==locked){updated=true;var newItem=item.clone();newItem.locked=locked;items[index]=newItem;}index++;}this._items=items;return updated;}},{key:\"setName\",value:function setName(){var k=this.getLastItem();if(!k){this._name='';return;}var key='';switch(this._category){case FurniCategory_FurniCategory.POSTER:key='poster_'+k.stuffData.getLegacyString()+'_name';break;case FurniCategory_FurniCategory.TRAX_SONG:this._name='SONG_NAME';return;default:if(this.isWallItem){key='wallItem.name.'+k.type;}else{key='roomItem.name.'+k.type;}}this._name=LocalizeText(key);}},{key:\"setDescription\",value:function setDescription(){this._description='';}},{key:\"setIcon\",value:function setIcon(){if(this._iconUrl)return;var url=null;if(this.isWallItem){url=this._roomEngine.getFurnitureWallIconUrl(this._type,this._stuffData.getLegacyString());}else{url=this._roomEngine.getFurnitureFloorIconUrl(this._type);}if(!url)return;this._iconUrl=url;}},{key:\"type\",get:function get(){return this._type;}},{key:\"category\",get:function get(){return this._category;}},{key:\"stuffData\",get:function get(){return this._stuffData;}},{key:\"extra\",get:function get(){return this._extra;}},{key:\"iconUrl\",get:function get(){return this._iconUrl;}},{key:\"name\",get:function get(){return this._name;}},{key:\"description\",get:function get(){return this._description;}},{key:\"hasUnseenItems\",get:function get(){return this._hasUnseenItems;},set:function set(flag){this._hasUnseenItems=flag;}},{key:\"locked\",get:function get(){return this._locked;},set:function set(flag){this._locked=flag;}},{key:\"selected\",get:function get(){return this._selected;},set:function set(flag){this._selected=flag;}},{key:\"isWallItem\",get:function get(){var item=this.getItemByIndex(0);return item?item.isWallItem:false;}},{key:\"isGroupable\",get:function get(){var item=this.getItemByIndex(0);return item?item.isGroupable:false;}},{key:\"isSellable\",get:function get(){var item=this.getItemByIndex(0);return item?item.sellable:false;}},{key:\"items\",get:function get(){return this._items;},set:function set(items){this._items=items;}}]);return GroupItem;}();\n// CONCATENATED MODULE: ./src/api/inventory/FurnitureUtilities.ts\nvar FurnitureUtilities_createGroupItem=function createGroupItem(type,category,stuffData){var extra=arguments.length>3&&arguments[3]!==undefined?arguments[3]:NaN;return new GroupItem_GroupItem(type,category,GetRoomEngine(),stuffData,extra);};var FurnitureUtilities_addSingleFurnitureItem=function addSingleFurnitureItem(set,item,unseen){var groupItems=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(set),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _groupItem2=_step.value;if(_groupItem2.type===item.type)groupItems.push(_groupItem2);}}catch(err){_iterator.e(err);}finally{_iterator.f();}for(var _i=0,_groupItems=groupItems;_i<_groupItems.length;_i++){var _groupItem=_groupItems[_i];if(_groupItem.getItemById(item.id))return _groupItem;}var groupItem=FurnitureUtilities_createGroupItem(item.type,item.category,item.stuffData,item.extra);groupItem.push(item);if(unseen){groupItem.hasUnseenItems=true;set.unshift(groupItem);}else{set.push(groupItem);}return groupItem;};var FurnitureUtilities_addGroupableFurnitureItem=function addGroupableFurnitureItem(set,item,unseen){var existingGroup=null;var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(set),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var groupItem=_step2.value;if(groupItem.type===item.type&&groupItem.isWallItem===item.isWallItem&&groupItem.isGroupable){if(item.category===FurniCategory_FurniCategory.POSTER){if(groupItem.stuffData.getLegacyString()===item.stuffData.getLegacyString()){existingGroup=groupItem;break;}}else if(item.category===FurniCategory_FurniCategory.GUILD_FURNI){if(item.stuffData.compare(groupItem.stuffData)){existingGroup=groupItem;break;}}else{existingGroup=groupItem;break;}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(existingGroup){existingGroup.push(item);if(unseen){existingGroup.hasUnseenItems=true;var index=set.indexOf(existingGroup);if(index>=0)set.splice(index,1);set.unshift(existingGroup);}return existingGroup;}existingGroup=FurnitureUtilities_createGroupItem(item.type,item.category,item.stuffData,item.extra);existingGroup.push(item);if(unseen){existingGroup.hasUnseenItems=true;set.unshift(existingGroup);}else{set.push(existingGroup);}return existingGroup;};var addFurnitureItem=function addFurnitureItem(set,item,unseen){if(!item.isGroupable){FurnitureUtilities_addSingleFurnitureItem(set,item,unseen);}else{FurnitureUtilities_addGroupableFurnitureItem(set,item,unseen);}};var FurnitureUtilities_mergeFurniFragments=function mergeFurniFragments(fragment,totalFragments,fragmentNumber,fragments){if(totalFragments===1)return fragment;fragments[fragmentNumber]=fragment;var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(fragments),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var frag=_step3.value;if(!frag)return null;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}var merged=new Map();var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(fragments),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _frag=_step4.value;var _iterator5=Object(createForOfIteratorHelper[\"a\" /* default */])(_frag),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=Object(slicedToArray[\"a\" /* default */])(_step5.value,2),key=_step5$value[0],value=_step5$value[1];merged.set(key,value);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}_frag.clear();}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}fragments=null;return merged;};var FurnitureUtilities_getAllItemIds=function getAllItemIds(groupItems){var itemIds=[];var _iterator6=Object(createForOfIteratorHelper[\"a\" /* default */])(groupItems),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var groupItem=_step6.value;var totalCount=groupItem.getTotalCount();if(groupItem.category===FurniCategory_FurniCategory.POST_IT)totalCount=1;var i=0;while(i<totalCount){itemIds.push(groupItem.getItemByIndex(i).id);i++;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}return itemIds;};\n// CONCATENATED MODULE: ./src/api/inventory/IBotItem.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/IFurnitureItem.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/InventoryUtilities.ts\nvar InventoryUtilities_objectMoverRequested=false;var itemIdInPlacing=-1;var isObjectMoverRequested=function isObjectMoverRequested(){return InventoryUtilities_objectMoverRequested;};var InventoryUtilities_setObjectMoverRequested=function setObjectMoverRequested(flag){return InventoryUtilities_objectMoverRequested=flag;};var getPlacingItemId=function getPlacingItemId(){return itemIdInPlacing;};var setPlacingItemId=function setPlacingItemId(id){return itemIdInPlacing=id;};var InventoryUtilities_cancelRoomObjectPlacement=function cancelRoomObjectPlacement(){if(getPlacingItemId()===-1)return;GetRoomEngine().cancelRoomObjectPlacement();setPlacingItemId(-1);InventoryUtilities_setObjectMoverRequested(false);};var InventoryUtilities_attemptPetPlacement=function attemptPetPlacement(petItem){var flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var petData=petItem.petData;if(!petData)return false;var session=GetRoomSessionManager().getSession(1);if(!session)return false;if(!session.isRoomOwner&&!session.allowPets)return false;CreateLinkEvent('inventory/hide');if(GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Fg\" /* RoomObjectPlacementSource */].INVENTORY,-petData.id,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,nitro_renderer[\"Gg\" /* RoomObjectType */].PET,petData.figureData.figuredata)){setPlacingItemId(petData.id);InventoryUtilities_setObjectMoverRequested(true);}return true;};var InventoryUtilities_attemptItemPlacement=function attemptItemPlacement(groupItem){var flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!groupItem||!groupItem.getUnlockedCount())return false;var item=groupItem.getLastItem();if(!item)return false;if(item.category===FurniCategory_FurniCategory.FLOOR||item.category===FurniCategory_FurniCategory.WALL_PAPER||item.category===FurniCategory_FurniCategory.LANDSCAPE){if(flag)return false;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ub\" /* FurniturePlacePaintComposer */](item.id));return false;}else{CreateLinkEvent('inventory/hide');var category=0;var isMoving=false;if(item.isWallItem)category=nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL;else category=nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR;if(item.category===FurniCategory_FurniCategory.POSTER)// or external image from furnidata\n{isMoving=GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Fg\" /* RoomObjectPlacementSource */].INVENTORY,item.id,category,item.type,item.stuffData.getLegacyString());}else{isMoving=GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Fg\" /* RoomObjectPlacementSource */].INVENTORY,item.id,category,item.type,item.extra.toString(),item.stuffData);}if(isMoving){setPlacingItemId(item.ref);InventoryUtilities_setObjectMoverRequested(true);}}return true;};var InventoryUtilities_attemptBotPlacement=function attemptBotPlacement(botItem){var flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var botData=botItem.botData;if(!botData)return false;var session=GetRoomSessionManager().getSession(1);if(!session||!session.isRoomOwner)return false;CreateLinkEvent('inventory/hide');if(GetRoomEngine().processRoomObjectPlacement(nitro_renderer[\"Fg\" /* RoomObjectPlacementSource */].INVENTORY,-botData.id,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,nitro_renderer[\"Gg\" /* RoomObjectType */].RENTABLE_BOT,botData.figure)){setPlacingItemId(botData.id);InventoryUtilities_setObjectMoverRequested(true);}return true;};\n// CONCATENATED MODULE: ./src/api/inventory/IPetItem.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/unseen/IUnseenItemTracker.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/unseen/UnseenItemCategory.ts\nvar UnseenItemCategory_UnseenItemCategory=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function UnseenItemCategory(){Object(classCallCheck[\"a\" /* default */])(this,UnseenItemCategory);});UnseenItemCategory_UnseenItemCategory.FURNI=1;UnseenItemCategory_UnseenItemCategory.RENTABLE=2;UnseenItemCategory_UnseenItemCategory.PET=3;UnseenItemCategory_UnseenItemCategory.BADGE=4;UnseenItemCategory_UnseenItemCategory.BOT=5;UnseenItemCategory_UnseenItemCategory.GAMES=6;\n// CONCATENATED MODULE: ./src/api/inventory/unseen/index.ts\n\n// CONCATENATED MODULE: ./src/api/inventory/PetUtilities.ts\nvar getAllPetIds=function getAllPetIds(petItems){return petItems.map(function(item){return item.petData.id;});};var addSinglePetItem=function addSinglePetItem(petData,set){var unseen=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var petItem={petData:petData};if(unseen){//petItem.isUnseen = true;\nset.unshift(petItem);}else{set.push(petItem);}return petItem;};var PetUtilities_removePetItemById=function removePetItemById(id,set){var index=0;while(index<set.length){var petItem=set[index];if(petItem&&petItem.petData.id===id){if(getPlacingItemId()===petItem.petData.id){InventoryUtilities_cancelRoomObjectPlacement();CreateLinkEvent('inventory/open');}set.splice(index,1);return petItem;}index++;}return null;};var PetUtilities_processPetFragment=function processPetFragment(set,fragment,isUnseen){var existingIds=getAllPetIds(set);var addedIds=[];var removedIds=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(fragment.keys()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;existingIds.indexOf(key)===-1&&addedIds.push(key);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(existingIds),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _itemId=_step2.value;!fragment.get(_itemId)&&removedIds.push(_itemId);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var emptyExistingSet=existingIds.length===0;for(var _i=0,_removedIds=removedIds;_i<_removedIds.length;_i++){var id=_removedIds[_i];PetUtilities_removePetItemById(id,set);}for(var _i2=0,_addedIds=addedIds;_i2<_addedIds.length;_i2++){var _id=_addedIds[_i2];var parser=fragment.get(_id);if(!parser)continue;addSinglePetItem(parser,set,isUnseen(UnseenItemCategory_UnseenItemCategory.PET,parser.id));}return set;};var PetUtilities_mergePetFragments=function mergePetFragments(fragment,totalFragments,fragmentNumber,fragments){if(totalFragments===1)return fragment;fragments[fragmentNumber]=fragment;var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(fragments),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var frag=_step3.value;if(!frag)return null;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}var merged=new Map();var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(fragments),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _frag=_step4.value;var _iterator5=Object(createForOfIteratorHelper[\"a\" /* default */])(_frag),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=Object(slicedToArray[\"a\" /* default */])(_step5.value,2),key=_step5$value[0],value=_step5$value[1];merged.set(key,value);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}_frag.clear();}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}fragments=null;return merged;};\n// CONCATENATED MODULE: ./src/api/inventory/TradeState.ts\nvar TradeState_TradeState=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function TradeState(){Object(classCallCheck[\"a\" /* default */])(this,TradeState);});TradeState_TradeState.TRADING_STATE_READY=0;TradeState_TradeState.TRADING_STATE_RUNNING=1;TradeState_TradeState.TRADING_STATE_COUNTDOWN=2;TradeState_TradeState.TRADING_STATE_CONFIRMING=3;TradeState_TradeState.TRADING_STATE_CONFIRMED=4;TradeState_TradeState.TRADING_STATE_COMPLETED=5;TradeState_TradeState.TRADING_STATE_CANCELLED=6;\n// CONCATENATED MODULE: ./src/api/inventory/TradeUserData.ts\nvar TradeUserData_TradeUserData=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function TradeUserData(){var userId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;var userName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var userItems=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new nitro_renderer[\"g\" /* AdvancedMap */]();var itemCount=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var creditsCount=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var accepts=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var canTrade=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;Object(classCallCheck[\"a\" /* default */])(this,TradeUserData);this.userId=userId;this.userName=userName;this.userItems=userItems;this.itemCount=itemCount;this.creditsCount=creditsCount;this.accepts=accepts;this.canTrade=canTrade;});\n// CONCATENATED MODULE: ./src/api/inventory/TradingNotificationType.ts\nvar TradingNotificationType_TradingNotificationType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function TradingNotificationType(){Object(classCallCheck[\"a\" /* default */])(this,TradingNotificationType);});TradingNotificationType_TradingNotificationType.ALERT_SCAM=0;TradingNotificationType_TradingNotificationType.HOTEL_TRADING_DISABLED=1;TradingNotificationType_TradingNotificationType.YOU_NOT_ALLOWED=2;TradingNotificationType_TradingNotificationType.THEY_NOT_ALLOWED=4;TradingNotificationType_TradingNotificationType.ROOM_DISABLED=6;TradingNotificationType_TradingNotificationType.YOU_OPEN=7;TradingNotificationType_TradingNotificationType.THEY_OPEN=8;TradingNotificationType_TradingNotificationType.ERROR_WHILE_COMMIT=9;TradingNotificationType_TradingNotificationType.THEY_CANCELLED=10;\n// CONCATENATED MODULE: ./src/api/inventory/TradingNotificationMessage.ts\nvar TradingNotificationMessage_TradingNotificationMessage=function TradingNotificationMessage(type){var otherUsername=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';switch(type){case TradingNotificationType_TradingNotificationType.ALERT_SCAM:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('inventory.trading.warning.other_not_offering'),null,null,null,LocalizeText('inventory.trading.notification.title'));return;case TradingNotificationType_TradingNotificationType.HOTEL_TRADING_DISABLED:case TradingNotificationType_TradingNotificationType.YOU_NOT_ALLOWED:case TradingNotificationType_TradingNotificationType.THEY_NOT_ALLOWED:case TradingNotificationType_TradingNotificationType.ROOM_DISABLED:case TradingNotificationType_TradingNotificationType.YOU_OPEN:case TradingNotificationType_TradingNotificationType.THEY_OPEN:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText(\"inventory.trading.openfail.\".concat(type),['otherusername'],[otherUsername]),null,null,null,LocalizeText('inventory.trading.openfail.title'));return;case TradingNotificationType_TradingNotificationType.ERROR_WHILE_COMMIT:NotificationUtilities_NotificationUtilities.simpleAlert(\"\".concat(LocalizeText('inventory.trading.notification.caption'),\", \").concat(LocalizeText('inventory.trading.notification.commiterror.info')),null,null,null,LocalizeText('inventory.trading.notification.title'));return;case TradingNotificationType_TradingNotificationType.THEY_CANCELLED:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('inventory.trading.info.closed'),null,null,null,LocalizeText('inventory.trading.notification.title'));return;}};\n// CONCATENATED MODULE: ./src/api/inventory/TradingUtilities.ts\nvar TradingUtilities_isExternalImage=function isExternalImage(spriteId){var _GetSessionDataManage;return((_GetSessionDataManage=GetSessionDataManager().getWallItemData(spriteId))===null||_GetSessionDataManage===void 0?void 0:_GetSessionDataManage.isExternalImage)||false;};var TradingUtilities_parseTradeItems=function parseTradeItems(items){var existingItems=new nitro_renderer[\"g\" /* AdvancedMap */]();var totalItems=items.length;if(totalItems){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;var spriteId=item.spriteId;var category=item.category;var name=item.furniType+spriteId;if(!item.isGroupable||TradingUtilities_isExternalImage(spriteId)){name='itemid'+item.itemId;}if(item.category===FurniCategory_FurniCategory.POSTER){name=item.itemId+'poster'+item.stuffData.getLegacyString();}else if(item.category===FurniCategory_FurniCategory.GUILD_FURNI){name='';}var groupItem=item.isGroupable&&!TradingUtilities_isExternalImage(item.spriteId)?existingItems.getValue(name):null;if(!groupItem){groupItem=FurnitureUtilities_createGroupItem(spriteId,category,item.stuffData);existingItems.add(name,groupItem);}groupItem.push(new FurnitureItem_FurnitureItem(item));}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return existingItems;};var TradingUtilities_getGuildFurniType=function getGuildFurniType(spriteId,stuffData){var type=spriteId.toString();if(!(stuffData instanceof nitro_renderer[\"Kh\" /* StringDataType */]))return type;var i=1;while(i<5){type=type+(','+stuffData.getValue(i));i++;}return type;};\n// CONCATENATED MODULE: ./src/api/inventory/index.ts\n\n// CONCATENATED MODULE: ./src/api/utils/ProductImageUtility.ts\nvar ProductImageUtility_ProductImageUtility=/*#__PURE__*/function(){function ProductImageUtility(){Object(classCallCheck[\"a\" /* default */])(this,ProductImageUtility);}Object(createClass[\"a\" /* default */])(ProductImageUtility,null,[{key:\"getProductImageUrl\",value:function getProductImageUrl(productType,furniClassId,extraParam){var imageUrl=null;switch(productType){case nitro_renderer[\"V\" /* CatalogPageMessageProductData */].S:imageUrl=GetRoomEngine().getFurnitureFloorIconUrl(furniClassId);break;case nitro_renderer[\"V\" /* CatalogPageMessageProductData */].I:var productCategory=this.getProductCategory(nitro_renderer[\"V\" /* CatalogPageMessageProductData */].I,furniClassId);if(productCategory===1){imageUrl=GetRoomEngine().getFurnitureWallIconUrl(furniClassId,extraParam);}else{switch(productCategory){case FurniCategory_FurniCategory.WALL_PAPER:break;case FurniCategory_FurniCategory.LANDSCAPE:break;case FurniCategory_FurniCategory.FLOOR:break;}}break;case nitro_renderer[\"V\" /* CatalogPageMessageProductData */].E:// fx_icon_furniClassId_png\nbreak;}return imageUrl;}},{key:\"getProductCategory\",value:function getProductCategory(productType,furniClassId){if(productType===nitro_renderer[\"V\" /* CatalogPageMessageProductData */].S)return 1;if(productType===nitro_renderer[\"V\" /* CatalogPageMessageProductData */].I){if(furniClassId===3001)return FurniCategory_FurniCategory.WALL_PAPER;if(furniClassId===3002)return FurniCategory_FurniCategory.FLOOR;if(furniClassId===4057)return FurniCategory_FurniCategory.LANDSCAPE;}return 1;}}]);return ProductImageUtility;}();\n// CONCATENATED MODULE: ./src/api/utils/Randomizer.ts\nvar Randomizer_Randomizer=/*#__PURE__*/function(){function Randomizer(){Object(classCallCheck[\"a\" /* default */])(this,Randomizer);}Object(createClass[\"a\" /* default */])(Randomizer,null,[{key:\"getRandomNumber\",value:function getRandomNumber(count){return Math.floor(Math.random()*count);}},{key:\"getRandomElement\",value:function getRandomElement(elements){return elements[this.getRandomNumber(elements.length)];}},{key:\"getRandomElements\",value:function getRandomElements(elements,count){var result=new Array(count);var len=elements.length;var taken=new Array(len);while(count--){var x=this.getRandomNumber(len);result[count]=elements[x in taken?taken[x]:x];taken[x]=--len in taken?taken[len]:len;}return result;}}]);return Randomizer;}();\n// CONCATENATED MODULE: ./src/api/utils/RoomChatFormatter.ts\nvar allowedColours=new Map();allowedColours.set('r','red');allowedColours.set('b','blue');allowedColours.set('g','green');allowedColours.set('y','yellow');allowedColours.set('w','white');allowedColours.set('o','orange');allowedColours.set('c','cyan');allowedColours.set('br','brown');allowedColours.set('pr','purple');allowedColours.set('pk','pink');allowedColours.set('red','red');allowedColours.set('blue','blue');allowedColours.set('green','green');allowedColours.set('yellow','yellow');allowedColours.set('white','white');allowedColours.set('orange','orange');allowedColours.set('cyan','cyan');allowedColours.set('brown','brown');allowedColours.set('purple','purple');allowedColours.set('pink','pink');function encodeHTML(str){return str.replace(/([\\u00A0-\\u9999<>&])(.|$)/g,function(full,char,next){if(char!=='&'||next!=='#'){if(/[\\u00A0-\\u9999<>&]/.test(next))next='&#'+next.charCodeAt(0)+';';return'&#'+char.charCodeAt(0)+';'+next;}return full;});}function RoomChatFormatter(content,styleId){var result='';/*const styles = [1, 2, 33, 34];\n    if(!styles.includes(styleId)){\n        content = encodeHTML(content)\n        content = (joypixels.shortnameToUnicode(content) as string)\n    }*/if(content.toLowerCase().includes(\"onerror=\"))content=\"kekw\";if(content.toLowerCase().includes(\"javascript:\"))content=\"kekw\";if(content.toLowerCase().includes(\"onmouseover=\"))content=\"kekw\";if(content.toLowerCase().includes(\"<audio\")&&content.toLowerCase().includes(\"<img\"))content=\"kekw\";if(content.toLowerCase().includes(\"<audio\")&&content.toLowerCase().includes(\"<h\"))content=\"kekw\";if(content.toLowerCase().includes(\"<script\"))content=\"kekw\";if(content.includes(\"giphy.com/media\")){content=\"<img src='\"+content+\".gif' style='max-width: 150px; object-fit: contain;'/>\";}if(content.includes(\"swfs.hgalaxy.net/c_images/emojis/emoji\")){content=\"<img src='\"+content+\"'/>\";}if(content.includes(\"https://int.kubbo.city/audios/\")){content=\"<audio style='height: 20px; position: relative; top: 3px;' controls src='\"+content+\"'/>\";}if(content.startsWith('@')&&content.indexOf('@',1)>-1){var match=null;while((match=/@[a-zA-Z]+@/g.exec(content))!==null){var colorTag=match[0].toString();var colorName=colorTag.substr(1,colorTag.length-2);var text=content.replace(colorTag,'');if(!allowedColours.has(colorName)){result=text;}else{var color=allowedColours.get(colorName);result='<span style=\"color: '+color+'\">'+text+'</span>';}break;}}else{result=content;}return result;}\n// CONCATENATED MODULE: ./src/api/utils/SoundNames.ts\nvar SoundNames_SoundNames=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function SoundNames(){Object(classCallCheck[\"a\" /* default */])(this,SoundNames);});SoundNames_SoundNames.CAMERA_SHUTTER='camera_shutter';SoundNames_SoundNames.CREDITS='credits';SoundNames_SoundNames.DUCKETS='duckets';SoundNames_SoundNames.MESSENGER_NEW_THREAD='messenger_new_thread';SoundNames_SoundNames.MESSENGER_MESSAGE_RECEIVED='messenger_message_received';SoundNames_SoundNames.MODTOOLS_NEW_TICKET='modtools_new_ticket';\n// CONCATENATED MODULE: ./src/api/utils/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetMessage.ts\nvar RoomWidgetMessage_RoomWidgetMessage=/*#__PURE__*/function(){function RoomWidgetMessage(type){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetMessage);this._type=void 0;this._type=type;}Object(createClass[\"a\" /* default */])(RoomWidgetMessage,[{key:\"type\",get:function get(){return this._type;}}]);return RoomWidgetMessage;}();\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetAvatarExpressionMessage.ts\nvar RoomWidgetAvatarExpressionMessage_RoomWidgetAvatarExpressionMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetAvatarExpressionMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetAvatarExpressionMessage);function RoomWidgetAvatarExpressionMessage(animation){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetAvatarExpressionMessage);_this=_super.call(this,RoomWidgetAvatarExpressionMessage.AVATAR_EXPRESSION);_this._animation=void 0;_this._animation=animation;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetAvatarExpressionMessage,[{key:\"animation\",get:function get(){return this._animation;}}]);return RoomWidgetAvatarExpressionMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetAvatarExpressionMessage_RoomWidgetAvatarExpressionMessage.AVATAR_EXPRESSION='RWAEM_MESSAGE_AVATAR_EXPRESSION';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetChangeMottoMessage.ts\nvar RoomWidgetChangeMottoMessage_RoomWidgetChangeMottoMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetChangeMottoMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetChangeMottoMessage);function RoomWidgetChangeMottoMessage(motto){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetChangeMottoMessage);_this=_super.call(this,RoomWidgetChangeMottoMessage.CHANGE_MOTTO);_this._motto=void 0;_this._motto=motto;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetChangeMottoMessage,[{key:\"motto\",get:function get(){return this._motto;}}]);return RoomWidgetChangeMottoMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetChangeMottoMessage_RoomWidgetChangeMottoMessage.CHANGE_MOTTO='RWCMM_CHANGE_MOTTO';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetChangePostureMessage.ts\nvar RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetChangePostureMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetChangePostureMessage);function RoomWidgetChangePostureMessage(posture){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetChangePostureMessage);_this=_super.call(this,RoomWidgetChangePostureMessage.CHANGE_POSTURE);_this._posture=void 0;_this._posture=posture;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetChangePostureMessage,[{key:\"posture\",get:function get(){return this._posture;}}]);return RoomWidgetChangePostureMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage.CHANGE_POSTURE='RWCPM_MESSAGE_CHANGE_POSTURE';RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage.POSTURE_STAND=0;RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage.POSTURE_SIT=1;\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetChatMessage.ts\nvar RoomWidgetChatMessage_RoomWidgetChatMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetChatMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetChatMessage);function RoomWidgetChatMessage(type,text,chatType,recipientName,styleId){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetChatMessage);_this=_super.call(this,type);_this._chatType=void 0;_this._text=void 0;_this._recipientName=void 0;_this._styleId=void 0;_this._text=text;_this._chatType=chatType;_this._recipientName=recipientName;_this._styleId=styleId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetChatMessage,[{key:\"text\",get:function get(){return this._text;}},{key:\"chatType\",get:function get(){return this._chatType;}},{key:\"recipientName\",get:function get(){return this._recipientName;}},{key:\"styleId\",get:function get(){return this._styleId;}}]);return RoomWidgetChatMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetChatMessage_RoomWidgetChatMessage.MESSAGE_CHAT='RWCM_MESSAGE_CHAT';RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_DEFAULT=0;RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_WHISPER=1;RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_SHOUT=2;\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetChatSelectAvatarMessage.ts\nvar RoomWidgetChatSelectAvatarMessage_RoomWidgetChatSelectAvatarMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetChatSelectAvatarMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetChatSelectAvatarMessage);function RoomWidgetChatSelectAvatarMessage(type,objectId,userName,roomId){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetChatSelectAvatarMessage);_this=_super.call(this,type);_this._objectId=void 0;_this._userName=void 0;_this._roomId=void 0;_this._objectId=objectId;_this._userName=userName;_this._roomId=roomId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetChatSelectAvatarMessage,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"userName\",get:function get(){return this._userName;}},{key:\"roomId\",get:function get(){return this._roomId;}}]);return RoomWidgetChatSelectAvatarMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetChatSelectAvatarMessage_RoomWidgetChatSelectAvatarMessage.MESSAGE_SELECT_AVATAR='RWCSAM_MESSAGE_SELECT_AVATAR';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetChatTypingMessage.ts\nvar RoomWidgetChatTypingMessage_RoomWidgetChatTypingMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetChatTypingMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetChatTypingMessage);function RoomWidgetChatTypingMessage(isTyping){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetChatTypingMessage);_this=_super.call(this,RoomWidgetChatTypingMessage.TYPING_STATUS);_this._isTyping=void 0;_this._isTyping=isTyping;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetChatTypingMessage,[{key:\"isTyping\",get:function get(){return this._isTyping;}}]);return RoomWidgetChatTypingMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetChatTypingMessage_RoomWidgetChatTypingMessage.TYPING_STATUS='RWCTM_TYPING_STATUS';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetCreditFurniRedeemMessage.ts\nvar RoomWidgetCreditFurniRedeemMessage_RoomWidgetCreditFurniRedeemMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetCreditFurniRedeemMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetCreditFurniRedeemMessage);function RoomWidgetCreditFurniRedeemMessage(type,objectId){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetCreditFurniRedeemMessage);_this=_super.call(this,type);_this._objectId=void 0;_this._objectId=objectId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetCreditFurniRedeemMessage,[{key:\"objectId\",get:function get(){return this._objectId;}}]);return RoomWidgetCreditFurniRedeemMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetCreditFurniRedeemMessage_RoomWidgetCreditFurniRedeemMessage.REDEEM='RWCFRM_REDEEM';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetDanceMessage.ts\nvar RoomWidgetDanceMessage_RoomWidgetDanceMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetDanceMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetDanceMessage);function RoomWidgetDanceMessage(style){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetDanceMessage);_this=_super.call(this,RoomWidgetDanceMessage.DANCE);_this._style=0;_this._style=style;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetDanceMessage,[{key:\"style\",get:function get(){return this._style;}}]);return RoomWidgetDanceMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetDanceMessage_RoomWidgetDanceMessage.DANCE='RWDM_MESSAGE_DANCE';RoomWidgetDanceMessage_RoomWidgetDanceMessage.NORMAL_STYLE=0;RoomWidgetDanceMessage_RoomWidgetDanceMessage.CLUB_STYLE=[2,3,4];\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetDimmerChangeStateMessage.ts\nvar RoomWidgetDimmerChangeStateMessage_RoomWidgetDimmerChangeStateMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetDimmerChangeStateMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetDimmerChangeStateMessage);function RoomWidgetDimmerChangeStateMessage(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetDimmerChangeStateMessage);return _super.call(this,RoomWidgetDimmerChangeStateMessage.CHANGE_STATE);}return Object(createClass[\"a\" /* default */])(RoomWidgetDimmerChangeStateMessage);}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetDimmerChangeStateMessage_RoomWidgetDimmerChangeStateMessage.CHANGE_STATE='RWCDSM_CHANGE_STATE';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetDimmerPreviewMessage.ts\nvar RoomWidgetDimmerPreviewMessage_RoomWidgetDimmerPreviewMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetDimmerPreviewMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetDimmerPreviewMessage);function RoomWidgetDimmerPreviewMessage(color,brightness,bgOnly){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetDimmerPreviewMessage);_this=_super.call(this,RoomWidgetDimmerPreviewMessage.PREVIEW_DIMMER_PRESET);_this._color=void 0;_this._brightness=void 0;_this._bgOnly=void 0;_this._color=color;_this._brightness=brightness;_this._bgOnly=bgOnly;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetDimmerPreviewMessage,[{key:\"color\",get:function get(){return this._color;}},{key:\"brightness\",get:function get(){return this._brightness;}},{key:\"bgOnly\",get:function get(){return this._bgOnly;}}]);return RoomWidgetDimmerPreviewMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetDimmerPreviewMessage_RoomWidgetDimmerPreviewMessage.PREVIEW_DIMMER_PRESET='RWDPM_PREVIEW_DIMMER_PRESET';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetDimmerSavePresetMessage.ts\nvar RoomWidgetDimmerSavePresetMessage_RoomWidgetDimmerSavePresetMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetDimmerSavePresetMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetDimmerSavePresetMessage);function RoomWidgetDimmerSavePresetMessage(presetNumber,effectTypeId,color,brightness,apply){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetDimmerSavePresetMessage);_this=_super.call(this,RoomWidgetDimmerSavePresetMessage.SAVE_PRESET);_this._presetNumber=void 0;_this._effectTypeId=void 0;_this._color=void 0;_this._brightness=void 0;_this._apply=void 0;_this._presetNumber=presetNumber;_this._effectTypeId=effectTypeId;_this._color=color;_this._brightness=brightness;_this._apply=apply;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetDimmerSavePresetMessage,[{key:\"presetNumber\",get:function get(){return this._presetNumber;}},{key:\"effectTypeId\",get:function get(){return this._effectTypeId;}},{key:\"color\",get:function get(){return this._color;}},{key:\"brightness\",get:function get(){return this._brightness;}},{key:\"apply\",get:function get(){return this._apply;}}]);return RoomWidgetDimmerSavePresetMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetDimmerSavePresetMessage_RoomWidgetDimmerSavePresetMessage.SAVE_PRESET='RWSDPM_SAVE_PRESET';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetFurniActionMessage.ts\nvar RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetFurniActionMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetFurniActionMessage);function RoomWidgetFurniActionMessage(type,id,category){var _this;var offerId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1;var objectData=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetFurniActionMessage);_this=_super.call(this,type);_this._furniId=void 0;_this._furniCategory=void 0;_this._offerId=void 0;_this._objectData=void 0;_this._furniId=id;_this._furniCategory=category;_this._offerId=offerId;_this._objectData=objectData;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetFurniActionMessage,[{key:\"furniId\",get:function get(){return this._furniId;}},{key:\"furniCategory\",get:function get(){return this._furniCategory;}},{key:\"objectData\",get:function get(){return this._objectData;}},{key:\"offerId\",get:function get(){return this._offerId;}}]);return RoomWidgetFurniActionMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.ROTATE='RWFAM_ROTATE';RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.MOVE='RWFAM_MOVE';RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.PICKUP='RWFAM_PICKUP';RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.EJECT='RWFAM_EJECT';RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.USE='RWFAM_USE';RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.OPEN_WELCOME_GIFT='RWFAM_OPEN_WELCOME_GIFT';RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.SAVE_STUFF_DATA='RWFAM_SAVE_STUFF_DATA';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetFurniToWidgetMessage.ts\nvar RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetFurniToWidgetMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetFurniToWidgetMessage);function RoomWidgetFurniToWidgetMessage(type,objectId,category,roomId){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetFurniToWidgetMessage);_this=_super.call(this,type);_this._objectId=void 0;_this._category=void 0;_this._roomId=void 0;_this._objectId=objectId;_this._category=category;_this._roomId=roomId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetFurniToWidgetMessage,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"category\",get:function get(){return this._category;}},{key:\"roomId\",get:function get(){return this._roomId;}}]);return RoomWidgetFurniToWidgetMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_CREDITFURNI='RWFWM_MESSAGE_REQUEST_CREDITFURNI';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_STICKIE='RWFWM_MESSAGE_REQUEST_STICKIE';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_PRESENT='RWFWM_MESSAGE_REQUEST_PRESENT';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_TROPHY='RWFWM_MESSAGE_REQUEST_TROPHY';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_TEASER='RWFWM_MESSAGE_REQUEST_TEASER';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_ECOTRONBOX='RWFWM_MESSAGE_REQUEST_ECOTRONBOX';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_DIMMER='RWFWM_MESSAGE_REQUEST_DIMMER';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_PLACEHOLDER='RWFWM_MESSAGE_REQUEST_PLACEHOLDER';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_CLOTHING_CHANGE='RWFWM_MESSAGE_REQUEST_CLOTHING_CHANGE';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_PLAYLIST_EDITOR='RWFWM_MESSAGE_REQUEST_PLAYLIST_EDITOR';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING='RWFWM_WIDGET_MESSAGE_REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED='RWFWM_WIDGET_MESSAGE_REQUEST_ACHIEVEMENT_RESOLUTION_FAILED';RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_BADGE_DISPLAY_ENGRAVING='RWFWM_WIDGET_MESSAGE_REQUEST_BADGE_DISPLAY_ENGRAVING';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetPollMessage.ts\nvar RoomWidgetPollMessage_RoomWidgetPollMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetPollMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetPollMessage);function RoomWidgetPollMessage(type,id){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetPollMessage);_this=_super.call(this,type);_this._id=-1;_this._questionId=0;_this._answers=null;_this._id=id;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetPollMessage,[{key:\"id\",get:function get(){return this._id;}},{key:\"questionId\",get:function get(){return this._questionId;},set:function set(k){this._questionId=k;}},{key:\"answers\",get:function get(){return this._answers;},set:function set(k){this._answers=k;}}]);return RoomWidgetPollMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetPollMessage_RoomWidgetPollMessage.START='RWPM_START';RoomWidgetPollMessage_RoomWidgetPollMessage.REJECT='RWPM_REJECT';RoomWidgetPollMessage_RoomWidgetPollMessage.ANSWER='RWPM_ANSWER';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetPresentOpenMessage.ts\nvar RoomWidgetPresentOpenMessage_RoomWidgetPresentOpenMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetPresentOpenMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetPresentOpenMessage);function RoomWidgetPresentOpenMessage(type,objectId){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetPresentOpenMessage);_this=_super.call(this,type);_this._objectId=void 0;_this._objectId=objectId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetPresentOpenMessage,[{key:\"objectId\",get:function get(){return this._objectId;}}]);return RoomWidgetPresentOpenMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetPresentOpenMessage_RoomWidgetPresentOpenMessage.OPEN_PRESENT='RWPOM_OPEN_PRESENT';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetRequestWidgetMessage.ts\nvar RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetRequestWidgetMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetRequestWidgetMessage);function RoomWidgetRequestWidgetMessage(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetRequestWidgetMessage);return _super.apply(this,arguments);}return Object(createClass[\"a\" /* default */])(RoomWidgetRequestWidgetMessage);}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.USER_CHOOSER='RWRWM_USER_CHOOSER';RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.FURNI_CHOOSER='RWRWM_FURNI_CHOOSER';RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.ME_MENU='RWRWM_ME_MENU';RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.EFFECTS='RWRWM_EFFECTS';RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.FLOOR_EDITOR='RWRWM_FLOOR_EDITOR';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetRoomObjectMessage.ts\nvar RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetRoomObjectMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetRoomObjectMessage);function RoomWidgetRoomObjectMessage(type,id,category){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetRoomObjectMessage);_this=_super.call(this,type);_this._id=void 0;_this._category=void 0;_this._id=id;_this._category=category;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetRoomObjectMessage,[{key:\"id\",get:function get(){return this._id;}},{key:\"category\",get:function get(){return this._category;}}]);return RoomWidgetRoomObjectMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_INFO='RWROM_GET_OBJECT_INFO';RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_NAME='RWROM_GET_OBJECT_NAME';RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.SELECT_OBJECT='RWROM_SELECT_OBJECT';RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OWN_CHARACTER_INFO='RWROM_GET_OWN_CHARACTER_INFO';RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_AVATAR_LIST='RWROM_GET_AVATAR_LIST';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetUseProductMessage.ts\nvar RoomWidgetUseProductMessage_RoomWidgetUseProductMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetUseProductMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUseProductMessage);function RoomWidgetUseProductMessage(type,objectId){var _this;var petId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUseProductMessage);_this=_super.call(this,type);_this._objectId=void 0;_this._petId=void 0;_this._objectId=objectId;_this._petId=petId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUseProductMessage,[{key:\"objectId\",get:function get(){return this._objectId;}},{key:\"petId\",get:function get(){return this._petId;}}]);return RoomWidgetUseProductMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetUseProductMessage_RoomWidgetUseProductMessage.PET_PRODUCT='RWUPM_PET_PRODUCT';RoomWidgetUseProductMessage_RoomWidgetUseProductMessage.MONSTERPLANT_SEED='RWUPM_MONSTERPLANT_SEED';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/RoomWidgetUserActionMessage.ts\nvar RoomWidgetUserActionMessage_RoomWidgetUserActionMessage=/*#__PURE__*/function(_RoomWidgetMessage){Object(inherits[\"a\" /* default */])(RoomWidgetUserActionMessage,_RoomWidgetMessage);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetUserActionMessage);function RoomWidgetUserActionMessage(type,userId){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetUserActionMessage);_this=_super.call(this,type);_this._userId=void 0;_this._userId=userId;return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetUserActionMessage,[{key:\"userId\",get:function get(){return this._userId;}}]);return RoomWidgetUserActionMessage;}(RoomWidgetMessage_RoomWidgetMessage);RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.WHISPER_USER='RWUAM_WHISPER_USER';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.IGNORE_USER='RWUAM_IGNORE_USER';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.IGNORE_USER_BUBBLE='RWUAM_IGNORE_USER_BUBBLE';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.UNIGNORE_USER='RWUAM_UNIGNORE_USER';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.KICK_USER='RWUAM_KICK_USER';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_HOUR='RWUAM_BAN_USER_HOUR';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_DAY='RWUAM_BAN_USER_DAY';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_PERM='RWUAM_BAN_USER_PERM';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_2MIN='RWUAM_MUTE_USER_2MIN';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_5MIN='RWUAM_MUTE_USER_5MIN';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_10MIN='RWUAM_MUTE_USER_10MIN';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_USER='RWUAM_RESPECT_USER';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_RIGHTS='RWUAM_GIVE_RIGHTS';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TAKE_RIGHTS='RWUAM_TAKE_RIGHTS';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.START_TRADING='RWUAM_START_TRADING';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.OPEN_HOME_PAGE='RWUAM_OPEN_HOME_PAGE';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REPORT='RWUAM_REPORT';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PICKUP_PET='RWUAM_PICKUP_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MOUNT_PET='RWUAM_MOUNT_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_RIDING_PERMISSION='RWUAM_TOGGLE_PET_RIDING_PERMISSION';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_BREEDING_PERMISSION='RWUAM_TOGGLE_PET_BREEDING_PERMISSION';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DISMOUNT_PET='RWUAM_DISMOUNT_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.SADDLE_OFF='RWUAM_SADDLE_OFF';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TRAIN_PET='RWUAM_TRAIN_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_PET=' RWUAM_RESPECT_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TREAT_PET='RWUAM_TREAT_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_PET_UPDATE='RWUAM_REQUEST_PET_UPDATE';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.START_NAME_CHANGE='RWUAM_START_NAME_CHANGE';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PASS_CARRY_ITEM='RWUAM_PASS_CARRY_ITEM';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DROP_CARRY_ITEM='RWUAM_DROP_CARRY_ITEM';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_CARRY_ITEM_TO_PET='RWUAM_GIVE_CARRY_ITEM_TO_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_WATER_TO_PET='RWUAM_GIVE_WATER_TO_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_LIGHT_TO_PET='RWUAM_GIVE_LIGHT_TO_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_BREED_PET='RWUAM_REQUEST_BREED_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.HARVEST_PET='RWUAM_HARVEST_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REVIVE_PET='RWUAM_REVIVE_PET';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.COMPOST_PLANT='RWUAM_COMPOST_PLANT';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GET_BOT_INFO='RWUAM_GET_BOT_INFO';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REPORT_CFH_OTHER='RWUAM_REPORT_CFH_OTHER';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_ALERT_USER='RWUAM_AMBASSADOR_ALERT_USER';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_KICK_USER='RWUAM_AMBASSADOR_KICK_USER';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_2MIN='RWUAM_AMBASSADOR_MUTE_2MIN';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_10MIN='RWUAM_AMBASSADOR_MUTE_10MIN';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_60MIN='RWUAM_AMBASSADOR_MUTE_60MIN';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_18HOUR='RWUAM_AMBASSADOR_MUTE_18HOUR';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_NONE='RWUAM_RELATIONSHIP_NONE';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_HEART='RWUAM_RELATIONSHIP_HEART';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_SMILE='RWUAM_RELATIONSHIP_SMILE';RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_BOBBA='RWUAM_RELATIONSHIP_BOBBA';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/messages/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/RoomWidgetHandler.ts\nvar RoomWidgetHandler_RoomWidgetHandler=/*#__PURE__*/function(){function RoomWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetHandler);this._container=null;}Object(createClass[\"a\" /* default */])(RoomWidgetHandler,[{key:\"container\",get:function get(){return this._container;},set:function set(container){this._container=container;}}]);return RoomWidgetHandler;}();\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurniChooserWidgetHandler.ts\nvar FurniChooserWidgetHandler_FurniChooserWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurniChooserWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurniChooserWidgetHandler);function FurniChooserWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,FurniChooserWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FurniChooserWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){if(!message)return null;switch(message.type){case RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.FURNI_CHOOSER:this.processChooser();break;case RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.SELECT_OBJECT:this.selectRoomObject(message);break;}return null;}},{key:\"processChooser\",value:function processChooser(){var roomId=this.container.roomSession.roomId;var items=[];var wallItems=GetRoomEngine().getRoomObjects(roomId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL);var floorItems=GetRoomEngine().getRoomObjects(roomId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);wallItems.forEach(function(roomObject){var name=roomObject.type;if(name.startsWith('poster')){name=LocalizeText(\"poster_\".concat(name.replace('poster',''),\"_name\"));}else{var typeId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);var furniData=GetSessionDataManager().getWallItemData(typeId);if(furniData&&furniData.name.length)name=furniData.name;}items.push(new RoomObjectItem_RoomObjectItem(roomObject.id,nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL,name));});floorItems.forEach(function(roomObject){var name=roomObject.type;var typeId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);var furniData=GetSessionDataManager().getFloorItemData(typeId);if(furniData&&furniData.name.length)name=furniData.name;items.push(new RoomObjectItem_RoomObjectItem(roomObject.id,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR,name));});items.sort(function(a,b){return a.name<b.name?-1:1;});this.container.eventDispatcher.dispatchEvent(new RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent(RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent.FURNI_CHOOSER_CONTENT,items));}},{key:\"selectRoomObject\",value:function selectRoomObject(message){if(message.category!==nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL&&message.category!==nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR)return;GetRoomEngine().selectRoomObject(this.container.roomSession.roomId,message.id,message.category);}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].FURNI_CHOOSER;}},{key:\"eventTypes\",get:function get(){return[];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.FURNI_CHOOSER,RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.SELECT_OBJECT];}}]);return FurniChooserWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureContextMenuWidgetHandler.ts\nvar FurnitureContextMenuWidgetHandler_FurnitureContextMenuWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureContextMenuWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureContextMenuWidgetHandler);function FurnitureContextMenuWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,FurnitureContextMenuWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FurnitureContextMenuWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){case RoomWidgetUseProductMessage_RoomWidgetUseProductMessage.MONSTERPLANT_SEED:var productMessage=message;this.container.roomSession.useMultistateItem(productMessage.objectId);break;}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].FURNITURE_CONTEXT_MENU;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_FURNI_CONTEXT_MENU,nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_FURNI_CONTEXT_MENU];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetUseProductMessage_RoomWidgetUseProductMessage.MONSTERPLANT_SEED];}}]);return FurnitureContextMenuWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureCreditWidgetHandler.ts\nvar FurnitureCreditWidgetHandler_FurnitureCreditWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureCreditWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureCreditWidgetHandler);function FurnitureCreditWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,FurnitureCreditWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FurnitureCreditWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){return;}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){case RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_CREDITFURNI:{var creditMessage=message;var roomObject=GetRoomEngine().getRoomObject(creditMessage.roomId,creditMessage.objectId,creditMessage.category);if(!roomObject||!IsOwnerOfFurniture(roomObject))return;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateCreditFurniEvent_RoomWidgetUpdateCreditFurniEvent(RoomWidgetUpdateCreditFurniEvent_RoomWidgetUpdateCreditFurniEvent.CREDIT_FURNI_UPDATE,creditMessage.objectId,roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_CREDIT_VALUE),roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_TYPE_ID)+'_'+creditMessage.type+'_'+creditMessage.objectId));break;}case RoomWidgetCreditFurniRedeemMessage_RoomWidgetCreditFurniRedeemMessage.REDEEM:{var redeemMessage=message;this.container.roomSession.connection.send(new nitro_renderer[\"Kb\" /* FurnitureExchangeComposer */](redeemMessage.objectId));break;}}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].FURNI_CREDIT_WIDGET;}},{key:\"eventTypes\",get:function get(){return[];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_CREDITFURNI,RoomWidgetCreditFurniRedeemMessage_RoomWidgetCreditFurniRedeemMessage.REDEEM];}}]);return FurnitureCreditWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureCustomStackHeightWidgetHandler.ts\nvar FurnitureCustomStackHeightWidgetHandler_FurnitureCustomStackHeightWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureCustomStackHeightWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureCustomStackHeightWidgetHandler);function FurnitureCustomStackHeightWidgetHandler(){var _this;Object(classCallCheck[\"a\" /* default */])(this,FurnitureCustomStackHeightWidgetHandler);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._lastFurniId=-1;return _this;}Object(createClass[\"a\" /* default */])(FurnitureCustomStackHeightWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;this._lastFurniId=widgetEvent.objectId;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateCustomStackHeightEvent_RoomWidgetUpdateCustomStackHeightEvent(this._lastFurniId,roomObject.getLocation().z));return;}case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET:{var _widgetEvent=event;if(_widgetEvent.objectId!==this._lastFurniId)return;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateCustomStackHeightEvent_RoomWidgetUpdateCustomStackHeightEvent(-1));return;}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].CUSTOM_STACK_HEIGHT;}},{key:\"eventTypes\",get:function get(){return[];}},{key:\"messageTypes\",get:function get(){return[];}}]);return FurnitureCustomStackHeightWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureDimmerWidgetHandler.ts\nvar FurnitureDimmerWidgetHandler_FurnitureDimmerWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureDimmerWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureDimmerWidgetHandler);function FurnitureDimmerWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,FurnitureDimmerWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FurnitureDimmerWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"Pg\" /* RoomSessionDimmerPresetsEvent */].ROOM_DIMMER_PRESETS:{var presetsEvent=event;var updateEvent=new RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent(RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent.PRESETS);updateEvent.selectedPresetId=presetsEvent.selectedPresetId;var i=0;while(i<presetsEvent.presetCount){var preset=presetsEvent.getPreset(i);if(preset)updateEvent.setPresetValues(preset.id,preset.type,preset.color,preset.brightness);i++;}this.container.eventDispatcher.dispatchEvent(updateEvent);return;}case nitro_renderer[\"hg\" /* RoomEngineDimmerStateEvent */].ROOM_COLOR:{var stateEvent=event;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateDimmerStateEvent_RoomWidgetUpdateDimmerStateEvent(stateEvent.state,stateEvent.presetId,stateEvent.effectId,stateEvent.color,stateEvent.brightness));return;}case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REMOVE_DIMMER:{this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent(RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent.HIDE));return;}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){case RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_DIMMER:{if(this.canOpenWidget())this.container.roomSession.requestMoodlightSettings();break;}case RoomWidgetDimmerSavePresetMessage_RoomWidgetDimmerSavePresetMessage.SAVE_PRESET:{if(this.canOpenWidget()){var savePresetMessage=message;this.container.roomSession.updateMoodlightData(savePresetMessage.presetNumber,savePresetMessage.effectTypeId,savePresetMessage.color,savePresetMessage.brightness,savePresetMessage.apply);}break;}case RoomWidgetDimmerChangeStateMessage_RoomWidgetDimmerChangeStateMessage.CHANGE_STATE:{if(this.canOpenWidget())this.container.roomSession.toggleMoodlightState();break;}case RoomWidgetDimmerPreviewMessage_RoomWidgetDimmerPreviewMessage.PREVIEW_DIMMER_PRESET:{var roomId=this.container.roomSession.roomId;var previewMessage=message;GetRoomEngine().updateObjectRoomColor(roomId,previewMessage.color,previewMessage.brightness,previewMessage.bgOnly);break;}}return null;}},{key:\"canOpenWidget\",value:function canOpenWidget(){return this.container.roomSession.isRoomOwner||this.container.roomSession.controllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].ROOM_DIMMER;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"Pg\" /* RoomSessionDimmerPresetsEvent */].ROOM_DIMMER_PRESETS,nitro_renderer[\"hg\" /* RoomEngineDimmerStateEvent */].ROOM_COLOR,nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REMOVE_DIMMER];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_DIMMER,RoomWidgetDimmerSavePresetMessage_RoomWidgetDimmerSavePresetMessage.SAVE_PRESET,RoomWidgetDimmerChangeStateMessage_RoomWidgetDimmerChangeStateMessage.CHANGE_STATE,RoomWidgetDimmerPreviewMessage_RoomWidgetDimmerPreviewMessage.PREVIEW_DIMMER_PRESET];}}]);return FurnitureDimmerWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureExternalImageWidgetHandler.ts\nvar FurnitureExternalImageWidgetHandler_FurnitureExternalImageWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureExternalImageWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureExternalImageWidgetHandler);function FurnitureExternalImageWidgetHandler(){var _this;Object(classCallCheck[\"a\" /* default */])(this,FurnitureExternalImageWidgetHandler);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._lastFurniId=-1;return _this;}Object(createClass[\"a\" /* default */])(FurnitureExternalImageWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;this._lastFurniId=widgetEvent.objectId;var data=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA);var photoData=JSON.parse(data);this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateExternalImageEvent_RoomWidgetUpdateExternalImageEvent(roomObject.id,photoData));return;}case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET:{var _widgetEvent=event;if(_widgetEvent.objectId!==this._lastFurniId)return;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateExternalImageEvent_RoomWidgetUpdateExternalImageEvent(-1));return;}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].EXTERNAL_IMAGE;}},{key:\"eventTypes\",get:function get(){return[];}},{key:\"messageTypes\",get:function get(){return[];}}]);return FurnitureExternalImageWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureInternalLinkHandler.ts\nvar FurnitureInternalLinkHandler_FurnitureInternalLinkHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureInternalLinkHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureInternalLinkHandler);function FurnitureInternalLinkHandler(){Object(classCallCheck[\"a\" /* default */])(this,FurnitureInternalLinkHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FurnitureInternalLinkHandler,[{key:\"processEvent\",value:function processEvent(event){if(!event)return;switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_INTERNAL_LINK:var linkEvent=event;var roomEngine=GetRoomEngine();if(!linkEvent||!roomEngine)return;var object=roomEngine.getRoomObject(linkEvent.roomId,linkEvent.objectId,linkEvent.category);if(object){var data=object.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA);var link=data[FurnitureInternalLinkHandler.INTERNALLINK];if(!link||!link.length)link=object.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_INTERNAL_LINK);if(link&&link.length)CreateLinkEvent(link);}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].INTERNAL_LINK;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_INTERNAL_LINK];}},{key:\"messageTypes\",get:function get(){return[];}}]);return FurnitureInternalLinkHandler;}(RoomWidgetHandler_RoomWidgetHandler);FurnitureInternalLinkHandler_FurnitureInternalLinkHandler.INTERNALLINK='internalLink';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureMannequinWidgetHandler.ts\nvar FurnitureMannequinWidgetHandler_FurnitureMannequinWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureMannequinWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureMannequinWidgetHandler);function FurnitureMannequinWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,FurnitureMannequinWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FurnitureMannequinWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MANNEQUIN:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;var model=roomObject.model;var figure=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_MANNEQUIN_FIGURE);var gender=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_MANNEQUIN_GENDER);var name=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_MANNEQUIN_NAME);this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateMannequinEvent_RoomWidgetUpdateMannequinEvent(RoomWidgetUpdateMannequinEvent_RoomWidgetUpdateMannequinEvent.MANNEQUIN_UPDATE,roomObject.id,figure,gender,name));return;}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].MANNEQUIN;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MANNEQUIN];}},{key:\"messageTypes\",get:function get(){return[];}}]);return FurnitureMannequinWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurniturePresentWidgetHandler.ts\nvar FurniturePresentWidgetHandler_FurniturePresentWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurniturePresentWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurniturePresentWidgetHandler);function FurniturePresentWidgetHandler(){var _this;Object(classCallCheck[\"a\" /* default */])(this,FurniturePresentWidgetHandler);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._lastFurniId=-1;_this._name=null;return _this;}Object(createClass[\"a\" /* default */])(FurniturePresentWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"Xg\" /* RoomSessionPresentEvent */].RSPE_PRESENT_OPENED:{var presentEvent=event;var furniData=null;if(presentEvent.itemType===ProductTypeEnum_ProductTypeEnum.FLOOR){furniData=GetSessionDataManager().getFloorItemData(presentEvent.classId);}else if(presentEvent.itemType===ProductTypeEnum_ProductTypeEnum.WALL){furniData=GetSessionDataManager().getWallItemData(presentEvent.classId);}var isOwnerOfFurni=false;if(presentEvent.placedInRoom){var roomObject=GetRoomEngine().getRoomObject(this.container.roomSession.roomId,presentEvent.placedItemId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(roomObject)isOwnerOfFurni=IsOwnerOfFurniture(roomObject);}var giftImage=null;var dataUpdateEvent=null;switch(presentEvent.itemType){case ProductTypeEnum_ProductTypeEnum.WALL:{if(furniData){switch(furniData.className){case FurniturePresentWidgetHandler.FLOOR:dataUpdateEvent=new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_FLOOR,0,LocalizeText('inventory.furni.item.floor.name'),isOwnerOfFurni);break;case FurniturePresentWidgetHandler.LANDSCAPE:dataUpdateEvent=new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_LANDSCAPE,0,LocalizeText('inventory.furni.item.landscape.name'),isOwnerOfFurni);break;case FurniturePresentWidgetHandler.WALLPAPER:dataUpdateEvent=new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_WALLPAPER,0,LocalizeText('inventory.furni.item.wallpaper.name'),isOwnerOfFurni);break;case FurniturePresentWidgetHandler.POSTER:{var productCode=presentEvent.productCode;var extras=null;if(productCode.indexOf('poster')===0)extras=productCode.replace('poster','');giftImage=GetRoomEngine().getFurnitureWallIconUrl(presentEvent.classId,extras);var productData=GetSessionDataManager().getProductData(productCode);if(productData)this._name=productData.name;else if(furniData)this._name=furniData.name;dataUpdateEvent=new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS,0,this._name,isOwnerOfFurni,giftImage);break;}default:{giftImage=GetRoomEngine().getFurnitureWallIconUrl(presentEvent.classId);if(furniData)this._name=furniData.name;dataUpdateEvent=new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS,0,this._name,isOwnerOfFurni,giftImage);break;}}}break;}case ProductTypeEnum_ProductTypeEnum.HABBO_CLUB:dataUpdateEvent=new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_CLUB,0,LocalizeText('widget.furni.present.hc'),false);break;default:{if(presentEvent.placedItemType===ProductTypeEnum_ProductTypeEnum.PET){var petfigureString=presentEvent.petFigureString;if(petfigureString&&petfigureString.length){var petFigureData=new nitro_renderer[\"jf\" /* PetFigureData */](petfigureString);var petImage=GetRoomEngine().getRoomObjectPetImage(petFigureData.typeId,petFigureData.paletteId,petFigureData.color,new nitro_renderer[\"Oi\" /* Vector3d */](90),64,this,true,0,petFigureData.customParts);if(petImage)giftImage=petImage.getImage().src;}}if(!giftImage){var furniImage=GetRoomEngine().getFurnitureFloorImage(presentEvent.classId,new nitro_renderer[\"Oi\" /* Vector3d */](90),64,this);if(furniImage)giftImage=furniImage.getImage().src;}var _productData=GetSessionDataManager().getProductData(presentEvent.productCode);if(_productData)this._name=_productData.name;else this._name=furniData.name;if(giftImage)dataUpdateEvent=new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS,0,this._name,isOwnerOfFurni,giftImage);break;}}if(dataUpdateEvent){dataUpdateEvent.classId=presentEvent.classId;dataUpdateEvent.itemType=presentEvent.itemType;dataUpdateEvent.placedItemId=presentEvent.placedItemId;dataUpdateEvent.placedInRoom=presentEvent.placedInRoom;dataUpdateEvent.placedItemType=presentEvent.placedItemType;this.container.eventDispatcher.dispatchEvent(dataUpdateEvent);}return;}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){case RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_PRESENT:{var widgetMessage=message;var roomObject=GetRoomEngine().getRoomObject(widgetMessage.roomId,widgetMessage.objectId,widgetMessage.category);if(!roomObject)return null;this._lastFurniId=widgetMessage.objectId;var giftMessage=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA)||'';var purchaserName=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_PURCHASER_NAME);var purchaserFigure=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_PURCHASER_FIGURE);var typeId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);var extras=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_EXTRAS);var giftImage=GetRoomEngine().getFurnitureFloorImage(typeId,new nitro_renderer[\"Oi\" /* Vector3d */](180),64,null,0,extras);this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.PACKAGEINFO,widgetMessage.objectId,giftMessage,IsOwnerOfFurniture(roomObject),giftImage.getImage().src,purchaserName,purchaserFigure));break;}case RoomWidgetPresentOpenMessage_RoomWidgetPresentOpenMessage.OPEN_PRESENT:{var openMessage=message;if(openMessage.objectId!==this._lastFurniId)return null;this.container.roomSession.openGift(openMessage.objectId);GetRoomEngine().changeObjectModelData(GetRoomEngine().activeRoomId,openMessage.objectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR,nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DISABLE_PICKING_ANIMATION,1);break;}}return null;}},{key:\"imageReady\",value:function imageReady(id,texture){var image=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var imageUrl=null;if(image)imageUrl=image.src;else if(texture)imageUrl=nitro_renderer[\"Mh\" /* TextureUtils */].generateImageUrl(texture);this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_IMAGE,0,this._name,false,imageUrl));}},{key:\"imageFailed\",value:function imageFailed(id){}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].FURNI_PRESENT_WIDGET;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"Xg\" /* RoomSessionPresentEvent */].RSPE_PRESENT_OPENED];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_PRESENT,RoomWidgetPresentOpenMessage_RoomWidgetPresentOpenMessage.OPEN_PRESENT];}}]);return FurniturePresentWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);FurniturePresentWidgetHandler_FurniturePresentWidgetHandler.FLOOR='floor';FurniturePresentWidgetHandler_FurniturePresentWidgetHandler.WALLPAPER='wallpaper';FurniturePresentWidgetHandler_FurniturePresentWidgetHandler.LANDSCAPE='landscape';FurniturePresentWidgetHandler_FurniturePresentWidgetHandler.POSTER='poster';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureRoomLinkHandler.ts\nvar FurnitureRoomLinkHandler_FurnitureRoomLinkHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureRoomLinkHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureRoomLinkHandler);function FurnitureRoomLinkHandler(){Object(classCallCheck[\"a\" /* default */])(this,FurnitureRoomLinkHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FurnitureRoomLinkHandler,[{key:\"onRoomInfo\",value:function onRoomInfo(event){//todo\n}},{key:\"processEvent\",value:function processEvent(event){if(!event)return;switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ROOM_LINK:var roomLinkEvent=event;var roomEngine=GetRoomEngine();if(!roomLinkEvent||!roomEngine)return;var object=roomEngine.getRoomObject(roomLinkEvent.roomId,roomLinkEvent.objectId,roomLinkEvent.category);if(object){var data=object.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA);var roomId=data[FurnitureRoomLinkHandler.INTERNALLINK];if(!roomId||!roomId.length)roomId=object.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_INTERNAL_LINK);if(roomId&&roomId.length)CreateLinkEvent('navigator/goto/'+roomId);}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].ROOM_LINK;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ROOM_LINK];}},{key:\"messageTypes\",get:function get(){return[];}}]);return FurnitureRoomLinkHandler;}(RoomWidgetHandler_RoomWidgetHandler);FurnitureRoomLinkHandler_FurnitureRoomLinkHandler.INTERNALLINK='internalLink';\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureTrophyWidgetHandler.ts\nvar FurnitureTrophyWidgetHandler_FurnitureTrophyWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureTrophyWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureTrophyWidgetHandler);function FurnitureTrophyWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,FurnitureTrophyWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(FurnitureTrophyWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){return;}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){case RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_TROPHY:{var widgetMessage=message;var roomObject=GetRoomEngine().getRoomObject(widgetMessage.roomId,widgetMessage.objectId,widgetMessage.category);if(!roomObject)return;var color=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_COLOR);var extra=parseInt(roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_EXTRAS));var data=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA);var ownerName=data.substring(0,data.indexOf('\\t'));data=data.substring(ownerName.length+1,data.length);var date=data.substring(0,data.indexOf('\\t'));var text=data.substr(date.length+1,data.length);break;}}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].FURNI_TROPHY_WIDGET;}},{key:\"eventTypes\",get:function get(){return[];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_TROPHY];}}]);return FurnitureTrophyWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/FurnitureYoutubeDisplayWidgetHandler.ts\nvar FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(FurnitureYoutubeDisplayWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(FurnitureYoutubeDisplayWidgetHandler);function FurnitureYoutubeDisplayWidgetHandler(){var _this;Object(classCallCheck[\"a\" /* default */])(this,FurnitureYoutubeDisplayWidgetHandler);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._lastFurniId=-1;return _this;}Object(createClass[\"a\" /* default */])(FurnitureYoutubeDisplayWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;this._lastFurniId=widgetEvent.objectId;var hasControl=GetSessionDataManager().hasSecurity(nitro_renderer[\"Bh\" /* SecurityLevel */].EMPLOYEE)||IsOwnerOfFurniture(roomObject);this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateYoutubeDisplayEvent_RoomWidgetUpdateYoutubeDisplayEvent(roomObject.id,hasControl));SendMessageComposer_SendMessageComposer(new nitro_renderer[\"yc\" /* GetYoutubeDisplayStatusMessageComposer */](this._lastFurniId));return;}case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET:{var _widgetEvent=event;if(_widgetEvent.objectId!==this._lastFurniId)return;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateYoutubeDisplayEvent_RoomWidgetUpdateYoutubeDisplayEvent(-1));return;}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].YOUTUBE;}},{key:\"eventTypes\",get:function get(){return[];}},{key:\"messageTypes\",get:function get(){return[];}}]);return FurnitureYoutubeDisplayWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_PREVIOUS_VIDEO=0;FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_NEXT_VIDEO=1;FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_PAUSE_VIDEO=2;FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_CONTINUE_VIDEO=3;\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/IRoomWidgetHandler.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/IRoomWidgetHandlerManager.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/PollWidgetHandler.ts\nvar PollWidgetHandler_PollWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(PollWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(PollWidgetHandler);function PollWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,PollWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(PollWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){var pollEvent=event;var widgetEvent;switch(event.type){case nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].OFFER:widgetEvent=new RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.OFFER,pollEvent.id);widgetEvent.summary=pollEvent.summary;widgetEvent.headline=pollEvent.headline;break;case nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].ERROR:widgetEvent=new RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.ERROR,pollEvent.id);widgetEvent.summary=pollEvent.summary;widgetEvent.headline=pollEvent.headline;break;case nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].CONTENT:widgetEvent=new RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent(RoomWidgetPollUpdateEvent_RoomWidgetPollUpdateEvent.CONTENT,pollEvent.id);widgetEvent.startMessage=pollEvent.startMessage;widgetEvent.endMessage=pollEvent.endMessage;widgetEvent.numQuestions=pollEvent.numQuestions;widgetEvent.questionArray=pollEvent.questionArray;widgetEvent.npsPoll=pollEvent.npsPoll;break;}if(!widgetEvent)return;this.container.eventDispatcher.dispatchEvent(widgetEvent);}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){var pollMessage=message;switch(message.type){case RoomWidgetPollMessage_RoomWidgetPollMessage.START:this.container.roomSession.sendPollStartMessage(pollMessage.id);break;case RoomWidgetPollMessage_RoomWidgetPollMessage.REJECT:this.container.roomSession.sendPollRejectMessage(pollMessage.id);break;case RoomWidgetPollMessage_RoomWidgetPollMessage.ANSWER:this.container.roomSession.sendPollAnswerMessage(pollMessage.id,pollMessage.questionId,pollMessage.answers);break;}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].ROOM_POLL;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].OFFER,nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].ERROR,nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].CONTENT];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetPollMessage_RoomWidgetPollMessage.ANSWER,RoomWidgetPollMessage_RoomWidgetPollMessage.REJECT,RoomWidgetPollMessage_RoomWidgetPollMessage.START];}}]);return PollWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/friends/MessengerFriend.ts\nvar MessengerFriend_MessengerFriend=/*#__PURE__*/function(){function MessengerFriend(){Object(classCallCheck[\"a\" /* default */])(this,MessengerFriend);this.id=-1;this.name=null;this.gender=0;this.online=false;this.followingAllowed=false;this.figure=null;this.categoryId=0;this.motto=null;this.realName=null;this.lastAccess=null;this.persistedMessageUser=false;this.vipMember=false;this.pocketHabboUser=false;this.relationshipStatus=-1;this.unread=0;}Object(createClass[\"a\" /* default */])(MessengerFriend,[{key:\"populate\",value:function populate(parser){this.id=parser.id;this.name=parser.name;this.gender=parser.gender;this.online=parser.online;this.followingAllowed=parser.followingAllowed;this.figure=parser.figure;this.categoryId=parser.categoryId;this.motto=parser.motto;this.realName=parser.realName;this.lastAccess=parser.lastAccess;this.persistedMessageUser=parser.persistedMessageUser;this.vipMember=parser.vipMember;this.pocketHabboUser=parser.pocketHabboUser;this.relationshipStatus=parser.relationshipStatus;}}]);return MessengerFriend;}();MessengerFriend_MessengerFriend.RELATIONSHIP_NONE=0;MessengerFriend_MessengerFriend.RELATIONSHIP_HEART=1;MessengerFriend_MessengerFriend.RELATIONSHIP_SMILE=2;MessengerFriend_MessengerFriend.RELATIONSHIP_BOBBA=3;\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/RoomWidgetAvatarInfoHandler.ts\nvar RoomWidgetAvatarInfoHandler_RoomWidgetAvatarInfoHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(RoomWidgetAvatarInfoHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetAvatarInfoHandler);function RoomWidgetAvatarInfoHandler(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetAvatarInfoHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(RoomWidgetAvatarInfoHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"Zg\" /* RoomSessionUserDataUpdateEvent */].USER_DATA_UPDATED:this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateUserDataEvent_RoomWidgetUpdateUserDataEvent());return;case nitro_renderer[\"Og\" /* RoomSessionDanceEvent */].RSDE_DANCE:var danceEvent=event;var isDancing=false;var userData=this.container.roomSession.userDataManager.getUserData(GetSessionDataManager().userId);if(userData&&userData.roomIndex===danceEvent.roomIndex)isDancing=danceEvent.danceId!==0;this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateDanceStatusEvent_RoomWidgetUpdateDanceStatusEvent(isDancing));return;case nitro_renderer[\"ng\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_INVENTORY:return;case nitro_renderer[\"ng\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_ROOM:this.processUsableRoomObject(event.objectId);return;case nitro_renderer[\"Vg\" /* RoomSessionPetStatusUpdateEvent */].PET_STATUS_UPDATE:this.processRoomSessionPetStatusUpdateEvent(event);return;}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){var userId=0;if(message instanceof RoomWidgetUserActionMessage_RoomWidgetUserActionMessage)userId=message.userId;switch(message.type){case RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OWN_CHARACTER_INFO:this.processOwnCharacterInfo();break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.START_NAME_CHANGE:// habbo help - start name change\nbreak;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_PET_UPDATE:break;case RoomWidgetUseProductMessage_RoomWidgetUseProductMessage.PET_PRODUCT:{var productMessage=message;this.container.roomSession.usePetProduct(productMessage.objectId,productMessage.petId);break;}case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.HARVEST_PET:this.container.roomSession.harvestPet(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.COMPOST_PLANT:this.container.roomSession.compostPlant(userId);break;case RoomWidgetDanceMessage_RoomWidgetDanceMessage.DANCE:{var danceMessage=message;this.container.roomSession.sendDanceMessage(danceMessage.style);break;}case RoomWidgetAvatarExpressionMessage_RoomWidgetAvatarExpressionMessage.AVATAR_EXPRESSION:{var expressionMessage=message;this.container.roomSession.sendExpressionMessage(expressionMessage.animation.ordinal);break;}case RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage.CHANGE_POSTURE:{var postureMessage=message;this.container.roomSession.sendPostureMessage(postureMessage.posture);break;}case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_NONE:{SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ih\" /* SetRelationshipStatusComposer */](userId,MessengerFriend_MessengerFriend.RELATIONSHIP_NONE));break;}case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_HEART:{SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ih\" /* SetRelationshipStatusComposer */](userId,MessengerFriend_MessengerFriend.RELATIONSHIP_HEART));break;}case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_SMILE:{SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ih\" /* SetRelationshipStatusComposer */](userId,MessengerFriend_MessengerFriend.RELATIONSHIP_SMILE));break;}case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_BOBBA:{SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ih\" /* SetRelationshipStatusComposer */](userId,MessengerFriend_MessengerFriend.RELATIONSHIP_BOBBA));break;}}return null;}},{key:\"processOwnCharacterInfo\",value:function processOwnCharacterInfo(){var userId=GetSessionDataManager().userId;var userName=GetSessionDataManager().userName;var allowNameChange=GetSessionDataManager().canChangeName;var userData=this.container.roomSession.userDataManager.getUserData(userId);if(!userData)return;this.container.eventDispatcher.dispatchEvent(new RoomWidgetAvatarInfoEvent_RoomWidgetAvatarInfoEvent(userId,userName,userData.type,userData.roomIndex,allowNameChange));}},{key:\"processUsableRoomObject\",value:function processUsableRoomObject(objectId){var roomId=this.container.roomSession.roomId;var roomObject=GetRoomEngine().getRoomObject(roomId,objectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(!roomObject||!IsOwnerOfFurniture(roomObject))return;var ownerId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);var typeId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);var furniData=GetSessionDataManager().getFloorItemData(typeId);var parts=furniData.customParams.split(' ');var part=parts.length?parseInt(parts[0]):-1;if(part===-1)return;this.processUseableProduct(roomId,objectId,part,furniData.specialType,ownerId);}},{key:\"processUseableProduct\",value:function processUseableProduct(roomId,objectId,part,specialType,ownerId){var arg6=arguments.length>5&&arguments[5]!==undefined?arguments[5]:-1;var useProductBubbles=[];var roomObjects=GetRoomEngine().getRoomObjects(roomId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(roomObjects),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var roomObject=_step.value;var userData=this.container.roomSession.userDataManager.getUserDataByIndex(roomObject.id);var replace=false;if(!userData||userData.type!==nitro_renderer[\"Gg\" /* RoomObjectType */].PET){}else{if(userData.ownerId===ownerId){if(userData.hasSaddle&&specialType===FurniCategory_FurniCategory.PET_SADDLE)replace=true;var figureParts=userData.figure.split(' ');var figurePart=figureParts.length?parseInt(figureParts[0]):-1;if(figurePart===part){if(specialType===FurniCategory_FurniCategory.MONSTERPLANT_REVIVAL){if(!userData.canRevive)continue;}if(specialType===FurniCategory_FurniCategory.MONSTERPLANT_REBREED){if(userData.petLevel<7||userData.canRevive||userData.canBreed)continue;}if(specialType===FurniCategory_FurniCategory.MONSTERPLANT_FERTILIZE){if(userData.petLevel>=7||userData.canRevive)continue;}useProductBubbles.push(new UseProductItem_UseProductItem(userData.roomIndex,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userData.name,objectId,roomObject.id,arg6,replace));}}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(useProductBubbles.length)this.container.eventDispatcher.dispatchEvent(new RoomWidgetUseProductBubbleEvent_RoomWidgetUseProductBubbleEvent(RoomWidgetUseProductBubbleEvent_RoomWidgetUseProductBubbleEvent.USE_PRODUCT_BUBBLES,useProductBubbles));}},{key:\"processRoomSessionPetStatusUpdateEvent\",value:function processRoomSessionPetStatusUpdateEvent(event){}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].AVATAR_INFO;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"Zg\" /* RoomSessionUserDataUpdateEvent */].USER_DATA_UPDATED,nitro_renderer[\"Og\" /* RoomSessionDanceEvent */].RSDE_DANCE,nitro_renderer[\"ng\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_INVENTORY,nitro_renderer[\"ng\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_ROOM,nitro_renderer[\"Vg\" /* RoomSessionPetStatusUpdateEvent */].PET_STATUS_UPDATE];}// UserNameUpdateEvent.UNUE_NAME_UPDATED\n// RoomSessionNestBreedingSuccessEvent.RSPFUE_NEST_BREEDING_SUCCESS\n// RoomSessionPetLevelUpdateEvent.RSPLUE_PET_LEVEL_UPDATE\n},{key:\"messageTypes\",get:function get(){return[RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OWN_CHARACTER_INFO,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.START_NAME_CHANGE,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_PET_UPDATE,RoomWidgetUseProductMessage_RoomWidgetUseProductMessage.PET_PRODUCT,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_BREED_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.HARVEST_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REVIVE_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.COMPOST_PLANT,RoomWidgetDanceMessage_RoomWidgetDanceMessage.DANCE,RoomWidgetAvatarExpressionMessage_RoomWidgetAvatarExpressionMessage.AVATAR_EXPRESSION,RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage.CHANGE_POSTURE,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_NONE,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_HEART,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_SMILE,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_BOBBA];}}]);return RoomWidgetAvatarInfoHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/RoomWidgetChatHandler.ts\nvar RoomWidgetChatHandler_RoomWidgetChatHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(RoomWidgetChatHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetChatHandler);function RoomWidgetChatHandler(){var _this;Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetChatHandler);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._avatarColorCache=new Map();_this._avatarImageCache=new Map();_this._petImageCache=new Map();return _this;}Object(createClass[\"a\" /* default */])(RoomWidgetChatHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_EVENT:{var chatEvent=event;var roomObject=GetRoomEngine().getRoomObject(chatEvent.session.roomId,chatEvent.objectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);var objectLocation=roomObject?roomObject.getLocation():new nitro_renderer[\"Oi\" /* Vector3d */]();var bubbleLocation=GetRoomObjectScreenLocation_GetRoomObjectScreenLocation(chatEvent.session.roomId,roomObject===null||roomObject===void 0?void 0:roomObject.id,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);var userData=roomObject?this.container.roomSession.userDataManager.getUserDataByIndex(chatEvent.objectId):new nitro_renderer[\"nh\" /* RoomUserData */](-1);var username='';var avatarColor=0;var imageUrl=null;var chatType=chatEvent.chatType;var styleId=chatEvent.style;var userType=0;var petType=-1;var text=chatEvent.message;if(userData){userType=userData.type;var figure=userData.figure;switch(userType){case nitro_renderer[\"Gg\" /* RoomObjectType */].PET:imageUrl=this.getPetImage(figure,2,true,64,roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_POSTURE));petType=new nitro_renderer[\"jf\" /* PetFigureData */](figure).typeId;break;case nitro_renderer[\"Gg\" /* RoomObjectType */].USER:imageUrl=this.getUserImage(figure);break;case nitro_renderer[\"Gg\" /* RoomObjectType */].RENTABLE_BOT:case nitro_renderer[\"Gg\" /* RoomObjectType */].BOT:styleId=nitro_renderer[\"Lh\" /* SystemChatStyleEnum */].BOT;break;}avatarColor=this._avatarColorCache.get(figure);username=userData.name;}switch(chatType){case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_RESPECT:text=LocalizeText('widgets.chatbubble.respect',['username'],[username]);if(GetConfigurationManager().getValue('respect.options')['enabled'])PlaySound_PlaySound(GetConfigurationManager().getValue('respect.options')['sound']);break;case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_PETREVIVE:case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_PET_REBREED_FERTILIZE:case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_PET_SPEED_FERTILIZE:{var textKey='widget.chatbubble.petrevived';if(chatType===nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_PET_REBREED_FERTILIZE){textKey='widget.chatbubble.petrefertilized;';}else if(chatType===nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_PET_SPEED_FERTILIZE){textKey='widget.chatbubble.petspeedfertilized';}var targetUserName=null;var newRoomObject=GetRoomEngine().getRoomObject(chatEvent.session.roomId,chatEvent.extraParam,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);if(newRoomObject){var newUserData=this.container.roomSession.userDataManager.getUserDataByIndex(roomObject.id);if(newUserData)targetUserName=newUserData.name;}text=LocalizeText(textKey,['petName','userName'],[username,targetUserName]);break;}case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_PETRESPECT:text=LocalizeText('widget.chatbubble.petrespect',['petname'],[username]);break;case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_PETTREAT:text=LocalizeText('widget.chatbubble.pettreat',['petname'],[username]);break;case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_HAND_ITEM_RECEIVED:text=LocalizeText('widget.chatbubble.handitem',['username','handitem'],[username,LocalizeText('handitem'+chatEvent.extraParam)]);break;case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_TYPE_MUTE_REMAINING:{var hours=(chatEvent.extraParam>0?Math.floor(chatEvent.extraParam/3600):0).toString();var minutes=(chatEvent.extraParam>0?Math.floor(chatEvent.extraParam%3600/60):0).toString();var seconds=(chatEvent.extraParam%60).toString();text=LocalizeText('widget.chatbubble.mutetime',['hours','minutes','seconds'],[hours,minutes,seconds]);break;}}this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent(RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_EVENT,userData.roomIndex,text,username,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userType,petType,bubbleLocation.x,bubbleLocation.y,imageUrl,avatarColor,chatEvent.session.roomId,chatType,styleId,[]));return;}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){return null;}},{key:\"getUserImage\",value:function getUserImage(figure){var existing=this._avatarImageCache.get(figure);if(!existing){existing=this.setFigureImage(figure);}return existing;}},{key:\"setFigureImage\",value:function setFigureImage(figure){var avatarImage=GetAvatarRenderManager().createAvatarImage(figure,nitro_renderer[\"q\" /* AvatarScaleType */].LARGE,null,this);if(!avatarImage)return;var image=avatarImage.getCroppedImage(nitro_renderer[\"r\" /* AvatarSetType */].HEAD);var color=avatarImage.getPartColor(nitro_renderer[\"p\" /* AvatarFigurePartType */].CHEST);this._avatarColorCache.set(figure,color&&color.rgb||16777215);avatarImage.dispose();this._avatarImageCache.set(figure,image.src);return image.src;}},{key:\"getPetImage\",value:function getPetImage(figure,direction,_arg_3){var scale=arguments.length>3&&arguments[3]!==undefined?arguments[3]:64;var posture=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var existing=this._petImageCache.get(figure+posture);if(existing)return existing;var figureData=new nitro_renderer[\"jf\" /* PetFigureData */](figure);var typeId=figureData.typeId;var image=GetRoomEngine().getRoomObjectPetImage(typeId,figureData.paletteId,figureData.color,new nitro_renderer[\"Oi\" /* Vector3d */](direction*45),scale,null,false,0,figureData.customParts,posture);if(image){existing=nitro_renderer[\"Mh\" /* TextureUtils */].generateImageUrl(image.data);this._petImageCache.set(figure+posture,existing);}return existing;}},{key:\"resetFigure\",value:function resetFigure(figure){this.setFigureImage(figure);}},{key:\"dispose\",value:function dispose(){}},{key:\"disposed\",get:function get(){return false;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].CHAT_WIDGET;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_EVENT];}},{key:\"messageTypes\",get:function get(){return[];}}]);return RoomWidgetChatHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/RoomWidgetChatInputHandler.ts\nvar RoomWidgetChatInputHandler_RoomWidgetChatInputHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(RoomWidgetChatInputHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetChatInputHandler);function RoomWidgetChatInputHandler(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetChatInputHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(RoomWidgetChatInputHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].FLOOD_EVENT:{var floodEvent=event;this.container.eventDispatcher.dispatchEvent(new RoomWidgetFloodControlEvent_RoomWidgetFloodControlEvent(parseInt(floodEvent.message)));}}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){switch(message.type){case RoomWidgetChatTypingMessage_RoomWidgetChatTypingMessage.TYPING_STATUS:{var typingMessage=message;this.container.roomSession.sendChatTypingMessage(typingMessage.isTyping);break;}case RoomWidgetChatMessage_RoomWidgetChatMessage.MESSAGE_CHAT:{var chatMessage=message;if(chatMessage.text==='')return null;var text=chatMessage.text;var parts=text.split(' ');if(parts.length>0){var firstPart=parts[0];var secondPart='';if(parts.length>1)secondPart=parts[1];if(firstPart.charAt(0)===':'&&secondPart==='x'){var selectedAvatarId=GetRoomEngine().selectedAvatarId;if(selectedAvatarId>-1){var userData=this.container.roomSession.userDataManager.getUserDataByIndex(selectedAvatarId);if(userData){secondPart=userData.name;text=chatMessage.text.replace(' x',' '+userData.name);}}}switch(firstPart.toLowerCase()){case':compass':CreateLinkEvent('mediaroom/video/BBjCFrR-QqA');return null;case':shake':nitro_renderer[\"fh\" /* RoomShakingEffect */].init(2500,5000);nitro_renderer[\"fh\" /* RoomShakingEffect */].turnVisualizationOn();return null;case':rotate':nitro_renderer[\"Lg\" /* RoomRotatingEffect */].init(2500,5000);nitro_renderer[\"Lg\" /* RoomRotatingEffect */].turnVisualizationOn();return null;case':d':case';d':if(GetClubMemberLevel()===nitro_renderer[\"zd\" /* HabboClubLevelEnum */].VIP){this.container.roomSession.sendExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].LAUGH.ordinal);}break;case'o/':case'_o/':this.container.roomSession.sendExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].WAVE.ordinal);return null;case':kiss':if(GetClubMemberLevel()===nitro_renderer[\"zd\" /* HabboClubLevelEnum */].VIP){this.container.roomSession.sendExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].BLOW.ordinal);return null;}break;case':jump':if(GetClubMemberLevel()===nitro_renderer[\"zd\" /* HabboClubLevelEnum */].VIP){this.container.roomSession.sendExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].JUMP.ordinal);return null;}break;case':idle':this.container.roomSession.sendExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].IDLE.ordinal);return null;case'_b':this.container.roomSession.sendExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].RESPECT.ordinal);return null;case':sign':this.container.roomSession.sendSignMessage(parseInt(secondPart));return null;case':iddqd':case':flip':GetRoomEngine().events.dispatchEvent(new nitro_renderer[\"vh\" /* RoomZoomEvent */](this.container.roomSession.roomId,-1,true));return null;case':zoom':GetRoomEngine().events.dispatchEvent(new nitro_renderer[\"vh\" /* RoomZoomEvent */](this.container.roomSession.roomId,parseFloat(secondPart),false));return null;case':screenshot':var texture=GetRoomEngine().createTextureFromRoom(this.container.roomSession.roomId,1);var image=new Image();image.src=nitro_renderer[\"Mh\" /* TextureUtils */].generateImageUrl(texture);var newWindow=window.open('');newWindow.document.write(image.outerHTML);return null;case':pickall':if(this.container.roomSession.isRoomOwner||GetSessionDataManager().isModerator){NotificationUtilities_NotificationUtilities.confirm(LocalizeText('room.confirm.pick_all'),function(){GetSessionDataManager().sendSpecialCommandMessage(':pickall');},null,null,null,LocalizeText('generic.alert.title'));}return null;case':furni':this.container.processWidgetMessage(new RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage(RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.FURNI_CHOOSER));return null;case':chooser':this.container.processWidgetMessage(new RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage(RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.USER_CHOOSER));return null;case':floor':case':bcfloor':if(this.container.roomSession.controllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].ROOM_OWNER)CreateLinkEvent('floor-editor/show');return null;case':togglefps':{if(GetNitroInstance().ticker.maxFPS>0)GetNitroInstance().ticker.maxFPS=0;else GetNitroInstance().ticker.maxFPS=GetConfiguration('system.animation.fps');return null;}case':client':case':nitro':case':billsonnn':NotificationUtilities_NotificationUtilities.showNitroAlert();return null;case':settings':if(this.container.roomSession.isRoomOwner||GetSessionDataManager().isModerator){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ch\" /* RoomSettingsComposer */](this.container.roomSession.roomId));}return null;}}var styleId=chatMessage.styleId;if(this.container&&this.container.roomSession){switch(chatMessage.chatType){case RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_DEFAULT:this.container.roomSession.sendChatMessage(text,styleId);break;case RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_SHOUT:this.container.roomSession.sendShoutMessage(text,styleId);break;case RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_WHISPER:this.container.roomSession.sendWhisperMessage(chatMessage.recipientName,text,styleId);break;}}break;}case RoomWidgetChatSelectAvatarMessage_RoomWidgetChatSelectAvatarMessage.MESSAGE_SELECT_AVATAR:{var selectedEvent=message;GetRoomEngine().setSelectedAvatar(selectedEvent.roomId,selectedEvent.objectId);break;}}return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].CHAT_INPUT_WIDGET;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].FLOOD_EVENT];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetChatTypingMessage_RoomWidgetChatTypingMessage.TYPING_STATUS,RoomWidgetChatMessage_RoomWidgetChatMessage.MESSAGE_CHAT,RoomWidgetChatSelectAvatarMessage_RoomWidgetChatSelectAvatarMessage.MESSAGE_SELECT_AVATAR];}}]);return RoomWidgetChatInputHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/RoomWidgetHandlerManager.ts\nvar RoomWidgetHandlerManager_RoomWidgetHandlerManager=/*#__PURE__*/function(){function RoomWidgetHandlerManager(roomSession,eventDispatcher){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetHandlerManager);this._roomSession=void 0;this._eventDispatcher=void 0;this._handlers=[];this._eventMap=new Map();this._messageMap=new Map();this._roomSession=roomSession;this._eventDispatcher=eventDispatcher;}Object(createClass[\"a\" /* default */])(RoomWidgetHandlerManager,[{key:\"registerHandler\",value:function registerHandler(handler){var eventTypes=handler.eventTypes;eventTypes.push(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET,nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET);if(eventTypes&&eventTypes.length){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(eventTypes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var name=_step.value;if(!name)continue;var events=this._eventMap.get(name);if(!events){events=[];this._eventMap.set(name,events);}events.push(handler);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}var messageTypes=handler.messageTypes;if(messageTypes&&messageTypes.length){var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(messageTypes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _name=_step2.value;if(!_name)continue;var messages=this._messageMap.get(_name);if(!messages){messages=[];this._messageMap.set(_name,messages);}messages.push(handler);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}handler.container=this;this._handlers.push(handler);}},{key:\"processEvent\",value:function processEvent(event){var handlers=this._eventMap.get(event.type);if(!handlers||!handlers.length)return null;var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(handlers),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var handler=_step3.value;if(!handler)continue;var dispatch=true;if(event.type===nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET||event.type===nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET){if(event instanceof nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */]){dispatch=handler.type===event.widget;}}if(dispatch)handler.processEvent(event);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){var handlers=this._messageMap.get(message.type);if(!handlers||!handlers.length)return null;var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(handlers),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var handler=_step4.value;if(!handler)continue;var update=handler.processWidgetMessage(message);if(!update)continue;return update;}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return null;}},{key:\"roomSession\",get:function get(){return this._roomSession;}},{key:\"eventDispatcher\",get:function get(){return this._eventDispatcher;}}]);return RoomWidgetHandlerManager;}();\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/common/PetSupplementEnum.ts\nvar PetSupplementEnum_PetSupplementEnum=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function PetSupplementEnum(){Object(classCallCheck[\"a\" /* default */])(this,PetSupplementEnum);});PetSupplementEnum_PetSupplementEnum.WATER=0;PetSupplementEnum_PetSupplementEnum.LIGHT=1;\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/RoomWidgetInfostandHandler.ts\nvar RoomWidgetInfostandHandler_RoomWidgetInfostandHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(RoomWidgetInfostandHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(RoomWidgetInfostandHandler);function RoomWidgetInfostandHandler(){Object(classCallCheck[\"a\" /* default */])(this,RoomWidgetInfostandHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(RoomWidgetInfostandHandler,[{key:\"processEvent\",value:function processEvent(event){switch(event.type){case nitro_renderer[\"Ug\" /* RoomSessionPetInfoUpdateEvent */].PET_INFO:this.processPetInfoEvent(event);return;case nitro_renderer[\"Yg\" /* RoomSessionUserBadgesEvent */].RSUBE_BADGES:this.container.eventDispatcher.dispatchEvent(event);return;case nitro_renderer[\"ah\" /* RoomSessionUserFigureUpdateEvent */].USER_FIGURE:this.container.eventDispatcher.dispatchEvent(event);return;case nitro_renderer[\"Tg\" /* RoomSessionFavoriteGroupUpdateEvent */].FAVOURITE_GROUP_UPDATE:this.container.eventDispatcher.dispatchEvent(event);return;}}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){var userId=0;var userData=null;var objectId=0;var category=0;if(message instanceof RoomWidgetUserActionMessage_RoomWidgetUserActionMessage){userId=message.userId;var petMessages=[RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_PET_UPDATE,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PICKUP_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MOUNT_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_RIDING_PERMISSION,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_BREEDING_PERMISSION,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DISMOUNT_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.SADDLE_OFF,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_CARRY_ITEM_TO_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_WATER_TO_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_LIGHT_TO_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TREAT_PET];if(petMessages.indexOf(message.type)>=0){userData=this.container.roomSession.userDataManager.getPetData(userId);}else{userData=this.container.roomSession.userDataManager.getUserData(userId);}if(!userData)return null;}else if(message instanceof RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage){objectId=message.furniId;category=message.furniCategory;}switch(message.type){case RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_NAME:return this.processObjectNameMessage(message);case RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_INFO:return this.processObjectInfoMessage(message);case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_USER:GetSessionDataManager().giveRespect(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_PET:GetSessionDataManager().givePetRespect(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.WHISPER_USER:this.container.eventDispatcher.dispatchEvent(new RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent(RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.WHISPER,userData.name));break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.IGNORE_USER:GetSessionDataManager().ignoreUser(userData.name);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.UNIGNORE_USER:GetSessionDataManager().unignoreUser(userData.name);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.KICK_USER:this.container.roomSession.sendKickMessage(message.userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_DAY:case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_HOUR:case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_PERM:this.container.roomSession.sendBanMessage(message.userId,message.type);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_2MIN:this.container.roomSession.sendMuteMessage(message.userId,2);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_5MIN:this.container.roomSession.sendMuteMessage(message.userId,5);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_10MIN:this.container.roomSession.sendMuteMessage(message.userId,10);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_RIGHTS:this.container.roomSession.sendGiveRightsMessage(message.userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TAKE_RIGHTS:this.container.roomSession.sendTakeRightsMessage(message.userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.START_TRADING:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ci\" /* TradingOpenComposer */](userData.roomIndex));break;// case RoomWidgetUserActionMessage.RWUAM_OPEN_HOME_PAGE:\n//     this._container.sessionDataManager._Str_21275((message as RoomWidgetUserActionMessage).userId, _local_3.name);\n//     break;\ncase RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PICKUP_PET:this.container.roomSession.pickupPet(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MOUNT_PET:this.container.roomSession.mountPet(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_RIDING_PERMISSION:this.container.roomSession.togglePetRiding(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_BREEDING_PERMISSION:this.container.roomSession.togglePetBreeding(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DISMOUNT_PET:this.container.roomSession.dismountPet(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.SADDLE_OFF:this.container.roomSession.removePetSaddle(userId);break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PASS_CARRY_ITEM:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"lh\" /* RoomUnitGiveHandItemComposer */](userId));break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_CARRY_ITEM_TO_PET:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"mh\" /* RoomUnitGiveHandItemPetComposer */](userId));break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_WATER_TO_PET:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"pf\" /* PetSupplementComposer */](userId,PetSupplementEnum_PetSupplementEnum.WATER));break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_LIGHT_TO_PET:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"pf\" /* PetSupplementComposer */](userId,PetSupplementEnum_PetSupplementEnum.LIGHT));break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TREAT_PET:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"of\" /* PetRespectComposer */](userId));break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DROP_CARRY_ITEM:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"kh\" /* RoomUnitDropHandItemComposer */]());break;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_PET_UPDATE:this.container.roomSession.userDataManager.requestPetInfo(userId);return;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REPORT:return;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REPORT_CFH_OTHER:DispatchUiEvent_DispatchUiEvent(new HelpReportUserEvent_HelpReportUserEvent(userId));return;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_ALERT_USER:this.container.roomSession.sendAmbassadorAlertMessage(userId);return;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_KICK_USER:this.container.roomSession.sendKickMessage(userId);return;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_2MIN:this.container.roomSession.sendMuteMessage(userId,2);return;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_10MIN:this.container.roomSession.sendMuteMessage(userId,10);return;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_60MIN:this.container.roomSession.sendMuteMessage(userId,60);return;case RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_18HOUR:this.container.roomSession.sendMuteMessage(userId,1080);return;case RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.ROTATE:GetRoomEngine().processRoomObjectOperation(objectId,category,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_ROTATE_POSITIVE);return;case RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.MOVE:GetRoomEngine().processRoomObjectOperation(objectId,category,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_MOVE);return;case RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.PICKUP:GetRoomEngine().processRoomObjectOperation(objectId,category,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_PICKUP);return;case RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.EJECT:GetRoomEngine().processRoomObjectOperation(objectId,category,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_EJECT);return;case RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.USE:GetRoomEngine().useRoomObject(objectId,category);return;case RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.SAVE_STUFF_DATA:{var furniMessage=message;if(!furniMessage.objectData)return;var mapData=new Map();var dataParts=furniMessage.objectData.split('\\t');if(dataParts){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(dataParts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;var _part$split=part.split('=',2),_part$split2=Object(slicedToArray[\"a\" /* default */])(_part$split,2),key=_part$split2[0],value=_part$split2[1];mapData.set(key,value);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}GetRoomEngine().modifyRoomObjectDataWithMap(objectId,category,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_SAVE_STUFF_DATA,mapData);return;}case RoomWidgetChangeMottoMessage_RoomWidgetChangeMottoMessage.CHANGE_MOTTO:this.container.roomSession.sendMottoMessage(message.motto);return;}return null;}},{key:\"processObjectNameMessage\",value:function processObjectNameMessage(message){var id=-1;var name=null;var userType=0;switch(message.category){case nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR:case nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:{var roomObject=GetRoomEngine().getRoomObject(this.container.roomSession.roomId,message.id,message.category);if(!roomObject)break;if(roomObject.type.indexOf('poster')===0){name=LocalizeText('${poster_'+parseInt(roomObject.type.replace('poster',''))+'_name}');}else{var furniData=null;var typeId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);if(message.category===nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR){furniData=GetSessionDataManager().getFloorItemData(typeId);}else if(message.category===nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL){furniData=GetSessionDataManager().getWallItemData(typeId);}if(!furniData)break;id=furniData.id;name=furniData.name;}break;}case nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT:{var userData=this.container.roomSession.userDataManager.getUserDataByIndex(message.id);if(!userData)break;id=userData.webID;name=userData.name;userType=userData.type;break;}}if(name)this.container.eventDispatcher.dispatchEvent(new RoomWidgetObjectNameEvent_RoomWidgetObjectNameEvent(RoomWidgetObjectNameEvent_RoomWidgetObjectNameEvent.TYPE,message.id,message.category,id,name,userType));return null;}},{key:\"processObjectInfoMessage\",value:function processObjectInfoMessage(message){var roomId=this.container.roomSession.roomId;switch(message.category){case nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR:case nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:this.processFurniInfoMessage(message,roomId);break;case nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT:{var userData=this.container.roomSession.userDataManager.getUserDataByIndex(message.id);if(!userData)break;switch(userData.type){case nitro_renderer[\"Gg\" /* RoomObjectType */].PET:this.container.roomSession.userDataManager.requestPetInfo(userData.webID);break;case nitro_renderer[\"Gg\" /* RoomObjectType */].USER:this.processUserInfoMessage(message,roomId,userData);break;case nitro_renderer[\"Gg\" /* RoomObjectType */].BOT:this.processBotInfoMessage(message,roomId,userData);break;case nitro_renderer[\"Gg\" /* RoomObjectType */].RENTABLE_BOT:this.processRentableBotInfoMessage(message,roomId,userData);break;}}}return null;}},{key:\"processFurniInfoMessage\",value:function processFurniInfoMessage(message,roomId){var event=new RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent(RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent.FURNI);event.id=message.id;event.category=message.category;var roomObject=GetRoomEngine().getRoomObject(roomId,message.id,message.category);if(!roomObject)return;var model=roomObject.model;if(model.getValue(nitro_renderer[\"th\" /* RoomWidgetEnumItemExtradataParameter */].INFOSTAND_EXTRA_PARAM)){event.extraParam=model.getValue(nitro_renderer[\"th\" /* RoomWidgetEnumItemExtradataParameter */].INFOSTAND_EXTRA_PARAM);}var dataFormat=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA_FORMAT);var objectData=nitro_renderer[\"bf\" /* ObjectDataFactory */].getData(dataFormat);objectData.initializeFromRoomObjectModel(model);event.stuffData=objectData;var objectType=roomObject.type;if(objectType.indexOf('poster')===0){var posterId=parseInt(objectType.replace('poster',''));event.name=LocalizeText('${poster_'+posterId+'_name}');event.description=LocalizeText('${poster_'+posterId+'_desc}');}else{var typeId=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_TYPE_ID);var furnitureData=null;if(message.category===nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR){furnitureData=GetSessionDataManager().getFloorItemData(typeId);}else if(message.category===nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL){furnitureData=GetSessionDataManager().getWallItemData(typeId);}if(furnitureData){event.name=furnitureData.name;event.description=furnitureData.description;event.purchaseOfferId=furnitureData.purchaseOfferId;event.purchaseCouldBeUsedForBuyout=furnitureData.purchaseCouldBeUsedForBuyout;event.rentOfferId=furnitureData.rentOfferId;event.rentCouldBeUsedForBuyout=furnitureData.rentCouldBeUsedForBuyout;event.availableForBuildersClub=furnitureData.availableForBuildersClub;event.tileSizeX=furnitureData.tileSizeX;event.tileSizeY=furnitureData.tileSizeY;DispatchUiEvent_DispatchUiEvent(new WiredSelectObjectEvent_WiredSelectObjectEvent(event.id,event.category));}}if(objectType.indexOf('post_it')>-1)event.isStickie=true;var expiryTime=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_EXPIRY_TIME);var expiryTimestamp=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_EXPIRTY_TIMESTAMP);event.expiration=expiryTime<0?expiryTime:Math.max(0,expiryTime-(GetNitroInstance().time-expiryTimestamp)/1000);var roomObjectImage=GetRoomEngine().getRoomObjectImage(roomId,message.id,message.category,new nitro_renderer[\"Oi\" /* Vector3d */](180),64,null);if(!roomObjectImage.data||roomObjectImage.data.width>140||roomObjectImage.data.height>200){roomObjectImage=GetRoomEngine().getRoomObjectImage(roomId,message.id,message.category,new nitro_renderer[\"Oi\" /* Vector3d */](180),1,null);}event.image=roomObjectImage.getImage();event.isWallItem=message.category===nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL;event.isRoomOwner=this.container.roomSession.isRoomOwner;event.roomControllerLevel=this.container.roomSession.controllerLevel;event.isAnyRoomController=GetSessionDataManager().isModerator;event.ownerId=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);event.ownerName=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_OWNER_NAME);event.usagePolicy=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_USAGE_POLICY);var guildId=model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_GUILD_CUSTOMIZED_GUILD_ID);if(guildId!==0){event.groupId=guildId;//this.container.connection.send(new _Str_2863(guildId, false));\n}if(IsOwnerOfFurniture(roomObject))event.isOwner=true;this.container.eventDispatcher.dispatchEvent(event);}},{key:\"processUserInfoMessage\",value:function processUserInfoMessage(message,roomId,userData){var eventType=RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER;if(userData.webID!==GetSessionDataManager().userId)eventType=RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER;var event=new RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent(eventType);event.isSpectatorMode=this.container.roomSession.isSpectator;event.name=userData.name;event.motto=userData.custom;event.achievementScore=userData.activityPoints;event.webID=userData.webID;event.roomIndex=userData.roomIndex;event.userType=nitro_renderer[\"Gg\" /* RoomObjectType */].USER;var roomObject=GetRoomEngine().getRoomObject(roomId,userData.roomIndex,message.category);if(roomObject)event.carryItem=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT)||0;if(eventType===RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER)event.allowNameChange=GetSessionDataManager().canChangeName;event.amIOwner=this.container.roomSession.isRoomOwner;event.isGuildRoom=this.container.roomSession.isGuildRoom;event.roomControllerLevel=this.container.roomSession.controllerLevel;event.amIAnyRoomController=GetSessionDataManager().isModerator;event.isAmbassador=GetSessionDataManager().isAmbassador;if(eventType===RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER){if(roomObject){var flatControl=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_FLAT_CONTROL);if(flatControl!==null)event.targetRoomControllerLevel=flatControl;event.canBeMuted=this.canBeMuted(event);event.canBeKicked=this.canBeKicked(event);event.canBeBanned=this.canBeBanned(event);}event.isIgnored=GetSessionDataManager().isUserIgnored(userData.name);event.respectLeft=GetSessionDataManager().respectsLeft;var isShuttingDown=GetSessionDataManager().isSystemShutdown;var tradeMode=this.container.roomSession.tradeMode;if(isShuttingDown){event.canTrade=false;}else{switch(tradeMode){case nitro_renderer[\"ih\" /* RoomTradingLevelEnum */].ROOM_CONTROLLER_REQUIRED:{var roomController=event.roomControllerLevel!==nitro_renderer[\"Yf\" /* RoomControllerLevel */].NONE&&event.roomControllerLevel!==nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUILD_MEMBER;var targetController=event.targetRoomControllerLevel!==nitro_renderer[\"Yf\" /* RoomControllerLevel */].NONE&&event.targetRoomControllerLevel!==nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUILD_MEMBER;event.canTrade=roomController||targetController;break;}case nitro_renderer[\"ih\" /* RoomTradingLevelEnum */].NO_TRADING:event.canTrade=true;break;default:event.canTrade=false;break;}}event.canTradeReason=RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.TRADE_REASON_OK;if(isShuttingDown)event.canTradeReason=RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.TRADE_REASON_SHUTDOWN;if(tradeMode!==nitro_renderer[\"ih\" /* RoomTradingLevelEnum */].FREE_TRADING)event.canTradeReason=RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.TRADE_REASON_NO_TRADING;// const _local_12 = GetSessionDataManager().userId;\n// _local_13 = GetSessionDataManager()._Str_18437(_local_12);\n// this._Str_16287(_local_12, _local_13);\n}event.groupId=userData.groupId;event.groupBadgeId=GetSessionDataManager().getGroupBadge(event.groupId);event.groupName=userData.groupName;event.badges=this.container.roomSession.userDataManager.getUserBadges(userData.webID);event.figure=userData.figure;//var _local_8:Array = GetSessionDataManager()._Str_18437(userData.webID);\n//this._Str_16287(userData._Str_2394, _local_8);\n//this._container._Str_8097._Str_14387(userData.webID);\n//this._container.connection.send(new _Str_8049(userData._Str_2394));\nthis.container.eventDispatcher.dispatchEvent(event);}},{key:\"processBotInfoMessage\",value:function processBotInfoMessage(message,roomId,userData){var event=new RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent(RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.BOT);event.name=userData.name;event.motto=userData.custom;event.webID=userData.webID;event.roomIndex=userData.roomIndex;event.userType=userData.type;var roomObject=GetRoomEngine().getRoomObject(roomId,userData.roomIndex,message.category);if(roomObject)event.carryItem=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT)||0;event.amIOwner=this.container.roomSession.isRoomOwner;event.isGuildRoom=this.container.roomSession.isGuildRoom;event.roomControllerLevel=this.container.roomSession.controllerLevel;event.amIAnyRoomController=GetSessionDataManager().isModerator;event.isAmbassador=GetSessionDataManager().isAmbassador;event.badges=[RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.DEFAULT_BOT_BADGE_ID];event.figure=userData.figure;this.container.eventDispatcher.dispatchEvent(event);}},{key:\"processRentableBotInfoMessage\",value:function processRentableBotInfoMessage(message,roomId,userData){var event=new RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent(RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent.RENTABLE_BOT);event.name=userData.name;event.motto=userData.custom;event.webID=userData.webID;event.roomIndex=userData.roomIndex;event.ownerId=userData.ownerId;event.ownerName=userData.ownerName;event.botSkills=userData.botSkills;var roomObject=GetRoomEngine().getRoomObject(roomId,userData.roomIndex,message.category);if(roomObject)event.carryItem=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT)||0;event.amIOwner=this.container.roomSession.isRoomOwner;event.roomControllerLevel=this.container.roomSession.controllerLevel;event.amIAnyRoomController=GetSessionDataManager().isModerator;event.badges=[RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.DEFAULT_BOT_BADGE_ID];event.figure=userData.figure;this.container.eventDispatcher.dispatchEvent(event);}},{key:\"processPetInfoEvent\",value:function processPetInfoEvent(event){var petData=event.petInfo;if(!petData)return;var roomPetData=this.container.roomSession.userDataManager.getPetData(petData.id);if(!roomPetData)return;var figure=new nitro_renderer[\"jf\" /* PetFigureData */](roomPetData.figure);var posture=null;if(figure.typeId===nitro_renderer[\"qf\" /* PetType */].MONSTERPLANT){if(petData.level>=petData.adultLevel)posture='std';else posture='grw'+petData.level;}var isOwner=petData.ownerId===GetSessionDataManager().userId;var infostandEvent=new RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent(RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent.PET_INFO);infostandEvent.name=roomPetData.name;infostandEvent.id=petData.id;infostandEvent.ownerId=petData.ownerId;infostandEvent.ownerName=petData.ownerName;infostandEvent.rarityLevel=petData.rarityLevel;infostandEvent.petType=figure.typeId;infostandEvent.petBreed=figure.paletteId;infostandEvent.petFigure=roomPetData.figure;infostandEvent.posture=posture;infostandEvent.isOwner=isOwner;infostandEvent.roomIndex=roomPetData.roomIndex;infostandEvent.level=petData.level;infostandEvent.maximumLevel=petData.maximumLevel;infostandEvent.experience=petData.experience;infostandEvent.levelExperienceGoal=petData.levelExperienceGoal;infostandEvent.energy=petData.energy;infostandEvent.maximumEnergy=petData.maximumEnergy;infostandEvent.happyness=petData.happyness;infostandEvent.maximumHappyness=petData.maximumHappyness;infostandEvent.respect=petData.respect;infostandEvent.respectsPetLeft=GetSessionDataManager().respectsPetLeft;infostandEvent.age=petData.age;infostandEvent.saddle=petData.saddle;infostandEvent.rider=petData.rider;infostandEvent.breedable=petData.breedable;infostandEvent.fullyGrown=petData.fullyGrown;infostandEvent.dead=petData.dead;infostandEvent.rarityLevel=petData.rarityLevel;infostandEvent.skillTresholds=petData.skillTresholds;infostandEvent.canRemovePet=false;infostandEvent.publiclyRideable=petData.publiclyRideable;infostandEvent.maximumTimeToLive=petData.maximumTimeToLive;infostandEvent.remainingTimeToLive=petData.remainingTimeToLive;infostandEvent.remainingGrowTime=petData.remainingGrowTime;infostandEvent.publiclyBreedable=petData.publiclyBreedable;if(isOwner){infostandEvent.canRemovePet=true;}else{if(this.container.roomSession.isRoomOwner||GetSessionDataManager().isModerator||this.container.roomSession.controllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST)infostandEvent.canRemovePet=true;}this.container.eventDispatcher.dispatchEvent(infostandEvent);}},{key:\"checkGuildSetting\",value:function checkGuildSetting(event){if(event.isGuildRoom)return event.roomControllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUILD_ADMIN;return event.roomControllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST;}},{key:\"canBeMuted\",value:function canBeMuted(event){var _this=this;var checkSetting=function checkSetting(event,moderation){switch(moderation.allowMute){case nitro_renderer[\"Ag\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:return _this.checkGuildSetting(event);default:return event.roomControllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].ROOM_OWNER;}};return this.isValidSetting(event,checkSetting);}},{key:\"canBeKicked\",value:function canBeKicked(event){var _this2=this;var checkSetting=function checkSetting(event,moderation){switch(moderation.allowKick){case nitro_renderer[\"Ag\" /* RoomModerationSettings */].MODERATION_LEVEL_ALL:return true;case nitro_renderer[\"Ag\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:return _this2.checkGuildSetting(event);default:return event.roomControllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].ROOM_OWNER;}};return this.isValidSetting(event,checkSetting);}},{key:\"canBeBanned\",value:function canBeBanned(event){var _this3=this;var checkSetting=function checkSetting(event,moderation){switch(moderation.allowBan){case nitro_renderer[\"Ag\" /* RoomModerationSettings */].MODERATION_LEVEL_USER_WITH_RIGHTS:return _this3.checkGuildSetting(event);default:return event.roomControllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].ROOM_OWNER;}};return this.isValidSetting(event,checkSetting);}},{key:\"isValidSetting\",value:function isValidSetting(event,checkSetting){if(!this.container.roomSession._Str_7411)return false;var moderation=this.container.roomSession.moderationSettings;var flag=false;if(moderation)flag=checkSetting(event,moderation);return flag&&event.targetRoomControllerLevel<nitro_renderer[\"Yf\" /* RoomControllerLevel */].ROOM_OWNER;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].INFOSTAND;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"Ug\" /* RoomSessionPetInfoUpdateEvent */].PET_INFO,nitro_renderer[\"Yg\" /* RoomSessionUserBadgesEvent */].RSUBE_BADGES,nitro_renderer[\"ah\" /* RoomSessionUserFigureUpdateEvent */].USER_FIGURE,nitro_renderer[\"Tg\" /* RoomSessionFavoriteGroupUpdateEvent */].FAVOURITE_GROUP_UPDATE];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_INFO,RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_NAME,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_USER,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.WHISPER_USER,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.IGNORE_USER,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.UNIGNORE_USER,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.KICK_USER,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_DAY,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_HOUR,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_PERM,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_2MIN,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_5MIN,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_10MIN,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_RIGHTS,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TAKE_RIGHTS,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.START_TRADING,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.OPEN_HOME_PAGE,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PASS_CARRY_ITEM,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_CARRY_ITEM_TO_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DROP_CARRY_ITEM,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REPORT,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PICKUP_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MOUNT_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_RIDING_PERMISSION,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_BREEDING_PERMISSION,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DISMOUNT_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.SADDLE_OFF,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TRAIN_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_PET_UPDATE,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_LIGHT_TO_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_WATER_TO_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TREAT_PET,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REPORT_CFH_OTHER,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_ALERT_USER,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_KICK_USER,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_2MIN,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_10MIN,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_60MIN,RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_18HOUR,RoomWidgetChangeMottoMessage_RoomWidgetChangeMottoMessage.CHANGE_MOTTO,RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.MOVE,RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.ROTATE,RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.EJECT,RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.PICKUP,RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.USE,RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.SAVE_STUFF_DATA];}}]);return RoomWidgetInfostandHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/UserChooserWidgetHandler.ts\nvar UserChooserWidgetHandler_UserChooserWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(UserChooserWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(UserChooserWidgetHandler);function UserChooserWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,UserChooserWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(UserChooserWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){if(!message)return null;switch(message.type){case RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.USER_CHOOSER:this.processChooser();break;case RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.SELECT_OBJECT:this.selectRoomObject(message);break;}return null;}},{key:\"processChooser\",value:function processChooser(){var _this=this;var roomId=this.container.roomSession.roomId;var items=[];var userItems=GetRoomEngine().getRoomObjects(roomId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);userItems.forEach(function(roomObject){var userData=_this.container.roomSession.userDataManager.getUserDataByIndex(roomObject.id);if(!userData)return;items.push(new RoomObjectItem_RoomObjectItem(userData.roomIndex,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userData.name));});items.sort(function(a,b){return a.name<b.name?-1:1;});this.container.eventDispatcher.dispatchEvent(new RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent(RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent.USER_CHOOSER_CONTENT,items));}},{key:\"selectRoomObject\",value:function selectRoomObject(message){if(message.category!==nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT)return;GetRoomEngine().selectRoomObject(this.container.roomSession.roomId,message.id,message.category);}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].USER_CHOOSER;}},{key:\"eventTypes\",get:function get(){return[];}},{key:\"messageTypes\",get:function get(){return[RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.USER_CHOOSER,RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.SELECT_OBJECT];}}]);return UserChooserWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/WordQuizWidgetHandler.ts\nvar WordQuizWidgetHandler_WordQuizWidgetHandler=/*#__PURE__*/function(_RoomWidgetHandler){Object(inherits[\"a\" /* default */])(WordQuizWidgetHandler,_RoomWidgetHandler);var _super=Object(createSuper[\"a\" /* default */])(WordQuizWidgetHandler);function WordQuizWidgetHandler(){Object(classCallCheck[\"a\" /* default */])(this,WordQuizWidgetHandler);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(WordQuizWidgetHandler,[{key:\"processEvent\",value:function processEvent(event){var roomQuizEvent=event;var widgetEvent;switch(event.type){case nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].ANSWERED:var roomId=this.container.roomSession.roomId;var userData=this.container.roomSession.userDataManager.getUserData(roomQuizEvent.userId);if(!userData)return;widgetEvent=new RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent(RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.QUESTION_ANSWERED,roomQuizEvent.id);widgetEvent.value=roomQuizEvent.value;widgetEvent.userId=roomQuizEvent.userId;widgetEvent.answerCounts=roomQuizEvent.answerCounts;if(widgetEvent.value==='0'){GetRoomEngine().updateRoomObjectUserGesture(roomId,userData.roomIndex,nitro_renderer[\"k\" /* AvatarAction */].getGestureId(nitro_renderer[\"k\" /* AvatarAction */].GESTURE_SAD));}else{GetRoomEngine().updateRoomObjectUserGesture(roomId,userData.roomIndex,nitro_renderer[\"k\" /* AvatarAction */].getGestureId(nitro_renderer[\"k\" /* AvatarAction */].GESTURE_SMILE));}break;case nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].FINISHED:widgetEvent=new RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent(RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.QUESTION_FINISHED,roomQuizEvent.id);widgetEvent.pollId=roomQuizEvent.pollId;widgetEvent.questionId=roomQuizEvent.questionId;widgetEvent.answerCounts=roomQuizEvent.answerCounts;break;case nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].QUESTION:widgetEvent=new RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent(RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.NEW_QUESTION,roomQuizEvent.id);widgetEvent.question=roomQuizEvent.question;widgetEvent.duration=roomQuizEvent.duration;widgetEvent.pollType=roomQuizEvent.pollType;widgetEvent.questionId=roomQuizEvent.questionId;widgetEvent.pollId=roomQuizEvent.pollId;break;}if(!widgetEvent)return;this.container.eventDispatcher.dispatchEvent(widgetEvent);}},{key:\"processWidgetMessage\",value:function processWidgetMessage(message){return null;}},{key:\"type\",get:function get(){return nitro_renderer[\"sh\" /* RoomWidgetEnum */].WORD_QUIZZ;}},{key:\"eventTypes\",get:function get(){return[nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].ANSWERED,nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].FINISHED,nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].QUESTION];}},{key:\"messageTypes\",get:function get(){return[];}}]);return WordQuizWidgetHandler;}(RoomWidgetHandler_RoomWidgetHandler);\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/handlers/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/widgets/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/room/index.ts\n\n// CONCATENATED MODULE: ./src/api/nitro/SendMessageComposer.ts\nvar SendMessageComposer_SendMessageComposer=function SendMessageComposer(event){return GetConnection().send(event);};\n// CONCATENATED MODULE: ./src/api/nitro/SendWorkerEvent.ts\nvar SendWorkerEvent_SendWorkerEvent=function SendWorkerEvent(message){GetNitroInstance().sendWorkerEvent(message);};\n// CONCATENATED MODULE: ./src/api/nitro/index.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/CatalogUtilities.ts\nvar GetPixelEffectIcon=function GetPixelEffectIcon(id){return'';};var GetSubscriptionProductIcon=function GetSubscriptionProductIcon(id){return'';};var CatalogUtilities_GetOfferNodes=function GetOfferNodes(offerNodes,offerId){var nodes=offerNodes.get(offerId);var allowedNodes=[];if(nodes&&nodes.length){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(nodes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;if(!node.isVisible)continue;allowedNodes.push(node);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return allowedNodes;};var CatalogUtilities_FilterCatalogNode=function FilterCatalogNode(search,furniLines,node,nodes){if(node.isVisible&&node.pageId>0){var nodeAdded=false;var hayStack=[node.pageName,node.localization].join(' ').toLowerCase().replace(/ /gi,'');if(hayStack.indexOf(search)>-1){nodes.push(node);nodeAdded=true;}if(!nodeAdded){var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(furniLines),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var furniLine=_step2.value;if(hayStack.indexOf(furniLine)>=0){nodes.push(node);break;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(node.children),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var child=_step3.value;FilterCatalogNode(search,furniLines,child,nodes);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}};function GetPetIndexFromLocalization(localization){if(!localization.length)return 0;var index=localization.length-1;while(index>=0){if(isNaN(parseInt(localization.charAt(index))))break;index--;}if(index>0)return parseInt(localization.substring(index+1));return-1;}function GetPetAvailableColors(petIndex,palettes){switch(petIndex){case 0:return[[16743226],[16750435],[16764339],[0xF59500],[16498012],[16704690],[0xEDD400],[16115545],[16513201],[8694111],[11585939],[14413767],[6664599],[9553845],[12971486],[8358322],[10002885],[13292268],[10780600],[12623573],[14403561],[12418717],[14327229],[15517403],[14515069],[15764368],[16366271],[0xABABAB],[0xD4D4D4],[0xFFFFFF],[14256481],[14656129],[15848130],[14005087],[14337152],[15918540],[15118118],[15531929],[9764857],[11258085]];case 1:return[[16743226],[16750435],[16764339],[0xF59500],[16498012],[16704690],[0xEDD400],[16115545],[16513201],[8694111],[11585939],[14413767],[6664599],[9553845],[12971486],[8358322],[10002885],[13292268],[10780600],[12623573],[14403561],[12418717],[14327229],[15517403],[14515069],[15764368],[16366271],[0xABABAB],[0xD4D4D4],[0xFFFFFF],[14256481],[14656129],[15848130],[14005087],[14337152],[15918540],[15118118],[15531929],[9764857],[11258085]];case 2:return[[16579283],[15378351],[8830016],[15257125],[9340985],[8949607],[6198292],[8703620],[9889626],[8972045],[12161285],[13162269],[8620113],[12616503],[8628101],[0xD2FF00],[9764857]];case 3:return[[0xFFFFFF],[0xEEEEEE],[0xDDDDDD]];case 4:return[[0xFFFFFF],[16053490],[15464440],[16248792],[15396319],[15007487]];case 5:return[[0xFFFFFF],[0xEEEEEE],[0xDDDDDD]];case 6:return[[0xFFFFFF],[0xEEEEEE],[0xDDDDDD],[16767177],[16770205],[16751331]];case 7:return[[0xCCCCCC],[0xAEAEAE],[16751331],[10149119],[16763290],[16743786]];default:{var colors=[];var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(palettes),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var palette=_step4.value;var petColorResult=GetRoomEngine().getPetColorResult(petIndex,palette.paletteId);if(!petColorResult)continue;if(petColorResult.primaryColor===petColorResult.secondaryColor){colors.push([petColorResult.primaryColor]);}else{colors.push([petColorResult.primaryColor,petColorResult.secondaryColor]);}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return colors;}}}\n// CONCATENATED MODULE: ./src/api/catalog/ProductTypeEnum.ts\nvar ProductTypeEnum_ProductTypeEnum=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function ProductTypeEnum(){Object(classCallCheck[\"a\" /* default */])(this,ProductTypeEnum);});ProductTypeEnum_ProductTypeEnum.WALL='i';ProductTypeEnum_ProductTypeEnum.FLOOR='s';ProductTypeEnum_ProductTypeEnum.EFFECT='e';ProductTypeEnum_ProductTypeEnum.HABBO_CLUB='h';ProductTypeEnum_ProductTypeEnum.BADGE='b';ProductTypeEnum_ProductTypeEnum.GAME_TOKEN='GAME_TOKEN';ProductTypeEnum_ProductTypeEnum.PET='p';ProductTypeEnum_ProductTypeEnum.ROBOT='r';\n// CONCATENATED MODULE: ./src/api/catalog/Product.ts\nvar Product_Product=/*#__PURE__*/function(){function Product(productType,productClassId,extraParam,productCount,productData,furnitureData){var isUniqueLimitedItem=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;var uniqueLimitedItemSeriesSize=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var uniqueLimitedItemsLeft=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;Object(classCallCheck[\"a\" /* default */])(this,Product);this._productType=void 0;this._productClassId=void 0;this._extraParam=void 0;this._productCount=void 0;this._productData=void 0;this._furnitureData=void 0;this._isUniqueLimitedItem=void 0;this._uniqueLimitedItemSeriesSize=void 0;this._uniqueLimitedItemsLeft=void 0;this._productType=productType.toLowerCase();this._productClassId=productClassId;this._extraParam=extraParam;this._productCount=productCount;this._productData=productData;this._furnitureData=furnitureData;this._isUniqueLimitedItem=isUniqueLimitedItem;this._uniqueLimitedItemSeriesSize=uniqueLimitedItemSeriesSize;this._uniqueLimitedItemsLeft=uniqueLimitedItemsLeft;}Object(createClass[\"a\" /* default */])(Product,[{key:\"getIconUrl\",value:function getIconUrl(){var offer=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var stuffData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(this._productType){case ProductTypeEnum_ProductTypeEnum.FLOOR:return GetRoomEngine().getFurnitureFloorIconUrl(this.productClassId);case ProductTypeEnum_ProductTypeEnum.WALL:{if(offer&&this._furnitureData){var iconName='';switch(this._furnitureData.className){case'floor':iconName=['th',this._furnitureData.className,offer.product.extraParam].join('_');break;case'wallpaper':iconName=['th','wall',offer.product.extraParam].join('_');break;case'landscape':iconName=['th',this._furnitureData.className,(offer.product.extraParam||'').replace('.','_'),'001'].join('_');break;}if(iconName!==''){var assetUrl=GetConfiguration('catalog.asset.url');return\"\".concat(assetUrl,\"/\").concat(iconName,\".png\");}}return GetRoomEngine().getFurnitureWallIconUrl(this.productClassId,this._extraParam);}case ProductTypeEnum_ProductTypeEnum.EFFECT:return GetPixelEffectIcon(this.productClassId);case ProductTypeEnum_ProductTypeEnum.HABBO_CLUB:return GetSubscriptionProductIcon(this.productClassId);case ProductTypeEnum_ProductTypeEnum.BADGE:return GetSessionDataManager().getBadgeUrl(this._extraParam);case ProductTypeEnum_ProductTypeEnum.ROBOT:return null;}return null;}},{key:\"productType\",get:function get(){return this._productType;}},{key:\"productClassId\",get:function get(){return this._productClassId;}},{key:\"extraParam\",get:function get(){return this._extraParam;},set:function set(extraParam){this._extraParam=extraParam;}},{key:\"productCount\",get:function get(){return this._productCount;}},{key:\"productData\",get:function get(){return this._productData;}},{key:\"furnitureData\",get:function get(){return this._furnitureData;}},{key:\"isUniqueLimitedItem\",get:function get(){return this._isUniqueLimitedItem;}},{key:\"uniqueLimitedItemSeriesSize\",get:function get(){return this._uniqueLimitedItemSeriesSize;}},{key:\"uniqueLimitedItemsLeft\",get:function get(){return this._uniqueLimitedItemsLeft;},set:function set(uniqueLimitedItemsLeft){this._uniqueLimitedItemsLeft=uniqueLimitedItemsLeft;}}],[{key:\"stripAddonProducts\",value:function stripAddonProducts(products){if(products.length===1)return products;return products.filter(function(product){return product.productType!==ProductTypeEnum_ProductTypeEnum.BADGE&&product.productType!==ProductTypeEnum_ProductTypeEnum.EFFECT&&product.productClassId!==Product.EFFECT_CLASSID_NINJA_DISAPPEAR;});}}]);return Product;}();Product_Product.EFFECT_CLASSID_NINJA_DISAPPEAR=108;\n// CONCATENATED MODULE: ./src/api/catalog/Offer.ts\nvar Offer_Offer=/*#__PURE__*/function(){function Offer(offerId,localizationId,isRentOffer,priceInCredits,priceInActivityPoints,activityPointType,giftable,clubLevel,products,bundlePurchaseAllowed){Object(classCallCheck[\"a\" /* default */])(this,Offer);this._pricingModel=void 0;this._priceType=void 0;this._offerId=void 0;this._localizationId=void 0;this._priceInCredits=void 0;this._priceInActivityPoints=void 0;this._activityPointType=void 0;this._giftable=void 0;this._isRentOffer=void 0;this._page=void 0;this._clubLevel=0;this._products=void 0;this._badgeCode=void 0;this._bundlePurchaseAllowed=false;this._offerId=offerId;this._localizationId=localizationId;this._isRentOffer=isRentOffer;this._priceInCredits=priceInCredits;this._priceInActivityPoints=priceInActivityPoints;this._activityPointType=activityPointType;this._giftable=giftable;this._clubLevel=clubLevel;this._products=products;this._bundlePurchaseAllowed=bundlePurchaseAllowed;this.setPricingModelForProducts();this.setPricingType();var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(products),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var product=_step.value;if(product.productType===ProductTypeEnum_ProductTypeEnum.BADGE){this._badgeCode=product.extraParam;break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}Object(createClass[\"a\" /* default */])(Offer,[{key:\"activate\",value:function activate(){}},{key:\"clubLevel\",get:function get(){return this._clubLevel;}},{key:\"page\",get:function get(){return this._page;},set:function set(k){this._page=k;}},{key:\"offerId\",get:function get(){return this._offerId;}},{key:\"localizationId\",get:function get(){return this._localizationId;}},{key:\"priceInCredits\",get:function get(){return this._priceInCredits;}},{key:\"priceInActivityPoints\",get:function get(){return this._priceInActivityPoints;}},{key:\"activityPointType\",get:function get(){return this._activityPointType;}},{key:\"giftable\",get:function get(){return this._giftable;}},{key:\"product\",get:function get(){if(!this._products||!this._products.length)return null;if(this._products.length===1)return this._products[0];var products=Product_Product.stripAddonProducts(this._products);if(products.length)return products[0];return null;}},{key:\"pricingModel\",get:function get(){return this._pricingModel;}},{key:\"priceType\",get:function get(){return this._priceType;}},{key:\"bundlePurchaseAllowed\",get:function get(){return this._bundlePurchaseAllowed;}},{key:\"isRentOffer\",get:function get(){return this._isRentOffer;}},{key:\"badgeCode\",get:function get(){return this._badgeCode;}},{key:\"localizationName\",get:function get(){var productData=GetProductDataForLocalization(this._localizationId);if(productData)return productData.name;return LocalizeText(this._localizationId);}},{key:\"localizationDescription\",get:function get(){var productData=GetProductDataForLocalization(this._localizationId);if(productData)return productData.description;return LocalizeText(this._localizationId);}},{key:\"isLazy\",get:function get(){return false;}},{key:\"products\",get:function get(){return this._products;}},{key:\"setPricingModelForProducts\",value:function setPricingModelForProducts(){var products=Product_Product.stripAddonProducts(this._products);if(products.length===1){if(products[0].productCount===1){this._pricingModel=Offer.PRICING_MODEL_SINGLE;}else{this._pricingModel=Offer.PRICING_MODEL_MULTI;}}else if(products.length>1){this._pricingModel=Offer.PRICING_MODEL_BUNDLE;}else{this._pricingModel=Offer.PRICING_MODEL_UNKNOWN;}}},{key:\"setPricingType\",value:function setPricingType(){if(this._priceInCredits>0&&this._priceInActivityPoints>0){this._priceType=Offer.PRICE_TYPE_CREDITS_ACTIVITYPOINTS;}else if(this._priceInCredits>0){this._priceType=Offer.PRICE_TYPE_CREDITS;}else if(this._priceInActivityPoints>0){this._priceType=Offer.PRICE_TYPE_ACTIVITYPOINTS;}else{this._priceType=Offer.PRICE_TYPE_NONE;}}},{key:\"clone\",value:function clone(){var products=[];var productData=GetProductDataForLocalization(this.localizationId);var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(this._products),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var product=_step2.value;var furnitureData=GetFurnitureData(product.productClassId,product.productType);products.push(new Product_Product(product.productType,product.productClassId,product.extraParam,product.productCount,productData,furnitureData));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var offer=new Offer(this.offerId,this.localizationId,this.isRentOffer,this.priceInCredits,this.priceInActivityPoints,this.activityPointType,this.giftable,this.clubLevel,products,this.bundlePurchaseAllowed);offer.page=this.page;return offer;}}]);return Offer;}();Offer_Offer.PRICING_MODEL_UNKNOWN='pricing_model_unknown';Offer_Offer.PRICING_MODEL_SINGLE='pricing_model_single';Offer_Offer.PRICING_MODEL_MULTI='pricing_model_multi';Offer_Offer.PRICING_MODEL_BUNDLE='pricing_model_bundle';Offer_Offer.PRICING_MODEL_FURNITURE='pricing_model_furniture';Offer_Offer.PRICE_TYPE_NONE='price_type_none';Offer_Offer.PRICE_TYPE_CREDITS='price_type_credits';Offer_Offer.PRICE_TYPE_ACTIVITYPOINTS='price_type_activitypoints';Offer_Offer.PRICE_TYPE_CREDITS_ACTIVITYPOINTS='price_type_credits_and_activitypoints';\n// CONCATENATED MODULE: ./src/api/catalog/FurnitureOffer.ts\nvar FurnitureOffer_FurnitureOffer=/*#__PURE__*/function(){function FurnitureOffer(furniData){Object(classCallCheck[\"a\" /* default */])(this,FurnitureOffer);this._furniData=void 0;this._page=void 0;this._product=void 0;this._furniData=furniData;this._product=new Product_Product(this._furniData.type,this._furniData.id,this._furniData.customParams,1,GetProductDataForLocalization(this._furniData.className),this._furniData);}Object(createClass[\"a\" /* default */])(FurnitureOffer,[{key:\"activate\",value:function activate(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"rc\" /* GetProductOfferComposer */](this._furniData.rentOfferId>-1?this._furniData.rentOfferId:this._furniData.purchaseOfferId));}},{key:\"offerId\",get:function get(){return this.isRentOffer?this._furniData.rentOfferId:this._furniData.purchaseOfferId;}},{key:\"priceInActivityPoints\",get:function get(){return 0;}},{key:\"activityPointType\",get:function get(){return 0;}},{key:\"priceInCredits\",get:function get(){return 0;}},{key:\"page\",get:function get(){return this._page;},set:function set(page){this._page=page;}},{key:\"priceType\",get:function get(){return'';}},{key:\"product\",get:function get(){return this._product;}},{key:\"products\",get:function get(){return[this._product];}},{key:\"localizationId\",get:function get(){return'roomItem.name.'+this._furniData.id;}},{key:\"bundlePurchaseAllowed\",get:function get(){return false;}},{key:\"isRentOffer\",get:function get(){return this._furniData.rentOfferId>-1;}},{key:\"giftable\",get:function get(){return false;}},{key:\"pricingModel\",get:function get(){return Offer_Offer.PRICING_MODEL_FURNITURE;}},{key:\"clubLevel\",get:function get(){return 0;}},{key:\"badgeCode\",get:function get(){return'';}},{key:\"localizationName\",get:function get(){return this._furniData.name;}},{key:\"localizationDescription\",get:function get(){return this._furniData.description;}},{key:\"isLazy\",get:function get(){return true;}}]);return FurnitureOffer;}();\n// CONCATENATED MODULE: ./src/api/catalog/GiftWrappingConfiguration.ts\nvar GiftWrappingConfiguration_GiftWrappingConfiguration=/*#__PURE__*/function(){function GiftWrappingConfiguration(parser){Object(classCallCheck[\"a\" /* default */])(this,GiftWrappingConfiguration);this._isEnabled=false;this._price=null;this._stuffTypes=null;this._boxTypes=null;this._ribbonTypes=null;this._defaultStuffTypes=null;this._isEnabled=parser.isEnabled;this._price=parser.price;this._boxTypes=parser.boxTypes;this._ribbonTypes=parser.ribbonTypes;this._stuffTypes=parser.giftWrappers;this._defaultStuffTypes=parser.giftFurnis;}Object(createClass[\"a\" /* default */])(GiftWrappingConfiguration,[{key:\"isEnabled\",get:function get(){return this._isEnabled;}},{key:\"price\",get:function get(){return this._price;}},{key:\"stuffTypes\",get:function get(){return this._stuffTypes;}},{key:\"boxTypes\",get:function get(){return this._boxTypes;}},{key:\"ribbonTypes\",get:function get(){return this._ribbonTypes;}},{key:\"defaultStuffTypes\",get:function get(){return this._defaultStuffTypes;}}]);return GiftWrappingConfiguration;}();\n// CONCATENATED MODULE: ./src/api/catalog/ICatalogNode.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/ICatalogOptions.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/ICatalogPage.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IPageLocalization.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IProduct.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IPurchasableOffer.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/IPurchaseOptions.ts\n\n// CONCATENATED MODULE: ./src/api/catalog/PageLocalization.ts\nvar PageLocalization_PageLocalization=/*#__PURE__*/function(){function PageLocalization(images,texts){Object(classCallCheck[\"a\" /* default */])(this,PageLocalization);this._images=void 0;this._texts=void 0;this._images=images;this._texts=texts;}Object(createClass[\"a\" /* default */])(PageLocalization,[{key:\"getText\",value:function getText(index){var message=this._texts[index]||'';if(message&&message.length)message=message.replace(/\\r\\n|\\r|\\n/g,'<br />');return message;}},{key:\"getImage\",value:function getImage(index){var imageName=this._images[index]||'';if(!imageName||!imageName.length)return null;var assetUrl=GetConfiguration('catalog.asset.image.url');assetUrl=assetUrl.replace('%name%',imageName);return assetUrl;}}]);return PageLocalization;}();\n// CONCATENATED MODULE: ./src/api/catalog/PlacedObjectPurchaseData.ts\nvar PlacedObjectPurchaseData_PlacedObjectPurchaseData=/*#__PURE__*/function(){function PlacedObjectPurchaseData(roomId,objectId,category,wallLocation,x,y,direction,offer){Object(classCallCheck[\"a\" /* default */])(this,PlacedObjectPurchaseData);this.roomId=roomId;this.objectId=objectId;this.category=category;this.wallLocation=wallLocation;this.x=x;this.y=y;this.direction=direction;this.offer=offer;}Object(createClass[\"a\" /* default */])(PlacedObjectPurchaseData,[{key:\"offerId\",get:function get(){return this.offer.offerId;}},{key:\"productClassId\",get:function get(){return this.offer.product.productClassId;}},{key:\"productData\",get:function get(){return this.offer.product.productData;}},{key:\"furniData\",get:function get(){return this.offer.product.furnitureData;}},{key:\"extraParam\",get:function get(){return this.offer.product.extraParam;}}]);return PlacedObjectPurchaseData;}();\n// CONCATENATED MODULE: ./src/api/catalog/RequestedPage.ts\nvar RequestedPage_RequestedPage=/*#__PURE__*/function(){function RequestedPage(){Object(classCallCheck[\"a\" /* default */])(this,RequestedPage);this._requestType=void 0;this._requestById=void 0;this._requestedByOfferId=void 0;this._requestByName=void 0;this._requestType=RequestedPage.REQUEST_TYPE_NONE;}Object(createClass[\"a\" /* default */])(RequestedPage,[{key:\"resetRequest\",value:function resetRequest(){this._requestType=RequestedPage.REQUEST_TYPE_NONE;this._requestById=-1;this._requestedByOfferId=-1;this._requestByName=null;}},{key:\"requestType\",get:function get(){return this._requestType;}},{key:\"requestById\",get:function get(){return this._requestById;},set:function set(id){this._requestType=RequestedPage.REQUEST_TYPE_ID;this._requestById=id;}},{key:\"requestedByOfferId\",get:function get(){return this._requestedByOfferId;},set:function set(offerId){this._requestType=RequestedPage.REQUEST_TYPE_OFFER;this._requestedByOfferId=offerId;}},{key:\"requestByName\",get:function get(){return this._requestByName;},set:function set(name){this._requestType=RequestedPage.REQUEST_TYPE_NAME;this._requestByName=name;}}]);return RequestedPage;}();RequestedPage_RequestedPage.REQUEST_TYPE_NONE=0;RequestedPage_RequestedPage.REQUEST_TYPE_ID=1;RequestedPage_RequestedPage.REQUEST_TYPE_OFFER=2;RequestedPage_RequestedPage.REQUEST_TYPE_NAME=3;\n// CONCATENATED MODULE: ./src/api/catalog/SearchResult.ts\nvar SearchResult_SearchResult=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function SearchResult(searchValue,offers,filteredNodes){Object(classCallCheck[\"a\" /* default */])(this,SearchResult);this.searchValue=searchValue;this.offers=offers;this.filteredNodes=filteredNodes;});\n// CONCATENATED MODULE: ./src/api/catalog/index.ts\n\n// CONCATENATED MODULE: ./src/api/core/GetNitroCore.ts\nfunction GetNitroCore(){return GetNitroInstance().core;}\n// CONCATENATED MODULE: ./src/api/core/GetConfigurationManager.ts\nfunction GetConfigurationManager(){return GetNitroCore().configuration;}\n// CONCATENATED MODULE: ./src/api/core/index.ts\n\n// CONCATENATED MODULE: ./src/api/friends/GetGroupChatData.ts\nvar GetGroupChatData=function GetGroupChatData(extraData){if(!extraData||!extraData.length)return null;var splitData=extraData.split('/');var username=splitData[0];var figure=splitData[1];var userId=parseInt(splitData[2]);return{username:username,figure:figure,userId:userId};};\n// CONCATENATED MODULE: ./src/api/friends/GroupType.ts\nvar GroupType_GroupType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function GroupType(){Object(classCallCheck[\"a\" /* default */])(this,GroupType);});GroupType_GroupType.GROUP_CHAT=0;GroupType_GroupType.PRIVATE_CHAT=1;\n// CONCATENATED MODULE: ./src/api/friends/IGroupChatData.ts\n\n// CONCATENATED MODULE: ./src/api/friends/MessengerIconState.ts\nvar MessengerIconState_MessengerIconState=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function MessengerIconState(){Object(classCallCheck[\"a\" /* default */])(this,MessengerIconState);});MessengerIconState_MessengerIconState.HIDDEN=0;MessengerIconState_MessengerIconState.SHOW=1;MessengerIconState_MessengerIconState.UNREAD=2;\n// CONCATENATED MODULE: ./src/api/friends/MessengerRequest.ts\nvar MessengerRequest_MessengerRequest=/*#__PURE__*/function(){function MessengerRequest(){Object(classCallCheck[\"a\" /* default */])(this,MessengerRequest);this._id=void 0;this._name=void 0;this._requesterUserId=void 0;this._figureString=void 0;}Object(createClass[\"a\" /* default */])(MessengerRequest,[{key:\"populate\",value:function populate(data){if(!data)return false;this._id=data.requestId;this._name=data.requesterName;this._figureString=data.figureString;this._requesterUserId=data.requesterUserId;return true;}},{key:\"id\",get:function get(){return this._id;}},{key:\"name\",get:function get(){return this._name;}},{key:\"requesterUserId\",get:function get(){return this._requesterUserId;}},{key:\"figureString\",get:function get(){return this._figureString;}}]);return MessengerRequest;}();\n// CONCATENATED MODULE: ./src/api/friends/MessengerSettings.ts\nvar MessengerSettings_MessengerSettings=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function MessengerSettings(){var userFriendLimit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var normalFriendLimit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var extendedFriendLimit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var categories=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];Object(classCallCheck[\"a\" /* default */])(this,MessengerSettings);this.userFriendLimit=userFriendLimit;this.normalFriendLimit=normalFriendLimit;this.extendedFriendLimit=extendedFriendLimit;this.categories=categories;});\n// CONCATENATED MODULE: ./src/api/friends/MessengerThreadChat.ts\nvar MessengerThreadChat_MessengerThreadChat=/*#__PURE__*/function(){function MessengerThreadChat(senderId,message){var secondsSinceSent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var extraData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var type=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;Object(classCallCheck[\"a\" /* default */])(this,MessengerThreadChat);this._type=void 0;this._senderId=void 0;this._message=void 0;this._secondsSinceSent=void 0;this._extraData=void 0;this._date=void 0;this._type=type;this._senderId=senderId;this._message=message;this._secondsSinceSent=secondsSinceSent;this._extraData=extraData;this._date=new Date();}Object(createClass[\"a\" /* default */])(MessengerThreadChat,[{key:\"type\",get:function get(){return this._type;}},{key:\"senderId\",get:function get(){return this._senderId;}},{key:\"message\",get:function get(){return this._message;}},{key:\"secondsSinceSent\",get:function get(){return this._secondsSinceSent;}},{key:\"extraData\",get:function get(){return this._extraData;}},{key:\"date\",get:function get(){return this._date;}}]);return MessengerThreadChat;}();MessengerThreadChat_MessengerThreadChat.CHAT=0;MessengerThreadChat_MessengerThreadChat.ROOM_INVITE=1;MessengerThreadChat_MessengerThreadChat.STATUS_NOTIFICATION=2;MessengerThreadChat_MessengerThreadChat.SECURITY_NOTIFICATION=3;\n// CONCATENATED MODULE: ./src/api/friends/MessengerThreadChatGroup.ts\nvar MessengerThreadChatGroup_MessengerThreadChatGroup=/*#__PURE__*/function(){function MessengerThreadChatGroup(userId){var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:GroupType_GroupType.PRIVATE_CHAT;Object(classCallCheck[\"a\" /* default */])(this,MessengerThreadChatGroup);this._userId=void 0;this._chats=void 0;this._type=void 0;this._userId=userId;this._chats=[];this._type=type;}Object(createClass[\"a\" /* default */])(MessengerThreadChatGroup,[{key:\"addChat\",value:function addChat(message){this._chats.push(message);}},{key:\"userId\",get:function get(){return this._userId;}},{key:\"chats\",get:function get(){return this._chats;}},{key:\"type\",get:function get(){return this._type;},set:function set(type){this._type=type;}}]);return MessengerThreadChatGroup;}();\n// CONCATENATED MODULE: ./src/api/friends/MessengerThread.ts\nvar MessengerThread_MessengerThread=/*#__PURE__*/function(){function MessengerThread(participant){var isNew=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;Object(classCallCheck[\"a\" /* default */])(this,MessengerThread);this._threadId=void 0;this._participant=void 0;this._groups=void 0;this._lastUpdated=void 0;this._unreadCount=void 0;this._threadId=++MessengerThread.THREAD_ID;this._participant=participant;this._groups=[];this._lastUpdated=new Date();this._unreadCount=0;if(isNew){this.addMessage(null,LocalizeText('messenger.moderationinfo'),0,null,MessengerThreadChat_MessengerThreadChat.SECURITY_NOTIFICATION);this._unreadCount=0;}}Object(createClass[\"a\" /* default */])(MessengerThread,[{key:\"addMessage\",value:function addMessage(senderId,message){var secondsSinceSent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var extraData=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var type=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var isGroupChat=senderId<0&&extraData;var userId=isGroupChat?GetGroupChatData(extraData).userId:senderId;var group=this.getLastGroup(userId);if(!group)return;if(isGroupChat)group.type=GroupType_GroupType.GROUP_CHAT;var chat=new MessengerThreadChat_MessengerThreadChat(senderId,message,secondsSinceSent,extraData,type);group.addChat(chat);this._lastUpdated=new Date();this._unreadCount++;return chat;}},{key:\"getLastGroup\",value:function getLastGroup(userId){var group=this._groups[this._groups.length-1];if(group&&group.userId===userId)return group;group=new MessengerThreadChatGroup_MessengerThreadChatGroup(userId);this._groups.push(group);return group;}},{key:\"setRead\",value:function setRead(){this._unreadCount=0;}},{key:\"threadId\",get:function get(){return this._threadId;}},{key:\"participant\",get:function get(){return this._participant;}},{key:\"groups\",get:function get(){return this._groups;}},{key:\"lastUpdated\",get:function get(){return this._lastUpdated;}},{key:\"unreadCount\",get:function get(){return this._unreadCount;}},{key:\"unread\",get:function get(){return this._unreadCount>0;}}]);return MessengerThread;}();MessengerThread_MessengerThread.MESSAGE_RECEIVED='MT_MESSAGE_RECEIVED';MessengerThread_MessengerThread.THREAD_ID=0;\n// CONCATENATED MODULE: ./src/api/friends/OpenMessengerChat.ts\nfunction OpenMessengerChat(){var friendId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(friendId===0)CreateLinkEvent('friends-messenger/open');else CreateLinkEvent(\"friends-messenger/\".concat(friendId));}\n// CONCATENATED MODULE: ./src/api/friends/index.ts\n\n// CONCATENATED MODULE: ./src/api/GetRendererVersion.ts\nvar GetRendererVersion_GetRendererVersion=function GetRendererVersion(){return nitro_renderer[\"Ze\" /* NitroVersion */].RENDERER_VERSION;};\n// CONCATENATED MODULE: ./src/api/GetUIVersion.ts\nvar GetUIVersion=function GetUIVersion(){return'2.0.0';};\n// CONCATENATED MODULE: ./src/api/groups/GetGroupInformation.ts\nfunction GetGroupInformation(groupId){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Oc\" /* GroupInformationComposer */](groupId,true));}\n// CONCATENATED MODULE: ./src/api/groups/GetGroupManager.ts\nfunction GetGroupManager(groupId){CreateLinkEvent(\"groups/manage/\".concat(groupId));}\n// CONCATENATED MODULE: ./src/api/groups/GetGroupMembers.ts\nfunction GetGroupMembers(groupId,levelId){if(!levelId)CreateLinkEvent(\"group-members/\".concat(groupId));else CreateLinkEvent(\"group-members/\".concat(groupId,\"/\").concat(levelId));}\n// CONCATENATED MODULE: ./src/api/groups/ToggleFavoriteGroup.ts\nvar ToggleFavoriteGroup_ToggleFavoriteGroup=function ToggleFavoriteGroup(group){SendMessageComposer_SendMessageComposer(group.favourite?new nitro_renderer[\"ed\" /* GroupUnfavoriteComposer */](group.groupId):new nitro_renderer[\"Mc\" /* GroupFavoriteComposer */](group.groupId));};\n// CONCATENATED MODULE: ./src/api/groups/TryJoinGroup.ts\nvar TryJoinGroup_TryJoinGroup=function TryJoinGroup(groupId){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Qc\" /* GroupJoinComposer */](groupId));};\n// CONCATENATED MODULE: ./src/api/groups/index.ts\n\n// CONCATENATED MODULE: ./src/api/hc-center/ClubStatus.ts\nvar ClubStatus_ClubStatus=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function ClubStatus(){Object(classCallCheck[\"a\" /* default */])(this,ClubStatus);});ClubStatus_ClubStatus.ACTIVE='active';ClubStatus_ClubStatus.NONE='none';ClubStatus_ClubStatus.EXPIRED='expired';\n// CONCATENATED MODULE: ./src/api/hc-center/GetClubBadge.ts\nvar DEFAULT_BADGE='HC1';var BADGES=['ACH_VipHC1','ACH_VipHC2','ACH_VipHC3','ACH_VipHC4','ACH_VipHC5','HC1','HC2','HC3','HC4','HC5'];var GetClubBadge=function GetClubBadge(badgeCodes){var badgeCode=null;BADGES.forEach(function(badge){return badgeCodes.indexOf(badge)>-1&&(badgeCode=badge);});return badgeCode||DEFAULT_BADGE;};\n// CONCATENATED MODULE: ./src/api/hc-center/index.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/DoorStateType.ts\nvar DoorStateType_DoorStateType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function DoorStateType(){Object(classCallCheck[\"a\" /* default */])(this,DoorStateType);});DoorStateType_DoorStateType.NONE=0;DoorStateType_DoorStateType.START_DOORBELL=1;DoorStateType_DoorStateType.START_PASSWORD=2;DoorStateType_DoorStateType.STATE_PENDING_SERVER=3;DoorStateType_DoorStateType.UPDATE_STATE=4;DoorStateType_DoorStateType.STATE_WAITING=5;DoorStateType_DoorStateType.STATE_NO_ANSWER=6;DoorStateType_DoorStateType.STATE_WRONG_PASSWORD=7;DoorStateType_DoorStateType.STATE_ACCEPTED=8;\n// CONCATENATED MODULE: ./src/api/navigator/INavigatorData.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/INavigatorSearchFilter.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/IRoomChatSettings.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/IRoomData.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/IRoomModel.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/IRoomModerationSettings.ts\n\n// CONCATENATED MODULE: ./src/api/navigator/NavigatorSearchResultViewDisplayMode.ts\nvar NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function NavigatorSearchResultViewDisplayMode(){Object(classCallCheck[\"a\" /* default */])(this,NavigatorSearchResultViewDisplayMode);});NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.LIST=0;NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.THUMBNAILS=1;NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.FORCED_THUMBNAILS=2;\n// CONCATENATED MODULE: ./src/api/navigator/RoomInfoData.ts\nvar RoomInfoData_RoomInfoData=/*#__PURE__*/function(){function RoomInfoData(){Object(classCallCheck[\"a\" /* default */])(this,RoomInfoData);this._enteredGuestRoom=null;this._createdRoomId=0;this._currentRoomId=0;this._currentRoomOwner=false;this._canRate=false;}Object(createClass[\"a\" /* default */])(RoomInfoData,[{key:\"enteredGuestRoom\",get:function get(){return this._enteredGuestRoom;},set:function set(data){this._enteredGuestRoom=data;}},{key:\"createdRoomId\",get:function get(){return this._createdRoomId;},set:function set(id){this._createdRoomId=id;}},{key:\"currentRoomId\",get:function get(){return this._currentRoomId;},set:function set(id){this._currentRoomId=id;}},{key:\"currentRoomOwner\",get:function get(){return this._currentRoomOwner;},set:function set(flag){this._currentRoomOwner=flag;}},{key:\"canRate\",get:function get(){return this._canRate;},set:function set(flag){this._canRate=flag;}}]);return RoomInfoData;}();\n// CONCATENATED MODULE: ./src/api/navigator/RoomSettingsData.ts\nvar RoomSettingsData_RoomSettingsData=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function RoomSettingsData(parser){Object(classCallCheck[\"a\" /* default */])(this,RoomSettingsData);this.roomId=void 0;this.roomName=void 0;this.roomOriginalName=void 0;this.roomDescription=void 0;this.categoryId=void 0;this.userCount=void 0;this.tags=void 0;this.tradeState=void 0;this.allowWalkthrough=void 0;this.lockState=void 0;this.originalLockState=void 0;this.password=void 0;this.confirmPassword=void 0;this.allowPets=void 0;this.allowPetsEat=void 0;this.usersWithRights=void 0;this.hideWalls=void 0;this.wallThickness=void 0;this.floorThickness=void 0;this.chatBubbleMode=void 0;this.chatBubbleWeight=void 0;this.chatBubbleSpeed=void 0;this.chatFloodProtection=void 0;this.chatDistance=void 0;this.muteState=void 0;this.kickState=void 0;this.banState=void 0;this.bannedUsers=void 0;this.selectedUserToUnban=void 0;if(!parser)throw new Error('invalid_parser');this.roomId=parser.roomId;this.roomName=parser.name;this.roomOriginalName=parser.name;this.roomDescription=parser.description;this.categoryId=parser.categoryId;this.userCount=parser.userCount;this.tags=parser.tags;this.tradeState=parser.tradeMode;this.allowWalkthrough=parser.allowWalkthrough;this.lockState=parser.state;this.originalLockState=parser.state;this.password=null;this.confirmPassword=null;this.allowPets=parser.allowPets;this.allowPetsEat=parser.allowPetsEat;this.usersWithRights=new Map();this.hideWalls=parser.hideWalls;this.wallThickness=parser.thicknessWall;this.floorThickness=parser.thicknessFloor;this.chatBubbleMode=parser.chatSettings.mode;this.chatBubbleWeight=parser.chatSettings.weight;this.chatBubbleSpeed=parser.chatSettings.speed;this.chatFloodProtection=parser.chatSettings.protection;this.chatDistance=parser.chatSettings.distance;this.muteState=parser.moderationSettings.allowMute;this.kickState=parser.moderationSettings.allowKick;this.banState=parser.moderationSettings.allowBan;this.bannedUsers=[];});\n// CONCATENATED MODULE: ./src/api/navigator/RoomSettingsUtils.ts\nvar BuildMaxVisitorsList=function BuildMaxVisitorsList(){var list=[];for(var i=10;i<=100;i=i+10){list.push(i);}return list;};var GetMaxVisitorsList=BuildMaxVisitorsList();\n// CONCATENATED MODULE: ./src/api/navigator/SearchFilterOptions.ts\nvar SearchFilterOptions=[{name:'anything',query:null},{name:'room.name',query:'roomname'},{name:'owner',query:'owner'},{name:'tag',query:'tag'},{name:'group',query:'group'}];\n// CONCATENATED MODULE: ./src/api/navigator/TryVisitRoom.ts\nfunction TryVisitRoom(roomId){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"wg\" /* RoomInfoComposer */](roomId,false,true));}\n// CONCATENATED MODULE: ./src/api/navigator/index.ts\n\n// CONCATENATED MODULE: ./src/api/notification/NotificationAlertType.ts\nvar NotificationAlertType_NotificationAlertType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function NotificationAlertType(){Object(classCallCheck[\"a\" /* default */])(this,NotificationAlertType);});NotificationAlertType_NotificationAlertType.DEFAULT='default';NotificationAlertType_NotificationAlertType.MOTD='motd';NotificationAlertType_NotificationAlertType.MODERATION='moderation';NotificationAlertType_NotificationAlertType.EVENT='event';NotificationAlertType_NotificationAlertType.NITRO='nitro';NotificationAlertType_NotificationAlertType.SEARCH='search';NotificationAlertType_NotificationAlertType.ALERT='alert';\n// CONCATENATED MODULE: ./src/api/notification/NotificationAlertItem.ts\nvar NotificationAlertItem_NotificationAlertItem=/*#__PURE__*/function(){function NotificationAlertItem(messages){var alertType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:NotificationAlertType_NotificationAlertType.DEFAULT;var clickUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var clickUrlText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var title=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var imageUrl=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;Object(classCallCheck[\"a\" /* default */])(this,NotificationAlertItem);this._id=void 0;this._messages=void 0;this._alertType=void 0;this._clickUrl=void 0;this._clickUrlText=void 0;this._title=void 0;this._imageUrl=void 0;NotificationAlertItem.ITEM_ID+=1;this._id=NotificationAlertItem.ITEM_ID;this._messages=messages;this._alertType=alertType;this._clickUrl=clickUrl;this._clickUrlText=clickUrlText;this._title=title;this._imageUrl=imageUrl;}Object(createClass[\"a\" /* default */])(NotificationAlertItem,[{key:\"id\",get:function get(){return this._id;}},{key:\"messages\",get:function get(){return this._messages;}},{key:\"alertType\",get:function get(){return this._alertType;},set:function set(alertType){this._alertType=alertType;}},{key:\"clickUrl\",get:function get(){return this._clickUrl;}},{key:\"clickUrlText\",get:function get(){return this._clickUrlText;}},{key:\"title\",get:function get(){return this._title;}},{key:\"imageUrl\",get:function get(){return this._imageUrl;}}]);return NotificationAlertItem;}();NotificationAlertItem_NotificationAlertItem.ITEM_ID=-1;\n// CONCATENATED MODULE: ./src/api/notification/NotificationBubbleType.ts\nvar NotificationBubbleType_NotificationBubbleType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function NotificationBubbleType(){Object(classCallCheck[\"a\" /* default */])(this,NotificationBubbleType);});NotificationBubbleType_NotificationBubbleType.FRIENDOFFLINE='friendoffline';NotificationBubbleType_NotificationBubbleType.FRIENDONLINE='friendonline';NotificationBubbleType_NotificationBubbleType.THIRDPARTYFRIENDOFFLINE='thirdpartyfriendoffline';NotificationBubbleType_NotificationBubbleType.THIRDPARTYFRIENDONLINE='thirdpartyfriendonline';NotificationBubbleType_NotificationBubbleType.ACHIEVEMENT='achievement';NotificationBubbleType_NotificationBubbleType.BADGE_RECEIVED='badge_received';NotificationBubbleType_NotificationBubbleType.INFO='info';NotificationBubbleType_NotificationBubbleType.RECYCLEROK='recyclerok';NotificationBubbleType_NotificationBubbleType.RESPECT='respect';NotificationBubbleType_NotificationBubbleType.CLUB='club';NotificationBubbleType_NotificationBubbleType.SOUNDMACHINE='soundmachine';NotificationBubbleType_NotificationBubbleType.PETLEVEL='petlevel';NotificationBubbleType_NotificationBubbleType.CLUBGIFT='clubgift';NotificationBubbleType_NotificationBubbleType.BUYFURNI='buyfurni';NotificationBubbleType_NotificationBubbleType.VIP='vip';NotificationBubbleType_NotificationBubbleType.ROOMMESSAGESPOSTED='roommessagesposted';\n// CONCATENATED MODULE: ./src/api/notification/NotificationBubbleItem.ts\nvar NotificationBubbleItem_NotificationBubbleItem=/*#__PURE__*/function(){function NotificationBubbleItem(message){var notificationType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:NotificationBubbleType_NotificationBubbleType.INFO;var iconUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var linkUrl=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;Object(classCallCheck[\"a\" /* default */])(this,NotificationBubbleItem);this._id=void 0;this._message=void 0;this._notificationType=void 0;this._iconUrl=void 0;this._linkUrl=void 0;NotificationBubbleItem.ITEM_ID+=1;this._id=NotificationBubbleItem.ITEM_ID;this._message=message;this._notificationType=notificationType;this._iconUrl=iconUrl;this._linkUrl=linkUrl;}Object(createClass[\"a\" /* default */])(NotificationBubbleItem,[{key:\"id\",get:function get(){return this._id;}},{key:\"message\",get:function get(){return this._message;}},{key:\"notificationType\",get:function get(){return this._notificationType;}},{key:\"iconUrl\",get:function get(){return this._iconUrl;}},{key:\"linkUrl\",get:function get(){return this._linkUrl;}}]);return NotificationBubbleItem;}();NotificationBubbleItem_NotificationBubbleItem.ITEM_ID=-1;\n// CONCATENATED MODULE: ./src/api/notification/NotificationConfirmItem.ts\nvar NotificationConfirmItem_NotificationConfirmItem=/*#__PURE__*/function(){function NotificationConfirmItem(confirmType,message,onConfirm,onCancel,confirmText,cancelText,title){Object(classCallCheck[\"a\" /* default */])(this,NotificationConfirmItem);this._id=void 0;this._confirmType=void 0;this._message=void 0;this._onConfirm=void 0;this._onCancel=void 0;this._confirmText=void 0;this._cancelText=void 0;this._title=void 0;NotificationConfirmItem.ITEM_ID+=1;this._id=NotificationConfirmItem.ITEM_ID;this._confirmType=confirmType;this._message=message;this._onConfirm=onConfirm;this._onCancel=onCancel;this._confirmText=confirmText;this._cancelText=cancelText;this._title=title;}Object(createClass[\"a\" /* default */])(NotificationConfirmItem,[{key:\"id\",get:function get(){return this._id;}},{key:\"confirmType\",get:function get(){return this._confirmType;}},{key:\"message\",get:function get(){return this._message;}},{key:\"onConfirm\",get:function get(){return this._onConfirm;}},{key:\"onCancel\",get:function get(){return this._onCancel;}},{key:\"confirmText\",get:function get(){return this._confirmText;}},{key:\"cancelText\",get:function get(){return this._cancelText;}},{key:\"title\",get:function get(){return this._title;}}]);return NotificationConfirmItem;}();NotificationConfirmItem_NotificationConfirmItem.ITEM_ID=-1;\n// CONCATENATED MODULE: ./src/api/notification/NotificationConfirmType.ts\nvar NotificationConfirmType_NotificationConfirmType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function NotificationConfirmType(){Object(classCallCheck[\"a\" /* default */])(this,NotificationConfirmType);});NotificationConfirmType_NotificationConfirmType.DEFAULT='default';\n// CONCATENATED MODULE: ./src/api/notification/NotificationUtilities.ts\nvar NotificationUtilities_NotificationUtilities=/*#__PURE__*/function(){function NotificationUtilities(){Object(classCallCheck[\"a\" /* default */])(this,NotificationUtilities);}Object(createClass[\"a\" /* default */])(NotificationUtilities,null,[{key:\"cleanText\",value:function cleanText(text){return text.replace(/\\\\r/g,'\\r');}},{key:\"getTimeZeroPadded\",value:function getTimeZeroPadded(time){var text='0'+time;return text.substr(text.length-2,text.length);}},{key:\"getMainNotificationConfig\",value:function getMainNotificationConfig(){return GetConfiguration('notification',{});}},{key:\"getNotificationConfig\",value:function getNotificationConfig(key){var mainConfig=this.getMainNotificationConfig();if(!mainConfig)return null;return mainConfig[key];}},{key:\"getNotificationPart\",value:function getNotificationPart(options,type,key,localize){if(options.has(key))return options.get(key);var localizeKey=['notification',type,key].join('.');if(GetNitroInstance().localization.hasValue(localizeKey)||localize){return LocalizeText(localizeKey,Array.from(options.keys()),Array.from(options.values()));}return null;}},{key:\"getNotificationImageUrl\",value:function getNotificationImageUrl(options,type){var imageUrl=options.get('image');if(!imageUrl)imageUrl=GetConfiguration('image.library.notifications.url','').replace('%image%',type.replace(/\\./g,'_'));return LocalizeText(imageUrl);}},{key:\"showNotification\",value:function showNotification(type){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!options)options=new Map();var configuration=this.getNotificationConfig('notification.'+type);if(configuration)for(var _key in configuration){options.set(_key,configuration[_key]);}var title=this.getNotificationPart(options,type,'title',true);var message=this.getNotificationPart(options,type,'message',true).replace(/\\\\r/g,'\\r');var linkTitle=this.getNotificationPart(options,type,'linkTitle',false);var linkUrl=this.getNotificationPart(options,type,'linkUrl',false);var image=this.getNotificationImageUrl(options,type);if(options.get('display')==='BUBBLE'){this.showSingleBubble(LocalizeText(message),NotificationBubbleType_NotificationBubbleType.INFO,image,linkUrl);}else{this.simpleAlert(message,type,linkUrl,linkTitle,title,image);}if(options.get('sound'))PlaySound_PlaySound(options.get('sound'));}},{key:\"showSingleBubble\",value:function showSingleBubble(message,type){var imageUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var internalLink=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(this.BUBBLES_DISABLED)return;DispatchUiEvent_DispatchUiEvent(new NotificationBubbleEvent_NotificationBubbleEvent(message,type,imageUrl,internalLink));}},{key:\"showClubGiftNotification\",value:function showClubGiftNotification(numGifts){if(numGifts<=0)return;this.showSingleBubble(numGifts.toString(),NotificationBubbleType_NotificationBubbleType.CLUBGIFT,null,'catalog/open/'+GetConfiguration('catalog.links')['hc.hc_gifts']);}},{key:\"handleMOTD\",value:function handleMOTD(messages){var _this=this;messages=messages.map(function(message){return _this.cleanText(message);});DispatchUiEvent_DispatchUiEvent(new NotificationAlertEvent_NotificationAlertEvent(messages,NotificationAlertType_NotificationAlertType.MOTD,null,null,LocalizeText('notifications.motd.title')));}},{key:\"confirm\",value:function confirm(message,onConfirm,onCancel){var confirmText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var cancelText=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var title=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var type=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;if(!confirmText||!confirmText.length)confirmText=LocalizeText('generic.confirm');if(!cancelText||!cancelText.length)cancelText=LocalizeText('generic.cancel');if(!title||!title.length)title=LocalizeText('notifications.broadcast.title');DispatchUiEvent_DispatchUiEvent(new NotificationConfirmEvent_NotificationConfirmEvent(type,this.cleanText(message),onConfirm,onCancel,confirmText,cancelText,title));}},{key:\"simpleAlert\",value:function simpleAlert(message){var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var clickUrl=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var clickUrlText=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var title=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var imageUrl=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;if(!title||!title.length)title=LocalizeText('notifications.broadcast.title');if(!type||!type.length)type=NotificationAlertType_NotificationAlertType.DEFAULT;DispatchUiEvent_DispatchUiEvent(new NotificationAlertEvent_NotificationAlertEvent([this.cleanText(message)],type,clickUrl,clickUrlText,title,imageUrl));}},{key:\"showNitroAlert\",value:function showNitroAlert(){DispatchUiEvent_DispatchUiEvent(new NotificationAlertEvent_NotificationAlertEvent(null,NotificationAlertType_NotificationAlertType.NITRO));}},{key:\"showModeratorMessage\",value:function showModeratorMessage(message){var url=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var showHabboWay=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;this.simpleAlert(message,NotificationAlertType_NotificationAlertType.DEFAULT,url,LocalizeText('mod.alert.link'),LocalizeText('mod.alert.title'));}},{key:\"handleModeratorCaution\",value:function handleModeratorCaution(message){var url=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.showModeratorMessage(message,url);}},{key:\"handleModeratorMessage\",value:function handleModeratorMessage(message){var url=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.showModeratorMessage(message,url,false);}},{key:\"handleUserBannedMessage\",value:function handleUserBannedMessage(message){this.showModeratorMessage(message);}},{key:\"handleHotelClosedMessage\",value:function handleHotelClosedMessage(open,minute,thrownOut){this.simpleAlert(LocalizeText('opening.hours.'+(thrownOut?'disconnected':'closed'),['h','m'],[this.getTimeZeroPadded(open),this.getTimeZeroPadded(minute)]),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('opening.hours.title'));}},{key:\"handleHotelMaintenanceMessage\",value:function handleHotelMaintenanceMessage(minutesUntilMaintenance,duration){this.simpleAlert(LocalizeText('maintenance.shutdown',['m','d'],[minutesUntilMaintenance.toString(),duration.toString()]),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('opening.hours.title'));}},{key:\"handleHotelClosingMessage\",value:function handleHotelClosingMessage(minutes){this.simpleAlert(LocalizeText('opening.hours.shutdown',['m'],[minutes.toString()]),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('opening.hours.title'));}},{key:\"handleLoginFailedHotelClosedMessage\",value:function handleLoginFailedHotelClosedMessage(openHour,openMinutes){this.simpleAlert(LocalizeText('opening.hours.disconnected',['h','m'],[openHour.toString(),openMinutes.toString()]),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('opening.hours.title'));}},{key:\"openUrl\",value:function openUrl(url){if(!url||!url.length)return;if(url.startsWith('http')){nitro_renderer[\"Ed\" /* HabboWebTools */].openWebPage(url);}else{CreateLinkEvent(url);}}},{key:\"showModerationDisclaimer\",value:function showModerationDisclaimer(){var _this2=this;if(nitro_renderer[\"og\" /* RoomEnterEffect */].isRunning()){if(this.MODERATION_DISCLAIMER_TIMEOUT)return;this.MODERATION_DISCLAIMER_TIMEOUT=setTimeout(function(){_this2.showModerationDisclaimer();},nitro_renderer[\"og\" /* RoomEnterEffect */].totalRunningTime+this.MODERATION_DISCLAIMER_DELAY_MS);}else{if(this.MODERATION_DISCLAIMER_SHOWN)return;this.showSingleBubble(LocalizeText('mod.chatdisclaimer'),NotificationBubbleType_NotificationBubbleType.INFO);this.MODERATION_DISCLAIMER_SHOWN=true;}}}]);return NotificationUtilities;}();NotificationUtilities_NotificationUtilities.MODERATION_DISCLAIMER_SHOWN=false;NotificationUtilities_NotificationUtilities.MODERATION_DISCLAIMER_DELAY_MS=5000;NotificationUtilities_NotificationUtilities.MODERATION_DISCLAIMER_TIMEOUT=null;NotificationUtilities_NotificationUtilities.BUBBLES_DISABLED=false;\n// CONCATENATED MODULE: ./src/api/notification/index.ts\n\n// CONCATENATED MODULE: ./src/api/purse/IPurse.ts\n\n// CONCATENATED MODULE: ./src/api/purse/Purse.ts\nvar Purse_Purse=/*#__PURE__*/function(){function Purse(){Object(classCallCheck[\"a\" /* default */])(this,Purse);this._credits=0;this._activityPoints=new Map();this._clubDays=0;this._clubPeriods=0;this._isVIP=false;this._pastClubDays=0;this._pastVipDays=0;this._isExpiring=false;this._minutesUntilExpiration=0;this._minutesSinceLastModified=0;this._lastUpdated=0;}Object(createClass[\"a\" /* default */])(Purse,[{key:\"credits\",get:function get(){return this._credits;},set:function set(credits){this._lastUpdated=GetNitroInstance().time;this._credits=credits;}},{key:\"activityPoints\",get:function get(){return this._activityPoints;},set:function set(k){this._lastUpdated=GetNitroInstance().time;this._activityPoints=k;}},{key:\"clubDays\",get:function get(){return this._clubDays;},set:function set(k){this._lastUpdated=GetNitroInstance().time;this._clubDays=k;}},{key:\"clubPeriods\",get:function get(){return this._clubPeriods;},set:function set(k){this._lastUpdated=GetNitroInstance().time;this._clubPeriods=k;}},{key:\"_Str_13571\",get:function get(){return this._clubDays>0||this._clubPeriods>0;}},{key:\"isVip\",get:function get(){return this._isVIP;},set:function set(k){this._isVIP=k;}},{key:\"pastClubDays\",get:function get(){return this._pastClubDays;},set:function set(k){this._lastUpdated=GetNitroInstance().time;this._pastClubDays=k;}},{key:\"pastVipDays\",get:function get(){return this._pastVipDays;},set:function set(k){this._lastUpdated=GetNitroInstance().time;this._pastVipDays=k;}},{key:\"isExpiring\",get:function get(){return this._isExpiring;},set:function set(k){this._isExpiring=k;}},{key:\"minutesUntilExpiration\",get:function get(){var k=(GetNitroInstance().time-this._lastUpdated)/(1000*60);var _local_2=this._minutesUntilExpiration-k;return _local_2>0?_local_2:0;},set:function set(k){this._lastUpdated=GetNitroInstance().time;this._minutesUntilExpiration=k;}},{key:\"minutesSinceLastModified\",get:function get(){return this._minutesSinceLastModified;},set:function set(k){this._lastUpdated=GetNitroInstance().time;this._minutesSinceLastModified=k;}},{key:\"lastUpdated\",get:function get(){return this._lastUpdated;}},{key:\"clubLevel\",get:function get(){if(this.clubDays===0&&this.clubPeriods===0)return nitro_renderer[\"zd\" /* HabboClubLevelEnum */].NO_CLUB;if(this.isVip)return nitro_renderer[\"zd\" /* HabboClubLevelEnum */].VIP;return nitro_renderer[\"zd\" /* HabboClubLevelEnum */].CLUB;}}],[{key:\"from\",value:function from(purse){var newPurse=new Purse();newPurse._credits=purse._credits;newPurse._activityPoints=purse._activityPoints;newPurse._clubDays=purse._clubDays;newPurse._clubPeriods=purse._clubPeriods;newPurse._isVIP=purse._isVIP;newPurse._pastClubDays=purse._pastClubDays;newPurse._pastVipDays=purse._pastVipDays;newPurse._isExpiring=purse._isExpiring;newPurse._minutesUntilExpiration=purse._minutesUntilExpiration;newPurse._minutesSinceLastModified=purse._minutesSinceLastModified;newPurse._lastUpdated=purse._lastUpdated;return newPurse;}}]);return Purse;}();\n// CONCATENATED MODULE: ./src/api/purse/index.ts\n\n// CONCATENATED MODULE: ./src/api/user/GetUserProfile.ts\nfunction GetUserProfile(userId){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ci\" /* UserProfileComposer */](userId));}\n// CONCATENATED MODULE: ./src/api/user/index.ts\n\n// CONCATENATED MODULE: ./src/api/wired/GetWiredTimeLocale.ts\nvar GetWiredTimeLocale=function GetWiredTimeLocale(value){var time=Math.floor(value/2);if(!(value%2))return time.toString();return(time+0.5).toString();};\n// CONCATENATED MODULE: ./src/api/wired/WiredActionLayoutCode.ts\nvar WiredActionLayoutCode_WiredActionLayout=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function WiredActionLayout(){Object(classCallCheck[\"a\" /* default */])(this,WiredActionLayout);});WiredActionLayoutCode_WiredActionLayout.TOGGLE_FURNI_STATE=0;WiredActionLayoutCode_WiredActionLayout.RESET=1;WiredActionLayoutCode_WiredActionLayout.SET_FURNI_STATE=3;WiredActionLayoutCode_WiredActionLayout.MOVE_FURNI=4;WiredActionLayoutCode_WiredActionLayout.GIVE_SCORE=6;WiredActionLayoutCode_WiredActionLayout.CHAT=7;WiredActionLayoutCode_WiredActionLayout.TELEPORT=8;WiredActionLayoutCode_WiredActionLayout.JOIN_TEAM=9;WiredActionLayoutCode_WiredActionLayout.LEAVE_TEAM=10;WiredActionLayoutCode_WiredActionLayout.CHASE=11;WiredActionLayoutCode_WiredActionLayout.FLEE=12;WiredActionLayoutCode_WiredActionLayout.MOVE_AND_ROTATE_FURNI=13;WiredActionLayoutCode_WiredActionLayout.GIVE_SCORE_TO_PREDEFINED_TEAM=14;WiredActionLayoutCode_WiredActionLayout.TOGGLE_TO_RANDOM_STATE=15;WiredActionLayoutCode_WiredActionLayout.MOVE_FURNI_TO=16;WiredActionLayoutCode_WiredActionLayout.GIVE_REWARD=17;WiredActionLayoutCode_WiredActionLayout.CALL_ANOTHER_STACK=18;WiredActionLayoutCode_WiredActionLayout.KICK_FROM_ROOM=19;WiredActionLayoutCode_WiredActionLayout.MUTE_USER=20;WiredActionLayoutCode_WiredActionLayout.BOT_TELEPORT=21;WiredActionLayoutCode_WiredActionLayout.BOT_MOVE=22;WiredActionLayoutCode_WiredActionLayout.BOT_TALK=23;WiredActionLayoutCode_WiredActionLayout.BOT_GIVE_HAND_ITEM=24;WiredActionLayoutCode_WiredActionLayout.BOT_FOLLOW_AVATAR=25;WiredActionLayoutCode_WiredActionLayout.BOT_CHANGE_FIGURE=26;WiredActionLayoutCode_WiredActionLayout.BOT_TALK_DIRECT_TO_AVTR=27;\n// CONCATENATED MODULE: ./src/api/wired/WiredConditionLayoutCode.ts\nvar WiredConditionLayoutCode_WiredConditionlayout=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function WiredConditionlayout(){Object(classCallCheck[\"a\" /* default */])(this,WiredConditionlayout);});WiredConditionLayoutCode_WiredConditionlayout.STATES_MATCH=0;WiredConditionLayoutCode_WiredConditionlayout.FURNIS_HAVE_AVATARS=1;WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_ON_FURNI=2;WiredConditionLayoutCode_WiredConditionlayout.TIME_ELAPSED_MORE=3;WiredConditionLayoutCode_WiredConditionlayout.TIME_ELAPSED_LESS=4;WiredConditionLayoutCode_WiredConditionlayout.USER_COUNT_IN=5;WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_IN_TEAM=6;WiredConditionLayoutCode_WiredConditionlayout.HAS_STACKED_FURNIS=7;WiredConditionLayoutCode_WiredConditionlayout.STUFF_TYPE_MATCHES=8;WiredConditionLayoutCode_WiredConditionlayout.STUFFS_IN_FORMATION=9;WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_GROUP_MEMBER=10;WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_WEARING_BADGE=11;WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_WEARING_EFFECT=12;WiredConditionLayoutCode_WiredConditionlayout.NOT_STATES_MATCH=13;WiredConditionLayoutCode_WiredConditionlayout.FURNI_NOT_HAVE_HABBO=14;WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_ON_FURNI=15;WiredConditionLayoutCode_WiredConditionlayout.NOT_USER_COUNT_IN=16;WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_IN_TEAM=17;WiredConditionLayoutCode_WiredConditionlayout.NOT_HAS_STACKED_FURNIS=18;WiredConditionLayoutCode_WiredConditionlayout.NOT_FURNI_IS_OF_TYPE=19;WiredConditionLayoutCode_WiredConditionlayout.NOT_STUFFS_IN_FORMATION=20;WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_IN_GROUP=21;WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_WEARS_BADGE=22;WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_WEARING_EFFECT=23;WiredConditionLayoutCode_WiredConditionlayout.DATE_RANGE_ACTIVE=24;WiredConditionLayoutCode_WiredConditionlayout.ACTOR_HAS_HANDITEM=25;\n// CONCATENATED MODULE: ./src/api/wired/WiredDateToString.ts\nvar WiredDateToString=function WiredDateToString(date){return\"\".concat(date.getFullYear(),\"/\").concat(('0'+(date.getMonth()+1)).slice(-2),\"/\").concat(('0'+date.getDate()).slice(-2),\" \").concat(('0'+date.getHours()).slice(-2),\":\").concat(('0'+date.getMinutes()).slice(-2));};\n// CONCATENATED MODULE: ./src/api/wired/WiredFurniType.ts\nvar WiredFurniType_WiredFurniType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function WiredFurniType(){Object(classCallCheck[\"a\" /* default */])(this,WiredFurniType);});WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE=0;WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID=1;WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE=2;WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT=3;\n// CONCATENATED MODULE: ./src/api/wired/WiredSelectionFilter.ts\nvar vertex=\"\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nuniform mat3 projectionMatrix;\\nvarying vec2 vTextureCoord;\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\";var WiredSelectionFilter_fragment=\"\\nvarying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform vec3 lineColor;\\nuniform vec3 color;\\nvoid main(void) {\\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\\n    vec3 colorLine = lineColor * currentColor.a;\\n    vec3 colorOverlay = color * currentColor.a;\\n\\n    if(currentColor.r == 0.0 && currentColor.g == 0.0 && currentColor.b == 0.0 && currentColor.a > 0.0) {\\n        gl_FragColor = vec4(colorLine.r, colorLine.g, colorLine.b, currentColor.a);\\n    } else if(currentColor.a > 0.0) {\\n        gl_FragColor = vec4(colorOverlay.r, colorOverlay.g, colorOverlay.b, currentColor.a);\\n    }\\n}\";var WiredSelectionFilter_WiredSelectionFilter=/*#__PURE__*/function(_NitroFilter){Object(inherits[\"a\" /* default */])(WiredSelectionFilter,_NitroFilter);var _super=Object(createSuper[\"a\" /* default */])(WiredSelectionFilter);function WiredSelectionFilter(lineColor,color){var _this;Object(classCallCheck[\"a\" /* default */])(this,WiredSelectionFilter);_this=_super.call(this,vertex,WiredSelectionFilter_fragment);_this._lineColor=void 0;_this._color=void 0;_this.uniforms.lineColor=new Float32Array(3);_this.uniforms.color=new Float32Array(3);_this.lineColor=lineColor;_this.color=color;return _this;}Object(createClass[\"a\" /* default */])(WiredSelectionFilter,[{key:\"lineColor\",get:function get(){return this._lineColor;},set:function set(value){var arr=this.uniforms.lineColor;if(typeof value==='number'){nitro_renderer[\"ib\" /* ColorConverter */].hex2rgb(value,arr);this._lineColor=value;}else{arr[0]=value[0];arr[1]=value[1];arr[2]=value[2];this._lineColor=nitro_renderer[\"ib\" /* ColorConverter */].rgb2hex(arr);}}},{key:\"color\",get:function get(){return this._color;},set:function set(value){var arr=this.uniforms.color;if(typeof value==='number'){nitro_renderer[\"ib\" /* ColorConverter */].hex2rgb(value,arr);this._color=value;}else{arr[0]=value[0];arr[1]=value[1];arr[2]=value[2];this._color=nitro_renderer[\"ib\" /* ColorConverter */].rgb2hex(arr);}}}]);return WiredSelectionFilter;}(nitro_renderer[\"Pe\" /* NitroFilter */]);\n// CONCATENATED MODULE: ./src/api/wired/WiredSelectionVisualizer.ts\nvar WiredSelectionVisualizer_WiredSelectionVisualizer=/*#__PURE__*/function(){function WiredSelectionVisualizer(){Object(classCallCheck[\"a\" /* default */])(this,WiredSelectionVisualizer);}Object(createClass[\"a\" /* default */])(WiredSelectionVisualizer,null,[{key:\"show\",value:function show(furniId){WiredSelectionVisualizer.applySelectionShader(WiredSelectionVisualizer.getRoomObject(furniId));}},{key:\"hide\",value:function hide(furniId){WiredSelectionVisualizer.clearSelectionShader(WiredSelectionVisualizer.getRoomObject(furniId));}},{key:\"clearSelectionShaderFromFurni\",value:function clearSelectionShaderFromFurni(furniIds){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(furniIds),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var furniId=_step.value;WiredSelectionVisualizer.clearSelectionShader(WiredSelectionVisualizer.getRoomObject(furniId));}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},{key:\"applySelectionShaderToFurni\",value:function applySelectionShaderToFurni(furniIds){var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(furniIds),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var furniId=_step2.value;WiredSelectionVisualizer.applySelectionShader(WiredSelectionVisualizer.getRoomObject(furniId));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}},{key:\"getRoomObject\",value:function getRoomObject(objectId){var roomEngine=GetRoomEngine();return roomEngine.getRoomObject(roomEngine.activeRoomId,objectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);}},{key:\"applySelectionShader\",value:function applySelectionShader(roomObject){if(!roomObject)return;var visualization=roomObject.visualization;if(!visualization)return;var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(visualization.sprites),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var sprite=_step3.value;if(sprite.blendMode===1)continue;// BLEND_MODE: ADD\nsprite.filters=[WiredSelectionVisualizer._selectionShader];}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}},{key:\"clearSelectionShader\",value:function clearSelectionShader(roomObject){if(!roomObject)return;var visualization=roomObject.visualization;if(!visualization)return;var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(visualization.sprites),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var sprite=_step4.value;sprite.filters=[];}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}}]);return WiredSelectionVisualizer;}();WiredSelectionVisualizer_WiredSelectionVisualizer._selectionShader=new WiredSelectionFilter_WiredSelectionFilter([1,1,1],[0.6,0.6,0.6]);\n// CONCATENATED MODULE: ./src/api/wired/WiredStringDelimeter.ts\nvar WIRED_STRING_DELIMETER='\\t';\n// CONCATENATED MODULE: ./src/api/wired/WiredTriggerLayoutCode.ts\nvar WiredTriggerLayoutCode_WiredTriggerLayout=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function WiredTriggerLayout(){Object(classCallCheck[\"a\" /* default */])(this,WiredTriggerLayout);});WiredTriggerLayoutCode_WiredTriggerLayout.AVATAR_SAYS_SOMETHING=0;WiredTriggerLayoutCode_WiredTriggerLayout.AVATAR_WALKS_ON_FURNI=1;WiredTriggerLayoutCode_WiredTriggerLayout.AVATAR_WALKS_OFF_FURNI=2;WiredTriggerLayoutCode_WiredTriggerLayout.EXECUTE_ONCE=3;WiredTriggerLayoutCode_WiredTriggerLayout.TOGGLE_FURNI=4;WiredTriggerLayoutCode_WiredTriggerLayout.EXECUTE_PERIODICALLY=6;WiredTriggerLayoutCode_WiredTriggerLayout.AVATAR_ENTERS_ROOM=7;WiredTriggerLayoutCode_WiredTriggerLayout.GAME_STARTS=8;WiredTriggerLayoutCode_WiredTriggerLayout.GAME_ENDS=9;WiredTriggerLayoutCode_WiredTriggerLayout.SCORE_ACHIEVED=10;WiredTriggerLayoutCode_WiredTriggerLayout.COLLISION=11;WiredTriggerLayoutCode_WiredTriggerLayout.EXECUTE_PERIODICALLY_LONG=12;WiredTriggerLayoutCode_WiredTriggerLayout.BOT_REACHED_STUFF=13;WiredTriggerLayoutCode_WiredTriggerLayout.BOT_REACHED_AVATAR=14;\n// CONCATENATED MODULE: ./src/api/wired/index.ts\n\n// CONCATENATED MODULE: ./src/api/index.ts\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/common/Base.tsx\nvar _excluded=[\"ref\",\"innerRef\",\"display\",\"fit\",\"grow\",\"shrink\",\"fullWidth\",\"fullHeight\",\"overflow\",\"position\",\"float\",\"pointer\",\"visible\",\"textColor\",\"classNames\",\"className\",\"style\",\"children\"];var Base_Base=function Base(props){var _props$ref=props.ref,ref=_props$ref===void 0?null:_props$ref,_props$innerRef=props.innerRef,innerRef=_props$innerRef===void 0?null:_props$innerRef,_props$display=props.display,display=_props$display===void 0?null:_props$display,_props$fit=props.fit,fit=_props$fit===void 0?false:_props$fit,_props$grow=props.grow,grow=_props$grow===void 0?false:_props$grow,_props$shrink=props.shrink,shrink=_props$shrink===void 0?false:_props$shrink,_props$fullWidth=props.fullWidth,fullWidth=_props$fullWidth===void 0?false:_props$fullWidth,_props$fullHeight=props.fullHeight,fullHeight=_props$fullHeight===void 0?false:_props$fullHeight,_props$overflow=props.overflow,overflow=_props$overflow===void 0?null:_props$overflow,_props$position=props.position,position=_props$position===void 0?null:_props$position,_props$float=props.float,float=_props$float===void 0?null:_props$float,_props$pointer=props.pointer,pointer=_props$pointer===void 0?false:_props$pointer,_props$visible=props.visible,visible=_props$visible===void 0?null:_props$visible,_props$textColor=props.textColor,textColor=_props$textColor===void 0?null:_props$textColor,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$className=props.className,className=_props$className===void 0?'':_props$className,_props$style=props.style,style=_props$style===void 0?{}:_props$style,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=[];if(display&&display.length)newClassNames.push('d-'+display);if(fit||fullWidth)newClassNames.push('w-100');if(fit||fullHeight)newClassNames.push('h-100');if(grow)newClassNames.push('flex-grow-1');if(shrink)newClassNames.push('flex-shrink-0');if(overflow)newClassNames.push('overflow-'+overflow);if(position)newClassNames.push('position-'+position);if(float)newClassNames.push('float-'+float);if(pointer)newClassNames.push('cursor-pointer');if(visible!==null)newClassNames.push(visible?'visible':'invisible');if(textColor)newClassNames.push('text-'+textColor);if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[display,fit,grow,shrink,fullWidth,fullHeight,overflow,position,float,pointer,visible,textColor,classNames]);var getClassName=Object(react[\"useMemo\"])(function(){var newClassName=getClassNames.join(' ');if(className.length)newClassName+=' '+className;return newClassName.trim();},[getClassNames,className]);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={};if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[style]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({ref:innerRef,className:getClassName,style:getStyle},rest),{},{children:children}));};\n// CONCATENATED MODULE: ./src/common/GridContext.tsx\nvar GridContext=/*#__PURE__*/Object(react[\"createContext\"])({isCssGrid:false});var GridContext_GridContextProvider=function GridContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridContext.Provider,{value:props.value,children:props.children});};var GridContext_useGridContext=function useGridContext(){return Object(react[\"useContext\"])(GridContext);};\n// CONCATENATED MODULE: ./src/common/Grid.tsx\nvar Grid_excluded=[\"inline\",\"gap\",\"maxContent\",\"columnCount\",\"center\",\"alignSelf\",\"alignItems\",\"justifyContent\",\"fullHeight\",\"classNames\",\"style\"];var Grid_Grid=function Grid(props){var _props$inline=props.inline,inline=_props$inline===void 0?false:_props$inline,_props$gap=props.gap,gap=_props$gap===void 0?2:_props$gap,_props$maxContent=props.maxContent,maxContent=_props$maxContent===void 0?false:_props$maxContent,_props$columnCount=props.columnCount,columnCount=_props$columnCount===void 0?0:_props$columnCount,_props$center=props.center,center=_props$center===void 0?false:_props$center,_props$alignSelf=props.alignSelf,alignSelf=_props$alignSelf===void 0?null:_props$alignSelf,_props$alignItems=props.alignItems,alignItems=_props$alignItems===void 0?null:_props$alignItems,_props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?null:_props$justifyContent,_props$fullHeight=props.fullHeight,fullHeight=_props$fullHeight===void 0?true:_props$fullHeight,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$style=props.style,style=_props$style===void 0?{}:_props$style,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,Grid_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=[];if(inline)newClassNames.push('inline-grid');else newClassNames.push('grid');if(gap)newClassNames.push('gap-'+gap);else if(gap===0)newClassNames.push('gap-0');if(maxContent)newClassNames.push('flex-basis-max-content');if(alignSelf)newClassNames.push('align-self-'+alignSelf);if(alignItems)newClassNames.push('align-items-'+alignItems);if(justifyContent)newClassNames.push('justify-content-'+justifyContent);if(!alignItems&&!justifyContent&&center)newClassNames.push('align-items-center','justify-content-center');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[inline,gap,maxContent,alignSelf,alignItems,justifyContent,center,classNames]);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={};if(columnCount)newStyle['--bs-columns']=columnCount.toString();if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[columnCount,style]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridContext_GridContextProvider,{value:{isCssGrid:true},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({fullHeight:fullHeight,classNames:getClassNames,style:getStyle},rest))});};\n// CONCATENATED MODULE: ./src/common/AutoGrid.tsx\nvar AutoGrid_excluded=[\"columnMinWidth\",\"columnMinHeight\",\"columnCount\",\"fullHeight\",\"maxContent\",\"overflow\",\"style\"];var AutoGrid_AutoGrid=function AutoGrid(props){var _props$columnMinWidth=props.columnMinWidth,columnMinWidth=_props$columnMinWidth===void 0?40:_props$columnMinWidth,_props$columnMinHeigh=props.columnMinHeight,columnMinHeight=_props$columnMinHeigh===void 0?40:_props$columnMinHeigh,_props$columnCount=props.columnCount,columnCount=_props$columnCount===void 0?0:_props$columnCount,_props$fullHeight=props.fullHeight,fullHeight=_props$fullHeight===void 0?false:_props$fullHeight,_props$maxContent=props.maxContent,maxContent=_props$maxContent===void 0?true:_props$maxContent,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'auto':_props$overflow,_props$style=props.style,style=_props$style===void 0?{}:_props$style,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AutoGrid_excluded);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={};newStyle['--nitro-grid-column-min-height']=columnMinHeight+'px';if(columnCount>1)newStyle.gridTemplateColumns=\"repeat(auto-fill, minmax(\".concat(columnMinWidth,\"px, 1fr))\");if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[columnMinWidth,columnMinHeight,columnCount,style]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,Object(objectSpread2[\"a\" /* default */])({columnCount:columnCount,fullHeight:fullHeight,overflow:overflow,style:getStyle},rest));};\n// CONCATENATED MODULE: ./src/common/Flex.tsx\nvar Flex_excluded=[\"display\",\"column\",\"reverse\",\"gap\",\"center\",\"alignSelf\",\"alignItems\",\"justifyContent\",\"classNames\"];var Flex_Flex=function Flex(props){var _props$display=props.display,display=_props$display===void 0?'flex':_props$display,_props$column=props.column,column=_props$column===void 0?undefined:_props$column,_props$reverse=props.reverse,reverse=_props$reverse===void 0?false:_props$reverse,_props$gap=props.gap,gap=_props$gap===void 0?null:_props$gap,_props$center=props.center,center=_props$center===void 0?false:_props$center,_props$alignSelf=props.alignSelf,alignSelf=_props$alignSelf===void 0?null:_props$alignSelf,_props$alignItems=props.alignItems,alignItems=_props$alignItems===void 0?null:_props$alignItems,_props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?null:_props$justifyContent,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,Flex_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=[];if(column){if(reverse)newClassNames.push('flex-column-reverse');else newClassNames.push('flex-column');}else{if(reverse)newClassNames.push('flex-row-reverse');}if(gap)newClassNames.push('gap-'+gap);if(alignSelf)newClassNames.push('align-self-'+alignSelf);if(alignItems)newClassNames.push('align-items-'+alignItems);if(justifyContent)newClassNames.push('justify-content-'+justifyContent);if(!alignItems&&!justifyContent&&center)newClassNames.push('align-items-center','justify-content-center');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[column,reverse,gap,center,alignSelf,alignItems,justifyContent,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({display:display,classNames:getClassNames},rest));};\n// CONCATENATED MODULE: ./src/common/Button.tsx\nvar Button_excluded=[\"variant\",\"size\",\"active\",\"disabled\",\"classNames\"];var Button_Button=function Button(props){var _props$variant=props.variant,variant=_props$variant===void 0?'primary':_props$variant,_props$size=props.size,size=_props$size===void 0?'sm':_props$size,_props$active=props.active,active=_props$active===void 0?false:_props$active,_props$disabled=props.disabled,disabled=_props$disabled===void 0?false:_props$disabled,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,Button_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['btn'];if(variant)newClassNames.push('btn-'+variant);if(size)newClassNames.push('btn-'+size);if(active)newClassNames.push('active');if(disabled)newClassNames.push('disabled');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[variant,size,active,disabled,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])({center:true,classNames:getClassNames},rest));};\n// CONCATENATED MODULE: ./src/common/ButtonGroup.tsx\nvar ButtonGroup_excluded=[\"classNames\"];var ButtonGroup_ButtonGroup=function ButtonGroup(props){var _props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,ButtonGroup_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['btn-group'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames},rest));};\n// CONCATENATED MODULE: ./src/common/card/accordion/NitroCardAccordionContext.tsx\nvar NitroCardAccordionContext=/*#__PURE__*/Object(react[\"createContext\"])({closers:null,setClosers:null,closeAll:null});var NitroCardAccordionContext_NitroCardAccordionContextProvider=function NitroCardAccordionContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardAccordionContext.Provider,Object(objectSpread2[\"a\" /* default */])({},props));};var NitroCardAccordionContext_useNitroCardAccordionContext=function useNitroCardAccordionContext(){return Object(react[\"useContext\"])(NitroCardAccordionContext);};\n// CONCATENATED MODULE: ./src/common/card/accordion/NitroCardAccordionItemView.tsx\nvar NitroCardAccordionItemView_excluded=[\"alignItems\",\"gap\",\"children\"];var NitroCardAccordionItemView_NitroCardAccordionItemView=function NitroCardAccordionItemView(props){var _props$alignItems=props.alignItems,alignItems=_props$alignItems===void 0?'center':_props$alignItems,_props$gap=props.gap,gap=_props$gap===void 0?1:_props$gap,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroCardAccordionItemView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({alignItems:alignItems,gap:gap},rest),{},{children:children}));};\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar react_fontawesome_index_es = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/common/card/accordion/NitroCardAccordionSetView.tsx\nvar NitroCardAccordionSetView_excluded=[\"headerText\",\"isExpanded\",\"gap\",\"classNames\",\"children\"];var NitroCardAccordionSetView_NitroCardAccordionSetView=function NitroCardAccordionSetView(props){var _props$headerText=props.headerText,headerText=_props$headerText===void 0?'':_props$headerText,_props$isExpanded=props.isExpanded,isExpanded=_props$isExpanded===void 0?false:_props$isExpanded,_props$gap=props.gap,gap=_props$gap===void 0?0:_props$gap,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroCardAccordionSetView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useNitroCardAccordio=NitroCardAccordionContext_useNitroCardAccordionContext(),_useNitroCardAccordio2=_useNitroCardAccordio.setClosers,setClosers=_useNitroCardAccordio2===void 0?null:_useNitroCardAccordio2,_useNitroCardAccordio3=_useNitroCardAccordio.closeAll,closeAll=_useNitroCardAccordio3===void 0?null:_useNitroCardAccordio3;var onClick=function onClick(){closeAll();setIsOpen(function(prevValue){return!prevValue;});};var close=Object(react[\"useCallback\"])(function(){return setIsOpen(false);},[]);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-card-accordion-set'];if(isOpen)newClassNames.push('active');if(classNames&&classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[isOpen,classNames]);Object(react[\"useEffect\"])(function(){setIsOpen(isExpanded);},[isExpanded]);Object(react[\"useEffect\"])(function(){var closeFunction=close;setClosers(function(prevValue){var newClosers=Object(toConsumableArray[\"a\" /* default */])(prevValue);newClosers.push(closeFunction);return newClosers;});return function(){setClosers(function(prevValue){var newClosers=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newClosers.indexOf(closeFunction);if(index>=0)newClosers.splice(index,1);return newClosers;});};},[close,setClosers]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,gap:gap},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{pointer:true,justifyContent:\"between\",className:\"nitro-card-accordion-set-header px-2 py-1\",onClick:onClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:headerText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:isOpen?'caret-up':'caret-down'})]}),isOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullHeight:true,overflow:\"auto\",gap:0,className:\"nitro-card-accordion-set-content\",children:children})]}));};\n// CONCATENATED MODULE: ./src/common/card/accordion/NitroCardAccordionView.tsx\nvar NitroCardAccordionView_NitroCardAccordionView=function NitroCardAccordionView(props){var rest=Object.assign({},props);var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),closers=_useState2[0],setClosers=_useState2[1];var closeAll=Object(react[\"useCallback\"])(function(){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(closers),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var closer=_step.value;closer();}}catch(err){_iterator.e(err);}finally{_iterator.f();}},[closers]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardAccordionContext_NitroCardAccordionContextProvider,{value:{closers:closers,setClosers:setClosers,closeAll:closeAll},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])({gap:0},rest))});};\n// CONCATENATED MODULE: ./src/common/card/accordion/index.ts\n\n// CONCATENATED MODULE: ./src/common/card/NitroCardContentView.tsx\nvar NitroCardContentView_excluded=[\"overflow\",\"classNames\"];var NitroCardContentView_NitroCardContentView=function NitroCardContentView(props){var _props$overflow=props.overflow,overflow=_props$overflow===void 0?'auto':_props$overflow,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroCardContentView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['container-fluid','content-area'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,overflow:overflow},rest));};\n// CONCATENATED MODULE: ./src/common/card/NitroCardContext.tsx\nvar NitroCardContext=/*#__PURE__*/Object(react[\"createContext\"])({theme:null});var NitroCardContext_NitroCardContextProvider=function NitroCardContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContext.Provider,{value:props.value,children:props.children});};var NitroCardContext_useNitroCardContext=function useNitroCardContext(){return Object(react[\"useContext\"])(NitroCardContext);};\n// CONCATENATED MODULE: ./src/common/card/NitroCardHeaderView.tsx\nvar NitroCardHeaderView_excluded=[\"headerText\",\"noCloseButton\",\"onCloseClick\",\"justifyContent\",\"alignItems\",\"classNames\",\"children\"];var NitroCardHeaderView_NitroCardHeaderView=function NitroCardHeaderView(props){var _props$headerText=props.headerText,headerText=_props$headerText===void 0?null:_props$headerText,_props$noCloseButton=props.noCloseButton,noCloseButton=_props$noCloseButton===void 0?false:_props$noCloseButton,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick,_props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?'center':_props$justifyContent,_props$alignItems=props.alignItems,alignItems=_props$alignItems===void 0?'center':_props$alignItems,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroCardHeaderView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['drag-handler','container-fluid','nitro-card-header'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);var onMouseDown=Object(react[\"useCallback\"])(function(event){event.stopPropagation();event.nativeEvent.stopImmediatePropagation();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({center:true,position:\"relative\",classNames:getClassNames},rest),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,center:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"nitro-card-header-text\",children:headerText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{position:\"absolute\",className:\"end-2 nitro-card-header-close\",onMouseDownCapture:onMouseDown,onClick:onCloseClick,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})]})}));};\n// CONCATENATED MODULE: ./src/common/card/NitroCardSubHeaderView.tsx\nvar NitroCardSubHeaderView_excluded=[\"justifyContent\",\"classNames\"];var NitroCardSubHeaderView_NitroCardSubHeaderView=function NitroCardSubHeaderView(props){var _props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?'center':_props$justifyContent,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroCardSubHeaderView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['container-fluid','bg-muted','p-1'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])({justifyContent:justifyContent,classNames:getClassNames},rest));};\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(38);\n\n// CONCATENATED MODULE: ./src/common/draggable-window/DraggableWindowPosition.ts\nvar DraggableWindowPosition_DraggableWindowPosition=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function DraggableWindowPosition(){Object(classCallCheck[\"a\" /* default */])(this,DraggableWindowPosition);});DraggableWindowPosition_DraggableWindowPosition.CENTER='DWP_CENTER';DraggableWindowPosition_DraggableWindowPosition.TOP_CENTER='DWP_TOP_CENTER';DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT='DWP_TOP_LEFT';DraggableWindowPosition_DraggableWindowPosition.NOTHING='DWP_NOTHING';\n// CONCATENATED MODULE: ./src/common/draggable-window/DraggableWindow.tsx\nvar CURRENT_WINDOWS=[];var POS_MEMORY=new Map();var BOUNDS_THRESHOLD_TOP=0;var BOUNDS_THRESHOLD_LEFT=0;var DraggableWindow_DraggableWindow=function DraggableWindow(props){var _props$uniqueKey=props.uniqueKey,uniqueKey=_props$uniqueKey===void 0?null:_props$uniqueKey,_props$handleSelector=props.handleSelector,handleSelector=_props$handleSelector===void 0?'.drag-handler':_props$handleSelector,_props$windowPosition=props.windowPosition,windowPosition=_props$windowPosition===void 0?DraggableWindowPosition_DraggableWindowPosition.CENTER:_props$windowPosition,_props$disableDrag=props.disableDrag,disableDrag=_props$disableDrag===void 0?false:_props$disableDrag,_props$dragStyle=props.dragStyle,dragStyle=_props$dragStyle===void 0?{}:_props$dragStyle,_props$children=props.children,children=_props$children===void 0?null:_props$children,_props$offsetLeft=props.offsetLeft,offsetLeft=_props$offsetLeft===void 0?0:_props$offsetLeft,_props$offsetTop=props.offsetTop,offsetTop=_props$offsetTop===void 0?0:_props$offsetTop;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),delta=_useState2[0],setDelta=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),offset=_useState4[0],setOffset=_useState4[1];var _useState5=Object(react[\"useState\"])({x:0,y:0}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),start=_useState6[0],setStart=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isDragging=_useState8[0],setIsDragging=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),dragHandler=_useState10[0],setDragHandler=_useState10[1];var elementRef=Object(react[\"useRef\"])();var bringToTop=Object(react[\"useCallback\"])(function(){var zIndex=400;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(CURRENT_WINDOWS),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var existingWindow=_step.value;zIndex+=1;existingWindow.style.zIndex=zIndex.toString();}}catch(err){_iterator.e(err);}finally{_iterator.f();}},[]);var moveCurrentWindow=Object(react[\"useCallback\"])(function(){var index=CURRENT_WINDOWS.indexOf(elementRef.current);if(index===-1){CURRENT_WINDOWS.push(elementRef.current);}else if(index===CURRENT_WINDOWS.length-1)return;else if(index>=0){CURRENT_WINDOWS.splice(index,1);CURRENT_WINDOWS.push(elementRef.current);}bringToTop();},[bringToTop]);var onMouseDown=Object(react[\"useCallback\"])(function(event){moveCurrentWindow();},[moveCurrentWindow]);var onTouchStart=Object(react[\"useCallback\"])(function(event){moveCurrentWindow();},[moveCurrentWindow]);var startDragging=Object(react[\"useCallback\"])(function(startX,startY){setStart({x:startX,y:startY});setIsDragging(true);},[]);var onDragMouseDown=Object(react[\"useCallback\"])(function(event){startDragging(event.clientX,event.clientY);},[startDragging]);var onTouchDown=Object(react[\"useCallback\"])(function(event){var touch=event.touches[0];startDragging(touch.clientX,touch.clientY);},[startDragging]);var onDragMouseMove=Object(react[\"useCallback\"])(function(event){setDelta({x:event.clientX-start.x,y:event.clientY-start.y});},[start]);var onDragTouchMove=Object(react[\"useCallback\"])(function(event){var touch=event.touches[0];setDelta({x:touch.clientX-start.x,y:touch.clientY-start.y});},[start]);var completeDrag=Object(react[\"useCallback\"])(function(){if(!elementRef.current||!dragHandler)return;var offsetX=offset.x+delta.x;var offsetY=offset.y+delta.y;var left=elementRef.current.offsetLeft+offsetX;var top=elementRef.current.offsetTop+offsetY;if(top<BOUNDS_THRESHOLD_TOP){offsetY=-elementRef.current.offsetTop;}else if(top+dragHandler.offsetHeight>=document.body.offsetHeight-BOUNDS_THRESHOLD_TOP){offsetY=document.body.offsetHeight-elementRef.current.offsetHeight-elementRef.current.offsetTop;}if(left+elementRef.current.offsetWidth<BOUNDS_THRESHOLD_LEFT){offsetX=-elementRef.current.offsetLeft;}else if(left>=document.body.offsetWidth-BOUNDS_THRESHOLD_LEFT){offsetX=document.body.offsetWidth-elementRef.current.offsetWidth-elementRef.current.offsetLeft;}setDelta({x:0,y:0});setOffset({x:offsetX,y:offsetY});setIsDragging(false);if(uniqueKey!==null)POS_MEMORY.set(uniqueKey,{x:offsetX,y:offsetY});},[dragHandler,delta,offset,uniqueKey]);var onDragMouseUp=Object(react[\"useCallback\"])(function(event){completeDrag();},[completeDrag]);var onDragTouchUp=Object(react[\"useCallback\"])(function(event){completeDrag();},[completeDrag]);Object(react[\"useEffect\"])(function(){var element=elementRef.current;if(!element)return;CURRENT_WINDOWS.push(element);bringToTop();if(!disableDrag){var handle=element.querySelector(handleSelector);if(handle)setDragHandler(handle);}var offsetX=0;var offsetY=0;switch(windowPosition){case DraggableWindowPosition_DraggableWindowPosition.TOP_CENTER:element.style.top=50+offsetTop+'px';element.style.left=\"calc(50vw - \".concat(element.offsetWidth/2+offsetLeft,\"px)\");break;case DraggableWindowPosition_DraggableWindowPosition.CENTER:element.style.top=\"calc(50vh - \".concat(element.offsetHeight/2+offsetTop,\"px)\");element.style.left=\"calc(50vw - \".concat(element.offsetWidth/2+offsetLeft,\"px)\");break;case DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT:element.style.top=50+offsetTop+'px';element.style.left=50+offsetLeft+'px';break;}if(uniqueKey!==null){var memory=POS_MEMORY.get(uniqueKey);if(memory){offsetX=memory.x;offsetY=memory.y;}}setDelta({x:0,y:0});setOffset({x:offsetX,y:offsetY});return function(){var index=CURRENT_WINDOWS.indexOf(element);if(index>=0)CURRENT_WINDOWS.splice(index,1);};},[handleSelector,windowPosition,uniqueKey,disableDrag,offsetLeft,offsetTop,bringToTop]);Object(react[\"useEffect\"])(function(){if(!offset&&!delta)return;var element=elementRef.current;if(!element)return;element.style.transform=\"translate(\".concat(offset.x+delta.x,\"px, \").concat(offset.y+delta.y,\"px)\");element.style.visibility='visible';},[offset,delta]);Object(react[\"useEffect\"])(function(){if(!dragHandler)return;dragHandler.addEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN,onDragMouseDown);dragHandler.addEventListener(nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_START,onTouchDown);return function(){dragHandler.removeEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN,onDragMouseDown);dragHandler.removeEventListener(nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_START,onTouchDown);};},[dragHandler,onDragMouseDown,onTouchDown]);Object(react[\"useEffect\"])(function(){if(!isDragging)return;document.addEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_UP,onDragMouseUp);document.addEventListener(nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_END,onDragTouchUp);document.addEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_MOVE,onDragMouseMove);document.addEventListener(nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_MOVE,onDragTouchMove);return function(){document.removeEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_UP,onDragMouseUp);document.removeEventListener(nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_END,onDragTouchUp);document.removeEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_MOVE,onDragMouseMove);document.removeEventListener(nitro_renderer[\"Nh\" /* TouchEventType */].TOUCH_MOVE,onDragTouchMove);};},[isDragging,onDragMouseUp,onDragMouseMove,onDragTouchUp,onDragTouchMove]);return/*#__PURE__*/Object(react_dom[\"createPortal\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{position:\"absolute\",innerRef:elementRef,className:\"draggable-window animate__animated animate__fadeIn\",onMouseDownCapture:onMouseDown,onTouchStartCapture:onTouchStart,style:dragStyle,children:children}),document.getElementById('draggable-windows-container'));};\n// CONCATENATED MODULE: ./src/common/draggable-window/index.ts\n\n// CONCATENATED MODULE: ./src/common/card/NitroCardView.tsx\nvar NitroCardView_excluded=[\"theme\",\"uniqueKey\",\"handleSelector\",\"windowPosition\",\"disableDrag\",\"overflow\",\"position\",\"gap\",\"classNames\"];var NitroCardView_NitroCardView=function NitroCardView(props){var _props$theme=props.theme,theme=_props$theme===void 0?'primary':_props$theme,_props$uniqueKey=props.uniqueKey,uniqueKey=_props$uniqueKey===void 0?null:_props$uniqueKey,_props$handleSelector=props.handleSelector,handleSelector=_props$handleSelector===void 0?'.drag-handler':_props$handleSelector,_props$windowPosition=props.windowPosition,windowPosition=_props$windowPosition===void 0?DraggableWindowPosition_DraggableWindowPosition.CENTER:_props$windowPosition,_props$disableDrag=props.disableDrag,disableDrag=_props$disableDrag===void 0?false:_props$disableDrag,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,_props$position=props.position,position=_props$position===void 0?'relative':_props$position,_props$gap=props.gap,gap=_props$gap===void 0?0:_props$gap,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroCardView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-card','rounded','shadow'];newClassNames.push(\"theme-\".concat(theme||'primary'));if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[theme,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContext_NitroCardContextProvider,{value:{theme:theme},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow_DraggableWindow,{uniqueKey:uniqueKey,handleSelector:handleSelector,windowPosition:windowPosition,disableDrag:disableDrag,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])({overflow:overflow,position:position,gap:gap,classNames:getClassNames},rest))})});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutAvatarImageView.tsx\nvar LayoutAvatarImageView_excluded=[\"figure\",\"gender\",\"headOnly\",\"direction\",\"scale\",\"classNames\",\"style\"];var LayoutAvatarImageView_LayoutAvatarImageView=function LayoutAvatarImageView(props){var _props$figure=props.figure,figure=_props$figure===void 0?'':_props$figure,_props$gender=props.gender,gender=_props$gender===void 0?'M':_props$gender,_props$headOnly=props.headOnly,headOnly=_props$headOnly===void 0?false:_props$headOnly,_props$direction=props.direction,direction=_props$direction===void 0?0:_props$direction,_props$scale=props.scale,scale=_props$scale===void 0?1:_props$scale,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$style=props.style,style=_props$style===void 0?{}:_props$style,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutAvatarImageView_excluded);var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),avatarUrl=_useState2[0],setAvatarUrl=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),randomValue=_useState4[0],setRandomValue=_useState4[1];var isDisposed=Object(react[\"useRef\"])(false);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['avatar-image'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={};if(avatarUrl&&avatarUrl.length)newStyle.backgroundImage=\"url('\".concat(avatarUrl,\"')\");if(scale!==1){newStyle.transform=\"scale(\".concat(scale,\")\");if(!(scale%1))newStyle.imageRendering='pixelated';}if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[avatarUrl,scale,style]);Object(react[\"useEffect\"])(function(){var avatarImage=GetAvatarRenderManager().createAvatarImage(figure,nitro_renderer[\"q\" /* AvatarScaleType */].LARGE,gender,{resetFigure:function resetFigure(figure){if(isDisposed.current)return;setRandomValue(Math.random());},dispose:function dispose(){},disposed:false},null);if(!avatarImage)return;var setType=nitro_renderer[\"r\" /* AvatarSetType */].FULL;if(headOnly)setType=nitro_renderer[\"r\" /* AvatarSetType */].HEAD;avatarImage.setDirection(setType,direction);var image=avatarImage.getCroppedImage(setType);if(image)setAvatarUrl(image.src);avatarImage.dispose();},[figure,gender,direction,headOnly,randomValue]);Object(react[\"useEffect\"])(function(){isDisposed.current=false;return function(){isDisposed.current=true;};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,style:getStyle},rest));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutBackgroundImage.tsx\nvar LayoutBackgroundImage_excluded=[\"imageUrl\",\"fit\",\"style\"];var LayoutBackgroundImage_LayoutBackgroundImage=function LayoutBackgroundImage(props){var _props$imageUrl=props.imageUrl,imageUrl=_props$imageUrl===void 0?null:_props$imageUrl,_props$fit=props.fit,fit=_props$fit===void 0?true:_props$fit,_props$style=props.style,style=_props$style===void 0?null:_props$style,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutBackgroundImage_excluded);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle=Object(objectSpread2[\"a\" /* default */])({},style);if(imageUrl)newStyle.background=\"url(\".concat(imageUrl,\") center no-repeat\");return newStyle;},[style,imageUrl]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({fit:fit,style:getStyle},rest));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutBadgeImageView.tsx\nvar LayoutBadgeImageView_excluded=[\"badgeCode\",\"isGroup\",\"showInfo\",\"customTitle\",\"isGrayscale\",\"scale\",\"classNames\",\"style\",\"children\"];var LayoutBadgeImageView_LayoutBadgeImageView=function LayoutBadgeImageView(props){var _props$badgeCode=props.badgeCode,badgeCode=_props$badgeCode===void 0?null:_props$badgeCode,_props$isGroup=props.isGroup,isGroup=_props$isGroup===void 0?false:_props$isGroup,_props$showInfo=props.showInfo,showInfo=_props$showInfo===void 0?false:_props$showInfo,_props$customTitle=props.customTitle,customTitle=_props$customTitle===void 0?null:_props$customTitle,_props$isGrayscale=props.isGrayscale,isGrayscale=_props$isGrayscale===void 0?false:_props$isGrayscale,_props$scale=props.scale,scale=_props$scale===void 0?1:_props$scale,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$style=props.style,style=_props$style===void 0?{}:_props$style,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutBadgeImageView_excluded);var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageElement=_useState2[0],setImageElement=_useState2[1];var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['badge-image'];if(isGroup)newClassNames.push('group-badge');if(isGrayscale)newClassNames.push('grayscale');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames,isGroup,isGrayscale]);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={};if(imageElement){newStyle.backgroundImage=\"url('\".concat(isGroup||isGrayscale?imageElement.src:location.protocol+'//swfs.hgalaxy.net/c_images/album1584/'+badgeCode,\".gif')\");newStyle.width=imageElement.width;newStyle.height=imageElement.height;if(scale!==1){newStyle.transform=\"scale(\".concat(scale,\")\");if(!(scale%1))newStyle.imageRendering='pixelated';newStyle.width=imageElement.width*scale;newStyle.height=imageElement.height*scale;}}if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[imageElement,scale,style]);Object(react[\"useEffect\"])(function(){if(!badgeCode||!badgeCode.length)return;var didSetBadge=false;var onBadgeImageReadyEvent=function onBadgeImageReadyEvent(event){if(event.badgeId!==badgeCode)return;var element=nitro_renderer[\"Mh\" /* TextureUtils */].generateImage(new nitro_renderer[\"Ve\" /* NitroSprite */](event.image));element.onload=function(){return setImageElement(element);};didSetBadge=true;GetSessionDataManager().events.removeEventListener(nitro_renderer[\"s\" /* BadgeImageReadyEvent */].IMAGE_READY,onBadgeImageReadyEvent);};GetSessionDataManager().events.addEventListener(nitro_renderer[\"s\" /* BadgeImageReadyEvent */].IMAGE_READY,onBadgeImageReadyEvent);var texture=isGroup?GetSessionDataManager().getGroupBadgeImage(badgeCode):GetSessionDataManager().getBadgeImage(badgeCode);if(texture&&!didSetBadge){var element=nitro_renderer[\"Mh\" /* TextureUtils */].generateImage(new nitro_renderer[\"Ve\" /* NitroSprite */](texture));element.onload=function(){return setImageElement(element);};}return function(){return GetSessionDataManager().events.removeEventListener(nitro_renderer[\"s\" /* BadgeImageReadyEvent */].IMAGE_READY,onBadgeImageReadyEvent);};},[badgeCode,isGroup]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,style:getStyle},rest),{},{children:[showInfo&&GetConfiguration('badge.descriptions.enabled',true)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:\"badge-information text-black py-1 px-2 small\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fw-bold mb-1\",children:isGroup?customTitle:LocalizeBageName_LocalizeBadgeName(badgeCode)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:isGroup?LocalizeText('group.badgepopup.body'):LocalizeBadgeDescription_LocalizeBadgeDescription(badgeCode)})]}),children]}));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutCurrencyIcon.tsx\nvar LayoutCurrencyIcon_excluded=[\"type\",\"classNames\",\"style\"];var LayoutCurrencyIcon_LayoutCurrencyIcon=function LayoutCurrencyIcon(props){var _props$type=props.type,type=_props$type===void 0?'':_props$type,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$style=props.style,style=_props$style===void 0?{}:_props$style,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutCurrencyIcon_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-currency-icon'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);var urlString=Object(react[\"useMemo\"])(function(){var url=GetConfiguration('currency.asset.icon.url','');url=url.replace('%type%',type.toString());return\"url(\".concat(url,\")\");},[type]);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={};newStyle.backgroundImage=urlString;if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[style,urlString]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,style:getStyle},rest));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutFurniIconImageView.tsx\nvar LayoutFurniIconImageView_excluded=[\"productType\",\"productClassId\",\"extraData\"];var LayoutFurniIconImageView_LayoutFurniIconImageView=function LayoutFurniIconImageView(props){var _props$productType=props.productType,productType=_props$productType===void 0?'s':_props$productType,_props$productClassId=props.productClassId,productClassId=_props$productClassId===void 0?-1:_props$productClassId,_props$extraData=props.extraData,extraData=_props$extraData===void 0?'':_props$extraData,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutFurniIconImageView_excluded);var getImageIconUrl=function getImageIconUrl(){var imageUrl=null;switch(productType.toLocaleLowerCase()){case ProductTypeEnum_ProductTypeEnum.FLOOR:imageUrl=GetRoomEngine().getFurnitureFloorIconUrl(productClassId);break;case ProductTypeEnum_ProductTypeEnum.WALL:imageUrl=GetRoomEngine().getFurnitureWallIconUrl(productClassId,extraData);break;}return imageUrl;};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage_LayoutImage,Object(objectSpread2[\"a\" /* default */])({imageUrl:getImageIconUrl(),className:\"furni-image\"},rest));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutFurniImageView.tsx\nvar LayoutFurniImageView_excluded=[\"productType\",\"productClassId\",\"direction\",\"extraData\",\"scale\",\"style\"];var LayoutFurniImageView_LayoutFurniImageView=function LayoutFurniImageView(props){var _props$productType=props.productType,productType=_props$productType===void 0?'s':_props$productType,_props$productClassId=props.productClassId,productClassId=_props$productClassId===void 0?-1:_props$productClassId,_props$direction=props.direction,direction=_props$direction===void 0?2:_props$direction,_props$extraData=props.extraData,extraData=_props$extraData===void 0?'':_props$extraData,_props$scale=props.scale,scale=_props$scale===void 0?1:_props$scale,_props$style=props.style,style=_props$style===void 0?{}:_props$style,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutFurniImageView_excluded);var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageElement=_useState2[0],setImageElement=_useState2[1];var getStyle=Object(react[\"useMemo\"])(function(){var _imageElement$src;var newStyle={};if(imageElement!==null&&imageElement!==void 0&&(_imageElement$src=imageElement.src)!==null&&_imageElement$src!==void 0&&_imageElement$src.length){newStyle.backgroundImage=\"url('\".concat(imageElement.src,\"')\");newStyle.width=imageElement.width;newStyle.height=imageElement.height;}if(scale!==1){newStyle.transform=\"scale(\".concat(scale,\")\");if(!(scale%1))newStyle.imageRendering='pixelated';}if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[imageElement,scale,style]);var buildImage=Object(react[\"useCallback\"])(function(){var imageResult=null;var listener={imageReady:function imageReady(id,texture,image){if(!image&&texture){image=nitro_renderer[\"Mh\" /* TextureUtils */].generateImage(texture);}image.onload=function(){return setImageElement(image);};},imageFailed:null};switch(productType.toLocaleLowerCase()){case ProductTypeEnum_ProductTypeEnum.FLOOR:imageResult=GetRoomEngine().getFurnitureFloorImage(productClassId,new nitro_renderer[\"Oi\" /* Vector3d */](direction),64,listener,0,extraData);break;case ProductTypeEnum_ProductTypeEnum.WALL:imageResult=GetRoomEngine().getFurnitureWallImage(productClassId,new nitro_renderer[\"Oi\" /* Vector3d */](direction),64,listener,0,extraData);break;}if(imageResult){var image=imageResult.getImage();image.onload=function(){return setImageElement(image);};}},[productType,productClassId,direction,extraData]);Object(react[\"useEffect\"])(function(){buildImage();},[buildImage]);if(!imageElement)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({classNames:['furni-image'],style:getStyle},rest));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutGiftTagView.tsx\nvar LayoutGiftTagView_LayoutGiftTagView=function LayoutGiftTagView(props){var _props$figure=props.figure,figure=_props$figure===void 0?null:_props$figure,_props$userName=props.userName,userName=_props$userName===void 0?null:_props$userName,_props$message=props.message,message=_props$message===void 0?null:_props$message,_props$editable=props.editable,editable=_props$editable===void 0?false:_props$editable,_props$onChange=props.onChange,_onChange=_props$onChange===void 0?null:_props$onChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{overflow:\"hidden\",className:\"nitro-gift-card text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center justify-content-center gift-face flex-shrink-0\",children:[!userName&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"gift-incognito\"}),figure&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"gift-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:figure,direction:2,headOnly:true})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{overflow:\"hidden\",className:\"w-100 pt-4 pb-4 pe-4 ps-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,overflow:\"auto\",justifyContent:\"between\",children:[!editable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{textBreak:true,className:\"gift-message\",children:message}),editable&&_onChange!==null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"gift-message h-100\",maxLength:140,value:message,onChange:function onChange(e){return _onChange(e.target.value);},placeholder:LocalizeText('catalog.gift_wrapping_new.message_hint')}),userName&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{italics:true,textEnd:true,className:\"pe-1\",children:LocalizeText('catalog.gift_wrapping_new.message_from',['name'],[userName])})]})})]});};\n// CONCATENATED MODULE: ./src/common/Column.tsx\nvar Column_excluded=[\"size\",\"offset\",\"column\",\"gap\",\"classNames\"];var Column_Column=function Column(props){var _props$size=props.size,size=_props$size===void 0?0:_props$size,_props$offset=props.offset,offset=_props$offset===void 0?0:_props$offset,_props$column=props.column,column=_props$column===void 0?true:_props$column,_props$gap=props.gap,gap=_props$gap===void 0?2:_props$gap,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,Column_excluded);var _useGridContext=GridContext_useGridContext(),_useGridContext$isCss=_useGridContext.isCssGrid,isCssGrid=_useGridContext$isCss===void 0?false:_useGridContext$isCss;var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=[];if(size){var colClassName=\"col-\".concat(size);if(isCssGrid)colClassName=\"g-\".concat(colClassName);newClassNames.push(colClassName);}if(offset){var _colClassName=\"offset-\".concat(offset);if(isCssGrid)_colClassName=\"g-start-\".concat(offset);newClassNames.push(_colClassName);}if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[size,offset,isCssGrid,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,column:column,gap:gap},rest));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutItemCountView.tsx\nvar LayoutItemCountView_excluded=[\"count\",\"position\",\"classNames\",\"children\"];var LayoutItemCountView_LayoutItemCountView=function LayoutItemCountView(props){var _props$count=props.count,count=_props$count===void 0?0:_props$count,_props$position=props.position,position=_props$position===void 0?'absolute':_props$position,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutItemCountView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['badge','border','border-black','bg-danger','px-1','nitro-item-count'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({position:\"absolute\",classNames:getClassNames},rest),{},{children:[count,children]}));};\n// CONCATENATED MODULE: ./src/common/layout/limited-edition/LayoutLimitedEditionStyledNumberView.tsx\nvar LayoutLimitedEditionStyledNumberView_LayoutLimitedEditionStyledNumberView=function LayoutLimitedEditionStyledNumberView(props){var _props$value=props.value,value=_props$value===void 0?0:_props$value;var numbers=value.toString().split('');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:numbers.map(function(number,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'limited-edition-number n-'+number},index);})});};\n// CONCATENATED MODULE: ./src/common/layout/limited-edition/LayoutLimitedEditionCompactPlateView.tsx\nvar LayoutLimitedEditionCompactPlateView_excluded=[\"uniqueNumber\",\"uniqueSeries\",\"classNames\",\"children\"];var LayoutLimitedEditionCompactPlateView_LayoutLimitedEditionCompactPlateView=function LayoutLimitedEditionCompactPlateView(props){var _props$uniqueNumber=props.uniqueNumber,uniqueNumber=_props$uniqueNumber===void 0?0:_props$uniqueNumber,_props$uniqueSeries=props.uniqueSeries,uniqueSeries=_props$uniqueSeries===void 0?0:_props$uniqueSeries,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutLimitedEditionCompactPlateView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['unique-compact-plate','z-index-1'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView_LayoutLimitedEditionStyledNumberView,{value:uniqueNumber})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView_LayoutLimitedEditionStyledNumberView,{value:uniqueSeries})}),children]}));};\n// CONCATENATED MODULE: ./src/common/layout/limited-edition/LayoutLimitedEditionCompletePlateView.tsx\nvar LayoutLimitedEditionCompletePlateView_excluded=[\"uniqueLimitedItemsLeft\",\"uniqueLimitedSeriesSize\",\"classNames\"];var LayoutLimitedEditionCompletePlateView_LayoutLimitedEditionCompletePlateView=function LayoutLimitedEditionCompletePlateView(props){var _props$uniqueLimitedI=props.uniqueLimitedItemsLeft,uniqueLimitedItemsLeft=_props$uniqueLimitedI===void 0?0:_props$uniqueLimitedI,_props$uniqueLimitedS=props.uniqueLimitedSeriesSize,uniqueLimitedSeriesSize=_props$uniqueLimitedS===void 0?0:_props$uniqueLimitedS,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutLimitedEditionCompletePlateView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['unique-complete-plate'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames},rest),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"plate-container\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",children:[LocalizeText('unique.items.left'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView_LayoutLimitedEditionStyledNumberView,{value:uniqueLimitedItemsLeft})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",children:[LocalizeText('unique.items.number.sold'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView_LayoutLimitedEditionStyledNumberView,{value:uniqueLimitedSeriesSize})})]})]})}));};\n// CONCATENATED MODULE: ./src/common/layout/limited-edition/index.ts\n\n// CONCATENATED MODULE: ./src/common/layout/LayoutGridItem.tsx\nvar LayoutGridItem_excluded=[\"itemImage\",\"itemColor\",\"itemActive\",\"itemCount\",\"itemCountMinimum\",\"itemUniqueSoldout\",\"itemUniqueNumber\",\"itemUnseen\",\"itemHighlight\",\"disabled\",\"center\",\"column\",\"style\",\"classNames\",\"position\",\"overflow\",\"children\"];var LayoutGridItem_LayoutGridItem=function LayoutGridItem(props){var _props$itemImage=props.itemImage,itemImage=_props$itemImage===void 0?undefined:_props$itemImage,_props$itemColor=props.itemColor,itemColor=_props$itemColor===void 0?undefined:_props$itemColor,_props$itemActive=props.itemActive,itemActive=_props$itemActive===void 0?false:_props$itemActive,_props$itemCount=props.itemCount,itemCount=_props$itemCount===void 0?1:_props$itemCount,_props$itemCountMinim=props.itemCountMinimum,itemCountMinimum=_props$itemCountMinim===void 0?1:_props$itemCountMinim,_props$itemUniqueSold=props.itemUniqueSoldout,itemUniqueSoldout=_props$itemUniqueSold===void 0?false:_props$itemUniqueSold,_props$itemUniqueNumb=props.itemUniqueNumber,itemUniqueNumber=_props$itemUniqueNumb===void 0?-2:_props$itemUniqueNumb,_props$itemUnseen=props.itemUnseen,itemUnseen=_props$itemUnseen===void 0?false:_props$itemUnseen,_props$itemHighlight=props.itemHighlight,itemHighlight=_props$itemHighlight===void 0?false:_props$itemHighlight,_props$disabled=props.disabled,disabled=_props$disabled===void 0?false:_props$disabled,_props$center=props.center,center=_props$center===void 0?true:_props$center,_props$column=props.column,column=_props$column===void 0?true:_props$column,_props$style=props.style,style=_props$style===void 0?{}:_props$style,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$position=props.position,position=_props$position===void 0?'relative':_props$position,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutGridItem_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['layout-grid-item','border','border-2','border-muted','rounded'];if(itemActive)newClassNames.push('active');if(itemUniqueSoldout||itemUniqueNumber>0)newClassNames.push('unique-item');if(itemUniqueSoldout)newClassNames.push('sold-out');if(itemUnseen)newClassNames.push('unseen');if(itemHighlight)newClassNames.push('has-highlight');if(disabled)newClassNames.push('disabled');if(itemImage===null)newClassNames.push('icon','loading-icon');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[itemActive,itemUniqueSoldout,itemUniqueNumber,itemUnseen,itemHighlight,disabled,itemImage,classNames]);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle=Object(objectSpread2[\"a\" /* default */])({},style);if(itemImage)newStyle.backgroundImage=\"url(\".concat(itemImage,\")\");if(itemColor)newStyle.backgroundColor=itemColor;if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[style,itemImage,itemColor]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({center:center,pointer:true,position:position,overflow:overflow,column:column,classNames:getClassNames,style:getStyle},rest),{},{children:[itemCount>itemCountMinimum&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView_LayoutItemCountView,{count:itemCount}),itemUniqueNumber>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fit:true,className:\"unique-bg-override\",style:{backgroundImage:\"url(\".concat(itemImage,\")\")}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute bottom-0 unique-item-counter\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionStyledNumberView_LayoutLimitedEditionStyledNumberView,{value:itemUniqueNumber})})]}),children]}));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutImage.tsx\nvar LayoutImage_excluded=[\"imageUrl\"];var LayoutImage_LayoutImage=function LayoutImage(props){var _props$imageUrl=props.imageUrl,imageUrl=_props$imageUrl===void 0?null:_props$imageUrl,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutImage_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",Object(objectSpread2[\"a\" /* default */])({src:imageUrl,alt:\"\"},rest));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutLoadingSpinnerView.tsx\nvar LayoutLoadingSpinnerView_LayoutLoadingSpinnerView=function LayoutLoadingSpinnerView(props){var rest=Object.assign({},props);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({classNames:['spinner-container']},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"spinner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"spinner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"spinner\"})]}));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutMiniCameraView.tsx\nvar LayoutMiniCameraView_LayoutMiniCameraView=function LayoutMiniCameraView(props){var _props$roomId=props.roomId,roomId=_props$roomId===void 0?-1:_props$roomId,_props$textureReceive=props.textureReceiver,textureReceiver=_props$textureReceive===void 0?null:_props$textureReceive,_props$onClose=props.onClose,onClose=_props$onClose===void 0?null:_props$onClose;var elementRef=Object(react[\"useRef\"])();var getCameraBounds=Object(react[\"useCallback\"])(function(){if(!elementRef||!elementRef.current)return null;var frameBounds=elementRef.current.getBoundingClientRect();return new nitro_renderer[\"Te\" /* NitroRectangle */](Math.floor(frameBounds.x),Math.floor(frameBounds.y),Math.floor(frameBounds.width),Math.floor(frameBounds.height));},[]);var takePicture=Object(react[\"useCallback\"])(function(){PlaySound_PlaySound(SoundNames_SoundNames.CAMERA_SHUTTER);textureReceiver(GetRoomEngine().createTextureFromRoom(roomId,1,getCameraBounds()));},[roomId,getCameraBounds,textureReceiver]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow_DraggableWindow,{handleSelector:\".nitro-room-thumbnail-camera\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nitro-room-thumbnail-camera px-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:elementRef,className:'camera-frame'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-end h-100 pb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-sm btn-danger w-100 mb-1 me-2\",onClick:onClose,children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-sm btn-success w-100 mb-1\",onClick:takePicture,children:LocalizeText('navigator.thumbeditor.save')})]})]})});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutNotificationAlertView.tsx\nvar LayoutNotificationAlertView_excluded=[\"title\",\"close\",\"classNames\",\"children\",\"type\"];var LayoutNotificationAlertView_LayoutNotificationAlertView=function LayoutNotificationAlertView(props){var _props$title=props.title,title=_props$title===void 0?'':_props$title,_props$close=props.close,close=_props$close===void 0?null:_props$close,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,_props$type=props.type,type=_props$type===void 0?NotificationAlertType_NotificationAlertType.DEFAULT:_props$type,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutNotificationAlertView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-alert'];newClassNames.push('nitro-alert-'+type);if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames,type]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,theme:\"primary-slim\"},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:title,onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{grow:true,justifyContent:\"between\",overflow:\"hidden\",className:\"text-black\",gap:0,children:children})]}));};\n// EXTERNAL MODULE: ./node_modules/react-transition-group/esm/Transition.js + 2 modules\nvar Transition = __webpack_require__(40);\n\n// CONCATENATED MODULE: ./src/common/transitions/TransitionAnimationTypes.ts\nvar TransitionAnimationTypes_TransitionAnimationTypes=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function TransitionAnimationTypes(){Object(classCallCheck[\"a\" /* default */])(this,TransitionAnimationTypes);});TransitionAnimationTypes_TransitionAnimationTypes.BOUNCE='bounce';TransitionAnimationTypes_TransitionAnimationTypes.SLIDE_LEFT='slideLeft';TransitionAnimationTypes_TransitionAnimationTypes.SLIDE_RIGHT='slideRight';TransitionAnimationTypes_TransitionAnimationTypes.FLIP_X='flipX';TransitionAnimationTypes_TransitionAnimationTypes.FADE_IN='fadeIn';TransitionAnimationTypes_TransitionAnimationTypes.FADE_DOWN='fadeDown';TransitionAnimationTypes_TransitionAnimationTypes.FADE_UP='fadeUp';TransitionAnimationTypes_TransitionAnimationTypes.HEAD_SHAKE='headShake';\n// CONCATENATED MODULE: ./src/common/transitions/TransitionAnimationStyles.ts\nfunction getTransitionAnimationStyle(type,transition){var timeout=arguments.length>2&&arguments[2]!==undefined?arguments[2]:300;switch(type){case TransitionAnimationTypes_TransitionAnimationTypes.BOUNCE:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'bounceIn',animationDuration:\"\".concat(timeout,\"ms\")};case Transition[\"c\" /* EXITING */]:return{animationName:'bounceOut',animationDuration:\"\".concat(timeout,\"ms\")};}case TransitionAnimationTypes_TransitionAnimationTypes.SLIDE_LEFT:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'slideInLeft',animationDuration:\"\".concat(timeout,\"ms\")};case Transition[\"c\" /* EXITING */]:return{animationName:'slideOutLeft',animationDuration:\"\".concat(timeout,\"ms\")};}case TransitionAnimationTypes_TransitionAnimationTypes.SLIDE_RIGHT:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'slideInRight',animationDuration:\"\".concat(timeout,\"ms\")};case Transition[\"c\" /* EXITING */]:return{animationName:'slideOutRight',animationDuration:\"\".concat(timeout,\"ms\")};}case TransitionAnimationTypes_TransitionAnimationTypes.FLIP_X:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'flipInX',animationDuration:\"\".concat(timeout,\"ms\")};case Transition[\"c\" /* EXITING */]:return{animationName:'flipOutX',animationDuration:\"\".concat(timeout,\"ms\")};}case TransitionAnimationTypes_TransitionAnimationTypes.FADE_UP:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'fadeInUp',animationDuration:\"\".concat(timeout,\"ms\")};case Transition[\"c\" /* EXITING */]:return{animationName:'fadeOutDown',animationDuration:\"\".concat(timeout,\"ms\")};}case TransitionAnimationTypes_TransitionAnimationTypes.FADE_IN:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'fadeIn',animationDuration:\"\".concat(timeout,\"ms\")};case Transition[\"c\" /* EXITING */]:return{animationName:'fadeOut',animationDuration:\"\".concat(timeout,\"ms\")};}case TransitionAnimationTypes_TransitionAnimationTypes.FADE_DOWN:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'fadeInDown',animationDuration:\"\".concat(timeout,\"ms\")};case Transition[\"c\" /* EXITING */]:return{animationName:'fadeOutUp',animationDuration:\"\".concat(timeout,\"ms\")};}case TransitionAnimationTypes_TransitionAnimationTypes.HEAD_SHAKE:switch(transition){default:return{};case Transition[\"b\" /* ENTERING */]:return{animationName:'headShake',animationDuration:\"\".concat(timeout,\"ms\")};}}return null;}\n// CONCATENATED MODULE: ./src/common/transitions/TransitionAnimation.tsx\nvar TransitionAnimation_TransitionAnimation=function TransitionAnimation(props){var _props$type=props.type,type=_props$type===void 0?null:_props$type,_props$inProp=props.inProp,inProp=_props$inProp===void 0?false:_props$inProp,_props$timeout=props.timeout,timeout=_props$timeout===void 0?300:_props$timeout,_props$className=props.className,className=_props$className===void 0?null:_props$className,_props$children=props.children,_children=_props$children===void 0?null:_props$children;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isChildrenVisible=_useState2[0],setChildrenVisible=_useState2[1];Object(react[\"useEffect\"])(function(){var timeoutData=null;if(inProp){setChildrenVisible(true);}else{timeoutData=setTimeout(function(){setChildrenVisible(false);clearTimeout(timeout);},timeout);}return function(){if(timeoutData)clearTimeout(timeoutData);};},[inProp,timeout]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Transition[\"d\" /* default */],{in:inProp,timeout:timeout,children:function children(state){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:(className!==null&&className!==void 0?className:'')+' animate__animated',style:Object(objectSpread2[\"a\" /* default */])({},getTransitionAnimationStyle(type,state,timeout)),children:isChildrenVisible&&_children});}});};\n// CONCATENATED MODULE: ./src/common/transitions/index.ts\n\n// CONCATENATED MODULE: ./src/common/layout/LayoutNotificationBubbleView.tsx\nvar LayoutNotificationBubbleView_excluded=[\"fadesOut\",\"timeoutMs\",\"close\",\"overflow\",\"classNames\"];var LayoutNotificationBubbleView_LayoutNotificationBubbleView=function LayoutNotificationBubbleView(props){var _props$fadesOut=props.fadesOut,fadesOut=_props$fadesOut===void 0?true:_props$fadesOut,_props$timeoutMs=props.timeoutMs,timeoutMs=_props$timeoutMs===void 0?8000:_props$timeoutMs,_props$close=props.close,close=_props$close===void 0?null:_props$close,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutNotificationBubbleView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-notification-bubble','rounded','animate__animated animate__backInRight'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);Object(react[\"useEffect\"])(function(){setIsVisible(true);return function(){return setIsVisible(false);};},[]);Object(react[\"useEffect\"])(function(){if(!fadesOut)return;var timeout=setTimeout(function(){setIsVisible(false);setTimeout(function(){return close();},300);},timeoutMs);return function(){return clearTimeout(timeout);};},[fadesOut,timeoutMs,close]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation_TransitionAnimation,{type:TransitionAnimationTypes_TransitionAnimationTypes.FADE_IN,inProp:isVisible,timeout:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])({overflow:overflow,classNames:getClassNames,onClick:close},rest))});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutPetImageView.tsx\nvar LayoutPetImageView_excluded=[\"figure\",\"typeId\",\"paletteId\",\"petColor\",\"customParts\",\"posture\",\"headOnly\",\"direction\",\"scale\",\"style\"];var LayoutPetImageView_LayoutPetImageView=function LayoutPetImageView(props){var _props$figure=props.figure,figure=_props$figure===void 0?'':_props$figure,_props$typeId=props.typeId,typeId=_props$typeId===void 0?-1:_props$typeId,_props$paletteId=props.paletteId,paletteId=_props$paletteId===void 0?-1:_props$paletteId,_props$petColor=props.petColor,petColor=_props$petColor===void 0?0xFFFFFF:_props$petColor,_props$customParts=props.customParts,customParts=_props$customParts===void 0?[]:_props$customParts,_props$posture=props.posture,posture=_props$posture===void 0?'std':_props$posture,_props$headOnly=props.headOnly,headOnly=_props$headOnly===void 0?false:_props$headOnly,_props$direction=props.direction,direction=_props$direction===void 0?0:_props$direction,_props$scale=props.scale,scale=_props$scale===void 0?1:_props$scale,_props$style=props.style,style=_props$style===void 0?{}:_props$style,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutPetImageView_excluded);var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),petUrl=_useState2[0],setPetUrl=_useState2[1];var isDisposed=Object(react[\"useRef\"])(false);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={};if(petUrl&&petUrl.length)newStyle.backgroundImage=\"url(\".concat(petUrl,\")\");if(scale!==1){newStyle.transform=\"scale(\".concat(scale,\")\");if(!(scale%1))newStyle.imageRendering='pixelated';}if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[petUrl,scale,style]);Object(react[\"useEffect\"])(function(){var url=null;var petTypeId=typeId;var petPaletteId=paletteId;var petColor1=petColor;var petCustomParts=customParts;var petHeadOnly=headOnly;if(figure&&figure.length){var petFigureData=new nitro_renderer[\"jf\" /* PetFigureData */](figure);petTypeId=petFigureData.typeId;petPaletteId=petFigureData.paletteId;petColor1=petFigureData.color;petCustomParts=petFigureData.customParts;}if(petTypeId===16)petHeadOnly=false;var imageResult=GetRoomEngine().getRoomObjectPetImage(petTypeId,petPaletteId,petColor1,new nitro_renderer[\"Oi\" /* Vector3d */](direction*45),64,{imageReady:function imageReady(id,texture,image){if(isDisposed.current)return;if(image)setPetUrl(image.src);else if(texture)setPetUrl(nitro_renderer[\"Mh\" /* TextureUtils */].generateImageUrl(texture));},imageFailed:function imageFailed(id){}},petHeadOnly,0,petCustomParts,posture);if(imageResult){var image=imageResult.getImage();if(image)setPetUrl(image.src);}},[figure,typeId,paletteId,petColor,customParts,posture,headOnly,direction]);Object(react[\"useEffect\"])(function(){isDisposed.current=false;return function(){isDisposed.current=true;};},[]);var url=\"url('\".concat(petUrl,\"')\");return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({classNames:['pet-image'],style:getStyle},rest));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutProgressBar.tsx\nvar LayoutProgressBar_excluded=[\"text\",\"progress\",\"maxProgress\",\"position\",\"justifyContent\",\"classNames\",\"children\"];var LayoutProgressBar_LayoutProgressBar=function LayoutProgressBar(props){var _props$text=props.text,text=_props$text===void 0?'':_props$text,_props$progress=props.progress,progress=_props$progress===void 0?0:_props$progress,_props$maxProgress=props.maxProgress,maxProgress=_props$maxProgress===void 0?100:_props$maxProgress,_props$position=props.position,position=_props$position===void 0?'relative':_props$position,_props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?'center':_props$justifyContent,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutProgressBar_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-progress-bar','text-white'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({position:position,justifyContent:justifyContent,classNames:getClassNames},rest),{},{children:[text&&text.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{fit:true,center:true,position:\"absolute\",className:\"nitro-progress-bar-text small\",children:text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-progress-bar-inner\",style:{width:~~((progress-0)*(100-0)/(maxProgress-0)+0)+'%'}}),children]}));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutRarityLevelView.tsx\nvar LayoutRarityLevelView_excluded=[\"level\",\"classNames\",\"children\"];var LayoutRarityLevelView_LayoutRarityLevelView=function LayoutRarityLevelView(props){var _props$level=props.level,level=_props$level===void 0?0:_props$level,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutRarityLevelView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-rarity-level'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:level}),children]}));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutRoomPreviewerView.tsx\nvar LayoutRoomPreviewerView_LayoutRoomPreviewerView=function LayoutRoomPreviewerView(props){var _props$roomPreviewer=props.roomPreviewer,roomPreviewer=_props$roomPreviewer===void 0?null:_props$roomPreviewer,_props$height=props.height,height=_props$height===void 0?0:_props$height,_props$children=props.children,children=_props$children===void 0?null:_props$children;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),renderingCanvas=_useState2[0],setRenderingCanvas=_useState2[1];var elementRef=Object(react[\"useRef\"])();var onClick=function onClick(event){if(!roomPreviewer)return;if(event.shiftKey){roomPreviewer.changeRoomObjectDirection();}else{roomPreviewer.changeRoomObjectState();}};var update=Object(react[\"useCallback\"])(function(time){if(!roomPreviewer||!renderingCanvas||!elementRef.current)return;roomPreviewer.updatePreviewRoomView();if(!renderingCanvas.canvasUpdated)return;elementRef.current.style.backgroundImage=\"url(\".concat(nitro_renderer[\"Mh\" /* TextureUtils */].generateImageUrl(renderingCanvas.master),\")\");},[roomPreviewer,renderingCanvas,elementRef]);var setupPreviewer=Object(react[\"useCallback\"])(function(){if(!elementRef.current||!roomPreviewer)return;var computed=document.defaultView.getComputedStyle(elementRef.current,null);var backgroundColor=computed.backgroundColor;backgroundColor=nitro_renderer[\"ib\" /* ColorConverter */].rgbStringToHex(backgroundColor);backgroundColor=backgroundColor.replace('#','0x');roomPreviewer.backgroundColor=parseInt(backgroundColor,16);var width=elementRef.current.parentElement.clientWidth;roomPreviewer.getRoomCanvas(width,height);var canvas=roomPreviewer.getRenderingCanvas();setRenderingCanvas(canvas);canvas.canvasUpdated=true;update(-1);},[elementRef,height,roomPreviewer,update]);Object(react[\"useEffect\"])(function(){if(!roomPreviewer)return;if(!renderingCanvas)setupPreviewer();GetNitroInstance().ticker.add(update);var resizeObserver=new ResizeObserver(function(){if(!roomPreviewer||!elementRef.current)return;var width=elementRef.current.parentElement.offsetWidth;roomPreviewer.modifyRoomCanvas(width,height);update(-1);});resizeObserver.observe(elementRef.current);return function(){resizeObserver.disconnect();GetNitroInstance().ticker.remove(update);};},[renderingCanvas,roomPreviewer,elementRef,height,setupPreviewer,update]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"room-preview-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:elementRef,className:\"room-preview-image\",style:{height:height},onClick:onClick}),children]});};\n// CONCATENATED MODULE: ./src/common/layout/LayoutRoomThumbnailView.tsx\nvar LayoutRoomThumbnailView_excluded=[\"roomId\",\"customUrl\",\"shrink\",\"overflow\",\"classNames\",\"children\"];var LayoutRoomThumbnailView_LayoutRoomThumbnailView=function LayoutRoomThumbnailView(props){var _props$roomId=props.roomId,roomId=_props$roomId===void 0?-1:_props$roomId,_props$customUrl=props.customUrl,customUrl=_props$customUrl===void 0?null:_props$customUrl,_props$shrink=props.shrink,shrink=_props$shrink===void 0?true:_props$shrink,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,LayoutRoomThumbnailView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['room-thumbnail','rounded','border'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);var getImageUrl=Object(react[\"useMemo\"])(function(){if(customUrl&&customUrl.length)return GetConfiguration('image.library.url')+customUrl;return GetConfiguration('thumbnails.url').replace('%thumbnail%',roomId.toString());},[customUrl,roomId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({shrink:shrink,overflow:overflow,classNames:getClassNames},rest),{},{children:[getImageUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:getImageUrl}),children]}));};\n// CONCATENATED MODULE: ./src/common/layout/LayoutTrophyView.tsx\nvar LayoutTrophyView_LayoutTrophyView=function LayoutTrophyView(props){var _props$color=props.color,color=_props$color===void 0?'':_props$color,_props$message=props.message,message=_props$message===void 0?'':_props$message,_props$date=props.date,date=_props$date===void 0?'':_props$date,_props$senderName=props.senderName,senderName=_props$senderName===void 0?'':_props$senderName,_props$customTitle=props.customTitle,customTitle=_props$customTitle===void 0?null:_props$customTitle,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow_DraggableWindow,{handleSelector:\".drag-handler\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,alignItems:\"center\",className:\"nitro-layout-trophy trophy-\".concat(color),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,fullWidth:true,position:\"relative\",className:\"trophy-header drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{position:\"absolute\",pointer:true,className:\"trophy-close\",onClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('widget.furni.trophy.title')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"trophy-content py-1\",gap:1,children:[customTitle&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:customTitle}),message]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",className:\"trophy-footer mt-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:date}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:senderName})]})]})});};\n// CONCATENATED MODULE: ./src/common/layout/UserProfileIconView.tsx\nvar UserProfileIconView_excluded=[\"userId\",\"userName\",\"classNames\",\"pointer\",\"children\"];var UserProfileIconView_UserProfileIconView=function UserProfileIconView(props){var _props$userId=props.userId,userId=_props$userId===void 0?0:_props$userId,_props$userName=props.userName,userName=_props$userName===void 0?null:_props$userName,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$pointer=props.pointer,pointer=_props$pointer===void 0?true:_props$pointer,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,UserProfileIconView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-friends-spritesheet','icon-profile-sm'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,pointer:pointer,onClick:function onClick(event){return GetUserProfile(userId);}},rest),{},{children:children}));};\n// CONCATENATED MODULE: ./src/common/layout/index.ts\n\n// CONCATENATED MODULE: ./src/common/card/tabs/NitroCardTabsItemView.tsx\nvar NitroCardTabsItemView_excluded=[\"isActive\",\"count\",\"overflow\",\"position\",\"pointer\",\"classNames\",\"children\"];var NitroCardTabsItemView_NitroCardTabsItemView=function NitroCardTabsItemView(props){var _props$isActive=props.isActive,isActive=_props$isActive===void 0?false:_props$isActive,_props$count=props.count,count=_props$count===void 0?0:_props$count,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,_props$position=props.position,position=_props$position===void 0?'relative':_props$position,_props$pointer=props.pointer,pointer=_props$pointer===void 0?true:_props$pointer,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroCardTabsItemView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nav-item','rounded-top','border'];if(isActive)newClassNames.push('active');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[isActive,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({overflow:overflow,pointer:pointer,position:position,classNames:getClassNames},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{shrink:true,center:true,children:children}),count>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView_LayoutItemCountView,{count:count})]}));};\n// CONCATENATED MODULE: ./src/common/card/tabs/NitroCardTabsView.tsx\nvar NitroCardTabsView_excluded=[\"justifyContent\",\"gap\",\"classNames\",\"children\"];var NitroCardTabsView_NitroCardTabsView=function NitroCardTabsView(props){var _props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?'center':_props$justifyContent,_props$gap=props.gap,gap=_props$gap===void 0?1:_props$gap,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroCardTabsView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['container-fluid','nitro-card-tabs','pt-1'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({justifyContent:justifyContent,gap:gap,classNames:getClassNames},rest),{},{children:children}));};\n// CONCATENATED MODULE: ./src/common/card/tabs/index.ts\n\n// CONCATENATED MODULE: ./src/common/card/index.ts\n\n// CONCATENATED MODULE: ./src/common/FormGroup.tsx\nvar FormGroup_excluded=[\"classNames\"];var FormGroup_FormGroup=function FormGroup(props){var _props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,FormGroup_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['form-group'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames},rest));};\n// CONCATENATED MODULE: ./src/common/HorizontalRule.tsx\nvar HorizontalRule_excluded=[\"variant\",\"height\",\"classNames\",\"style\"];var HorizontalRule_HorizontalRule=function HorizontalRule(props){var _props$variant=props.variant,variant=_props$variant===void 0?'black':_props$variant,_props$height=props.height,height=_props$height===void 0?1:_props$height,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$style=props.style,style=_props$style===void 0?{}:_props$style,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,HorizontalRule_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=[];if(variant)newClassNames.push('bg-'+variant);if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[variant,classNames]);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={display:'list-item'};if(height>0)newStyle.height=height;if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[height,style]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames,style:getStyle},rest));};\n// CONCATENATED MODULE: ./src/common/Text.tsx\nvar Text_excluded=[\"variant\",\"fontWeight\",\"fontSize\",\"align\",\"bold\",\"underline\",\"italics\",\"truncate\",\"center\",\"textEnd\",\"small\",\"wrap\",\"noWrap\",\"textBreak\"];var Text_Text=function Text(props){var _props$variant=props.variant,variant=_props$variant===void 0?'black':_props$variant,_props$fontWeight=props.fontWeight,fontWeight=_props$fontWeight===void 0?null:_props$fontWeight,_props$fontSize=props.fontSize,fontSize=_props$fontSize===void 0?0:_props$fontSize,_props$align=props.align,align=_props$align===void 0?null:_props$align,_props$bold=props.bold,bold=_props$bold===void 0?false:_props$bold,_props$underline=props.underline,underline=_props$underline===void 0?false:_props$underline,_props$italics=props.italics,italics=_props$italics===void 0?false:_props$italics,_props$truncate=props.truncate,truncate=_props$truncate===void 0?false:_props$truncate,_props$center=props.center,center=_props$center===void 0?false:_props$center,_props$textEnd=props.textEnd,textEnd=_props$textEnd===void 0?false:_props$textEnd,_props$small=props.small,small=_props$small===void 0?false:_props$small,_props$wrap=props.wrap,wrap=_props$wrap===void 0?false:_props$wrap,_props$noWrap=props.noWrap,noWrap=_props$noWrap===void 0?false:_props$noWrap,_props$textBreak=props.textBreak,textBreak=_props$textBreak===void 0?false:_props$textBreak,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,Text_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['d-inline'];if(variant)newClassNames.push('text-'+variant);if(bold)newClassNames.push('fw-bold');if(fontWeight)newClassNames.push('fw-'+fontWeight);if(fontSize)newClassNames.push('fs-'+fontSize);if(align)newClassNames.push('text-'+align);if(underline)newClassNames.push('text-decoration-underline');if(italics)newClassNames.push('fst-italic');if(truncate)newClassNames.push('text-truncate');if(center)newClassNames.push('text-center');if(textEnd)newClassNames.push('text-end');if(small)newClassNames.push('small');if(wrap)newClassNames.push('text-wrap');if(noWrap)newClassNames.push('text-nowrap');if(textBreak)newClassNames.push('text-break');return newClassNames;},[variant,fontWeight,fontSize,align,bold,underline,italics,truncate,center,textEnd,small,wrap,noWrap,textBreak]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames},rest));};\n// CONCATENATED MODULE: ./src/common/types/AlignItemType.ts\n\n// CONCATENATED MODULE: ./src/common/types/AlignSelfType.ts\n\n// CONCATENATED MODULE: ./src/common/types/ButtonSizeType.ts\n\n// CONCATENATED MODULE: ./src/common/types/ColorVariantType.ts\n\n// CONCATENATED MODULE: ./src/common/types/ColumnSizesType.ts\n\n// CONCATENATED MODULE: ./src/common/types/DisplayType.ts\n\n// CONCATENATED MODULE: ./src/common/types/FloatType.ts\n\n// CONCATENATED MODULE: ./src/common/types/FontSizeType.ts\n\n// CONCATENATED MODULE: ./src/common/types/FontWeightType.ts\n\n// CONCATENATED MODULE: ./src/common/types/JustifyContentType.ts\n\n// CONCATENATED MODULE: ./src/common/types/OverflowType.ts\n\n// CONCATENATED MODULE: ./src/common/types/PositionType.ts\n\n// CONCATENATED MODULE: ./src/common/types/SpacingType.ts\n\n// CONCATENATED MODULE: ./src/common/types/TextAlignType.ts\n\n// CONCATENATED MODULE: ./src/common/types/index.ts\n\n// CONCATENATED MODULE: ./src/common/utils/CreateTransitionToIcon.ts\nvar CreateTransitionToIcon_CreateTransitionToIcon=function CreateTransitionToIcon(image,fromElement,icon){var bounds=fromElement.getBoundingClientRect();var x=bounds.x+bounds.width/2;var y=bounds.y+bounds.height/2;var event=new nitro_renderer[\"Ye\" /* NitroToolbarAnimateIconEvent */](image,x,y);event.iconName=icon;GetRoomEngine().events.dispatchEvent(event);};\n// CONCATENATED MODULE: ./src/common/utils/FriendlyTimeView.tsx\nvar FriendlyTimeView_excluded=[\"seconds\",\"isShort\",\"children\"];var FriendlyTimeView_FriendlyTimeView=function FriendlyTimeView(props){var _props$seconds=props.seconds,seconds=_props$seconds===void 0?0:_props$seconds,_props$isShort=props.isShort,isShort=_props$isShort===void 0?false:_props$isShort,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,FriendlyTimeView_excluded);var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),updateId=_useState2[0],setUpdateId=_useState2[1];var getStartSeconds=Object(react[\"useMemo\"])(function(){return Math.round(new Date().getSeconds())-seconds;},[seconds]);var getFriendlyTime=Object(react[\"useCallback\"])(function(){var value=Math.round(new Date().getSeconds())-getStartSeconds;if(isShort)return nitro_renderer[\"Ib\" /* FriendlyTime */].format(value);return nitro_renderer[\"Ib\" /* FriendlyTime */].format(value);},[getStartSeconds,isShort]);Object(react[\"useEffect\"])(function(){var interval=setInterval(function(){return setUpdateId(function(prevValue){return prevValue+1;});},10000);return function(){return clearInterval(interval);};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{children:getFriendlyTime()}));};\n// CONCATENATED MODULE: ./src/common/utils/index.ts\n\n// CONCATENATED MODULE: ./src/common/index.ts\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(15);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react-tsparticles/esm/index.js + 1 modules\nvar esm = __webpack_require__(132);\n\n// EXTERNAL MODULE: ./node_modules/tsparticles/esm/index.js + 133 modules\nvar tsparticles_esm = __webpack_require__(129);\n\n// EXTERNAL MODULE: ./node_modules/tsparticles-path-polygon/esm/index.js + 1 modules\nvar tsparticles_path_polygon_esm = __webpack_require__(133);\n\n// CONCATENATED MODULE: ./src/components/loading/LoadingView.tsx\nvar LoadingView_LoadingView=function LoadingView(props){var _props$isError=props.isError,isError=_props$isError===void 0?false:_props$isError,_props$message=props.message,message=_props$message===void 0?'':_props$message,_props$percent=props.percent,percent=_props$percent===void 0?0:_props$percent;var particlesInit=Object(react[\"useCallback\"])(/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(engine){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(engine);// you can initiate the tsParticles instance (engine) here, adding custom shapes or presets\n// this loads the tsparticles package bundle, it's the easiest method for getting everything ready\n// starting from v2 you can add only the features you need reducing the bundle size\n_context.next=3;return Object(tsparticles_esm[\"a\" /* loadFull */])(engine);case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);var particlesLoaded=Object(react[\"useCallback\"])(/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(container){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return console.log(container);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}(),[]);Object(react[\"useEffect\"])(function(){if(!isError)return;NotificationUtilities_NotificationUtilities.simpleAlert(message,null,null,null,'Connection Error');},[isError,message]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullHeight:true,position:\"relative\",className:\"nitro-loading\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm[\"a\" /* default */],{options:{fpsLimit:60,particles:{color:{value:\"#008cff\",animation:{enable:true,speed:10}},move:{attract:{enable:true,rotate:{x:2000,y:2000}},direction:\"none\",enable:true,outModes:{default:\"destroy\"},path:{clamp:false,enable:true,delay:{value:0},generator:tsparticles_path_polygon_esm[\"a\" /* polygonPathName */],options:{sides:6,turnSteps:30,angle:30}},random:false,speed:3,straight:false,trail:{fillColor:\"#000\",length:20,enable:true}},number:{density:{enable:true,area:800},value:0},opacity:{value:1},shape:{type:\"circle\"},size:{value:2}},fullScreen:{zIndex:-1},detectRetina:true,emitters:{direction:\"none\",rate:{quantity:1,delay:0.25},size:{width:0,height:0},position:{x:50,y:50}}},init:particlesInit}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fullHeight:true,className:\"container h-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullHeight:true,alignItems:\"center\",justifyContent:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"connecting-duck animate__animated animate__pulse animate__faster animate__infinite\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:6,className:\"text-center py-4\",children:isError&&message&&message.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"fs-4 text-shadow\",children:message}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{fontSize:4,variant:\"white\",className:\"text-shadow\",children:[percent.toFixed(),\"%\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutProgressBar_LayoutProgressBar,{progress:percent,className:\"mt-2 large\"})]})})]})})]})});};\n// CONCATENATED MODULE: ./src/components/achievements/views/AchievementBadgeView.tsx\nvar AchievementBadgeView_excluded=[\"achievement\",\"scale\"];var AchievementBadgeView_AchievementBadgeView=function AchievementBadgeView(props){var _props$achievement=props.achievement,achievement=_props$achievement===void 0?null:_props$achievement,_props$scale=props.scale,scale=_props$scale===void 0?1:_props$scale,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AchievementBadgeView_excluded);if(!achievement)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,Object(objectSpread2[\"a\" /* default */])({badgeCode:GetAchievementBadgeCode_GetAchievementBadgeCode(achievement),isGrayscale:!GetAchievementHasStarted(achievement),scale:scale},rest));};\n// CONCATENATED MODULE: ./src/components/achievements/views/achievement-list/AchievementListItemView.tsx\nvar AchievementListItemView_excluded=[\"achievement\",\"selectedAchievementId\",\"setSelectedAchievementId\",\"children\"];var AchievementListItemView_AchievementListItemView=function AchievementListItemView(props){var _props$achievement=props.achievement,achievement=_props$achievement===void 0?null:_props$achievement,_props$selectedAchiev=props.selectedAchievementId,selectedAchievementId=_props$selectedAchiev===void 0?-1:_props$selectedAchiev,_props$setSelectedAch=props.setSelectedAchievementId,setSelectedAchievementId=_props$setSelectedAch===void 0?null:_props$setSelectedAch,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AchievementListItemView_excluded);if(!achievement)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({itemActive:selectedAchievementId===achievement.achievementId,itemUnseen:achievement.unseen>0,onClick:function onClick(event){return setSelectedAchievementId(achievement.achievementId);}},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementBadgeView_AchievementBadgeView,{achievement:achievement}),children]}));};\n// CONCATENATED MODULE: ./src/components/achievements/views/achievement-list/AchievementListView.tsx\nvar AchievementListView_excluded=[\"achievements\",\"selectedAchievementId\",\"setSelectedAchievementId\",\"children\"];var AchievementListView_AchievementListView=function AchievementListView(props){var _props$achievements=props.achievements,achievements=_props$achievements===void 0?null:_props$achievements,_props$selectedAchiev=props.selectedAchievementId,selectedAchievementId=_props$selectedAchiev===void 0?-1:_props$selectedAchiev,_props$setSelectedAch=props.setSelectedAchievementId,setSelectedAchievementId=_props$setSelectedAch===void 0?null:_props$setSelectedAch,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AchievementListView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid_AutoGrid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({columnCount:6,columnMinWidth:50,columnMinHeight:50},rest),{},{children:[achievements&&achievements.length>0&&achievements.map(function(achievement,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementListItemView_AchievementListItemView,{achievement:achievement,selectedAchievementId:selectedAchievementId,setSelectedAchievementId:setSelectedAchievementId},index);}),children]}));};\n// CONCATENATED MODULE: ./src/components/achievements/views/AchievementDetailsView.tsx\nvar AchievementDetailsView_excluded=[\"achievement\",\"children\"];var AchievementDetailsView_AchievementDetailsView=function AchievementDetailsView(props){var _props$achievement=props.achievement,achievement=_props$achievement===void 0?null:_props$achievement,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AchievementDetailsView_excluded);if(!achievement)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({shrink:true,className:\"bg-muted rounded p-2 text-black\",gap:2,overflow:\"hidden\"},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementBadgeView_AchievementBadgeView,{className:\"nitro-achievements-badge-image\",achievement:achievement,scale:2}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontWeight:\"bold\",children:LocalizeText('achievements.details.level',['level','limit'],[GetAchievementLevel(achievement).toString(),achievement.levelCount.toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullWidth:true,justifyContent:\"center\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontWeight:\"bold\",truncate:true,children:LocalizeBageName_LocalizeBadgeName(GetAchievementBadgeCode_GetAchievementBadgeCode(achievement))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{textBreak:true,children:LocalizeBadgeDescription_LocalizeBadgeDescription(GetAchievementBadgeCode_GetAchievementBadgeCode(achievement))})]}),(achievement.levelRewardPoints>0||achievement.scoreLimit>0)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[achievement.levelRewardPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,className:\"small\",children:LocalizeText('achievements.details.reward')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,className:\"fw-bold small\",gap:1,children:[achievement.levelRewardPoints,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:achievement.levelRewardPointType})]})]}),achievement.scoreLimit>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutProgressBar_LayoutProgressBar,{text:LocalizeText('achievements.details.progress',['progress','limit'],[(achievement.currentPoints+achievement.scoreAtStartOfLevel).toString(),(achievement.scoreLimit+achievement.scoreAtStartOfLevel).toString()]),progress:achievement.currentPoints+achievement.scoreAtStartOfLevel,maxProgress:achievement.scoreLimit+achievement.scoreAtStartOfLevel})]})]}),children]}));};\n// CONCATENATED MODULE: ./src/components/achievements/views/AchievementCategoryView.tsx\nvar AchievementCategoryView_AchievementCategoryView=function AchievementCategoryView(props){var _props$category=props.category,category=_props$category===void 0?null:_props$category,_props$selectedAchiev=props.selectedAchievementId,selectedAchievementId=_props$selectedAchiev===void 0?-1:_props$selectedAchiev,_props$setSelectedAch=props.setSelectedAchievementId,setSelectedAchievementId=_props$setSelectedAch===void 0?null:_props$setSelectedAch,_props$setAchievement=props.setAchievementSeen,setAchievementSeen=_props$setAchievement===void 0?null:_props$setAchievement;var selectedAchievement=Object(react[\"useMemo\"])(function(){if(selectedAchievementId===-1)return null;return category.achievements.find(function(achievement){return achievement.achievementId===selectedAchievementId;});},[category,selectedAchievementId]);Object(react[\"useEffect\"])(function(){if(!selectedAchievement){if(category.achievements.length)setSelectedAchievementId(category.achievements[0].achievementId);}},[selectedAchievement,category,setSelectedAchievementId]);Object(react[\"useEffect\"])(function(){if(!selectedAchievement)return;setAchievementSeen(category.code,selectedAchievement.achievementId);},[selectedAchievement,category,setAchievementSeen]);if(!category)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullHeight:true,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementListView_AchievementListView,{achievements:category.achievements,selectedAchievementId:selectedAchievementId,setSelectedAchievementId:setSelectedAchievementId}),!!selectedAchievement&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementDetailsView_AchievementDetailsView,{achievement:selectedAchievement})]});};\n// CONCATENATED MODULE: ./src/components/achievements/views/category-list/AchievementsCategoryListItemView.tsx\nvar AchievementsCategoryListItemView_excluded=[\"category\",\"selectedCategoryCode\",\"setSelectedCategoryCode\",\"children\"];var AchievementsCategoryListItemView_AchievementsCategoryListItemView=function AchievementsCategoryListItemView(props){var _props$category=props.category,category=_props$category===void 0?null:_props$category,_props$selectedCatego=props.selectedCategoryCode,selectedCategoryCode=_props$selectedCatego===void 0?null:_props$selectedCatego,_props$setSelectedCat=props.setSelectedCategoryCode,setSelectedCategoryCode=_props$setSelectedCat===void 0?null:_props$setSelectedCat,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AchievementsCategoryListItemView_excluded);if(!category)return null;var progress=GetAchievementCategoryProgress_GetAchievementCategoryProgress(category);var maxProgress=GetAchievementCategoryMaxProgress_GetAchievementCategoryMaxProgress(category);var getCategoryImage=GetAchievementCategoryImageUrl_GetAchievementCategoryImageUrl(category,progress);var getTotalUnseen=GetAchievementCategoryTotalUnseen_GetAchievementCategoryTotalUnseen(category);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({itemActive:selectedCategoryCode===category.code,itemCount:getTotalUnseen,itemCountMinimum:0,gap:1,onClick:function onClick(event){return setSelectedCategoryCode(category.code);}},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fullWidth:true,center:true,small:true,className:\"pt-1\",children:LocalizeText(\"quests.\".concat(category.code,\".name\"))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBackgroundImage_LayoutBackgroundImage,{position:\"relative\",imageUrl:getCategoryImage,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{fullWidth:true,center:true,position:\"absolute\",variant:\"white\",style:{fontSize:12,bottom:9},children:[progress,\" / \",maxProgress]})}),children]}));};\n// CONCATENATED MODULE: ./src/components/achievements/views/category-list/AchievementsCategoryListView.tsx\nvar AchievementsCategoryListView_excluded=[\"categories\",\"selectedCategoryCode\",\"setSelectedCategoryCode\",\"children\"];var AchievementsCategoryListView_AchievementsCategoryListView=function AchievementsCategoryListView(props){var _props$categories=props.categories,categories=_props$categories===void 0?null:_props$categories,_props$selectedCatego=props.selectedCategoryCode,selectedCategoryCode=_props$selectedCatego===void 0?null:_props$selectedCatego,_props$setSelectedCat=props.setSelectedCategoryCode,setSelectedCategoryCode=_props$setSelectedCat===void 0?null:_props$setSelectedCat,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AchievementsCategoryListView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid_AutoGrid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({columnCount:3,columnMinWidth:90,columnMinHeight:100},rest),{},{children:[categories&&categories.length>0&&categories.map(function(category,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementsCategoryListItemView_AchievementsCategoryListItemView,{category:category,selectedCategoryCode:selectedCategoryCode,setSelectedCategoryCode:setSelectedCategoryCode},index);}),children]}));};\n// CONCATENATED MODULE: ./src/components/achievements/AchievementsView.tsx\nvar AchievementsView_AchievementsView=function AchievementsView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useAchievements=useAchievements(),_useAchievements$achi=_useAchievements.achievementCategories,achievementCategories=_useAchievements$achi===void 0?[]:_useAchievements$achi,_useAchievements$sele=_useAchievements.selectedCategoryCode,selectedCategoryCode=_useAchievements$sele===void 0?null:_useAchievements$sele,_useAchievements$setS=_useAchievements.setSelectedCategoryCode,setSelectedCategoryCode=_useAchievements$setS===void 0?null:_useAchievements$setS,_useAchievements$sele2=_useAchievements.selectedAchievementId,selectedAchievementId=_useAchievements$sele2===void 0?-1:_useAchievements$sele2,_useAchievements$setS2=_useAchievements.setSelectedAchievementId,setSelectedAchievementId=_useAchievements$setS2===void 0?null:_useAchievements$setS2,_useAchievements$achi2=_useAchievements.achievementScore,achievementScore=_useAchievements$achi2===void 0?0:_useAchievements$achi2,_useAchievements$getP=_useAchievements.getProgress,getProgress=_useAchievements$getP===void 0?0:_useAchievements$getP,_useAchievements$getM=_useAchievements.getMaxProgress,getMaxProgress=_useAchievements$getM===void 0?0:_useAchievements$getM,_useAchievements$setA=_useAchievements.setAchievementSeen,setAchievementSeen=_useAchievements$setA===void 0?null:_useAchievements$setA;var selectedCategory=Object(react[\"useMemo\"])(function(){if(selectedCategoryCode===null)return null;return achievementCategories.find(function(category){return category.code===selectedCategoryCode;});},[achievementCategories,selectedCategoryCode]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;}},eventUrlPrefix:'achievements/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"achievements\",className:\"nitro-achievements\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('inventory.achievements'),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),selectedCategory&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardSubHeaderView_NitroCardSubHeaderView,{position:\"relative\",className:\"justify-content-center align-items-center cursor-pointer\",gap:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{onClick:function onClick(event){return setSelectedCategoryCode(null);},className:\"nitro-achievements-back-arrow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontSize:4,fontWeight:\"bold\",className:\"text-small\",children:LocalizeText(\"quests.\".concat(selectedCategory.code,\".name\"))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('achievements.details.categoryprogress',['progress','limit'],[selectedCategory.getProgress().toString(),selectedCategory.getMaxProgress().toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage_LayoutImage,{imageUrl:GetAchievementCategoryImageUrl_GetAchievementCategoryImageUrl(selectedCategory,null,true)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{gap:1,children:[!selectedCategory&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementsCategoryListView_AchievementsCategoryListView,{categories:achievementCategories,selectedCategoryCode:selectedCategoryCode,setSelectedCategoryCode:setSelectedCategoryCode}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,center:true,children:LocalizeText('achievements.categories.score',['score'],[achievementScore.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutProgressBar_LayoutProgressBar,{text:LocalizeText('achievements.categories.totalprogress',['progress','limit'],[getProgress.toString(),getMaxProgress.toString()]),progress:getProgress,maxProgress:getMaxProgress})]})]}),selectedCategory&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementCategoryView_AchievementCategoryView,{category:selectedCategory,selectedAchievementId:selectedAchievementId,setSelectedAchievementId:setSelectedAchievementId,setAchievementSeen:setAchievementSeen})]})]});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/AvatarEditorAction.ts\nvar AvatarEditorAction_AvatarEditorAction=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function AvatarEditorAction(){Object(classCallCheck[\"a\" /* default */])(this,AvatarEditorAction);});AvatarEditorAction_AvatarEditorAction.ACTION_SAVE='AEA_ACTION_SAVE';AvatarEditorAction_AvatarEditorAction.ACTION_CLEAR='AEA_ACTION_CLEAR';AvatarEditorAction_AvatarEditorAction.ACTION_RESET='AEA_ACTION_RESET';AvatarEditorAction_AvatarEditorAction.ACTION_RANDOMIZE='AEA_ACTION_RANDOMIZE';\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/AvatarEditorGridColorItem.ts\nvar AvatarEditorGridColorItem_AvatarEditorGridColorItem=/*#__PURE__*/function(){function AvatarEditorGridColorItem(partColor){var isDisabled=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;Object(classCallCheck[\"a\" /* default */])(this,AvatarEditorGridColorItem);this._partColor=void 0;this._isDisabled=void 0;this._isHC=void 0;this._isSelected=void 0;this._notifier=void 0;this._partColor=partColor;this._isDisabled=isDisabled;this._isHC=this._partColor.clubLevel>0;this._isSelected=false;}Object(createClass[\"a\" /* default */])(AvatarEditorGridColorItem,[{key:\"dispose\",value:function dispose(){this._partColor=null;}},{key:\"partColor\",get:function get(){return this._partColor;}},{key:\"color\",get:function get(){return nitro_renderer[\"ib\" /* ColorConverter */].int2rgb(this._partColor.rgb);}},{key:\"isDisabled\",get:function get(){return this._isDisabled;}},{key:\"isHC\",get:function get(){return this._isHC;}},{key:\"isSelected\",get:function get(){return this._isSelected;},set:function set(flag){this._isSelected=flag;if(this.notify)this.notify();}},{key:\"notify\",get:function get(){return this._notifier;},set:function set(notifier){this._notifier=notifier;}}]);return AvatarEditorGridColorItem;}();\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/FigureData.ts\nvar FigureData_FigureData=/*#__PURE__*/function(){function FigureData(){Object(classCallCheck[\"a\" /* default */])(this,FigureData);this._data=void 0;this._colors=void 0;this._gender='M';this._direction=FigureData.DEFAULT_DIRECTION;this._avatarEffectType=-1;this._notifier=null;}Object(createClass[\"a\" /* default */])(FigureData,[{key:\"loadAvatarData\",value:function loadAvatarData(figureString,gender){this._data=new Map();this._colors=new Map();this._gender=gender;this.parseFigureString(figureString);this.updateView();}},{key:\"parseFigureString\",value:function parseFigureString(figure){if(!figure)return;var sets=figure.split('.');if(!sets||!sets.length)return;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(sets),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var set=_step.value;var parts=set.split('-');if(!parts.length)continue;var setType=parts[0];var setId=parseInt(parts[1]);var colorIds=[];var offset=2;while(offset<parts.length){colorIds.push(parseInt(parts[offset]));offset++;}if(!colorIds.length)colorIds.push(0);this.savePartSetId(setType,setId,false);this.savePartSetColourId(setType,colorIds,false);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},{key:\"getPartSetId\",value:function getPartSetId(setType){var existing=this._data.get(setType);if(existing!==undefined)return existing;return-1;}},{key:\"getColorIds\",value:function getColorIds(setType){var existing=this._colors.get(setType);if(existing!==undefined)return existing;return[AvatarEditorUtilities_AvatarEditorUtilities.avatarSetFirstSelectableColor(setType)];}},{key:\"getFigureString\",value:function getFigureString(){var figureString='';var setParts=[];var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(this._data.entries()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step2$value=Object(slicedToArray[\"a\" /* default */])(_step2.value,2),setType=_step2$value[0],setId=_step2$value[1];var colorIds=this._colors.get(setType);var setPart=setType+'-'+setId;if(colorIds&&colorIds.length){var _i=0;while(_i<colorIds.length){setPart=setPart+('-'+colorIds[_i]);_i++;}}setParts.push(setPart);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var i=0;while(i<setParts.length){figureString=figureString+setParts[i];if(i<setParts.length-1)figureString=figureString+'.';i++;}return figureString;}},{key:\"savePartData\",value:function savePartData(setType,partId,colorIds){var update=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;this.savePartSetId(setType,partId,update);this.savePartSetColourId(setType,colorIds,update);}},{key:\"savePartSetId\",value:function savePartSetId(setType,partId){var update=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;switch(setType){case FigureData.FACE:case FigureData.HAIR:case FigureData.HAT:case FigureData.HEAD_ACCESSORIES:case FigureData.EYE_ACCESSORIES:case FigureData.FACE_ACCESSORIES:case FigureData.SHIRT:case FigureData.JACKET:case FigureData.CHEST_ACCESSORIES:case FigureData.CHEST_PRINTS:case FigureData.TROUSERS:case FigureData.SHOES:case FigureData.TROUSER_ACCESSORIES:if(partId>=0){this._data.set(setType,partId);}else{this._data.delete(setType);}break;}if(update)this.updateView();}},{key:\"savePartSetColourId\",value:function savePartSetColourId(setType,colorIds){var update=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;switch(setType){case FigureData.FACE:case FigureData.HAIR:case FigureData.HAT:case FigureData.HEAD_ACCESSORIES:case FigureData.EYE_ACCESSORIES:case FigureData.FACE_ACCESSORIES:case FigureData.SHIRT:case FigureData.JACKET:case FigureData.CHEST_ACCESSORIES:case FigureData.CHEST_PRINTS:case FigureData.TROUSERS:case FigureData.SHOES:case FigureData.TROUSER_ACCESSORIES:this._colors.set(setType,colorIds);break;}if(update)this.updateView();}},{key:\"getFigureStringWithFace\",value:function getFigureStringWithFace(k){var override=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var figureString='';var setTypes=[FigureData.FACE];var figureSets=[];for(var _i2=0,_setTypes=setTypes;_i2<_setTypes.length;_i2++){var setType=_setTypes[_i2];var colors=this._colors.get(setType);if(!colors)continue;var setId=this._data.get(setType);if(setType===FigureData.FACE&&override)setId=k;var figureSet=setType+'-'+setId;if(setId>=0){var _i3=0;while(_i3<colors.length){figureSet=figureSet+('-'+colors[_i3]);_i3++;}}figureSets.push(figureSet);}var i=0;while(i<figureSets.length){figureString=figureString+figureSets[i];if(i<figureSets.length-1)figureString=figureString+'.';i++;}return figureString;}},{key:\"updateView\",value:function updateView(){if(this.notify)this.notify();}},{key:\"gender\",get:function get(){return this._gender;}},{key:\"direction\",get:function get(){return this._direction;},set:function set(direction){this._direction=direction;this.updateView();}},{key:\"avatarEffectType\",get:function get(){return this._avatarEffectType;},set:function set(k){this._avatarEffectType=k;}},{key:\"notify\",get:function get(){return this._notifier;},set:function set(notifier){this._notifier=notifier;}}]);return FigureData;}();FigureData_FigureData.DEFAULT_DIRECTION=4;FigureData_FigureData.MALE='M';FigureData_FigureData.FEMALE='F';FigureData_FigureData.UNISEX='U';FigureData_FigureData.SCALE='h';FigureData_FigureData.STD='std';FigureData_FigureData.DEFAULT_FRAME='0';FigureData_FigureData.FACE='hd';FigureData_FigureData.HAIR='hr';FigureData_FigureData.HAT='ha';FigureData_FigureData.HEAD_ACCESSORIES='he';FigureData_FigureData.EYE_ACCESSORIES='ea';FigureData_FigureData.FACE_ACCESSORIES='fa';FigureData_FigureData.JACKET='cc';FigureData_FigureData.SHIRT='ch';FigureData_FigureData.CHEST_ACCESSORIES='ca';FigureData_FigureData.CHEST_PRINTS='cp';FigureData_FigureData.TROUSERS='lg';FigureData_FigureData.SHOES='sh';FigureData_FigureData.TROUSER_ACCESSORIES='wa';FigureData_FigureData.SET_TYPES=[FigureData_FigureData.FACE,FigureData_FigureData.HAIR,FigureData_FigureData.HAT,FigureData_FigureData.HEAD_ACCESSORIES,FigureData_FigureData.EYE_ACCESSORIES,FigureData_FigureData.FACE_ACCESSORIES,FigureData_FigureData.JACKET,FigureData_FigureData.SHIRT,FigureData_FigureData.CHEST_ACCESSORIES,FigureData_FigureData.CHEST_PRINTS,FigureData_FigureData.TROUSERS,FigureData_FigureData.SHOES,FigureData_FigureData.TROUSERS];\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/AvatarEditorGridPartItem.ts\nvar AvatarEditorGridPartItem_AvatarEditorGridPartItem=/*#__PURE__*/function(){function AvatarEditorGridPartItem(partSet,partColors){var useColors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var isDisabled=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;Object(classCallCheck[\"a\" /* default */])(this,AvatarEditorGridPartItem);this._renderManager=void 0;this._partSet=void 0;this._partColors=void 0;this._useColors=void 0;this._isDisabled=void 0;this._thumbContainer=void 0;this._imageUrl=void 0;this._maxColorIndex=void 0;this._isValidFigure=void 0;this._isHC=void 0;this._isSellable=void 0;this._isClear=void 0;this._isSelected=void 0;this._disposed=void 0;this._isInitalized=void 0;this._notifier=void 0;this._renderManager=GetAvatarRenderManager();this._partSet=partSet;this._partColors=partColors;this._useColors=useColors;this._isDisabled=isDisabled;this._thumbContainer=null;this._imageUrl=null;this._maxColorIndex=0;this._isValidFigure=false;this._isHC=false;this._isSellable=false;this._isClear=false;this._isSelected=false;this._disposed=false;this._isInitalized=false;if(partSet){var colors=partSet.parts;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(colors),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var color=_step.value;this._maxColorIndex=Math.max(this._maxColorIndex,color.colorLayerIndex);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}}Object(createClass[\"a\" /* default */])(AvatarEditorGridPartItem,[{key:\"init\",value:function init(){if(this._isInitalized)return;this._isInitalized=true;this.update();}},{key:\"dispose\",value:function dispose(){if(this._disposed)return;this._renderManager=null;this._partSet=null;this._partColors=null;this._imageUrl=null;this._disposed=true;this._isInitalized=false;if(this._thumbContainer){this._thumbContainer.destroy();this._thumbContainer=null;}}},{key:\"update\",value:function update(){this.updateThumbVisualization();}},{key:\"analyzeFigure\",value:function analyzeFigure(){if(!this._renderManager||!this._partSet||!this._partSet.parts||!this._partSet.parts.length)return false;var figureContainer=this._renderManager.createFigureContainer(this.partSet.type+'-'+this.partSet.id);if(!this._renderManager.isFigureContainerReady(figureContainer)){this._renderManager.downloadAvatarFigure(figureContainer,this);return false;}this._isValidFigure=true;return true;}},{key:\"renderThumb\",value:function renderThumb(){if(!this._renderManager||!this._partSet)return null;if(!this._isValidFigure){if(!this.analyzeFigure())return null;}var parts=this._partSet.parts.concat().sort(this.sortByDrawOrder);var container=new nitro_renderer[\"Ne\" /* NitroContainer */]();var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(parts),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var part=_step2.value;if(!part)continue;var asset=null;var direction=0;var hasAsset=false;while(!hasAsset&&direction<AvatarEditorGridPartItem.THUMB_DIRECTIONS.length){var assetName=FigureData_FigureData.SCALE+'_'+FigureData_FigureData.STD+'_'+part.type+'_'+part.id+'_'+AvatarEditorGridPartItem.THUMB_DIRECTIONS[direction]+'_'+FigureData_FigureData.DEFAULT_FRAME;asset=this._renderManager.getAssetByName(assetName);if(asset&&asset.texture){hasAsset=true;}else{direction++;}}if(!hasAsset)continue;var x=asset.offsetX;var y=asset.offsetY;var partColor=null;if(this._useColors&&part.colorLayerIndex>0){var color=this._partColors[part.colorLayerIndex-1];if(color)partColor=color;}var sprite=new nitro_renderer[\"Ve\" /* NitroSprite */](asset.texture);sprite.position.set(x,y);if(partColor)sprite.tint=partColor.rgb;container.addChild(sprite);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return container;}},{key:\"updateThumbVisualization\",value:function updateThumbVisualization(){if(!this._isInitalized)return;var container=this._thumbContainer;if(!container)container=this.renderThumb();if(!container)return;if(this._partSet){this._isHC=this._partSet.clubLevel>0;this._isSellable=this._partSet.isSellable;}else{this._isHC=false;this._isSellable=false;}if(this._isDisabled)this.setAlpha(container,0.2);this._imageUrl=nitro_renderer[\"Mh\" /* TextureUtils */].generateImageUrl(container);if(this.notify)this.notify();}},{key:\"setAlpha\",value:function setAlpha(container,alpha){container.filters=[AvatarEditorGridPartItem.ALPHA_FILTER];return container;}},{key:\"sortByDrawOrder\",value:function sortByDrawOrder(a,b){var indexA=AvatarEditorGridPartItem.DRAW_ORDER.indexOf(a.type);var indexB=AvatarEditorGridPartItem.DRAW_ORDER.indexOf(b.type);if(indexA<indexB)return-1;if(indexA>indexB)return 1;if(a.index<b.index)return-1;if(a.index>b.index)return 1;return 0;}},{key:\"resetFigure\",value:function resetFigure(figure){if(!this.analyzeFigure())return;this.update();}},{key:\"disposed\",get:function get(){return this._disposed;}},{key:\"id\",get:function get(){if(!this._partSet)return-1;return this._partSet.id;}},{key:\"partSet\",get:function get(){return this._partSet;}},{key:\"partColors\",set:function set(partColors){this._partColors=partColors;this.update();}},{key:\"isDisabled\",get:function get(){return this._isDisabled;}},{key:\"thumbContainer\",set:function set(container){this._thumbContainer=container;this.update();}},{key:\"imageUrl\",get:function get(){return this._imageUrl;}},{key:\"maxColorIndex\",get:function get(){return this._maxColorIndex;}},{key:\"isHC\",get:function get(){return this._isHC;}},{key:\"isSellable\",get:function get(){return this._isSellable;}},{key:\"isClear\",get:function get(){return this._isClear;},set:function set(flag){this._isClear=flag;}},{key:\"isSelected\",get:function get(){return this._isSelected;},set:function set(flag){this._isSelected=flag;if(this.notify)this.notify();}},{key:\"notify\",get:function get(){return this._notifier;},set:function set(notifier){this._notifier=notifier;}}]);return AvatarEditorGridPartItem;}();AvatarEditorGridPartItem_AvatarEditorGridPartItem.ALPHA_FILTER=new nitro_renderer[\"Le\" /* NitroAlphaFilter */](0.2);AvatarEditorGridPartItem_AvatarEditorGridPartItem.THUMB_DIRECTIONS=[2,6,0,4,3,1];AvatarEditorGridPartItem_AvatarEditorGridPartItem.DRAW_ORDER=[nitro_renderer[\"p\" /* AvatarFigurePartType */].LEFT_HAND_ITEM,nitro_renderer[\"p\" /* AvatarFigurePartType */].LEFT_HAND,nitro_renderer[\"p\" /* AvatarFigurePartType */].LEFT_SLEEVE,nitro_renderer[\"p\" /* AvatarFigurePartType */].LEFT_COAT_SLEEVE,nitro_renderer[\"p\" /* AvatarFigurePartType */].BODY,nitro_renderer[\"p\" /* AvatarFigurePartType */].SHOES,nitro_renderer[\"p\" /* AvatarFigurePartType */].LEGS,nitro_renderer[\"p\" /* AvatarFigurePartType */].CHEST,nitro_renderer[\"p\" /* AvatarFigurePartType */].CHEST_ACCESSORY,nitro_renderer[\"p\" /* AvatarFigurePartType */].COAT_CHEST,nitro_renderer[\"p\" /* AvatarFigurePartType */].CHEST_PRINT,nitro_renderer[\"p\" /* AvatarFigurePartType */].WAIST_ACCESSORY,nitro_renderer[\"p\" /* AvatarFigurePartType */].RIGHT_HAND,nitro_renderer[\"p\" /* AvatarFigurePartType */].RIGHT_SLEEVE,nitro_renderer[\"p\" /* AvatarFigurePartType */].RIGHT_COAT_SLEEVE,nitro_renderer[\"p\" /* AvatarFigurePartType */].HEAD,nitro_renderer[\"p\" /* AvatarFigurePartType */].FACE,nitro_renderer[\"p\" /* AvatarFigurePartType */].EYES,nitro_renderer[\"p\" /* AvatarFigurePartType */].HAIR,nitro_renderer[\"p\" /* AvatarFigurePartType */].HAIR_BIG,nitro_renderer[\"p\" /* AvatarFigurePartType */].FACE_ACCESSORY,nitro_renderer[\"p\" /* AvatarFigurePartType */].EYE_ACCESSORY,nitro_renderer[\"p\" /* AvatarFigurePartType */].HEAD_ACCESSORY,nitro_renderer[\"p\" /* AvatarFigurePartType */].HEAD_ACCESSORY_EXTRA,nitro_renderer[\"p\" /* AvatarFigurePartType */].RIGHT_HAND_ITEM];\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/CategoryData.ts\nvar CategoryData_CategoryData=/*#__PURE__*/function(){function CategoryData(name,partItems,colorItems){Object(classCallCheck[\"a\" /* default */])(this,CategoryData);this._name=void 0;this._parts=void 0;this._palettes=void 0;this._selectedPartIndex=-1;this._paletteIndexes=void 0;this._name=name;this._parts=partItems;this._palettes=colorItems;this._selectedPartIndex=-1;}Object(createClass[\"a\" /* default */])(CategoryData,[{key:\"init\",value:function init(){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(this._parts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;if(!part)continue;part.init();}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},{key:\"dispose\",value:function dispose(){if(this._parts){var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(this._parts),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var part=_step2.value;part.dispose();}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}this._parts=null;}if(this._palettes){var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(this._palettes),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var palette=_step3.value;var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(palette),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var colorItem=_step4.value;colorItem.dispose();}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}this._palettes=null;}this._selectedPartIndex=-1;this._paletteIndexes=null;}},{key:\"selectPartId\",value:function selectPartId(partId){if(!this._parts)return;var i=0;while(i<this._parts.length){var partItem=this._parts[i];if(partItem.id===partId){this.selectPartIndex(i);return;}i++;}}},{key:\"selectColorIds\",value:function selectColorIds(colorIds){if(!colorIds||!this._palettes)return;this._paletteIndexes=new Array(colorIds.length);var i=0;while(i<this._palettes.length){var palette=this.getPalette(i);if(palette){var colorId=0;if(colorIds.length>i){colorId=colorIds[i];}else{var colorItem=palette[0];if(colorItem&&colorItem.partColor)colorId=colorItem.partColor.id;}var j=0;while(j<palette.length){var _colorItem=palette[j];if(_colorItem.partColor.id===colorId){this._paletteIndexes[i]=j;_colorItem.isSelected=true;}else{_colorItem.isSelected=false;}j++;}}i++;}this.updatePartColors();}},{key:\"selectPartIndex\",value:function selectPartIndex(partIndex){if(!this._parts)return null;if(this._selectedPartIndex>=0&&this._parts.length>this._selectedPartIndex){var partItem=this._parts[this._selectedPartIndex];if(partItem)partItem.isSelected=false;}if(this._parts.length>partIndex){var _partItem=this._parts[partIndex];if(_partItem){_partItem.isSelected=true;this._selectedPartIndex=partIndex;return _partItem;}}return null;}},{key:\"selectColorIndex\",value:function selectColorIndex(colorIndex,paletteId){var palette=this.getPalette(paletteId);if(!palette)return null;if(palette.length<=colorIndex)return null;this.deselectColorIndex(this._paletteIndexes[paletteId],paletteId);this._paletteIndexes[paletteId]=colorIndex;var colorItem=palette[colorIndex];if(!colorItem)return null;colorItem.isSelected=true;this.updatePartColors();return colorItem;}},{key:\"getCurrentColorIndex\",value:function getCurrentColorIndex(k){return this._paletteIndexes[k];}},{key:\"deselectColorIndex\",value:function deselectColorIndex(colorIndex,paletteIndex){var palette=this.getPalette(paletteIndex);if(!palette)return;if(palette.length<=colorIndex)return;var colorItem=palette[colorIndex];if(!colorItem)return;colorItem.isSelected=false;}},{key:\"getSelectedColorIds\",value:function getSelectedColorIds(){if(!this._paletteIndexes||!this._paletteIndexes.length)return null;if(!this._palettes||!this._palettes.length)return null;var palette=this._palettes[0];if(!palette||!palette.length)return null;var colorItem=palette[0];if(!colorItem||!colorItem.partColor)return null;var colorId=colorItem.partColor.id;var colorIds=[];var i=0;while(i<this._paletteIndexes.length){var paletteSet=this._palettes[i];if(!(!paletteSet||paletteSet.length<=i)){if(paletteSet.length>this._paletteIndexes[i]){var color=paletteSet[this._paletteIndexes[i]];if(color&&color.partColor){colorIds.push(color.partColor.id);}else{colorIds.push(colorId);}}else{colorIds.push(colorId);}}i++;}var partItem=this.getCurrentPart();if(!partItem)return null;return colorIds.slice(0,Math.max(partItem.maxColorIndex,1));}},{key:\"getSelectedColors\",value:function getSelectedColors(){var partColors=[];var i=0;while(i<this._paletteIndexes.length){var colorItem=this.getSelectedColor(i);if(colorItem){partColors.push(colorItem.partColor);}else{partColors.push(null);}i++;}return partColors;}},{key:\"getSelectedColor\",value:function getSelectedColor(paletteId){var palette=this.getPalette(paletteId);if(!palette||palette.length<=this._paletteIndexes[paletteId])return null;return palette[this._paletteIndexes[paletteId]];}},{key:\"getSelectedColorId\",value:function getSelectedColorId(paletteId){var colorItem=this.getSelectedColor(paletteId);if(colorItem&&colorItem.partColor)return colorItem.partColor.id;return 0;}},{key:\"getPalette\",value:function getPalette(paletteId){if(!this._paletteIndexes||!this._palettes||this._palettes.length<=paletteId){return null;}return this._palettes[paletteId];}},{key:\"getCurrentPart\",value:function getCurrentPart(){return this._parts[this._selectedPartIndex];}},{key:\"updatePartColors\",value:function updatePartColors(){var partColors=this.getSelectedColors();var _iterator5=Object(createForOfIteratorHelper[\"a\" /* default */])(this._parts),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var partItem=_step5.value;if(partItem)partItem.partColors=partColors;}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}},{key:\"hasClubSelectionsOverLevel\",value:function hasClubSelectionsOverLevel(level){var hasInvalidSelections=false;var partColors=this.getSelectedColors();if(partColors){var i=0;while(i<partColors.length){var partColor=partColors[i];if(partColor&&partColor.clubLevel>level)hasInvalidSelections=true;i++;}}var partItem=this.getCurrentPart();if(partItem&&partItem.partSet){var partSet=partItem.partSet;if(partSet&&partSet.clubLevel>level)hasInvalidSelections=true;}return hasInvalidSelections;}},{key:\"hasInvalidSelectedItems\",value:function hasInvalidSelectedItems(ownedItems){var part=this.getCurrentPart();if(!part)return false;var partSet=part.partSet;if(!partSet||!partSet.isSellable)return;return ownedItems.indexOf(partSet.id)>-1;}},{key:\"stripClubItemsOverLevel\",value:function stripClubItemsOverLevel(level){var partItem=this.getCurrentPart();if(partItem&&partItem.partSet){var partSet=partItem.partSet;if(partSet.clubLevel>level){var newPartItem=this.selectPartIndex(0);if(newPartItem&&!newPartItem.partSet)this.selectPartIndex(1);return true;}}return false;}},{key:\"stripClubColorsOverLevel\",value:function stripClubColorsOverLevel(level){var colorIds=[];var partColors=this.getSelectedColors();var colorItems=this.getPalette(0);var didStrip=false;var colorId=CategoryData.defaultColorId(colorItems,level);if(colorId===-1)return false;var i=0;while(i<partColors.length){var partColor=partColors[i];if(!partColor){colorIds.push(colorId);didStrip=true;}else{if(partColor.clubLevel>level){colorIds.push(colorId);didStrip=true;}else{colorIds.push(partColor.id);}}i++;}if(didStrip)this.selectColorIds(colorIds);return didStrip;}// public stripInvalidSellableItems(k:IHabboInventory): boolean\n// {\n//     var _local_3:IFigurePartSet;\n//     var _local_4:AvatarEditorGridPartItem;\n//     var _local_2:AvatarEditorGridPartItem = this._Str_6315();\n//     if (((_local_2) && (_local_2.partSet)))\n//     {\n//         _local_3 = _local_2.partSet;\n//         if (((_local_3.isSellable) && (!(k._Str_14439(_local_3.id)))))\n//         {\n//             _local_4 = this._Str_8066(0);\n//             if (((!(_local_4 == null)) && (_local_4.partSet == null)))\n//             {\n//                 this._Str_8066(1);\n//             }\n//             return true;\n//         }\n//     }\n//     return false;\n// }\n},{key:\"name\",get:function get(){return this._name;}},{key:\"parts\",get:function get(){return this._parts;}},{key:\"selectedPartIndex\",get:function get(){return this._selectedPartIndex;}}],[{key:\"defaultColorId\",value:function defaultColorId(palettes,clubLevel){if(!palettes||!palettes.length)return-1;var i=0;while(i<palettes.length){var colorItem=palettes[i];if(colorItem.partColor&&colorItem.partColor.clubLevel<=clubLevel){return colorItem.partColor.id;}i++;}return-1;}}]);return CategoryData;}();\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/AvatarEditorUtilities.ts\nvar AvatarEditorUtilities_AvatarEditorUtilities=/*#__PURE__*/function(){function AvatarEditorUtilities(){Object(classCallCheck[\"a\" /* default */])(this,AvatarEditorUtilities);}Object(createClass[\"a\" /* default */])(AvatarEditorUtilities,null,[{key:\"getGender\",value:function getGender(gender){switch(gender){case FigureData_FigureData.MALE:case'm':case'M':gender=FigureData_FigureData.MALE;break;case FigureData_FigureData.FEMALE:case'f':case'F':gender=FigureData_FigureData.FEMALE;break;default:gender=FigureData_FigureData.MALE;}return gender;}},{key:\"hasFigureSetId\",value:function hasFigureSetId(setId){return this.FIGURE_SET_IDS.indexOf(setId)>=0;}},{key:\"createCategory\",value:function createCategory(model,name){if(!model||!name||!this.CURRENT_FIGURE)return null;var partItems=[];var colorItems=[];var i=0;while(i<this.MAX_PALETTES){colorItems.push([]);i++;}var setType=GetAvatarSetType(name);if(!setType)return null;var palette=GetAvatarPalette(setType.paletteID);if(!palette)return null;var colorIds=this.CURRENT_FIGURE.getColorIds(name);if(!colorIds)colorIds=[];var partColors=new Array(colorIds.length);var clubItemsDimmed=this.clubItemsDimmed;var clubMemberLevel=GetClubMemberLevel();var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(palette.colors.getValues()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var partColor=_step.value;if(partColor.isSelectable&&(clubItemsDimmed||clubMemberLevel>=partColor.clubLevel)){var _i=0;while(_i<this.MAX_PALETTES){var _isDisabled=clubMemberLevel<partColor.clubLevel;var colorItem=new AvatarEditorGridColorItem_AvatarEditorGridColorItem(partColor,_isDisabled);colorItems[_i].push(colorItem);_i++;}if(name!==FigureData_FigureData.FACE){var _i2=0;while(_i2<colorIds.length){if(partColor.id===colorIds[_i2])partColors[_i2]=partColor;_i2++;}}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var mandatorySetIds=[];if(clubItemsDimmed){mandatorySetIds=GetAvatarRenderManager().getMandatoryAvatarPartSetIds(this.CURRENT_FIGURE.gender,2);}else{mandatorySetIds=GetAvatarRenderManager().getMandatoryAvatarPartSetIds(this.CURRENT_FIGURE.gender,clubMemberLevel);}var isntMandatorySet=mandatorySetIds.indexOf(name)===-1;if(isntMandatorySet){var partItem=new AvatarEditorGridPartItem_AvatarEditorGridPartItem(null,null,false);partItem.isClear=true;partItems.push(partItem);}var usesColors=name!==FigureData_FigureData.FACE;var partSets=setType.partSets;var totalPartSets=partSets.length;i=totalPartSets-1;while(i>=0){var partSet=partSets.getWithIndex(i);var isValidGender=false;if(partSet.gender===FigureData_FigureData.UNISEX){isValidGender=true;}else if(partSet.gender===this.CURRENT_FIGURE.gender){isValidGender=true;}if(partSet.isSelectable&&isValidGender&&(clubItemsDimmed||clubMemberLevel>=partSet.clubLevel)){var isDisabled=clubMemberLevel<partSet.clubLevel;var isValid=true;if(partSet.isSellable)isValid=this.hasFigureSetId(partSet.id);if(isValid)partItems.push(new AvatarEditorGridPartItem_AvatarEditorGridPartItem(partSet,partColors,usesColors,isDisabled));}i--;}partItems.sort(this.clubItemsFirst?this.clubSorter:this.noobSorter);// if(this._forceSellableClothingVisibility || GetNitroInstance().getConfiguration<boolean>(\"avatareditor.support.sellablefurni\", false))\n// {\n//     _local_31 = (this._manager.windowManager.assets.getAssetByName(\"camera_zoom_in\") as BitmapDataAsset);\n//     _local_32 = (_local_31.content as BitmapData).clone();\n//     _local_33 = (AvatarEditorView._Str_6802.clone() as IWindowContainer);\n//     _local_33.name = AvatarEditorGridView.GET_MORE;\n//     _local_7 = new AvatarEditorGridPartItem(_local_33, k, null, null, false);\n//     _local_7._Str_3093 = _local_32;\n//     _local_3.push(_local_7);\n// }\ni=0;while(i<this.MAX_PALETTES){colorItems[i].sort(this.colorSorter);i++;}return new CategoryData_CategoryData(name,partItems,colorItems);}},{key:\"clubSorter\",value:function clubSorter(a,b){var clubLevelA=!a.partSet?9999999999:a.partSet.clubLevel;var clubLevelB=!b.partSet?9999999999:b.partSet.clubLevel;var isSellableA=!a.partSet?false:a.partSet.isSellable;var isSellableB=!b.partSet?false:b.partSet.isSellable;if(isSellableA&&!isSellableB)return 1;if(isSellableB&&!isSellableA)return-1;if(clubLevelA>clubLevelB)return-1;if(clubLevelA<clubLevelB)return 1;if(a.partSet.id>b.partSet.id)return-1;if(a.partSet.id<b.partSet.id)return 1;return 0;}},{key:\"colorSorter\",value:function colorSorter(a,b){var clubLevelA=!a.partColor?-1:a.partColor.clubLevel;var clubLevelB=!b.partColor?-1:b.partColor.clubLevel;if(clubLevelA<clubLevelB)return-1;if(clubLevelA>clubLevelB)return 1;if(a.partColor.index<b.partColor.index)return-1;if(a.partColor.index>b.partColor.index)return 1;return 0;}},{key:\"noobSorter\",value:function noobSorter(a,b){var clubLevelA=!a.partSet?-1:a.partSet.clubLevel;var clubLevelB=!b.partSet?-1:b.partSet.clubLevel;var isSellableA=!a.partSet?false:a.partSet.isSellable;var isSellableB=!b.partSet?false:b.partSet.isSellable;if(isSellableA&&!isSellableB)return 1;if(isSellableB&&!isSellableA)return-1;if(clubLevelA<clubLevelB)return-1;if(clubLevelA>clubLevelB)return 1;if(a.partSet.id<b.partSet.id)return-1;if(a.partSet.id>b.partSet.id)return 1;return 0;}},{key:\"avatarSetFirstSelectableColor\",value:function avatarSetFirstSelectableColor(name){var setType=GetAvatarSetType(name);if(!setType)return-1;var palette=GetAvatarPalette(setType.paletteID);if(!palette)return-1;var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(palette.colors.getValues()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var color=_step2.value;if(!color.isSelectable||GetClubMemberLevel()<color.clubLevel)continue;return color.id;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return-1;}},{key:\"clubItemsFirst\",get:function get(){return GetConfiguration('avatareditor.show.clubitems.first',true);}},{key:\"clubItemsDimmed\",get:function get(){return GetConfiguration('avatareditor.show.clubitems.dimmed',true);}}]);return AvatarEditorUtilities;}();AvatarEditorUtilities_AvatarEditorUtilities.MAX_PALETTES=2;AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE=null;AvatarEditorUtilities_AvatarEditorUtilities.FIGURE_SET_IDS=[];AvatarEditorUtilities_AvatarEditorUtilities.BOUND_FURNITURE_NAMES=[];\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/get.js + 1 modules\nvar esm_get = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/CategoryBaseModel.ts\nvar CategoryBaseModel_CategoryBaseModel=/*#__PURE__*/function(){function CategoryBaseModel(){Object(classCallCheck[\"a\" /* default */])(this,CategoryBaseModel);this._categories=void 0;this._isInitalized=void 0;this._maxPaletteCount=void 0;this._disposed=void 0;this._isInitalized=false;this._maxPaletteCount=0;}Object(createClass[\"a\" /* default */])(CategoryBaseModel,[{key:\"dispose\",value:function dispose(){this._categories=null;this._disposed=true;}},{key:\"disposed\",get:function get(){return this._disposed;}},{key:\"init\",value:function init(){if(!this._categories)this._categories=new Map();}},{key:\"reset\",value:function reset(){this._isInitalized=false;if(this._categories){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(this._categories.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var category=_step.value;category&&category.dispose();}}catch(err){_iterator.e(err);}finally{_iterator.f();}}this._categories=new Map();}},{key:\"addCategory\",value:function addCategory(name){var existing=this._categories.get(name);if(existing)return;existing=AvatarEditorUtilities_AvatarEditorUtilities.createCategory(this,name);if(!existing)return;this._categories.set(name,existing);this.updateSelectionsFromFigure(name);}},{key:\"updateSelectionsFromFigure\",value:function updateSelectionsFromFigure(figure){var category=this._categories.get(figure);if(!category)return;var setId=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getPartSetId(figure);var colorIds=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getColorIds(figure);if(!colorIds)colorIds=[];category.selectPartId(setId);category.selectColorIds(colorIds);}},{key:\"hasClubSelectionsOverLevel\",value:function hasClubSelectionsOverLevel(level){if(!this._categories)return false;var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(this._categories.values()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var category=_step2.value;if(!category)continue;if(category.hasClubSelectionsOverLevel(level))return true;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return false;}},{key:\"hasInvalidSelectedItems\",value:function hasInvalidSelectedItems(ownedItems){if(!this._categories)return false;var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(this._categories.values()),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var category=_step3.value;if(category.hasInvalidSelectedItems(ownedItems))return true;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return false;}},{key:\"stripClubItemsOverLevel\",value:function stripClubItemsOverLevel(level){if(!this._categories)return false;var didStrip=false;var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(this._categories.entries()),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _step4$value=Object(slicedToArray[\"a\" /* default */])(_step4.value,2),name=_step4$value[0],category=_step4$value[1];var isValid=false;if(category.stripClubItemsOverLevel(level))isValid=true;if(category.stripClubColorsOverLevel(level))isValid=true;if(isValid){var partItem=category.getCurrentPart();if(partItem&&AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE){AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.savePartData(name,partItem.id,category.getSelectedColorIds(),true);}didStrip=true;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return didStrip;}},{key:\"stripInvalidSellableItems\",value:function stripInvalidSellableItems(){if(!this._categories)return false;var didStrip=false;var _iterator5=Object(createForOfIteratorHelper[\"a\" /* default */])(this._categories.entries()),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=Object(slicedToArray[\"a\" /* default */])(_step5.value,2),name=_step5$value[0],category=_step5$value[1];var isValid=false;// if(category._Str_8360(this._Str_2278.manager.inventory)) _local_6 = true;\nif(isValid){var partItem=category.getCurrentPart();if(partItem&&AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE){AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.savePartData(name,partItem.id,category.getSelectedColorIds(),true);}didStrip=true;}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}return didStrip;}},{key:\"selectPart\",value:function selectPart(category,partIndex){var categoryData=this._categories.get(category);if(!categoryData)return;var selectedPartIndex=categoryData.selectedPartIndex;categoryData.selectPartIndex(partIndex);var partItem=categoryData.getCurrentPart();if(!partItem)return;if(partItem.isDisabled){categoryData.selectPartIndex(selectedPartIndex);// open hc window\nreturn;}this._maxPaletteCount=partItem.maxColorIndex;AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.savePartData(category,partItem.id,categoryData.getSelectedColorIds(),true);}},{key:\"selectColor\",value:function selectColor(category,colorIndex,paletteId){var categoryData=this._categories.get(category);if(!categoryData)return;var paletteIndex=categoryData.getCurrentColorIndex(paletteId);categoryData.selectColorIndex(colorIndex,paletteId);var colorItem=categoryData.getSelectedColor(paletteId);if(colorItem.isDisabled){categoryData.selectColorIndex(paletteIndex,paletteId);// open hc window\nreturn;}AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.savePartSetColourId(category,categoryData.getSelectedColorIds(),true);}},{key:\"getCategoryData\",value:function getCategoryData(category){if(!this._isInitalized)this.init();if(!this._categories)return null;return this._categories.get(category);}},{key:\"categories\",get:function get(){return this._categories;}},{key:\"canSetGender\",get:function get(){return false;}},{key:\"maxPaletteCount\",get:function get(){return this._maxPaletteCount||1;},set:function set(count){this._maxPaletteCount=count;}},{key:\"name\",get:function get(){return null;}}]);return CategoryBaseModel;}();\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/BodyModel.ts\nvar BodyModel_BodyModel=/*#__PURE__*/function(_CategoryBaseModel){Object(inherits[\"a\" /* default */])(BodyModel,_CategoryBaseModel);var _super=Object(createSuper[\"a\" /* default */])(BodyModel);function BodyModel(){var _this;Object(classCallCheck[\"a\" /* default */])(this,BodyModel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._imageCallBackHandled=false;return _this;}Object(createClass[\"a\" /* default */])(BodyModel,[{key:\"init\",value:function init(){Object(esm_get[\"a\" /* default */])(Object(getPrototypeOf[\"a\" /* default */])(BodyModel.prototype),\"init\",this).call(this);this.addCategory(FigureData_FigureData.FACE);this._isInitalized=true;}},{key:\"selectColor\",value:function selectColor(category,colorIndex,paletteId){Object(esm_get[\"a\" /* default */])(Object(getPrototypeOf[\"a\" /* default */])(BodyModel.prototype),\"selectColor\",this).call(this,category,colorIndex,paletteId);this.updateSelectionsFromFigure(FigureData_FigureData.FACE);}},{key:\"updateSelectionsFromFigure\",value:function updateSelectionsFromFigure(name){if(!this._categories||!AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE)return;var category=this._categories.get(name);if(!category)return;var setId=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getPartSetId(name);var colorIds=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getColorIds(name);if(!colorIds)colorIds=[];category.selectPartId(setId);category.selectColorIds(colorIds);var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(category.parts),_step;try{var _loop=function _loop(){var part=_step.value;var resetFigure=function resetFigure(figure){var figureString=AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE.getFigureStringWithFace(part.id);var avatarImage=GetAvatarRenderManager().createAvatarImage(figureString,nitro_renderer[\"q\" /* AvatarScaleType */].LARGE,null,{resetFigure:resetFigure,dispose:null,disposed:false});var sprite=avatarImage.getImageAsSprite(nitro_renderer[\"r\" /* AvatarSetType */].HEAD);if(sprite){sprite.y=10;part.thumbContainer=sprite;setTimeout(function(){return avatarImage.dispose();},0);}};resetFigure(null);};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},{key:\"canSetGender\",get:function get(){return true;}},{key:\"name\",get:function get(){return nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].GENERIC;}}]);return BodyModel;}(CategoryBaseModel_CategoryBaseModel);\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/FigureGenerator.ts\nfunction getTotalColors(partSet){var parts=partSet.parts;var totalColors=0;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(parts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;totalColors=Math.max(totalColors,part.colorLayerIndex);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return totalColors;}function getRandomSetTypes(requiredSets,options){options=options.filter(function(option){return requiredSets.indexOf(option)===-1;});return[].concat(Object(toConsumableArray[\"a\" /* default */])(requiredSets),Object(toConsumableArray[\"a\" /* default */])(Randomizer_Randomizer.getRandomElements(options,Randomizer_Randomizer.getRandomNumber(options.length)+1)));}function getRandomPartSet(setType,gender){var clubLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var figureSetIds=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];if(!setType)return null;var options=setType.partSets.getValues().filter(function(option){if(!option.isSelectable||option.gender!=='U'&&option.gender!==gender||option.clubLevel>clubLevel||option.isSellable&&figureSetIds.indexOf(option.id)===-1)return null;return option;});if(!options||!options.length)return null;return Randomizer_Randomizer.getRandomElement(options);}function getRandomColors(palette,partSet){var clubLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(!palette)return[];var options=palette.colors.getValues().filter(function(option){if(!option.isSelectable||option.clubLevel>clubLevel)return null;return option;});if(!options||!options.length)return null;return Randomizer_Randomizer.getRandomElements(options,getTotalColors(partSet));}function generateRandomFigure(figureData,gender){var clubLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var figureSetIds=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var ignoredSets=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];var structure=GetAvatarRenderManager().structure;var figureContainer=new nitro_renderer[\"o\" /* AvatarFigureContainer */]('');var requiredSets=getRandomSetTypes(structure.getMandatorySetTypeIds(gender,clubLevel),FigureData_FigureData.SET_TYPES);var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(ignoredSets),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var setType=_step2.value;var partSetId=figureData.getPartSetId(setType);var colors=figureData.getColorIds(setType);figureContainer.updatePart(setType,partSetId,colors);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(requiredSets),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var type=_step3.value;if(figureContainer.hasPartType(type))continue;var _setType=structure.figureData.getSetType(type);var selectedSet=getRandomPartSet(_setType,gender,clubLevel,figureSetIds);if(!selectedSet)continue;var selectedColors=[];if(selectedSet.isColorable){selectedColors=getRandomColors(structure.figureData.getPalette(_setType.paletteID),selectedSet,clubLevel).map(function(color){return color.id;});}figureContainer.updatePart(_setType.type,selectedSet.id,selectedColors);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return figureContainer.getFigureString();}\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/HeadModel.ts\nvar HeadModel_HeadModel=/*#__PURE__*/function(_CategoryBaseModel){Object(inherits[\"a\" /* default */])(HeadModel,_CategoryBaseModel);var _super=Object(createSuper[\"a\" /* default */])(HeadModel);function HeadModel(){Object(classCallCheck[\"a\" /* default */])(this,HeadModel);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(HeadModel,[{key:\"init\",value:function init(){Object(esm_get[\"a\" /* default */])(Object(getPrototypeOf[\"a\" /* default */])(HeadModel.prototype),\"init\",this).call(this);this.addCategory(FigureData_FigureData.HAIR);this.addCategory(FigureData_FigureData.HAT);this.addCategory(FigureData_FigureData.HEAD_ACCESSORIES);this.addCategory(FigureData_FigureData.EYE_ACCESSORIES);this.addCategory(FigureData_FigureData.FACE_ACCESSORIES);this._isInitalized=true;}},{key:\"name\",get:function get(){return nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].HEAD;}}]);return HeadModel;}(CategoryBaseModel_CategoryBaseModel);\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/LegModel.ts\nvar LegModel_LegModel=/*#__PURE__*/function(_CategoryBaseModel){Object(inherits[\"a\" /* default */])(LegModel,_CategoryBaseModel);var _super=Object(createSuper[\"a\" /* default */])(LegModel);function LegModel(){Object(classCallCheck[\"a\" /* default */])(this,LegModel);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(LegModel,[{key:\"init\",value:function init(){Object(esm_get[\"a\" /* default */])(Object(getPrototypeOf[\"a\" /* default */])(LegModel.prototype),\"init\",this).call(this);this.addCategory(FigureData_FigureData.TROUSERS);this.addCategory(FigureData_FigureData.SHOES);this.addCategory(FigureData_FigureData.TROUSER_ACCESSORIES);this._isInitalized=true;}},{key:\"name\",get:function get(){return nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].LEGS;}}]);return LegModel;}(CategoryBaseModel_CategoryBaseModel);\n// CONCATENATED MODULE: ./src/components/avatar-editor/common/TorsoModel.ts\nvar TorsoModel_TorsoModel=/*#__PURE__*/function(_CategoryBaseModel){Object(inherits[\"a\" /* default */])(TorsoModel,_CategoryBaseModel);var _super=Object(createSuper[\"a\" /* default */])(TorsoModel);function TorsoModel(){Object(classCallCheck[\"a\" /* default */])(this,TorsoModel);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(TorsoModel,[{key:\"init\",value:function init(){Object(esm_get[\"a\" /* default */])(Object(getPrototypeOf[\"a\" /* default */])(TorsoModel.prototype),\"init\",this).call(this);this.addCategory(FigureData_FigureData.SHIRT);this.addCategory(FigureData_FigureData.CHEST_PRINTS);this.addCategory(FigureData_FigureData.JACKET);this.addCategory(FigureData_FigureData.CHEST_ACCESSORIES);this._isInitalized=true;}},{key:\"name\",get:function get(){return nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].TORSO;}}]);return TorsoModel;}(CategoryBaseModel_CategoryBaseModel);\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/AvatarEditorIcon.tsx\nvar AvatarEditorIcon_excluded=[\"icon\",\"selected\",\"classNames\",\"children\"];var AvatarEditorIcon_AvatarEditorIcon=function AvatarEditorIcon(props){var _props$icon=props.icon,icon=_props$icon===void 0?null:_props$icon,_props$selected=props.selected,selected=_props$selected===void 0?false:_props$selected,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AvatarEditorIcon_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-avatar-editor-spritesheet'];if(icon&&icon.length)newClassNames.push(icon+'-icon');if(selected)newClassNames.push('selected');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[icon,selected,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames},rest));};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/figure-preview/AvatarEditorFigurePreviewView.tsx\nvar AvatarEditorFigurePreviewView_AvatarEditorFigurePreviewView=function AvatarEditorFigurePreviewView(props){var _props$figureData=props.figureData,figureData=_props$figureData===void 0?null:_props$figureData;var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),updateId=_useState2[0],setUpdateId=_useState2[1];var rerender=Object(react[\"useCallback\"])(function(){setUpdateId(function(prevValue){return prevValue+1;});},[]);var rotateFigure=Object(react[\"useCallback\"])(function(direction){if(direction<nitro_renderer[\"l\" /* AvatarDirectionAngle */].MIN_DIRECTION){direction=nitro_renderer[\"l\" /* AvatarDirectionAngle */].MAX_DIRECTION+(direction+1);}if(direction>nitro_renderer[\"l\" /* AvatarDirectionAngle */].MAX_DIRECTION){direction=direction-(nitro_renderer[\"l\" /* AvatarDirectionAngle */].MAX_DIRECTION+1);}figureData.direction=direction;},[figureData]);Object(react[\"useEffect\"])(function(){if(!figureData)return;figureData.notify=rerender;return function(){figureData.notify=null;};},[figureData,rerender]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"figure-preview-container\",overflow:\"hidden\",position:\"relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:figureData.getFigureString(),direction:figureData.direction,scale:2}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon_AvatarEditorIcon,{className:\"avatar-spotlight\",icon:\"spotlight\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"avatar-shadow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:\"arrow-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon_AvatarEditorIcon,{pointer:true,icon:\"arrow-left\",onClick:function onClick(event){return rotateFigure(figureData.direction+1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon_AvatarEditorIcon,{pointer:true,icon:\"arrow-right\",onClick:function onClick(event){return rotateFigure(figureData.direction-1);}})]})]});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/figure-set/AvatarEditorFigureSetItemView.tsx\nvar AvatarEditorFigureSetItemView_excluded=[\"partItem\",\"children\"];var AvatarEditorFigureSetItemView_AvatarEditorFigureSetItemView=function AvatarEditorFigureSetItemView(props){var _props$partItem=props.partItem,partItem=_props$partItem===void 0?null:_props$partItem,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AvatarEditorFigureSetItemView_excluded);var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),updateId=_useState2[0],setUpdateId=_useState2[1];var hcDisabled=GetConfiguration('hc.disabled',false);var rerender=Object(react[\"useCallback\"])(function(){setUpdateId(function(prevValue){return prevValue+1;});},[]);Object(react[\"useEffect\"])(function(){partItem.notify=rerender;return function(){partItem.notify=null;};},[partItem,rerender]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({itemImage:partItem.isClear?undefined:partItem.imageUrl,itemActive:partItem.isSelected},rest),{},{children:[!hcDisabled&&partItem.isHC&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{className:\"position-absolute end-1 bottom-1\",type:\"hc\"}),partItem.isClear&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon_AvatarEditorIcon,{icon:\"clear\"}),partItem.isSellable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon_AvatarEditorIcon,{icon:\"sellable\",position:\"absolute\",className:\"end-1 bottom-1\"}),children]}));};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/figure-set/AvatarEditorFigureSetView.tsx\nvar AvatarEditorFigureSetView_AvatarEditorFigureSetView=function AvatarEditorFigureSetView(props){var _props$model=props.model,model=_props$model===void 0?null:_props$model,_props$category=props.category,category=_props$category===void 0?null:_props$category,_props$setMaxPaletteC=props.setMaxPaletteCount,setMaxPaletteCount=_props$setMaxPaletteC===void 0?null:_props$setMaxPaletteC;var selectPart=Object(react[\"useCallback\"])(function(item){var index=category.parts.indexOf(item);if(index===-1)return;model.selectPart(category.name,index);var partItem=category.getCurrentPart();setMaxPaletteCount(partItem.maxColorIndex||1);},[model,category,setMaxPaletteCount]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:3,columnMinHeight:50,children:category.parts.length>0&&category.parts.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorFigureSetItemView_AvatarEditorFigureSetItemView,{partItem:item,onClick:function onClick(event){return selectPart(item);}},index);})});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/palette-set/AvatarEditorPaletteSetItemView.tsx\nvar AvatarEditorPaletteSetItemView_excluded=[\"colorItem\",\"children\"];var AvatarEditorPaletteSetItemView_AvatarEditorPaletteSetItem=function AvatarEditorPaletteSetItem(props){var _props$colorItem=props.colorItem,colorItem=_props$colorItem===void 0?null:_props$colorItem,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,AvatarEditorPaletteSetItemView_excluded);var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),updateId=_useState2[0],setUpdateId=_useState2[1];var hcDisabled=GetConfiguration('hc.disabled',false);var rerender=Object(react[\"useCallback\"])(function(){setUpdateId(function(prevValue){return prevValue+1;});},[]);Object(react[\"useEffect\"])(function(){colorItem.notify=rerender;return function(){return colorItem.notify=null;};});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({itemHighlight:true,itemColor:colorItem.color,itemActive:colorItem.isSelected,className:\"clear-bg\"},rest),{},{children:[!hcDisabled&&colorItem.isHC&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{className:\"position-absolute end-1 bottom-1\",type:\"hc\"}),children]}));};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/palette-set/AvatarEditorPaletteSetView.tsx\nvar AvatarEditorPaletteSetView_AvatarEditorPaletteSetView=function AvatarEditorPaletteSetView(props){var _props$model=props.model,model=_props$model===void 0?null:_props$model,_props$category=props.category,category=_props$category===void 0?null:_props$category,_props$paletteSet=props.paletteSet,paletteSet=_props$paletteSet===void 0?[]:_props$paletteSet,_props$paletteIndex=props.paletteIndex,paletteIndex=_props$paletteIndex===void 0?-1:_props$paletteIndex;var selectColor=Object(react[\"useCallback\"])(function(item){var index=paletteSet.indexOf(item);if(index===-1)return;model.selectColor(category.name,index,paletteIndex);},[model,category,paletteSet,paletteIndex]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{gap:1,columnCount:5,columnMinWidth:30,children:paletteSet.length>0&&paletteSet.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorPaletteSetItemView_AvatarEditorPaletteSetItem,{colorItem:item,onClick:function onClick(event){return selectColor(item);}},index);})});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/model/AvatarEditorModelView.tsx\nvar AvatarEditorModelView_AvatarEditorModelView=function AvatarEditorModelView(props){var _props$model=props.model,model=_props$model===void 0?null:_props$model,_props$gender=props.gender,gender=_props$gender===void 0?null:_props$gender,_props$setGender=props.setGender,setGender=_props$setGender===void 0?null:_props$setGender;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),activeCategory=_useState2[0],setActiveCategory=_useState2[1];var _useState3=Object(react[\"useState\"])(1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),maxPaletteCount=_useState4[0],setMaxPaletteCount=_useState4[1];var selectCategory=Object(react[\"useCallback\"])(function(name){var category=model.categories.get(name);if(!category)return;category.init();setActiveCategory(category);var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(category.parts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;if(!part||!part.isSelected)continue;setMaxPaletteCount(part.maxColorIndex||1);break;}}catch(err){_iterator.e(err);}finally{_iterator.f();}},[model]);Object(react[\"useEffect\"])(function(){model.init();var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(model.categories.keys()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var name=_step2.value;selectCategory(name);break;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}},[model,selectCategory]);if(!model||!activeCategory)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:2,children:[model.canSetGender&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"category-item\",onClick:function onClick(event){return setGender(FigureData_FigureData.MALE);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon_AvatarEditorIcon,{icon:\"male\",selected:gender===FigureData_FigureData.MALE})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"category-item\",onClick:function onClick(event){return setGender(FigureData_FigureData.FEMALE);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon_AvatarEditorIcon,{icon:\"female\",selected:gender===FigureData_FigureData.FEMALE})})]}),!model.canSetGender&&model.categories&&model.categories.size>0&&Array.from(model.categories.keys()).map(function(name){var category=model.categories.get(name);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"category-item\",onClick:function onClick(event){return selectCategory(name);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorIcon_AvatarEditorIcon,{icon:category.name,selected:activeCategory===category})},name);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorFigureSetView_AvatarEditorFigureSetView,{model:model,category:activeCategory,setMaxPaletteCount:setMaxPaletteCount})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,overflow:\"hidden\",children:[maxPaletteCount>=1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorPaletteSetView_AvatarEditorPaletteSetView,{model:model,category:activeCategory,paletteSet:activeCategory.getPalette(0),paletteIndex:0}),maxPaletteCount===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorPaletteSetView_AvatarEditorPaletteSetView,{model:model,category:activeCategory,paletteSet:activeCategory.getPalette(1),paletteIndex:1})]})]});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/views/wardrobe/AvatarEditorWardrobeView.tsx\nvar AvatarEditorWardrobeView_AvatarEditorWardrobeView=function AvatarEditorWardrobeView(props){var _props$figureData=props.figureData,figureData=_props$figureData===void 0?null:_props$figureData,_props$savedFigures=props.savedFigures,savedFigures=_props$savedFigures===void 0?[]:_props$savedFigures,_props$setSavedFigure=props.setSavedFigures,setSavedFigures=_props$setSavedFigure===void 0?null:_props$setSavedFigure,_props$loadAvatarInEd=props.loadAvatarInEditor,loadAvatarInEditor=_props$loadAvatarInEd===void 0?null:_props$loadAvatarInEd;var hcDisabled=GetConfiguration('hc.disabled',false);var wearFigureAtIndex=Object(react[\"useCallback\"])(function(index){if(index>=savedFigures.length||index<0)return;var _savedFigures$index=Object(slicedToArray[\"a\" /* default */])(savedFigures[index],2),figure=_savedFigures$index[0],gender=_savedFigures$index[1];loadAvatarInEditor(figure.getFigureString(),gender);},[savedFigures,loadAvatarInEditor]);var saveFigureAtWardrobeIndex=Object(react[\"useCallback\"])(function(index){if(!figureData||index>=savedFigures.length||index<0)return;var newFigures=Object(toConsumableArray[\"a\" /* default */])(savedFigures);var figure=figureData.getFigureString();var gender=figureData.gender;newFigures[index]=[GetAvatarRenderManager().createFigureContainer(figure),gender];setSavedFigures(newFigures);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"yh\" /* SaveWardrobeOutfitMessageComposer */](index+1,figure,gender));},[figureData,savedFigures,setSavedFigures]);var figures=Object(react[\"useMemo\"])(function(){if(!savedFigures||!savedFigures.length)return[];var items=[];savedFigures.forEach(function(_ref,index){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),figureContainer=_ref2[0],gender=_ref2[1];var clubLevel=0;if(figureContainer)clubLevel=GetAvatarRenderManager().getFigureClubLevel(figureContainer,gender);items.push(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{position:\"relative\",overflow:\"hidden\",className:\"nitro-avatar-editor-wardrobe-figure-preview\",children:[figureContainer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:figureContainer.getFigureString(),gender:gender,direction:2}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"avatar-shadow\"}),!hcDisabled&&clubLevel>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{className:\"position-absolute top-1 start-1\",type:\"hc\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,className:\"button-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"link\",fullWidth:true,onClick:function onClick(event){return saveFigureAtWardrobeIndex(index);},children:LocalizeText('avatareditor.wardrobe.save')}),figureContainer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"link\",fullWidth:true,onClick:function onClick(event){return wearFigureAtIndex(index);},disabled:clubLevel>GetClubMemberLevel(),children:LocalizeText('generic_usable.button.use')})]})]},index));});return items;},[savedFigures,hcDisabled,saveFigureAtWardrobeIndex,wearFigureAtIndex]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:5,columnMinWidth:80,columnMinHeight:140,children:figures});};\n// CONCATENATED MODULE: ./src/components/avatar-editor/AvatarEditorView.tsx\nvar DEFAULT_MALE_FIGURE='hr-100.hd-180-7.ch-215-66.lg-270-79.sh-305-62.ha-1002-70.wa-2007';var DEFAULT_FEMALE_FIGURE='hr-515-33.hd-600-1.ch-635-70.lg-716-66-62.sh-735-68';var AvatarEditorView_AvatarEditorView=function AvatarEditorView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),figures=_useState4[0],setFigures=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),figureData=_useState6[0],setFigureData=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),categories=_useState8[0],setCategories=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),activeCategory=_useState10[0],setActiveCategory=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),figureSetIds=_useState12[0],setFigureSetIds=_useState12[1];var _useState13=Object(react[\"useState\"])([]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),boundFurnitureNames=_useState14[0],setBoundFurnitureNames=_useState14[1];var _useState15=Object(react[\"useState\"])([]),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),savedFigures=_useState16[0],setSavedFigures=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),isWardrobeVisible=_useState18[0],setIsWardrobeVisible=_useState18[1];var _useState19=Object(react[\"useState\"])(null),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),lastFigure=_useState20[0],setLastFigure=_useState20[1];var _useState21=Object(react[\"useState\"])(null),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),lastGender=_useState22[0],setLastGender=_useState22[1];var _useState23=Object(react[\"useState\"])(true),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),needsReset=_useState24[0],setNeedsReset=_useState24[1];var _useState25=Object(react[\"useState\"])(false),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),isInitalized=_useState26[0],setIsInitalized=_useState26[1];var maxWardrobeSlots=Object(react[\"useMemo\"])(function(){return GetConfiguration('avatar.wardrobe.max.slots',10);},[]);var onFigureSetIdsMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setFigureSetIds(parser.figureSetIds);setBoundFurnitureNames(parser.boundsFurnitureNames);},[]);UseMessageEventHook(nitro_renderer[\"wb\" /* FigureSetIdsMessageEvent */],onFigureSetIdsMessageEvent);var onUserWardrobePageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var savedFigures=[];var i=0;while(i<maxWardrobeSlots){savedFigures.push([null,null]);i++;}var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.looks.entries()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=Object(slicedToArray[\"a\" /* default */])(_step.value,2),index=_step$value[0],_step$value$=Object(slicedToArray[\"a\" /* default */])(_step$value[1],2),look=_step$value$[0],gender=_step$value$[1];var container=GetAvatarRenderManager().createFigureContainer(look);savedFigures[index-1]=[container,gender];}}catch(err){_iterator.e(err);}finally{_iterator.f();}setSavedFigures(savedFigures);},[maxWardrobeSlots]);UseMessageEventHook(nitro_renderer[\"Ni\" /* UserWardrobePageEvent */],onUserWardrobePageEvent);var selectCategory=Object(react[\"useCallback\"])(function(name){if(!categories)return;setActiveCategory(categories.get(name));},[categories]);var resetCategories=Object(react[\"useCallback\"])(function(){var categories=new Map();categories.set(nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].GENERIC,new BodyModel_BodyModel());categories.set(nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].HEAD,new HeadModel_HeadModel());categories.set(nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].TORSO,new TorsoModel_TorsoModel());categories.set(nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].LEGS,new LegModel_LegModel());setCategories(categories);},[]);var setupFigures=Object(react[\"useCallback\"])(function(){var figures=new Map();var maleFigure=new FigureData_FigureData();var femaleFigure=new FigureData_FigureData();maleFigure.loadAvatarData(DEFAULT_MALE_FIGURE,FigureData_FigureData.MALE);femaleFigure.loadAvatarData(DEFAULT_FEMALE_FIGURE,FigureData_FigureData.FEMALE);figures.set(FigureData_FigureData.MALE,maleFigure);figures.set(FigureData_FigureData.FEMALE,femaleFigure);setFigures(figures);setFigureData(figures.get(FigureData_FigureData.MALE));},[]);var loadAvatarInEditor=Object(react[\"useCallback\"])(function(figure,gender){var reset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;gender=AvatarEditorUtilities_AvatarEditorUtilities.getGender(gender);var newFigureData=figureData;if(gender!==newFigureData.gender)newFigureData=figures.get(gender);if(figure!==newFigureData.getFigureString())newFigureData.loadAvatarData(figure,gender);if(newFigureData!==figureData)setFigureData(newFigureData);if(reset){setLastFigure(figureData.getFigureString());setLastGender(figureData.gender);}},[figures,figureData]);var processAction=Object(react[\"useCallback\"])(function(action){switch(action){case AvatarEditorAction_AvatarEditorAction.ACTION_CLEAR:loadAvatarInEditor(figureData.getFigureStringWithFace(0,false),figureData.gender,false);resetCategories();return;case AvatarEditorAction_AvatarEditorAction.ACTION_RESET:loadAvatarInEditor(lastFigure,lastGender);resetCategories();return;case AvatarEditorAction_AvatarEditorAction.ACTION_RANDOMIZE:var figure=generateRandomFigure(figureData,figureData.gender,GetClubMemberLevel(),figureSetIds,[FigureData_FigureData.FACE]);loadAvatarInEditor(figure,figureData.gender,false);resetCategories();return;case AvatarEditorAction_AvatarEditorAction.ACTION_SAVE:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"xi\" /* UserFigureComposer */](figureData.gender,figureData.getFigureString()));setIsVisible(false);return;}},[figureData,lastFigure,lastGender,figureSetIds,loadAvatarInEditor,resetCategories]);var setGender=Object(react[\"useCallback\"])(function(gender){gender=AvatarEditorUtilities_AvatarEditorUtilities.getGender(gender);setFigureData(figures.get(gender));},[figures]);var linkReceived=Object(react[\"useCallback\"])(function(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;}},[]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:linkReceived,eventUrlPrefix:'avatar-editor/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[linkReceived]);Object(react[\"useEffect\"])(function(){setSavedFigures(new Array(maxWardrobeSlots));},[maxWardrobeSlots]);Object(react[\"useEffect\"])(function(){if(!isWardrobeVisible)return;setActiveCategory(null);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"xc\" /* GetWardrobeMessageComposer */]());},[isWardrobeVisible]);Object(react[\"useEffect\"])(function(){if(!activeCategory)return;setIsWardrobeVisible(false);},[activeCategory]);Object(react[\"useEffect\"])(function(){if(!categories)return;selectCategory(nitro_renderer[\"m\" /* AvatarEditorFigureCategory */].GENERIC);},[categories,selectCategory]);Object(react[\"useEffect\"])(function(){if(!figureData)return;AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE=figureData;resetCategories();return function(){return AvatarEditorUtilities_AvatarEditorUtilities.CURRENT_FIGURE=null;};},[figureData,resetCategories]);Object(react[\"useEffect\"])(function(){AvatarEditorUtilities_AvatarEditorUtilities.FIGURE_SET_IDS=figureSetIds;AvatarEditorUtilities_AvatarEditorUtilities.BOUND_FURNITURE_NAMES=boundFurnitureNames;resetCategories();return function(){AvatarEditorUtilities_AvatarEditorUtilities.FIGURE_SET_IDS=null;AvatarEditorUtilities_AvatarEditorUtilities.BOUND_FURNITURE_NAMES=null;};},[figureSetIds,boundFurnitureNames,resetCategories]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;if(!figures){setupFigures();setIsInitalized(true);return;}},[isVisible,figures,setupFigures]);Object(react[\"useEffect\"])(function(){if(!isVisible||!isInitalized||!needsReset)return;loadAvatarInEditor(GetSessionDataManager().figure,GetSessionDataManager().gender);setNeedsReset(false);},[isVisible,isInitalized,needsReset,loadAvatarInEditor]);Object(react[\"useEffect\"])(function(){if(isVisible)return;return function(){setNeedsReset(true);};},[isVisible]);if(!isVisible||!figureData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"avatar-editor\",className:\"nitro-avatar-editor\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('avatareditor.title'),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardTabsView_NitroCardTabsView,{children:[categories&&categories.size>0&&Array.from(categories.keys()).map(function(category){var isActive=activeCategory&&activeCategory.name===category;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView_NitroCardTabsItemView,{isActive:isActive,onClick:function onClick(event){return selectCategory(category);},children:LocalizeText(\"avatareditor.category.\".concat(category))},category);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView_NitroCardTabsItemView,{isActive:isWardrobeVisible,onClick:function onClick(event){return setIsWardrobeVisible(true);},children:LocalizeText('avatareditor.category.wardrobe')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:9,overflow:\"hidden\",children:[activeCategory&&!isWardrobeVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorModelView_AvatarEditorModelView,{model:activeCategory,gender:figureData.gender,setGender:setGender}),isWardrobeVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorWardrobeView_AvatarEditorWardrobeView,{figureData:figureData,savedFigures:savedFigures,setSavedFigures:setSavedFigures,loadAvatarInEditor:loadAvatarInEditor})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:3,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorFigurePreviewView_AvatarEditorFigurePreviewView,{figureData:figureData}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup_ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:function onClick(event){return processAction(AvatarEditorAction_AvatarEditorAction.ACTION_RESET);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"undo\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:function onClick(event){return processAction(AvatarEditorAction_AvatarEditorAction.ACTION_CLEAR);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"trash\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:function onClick(event){return processAction(AvatarEditorAction_AvatarEditorAction.ACTION_RANDOMIZE);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"dice\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{className:\"w-100\",variant:\"success\",onClick:function onClick(event){return processAction(AvatarEditorAction_AvatarEditorAction.ACTION_SAVE);},children:LocalizeText('avatareditor.save')})]})]})]})})]});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Row.js\nvar Row = __webpack_require__(192);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Col.js\nvar Col = __webpack_require__(193);\n\n// CONCATENATED MODULE: ./src/components/banners/BannersMenuView.tsx\nvar BannersMenuView_BannersMenuView=function BannersMenuView(props){var sso=new URLSearchParams(window.location.search).get('sso');var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];function changeBanner(bannerId){fetch(\"https://int.ultrahabbo.fun/?type=changebanner&banner=\"+bannerId+\"&sso=\"+sso);setIsVisible(false);}Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'banners/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"Mis banners\",onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"alert alert-primary text-center\",children:[\"Los banners son im\\xE1genes para configurar la vista de tu personaje.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xA1Selecciona el que mas te guste!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:2,style:{marginBottom:20},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner0.png\",style:{marginLeft:2}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeBanner(0);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:2,style:{marginBottom:20},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner1.png\",style:{marginLeft:2}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeBanner(1);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:2,style:{marginBottom:20},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner2.png\",style:{marginLeft:2}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeBanner(2);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:2,style:{marginBottom:20},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner3.png\",style:{marginLeft:2}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeBanner(3);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:2,style:{marginBottom:20},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner4.png\",style:{marginLeft:2}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeBanner(4);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:2,style:{marginBottom:20},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/banners/banner5.png\",style:{marginLeft:2}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeBanner(5);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]})]})]})]})});};\n// CONCATENATED MODULE: ./src/components/battlepass/BattlePassView.tsx\nvar BattlePassView_BattlePassView=function BattlePassView(props){var sso=new URLSearchParams(window.location.search).get('sso');var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),battlePass=_useState4[0],setBattlePass=_useState4[1];var _useState5=Object(react[\"useState\"])(\"battlePassMainView\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),actualTab=_useState6[0],setActualTab=_useState6[1];function buyBattlePass(){fetch(\"https://int.ultrahabbo.fun/?type=buyGalaxyPass&sso=\"+sso);setIsVisible(false);}function changeTab(tab){document.getElementById(actualTab).style.display=\"none\";document.getElementById(tab).style.display=\"block\";setActualTab(tab);}function getHabboImaging(look){return\"https://habbo-imaging.hgalaxy.net/avatarimage/\"+look+\"&gesture=sml&direction=2&effect=3&size=l&img_format=gif\";}Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'open':setActualTab(\"battlePassMainView\");fetch(\"https://int.ultrahabbo.fun/?type=getInfoOpenGalaxyPassEmu&sso=\"+sso).then(function(response){return response.json();}).then(function(response){setBattlePass(response);setIsVisible(true);});return;case'update':fetch(\"https://int.ultrahabbo.fun/?type=getInfoOpenGalaxyPassEmu&sso=\"+sso).then(function(response){return response.json();}).then(function(response){setBattlePass(response);});return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'battlepass/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"Galaxy Pass\",onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:battlePass==null?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:\"600px\",height:\"400px\",fontSize:\"16px\"},className:\"alert alert-primary text-center\",children:\"Cargando, espera por favor\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"battlePassMainView\",style:{width:\"600px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row g-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:\"20px\",backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_rain.gif)\",textAlign:\"center\",borderRadius:\"3px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{style:{position:\"relative\",bottom:\"30px\"},src:getHabboImaging(battlePass.look),className:\"img-fluid\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{position:\"relative\",bottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:battlePass.name})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",style:{fontSize:\"15px\",marginBottom:\"3px\"},children:[\"Nivel: \",battlePass.level]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-info\",style:{fontSize:\"13px\",marginBottom:\"3px\"},children:[\"Experiencia: \",battlePass.exp]}),!battlePass.isActive?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return buyBattlePass();},className:\"btn btn-success btn-sm\",children:\"Comprar (150 cr\\xE9ditos)\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-8\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundImage:\"url(https://cdn.discordapp.com/attachments/929069063114752053/1005492439953440910/pantalla1.gif)\",width:\"100%\",height:\"186px\",marginBottom:\"8px\",borderRadius:\"3px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{margin:0,position:\"absolute\",top:\"32%\",msTransform:\"translateY(-50%)\",transform:\"translateY(-50%)\",right:\"24%\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return changeTab(\"battlePassMissionsView\");},className:\"btn btn-dark btn-lg\",children:\"Ver misiones\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundImage:\"url(https://cdn.discordapp.com/attachments/929069063114752053/1005492439953440910/pantalla1.gif)\",width:\"100%\",height:\"185px\",borderRadius:\"3px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{margin:0,position:\"absolute\",top:\"78%\",msTransform:\"translateY(-50%)\",transform:\"translateY(-50%)\",right:\"22%\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return changeTab(\"battlePassRewardsView\");},className:\"btn btn-primary btn-lg\",children:\"Ver recompensas\"})})})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"battlePassMissionsView\",style:{display:\"none\",width:\"900px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:battlePass.missionStats.map(function(mission){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert bg-dark text-white\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:\"left\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-info\",style:{fontSize:\"15px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://4.bp.blogspot.com/-kNQ9Y7U9aq0/WV-zzHKsrLI/AAAAAAAA6uo/_C21AzCd9uQ9utBtdT5pUMsQlBiu9SAKwCKgBGAs/s1600/ed483ed9b79b282bd901da62daee7669.gif\"}),\" Nivel \",mission.id]}),\" \\xA0\",mission.missionName,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{float:\"right\",marginTop:\"5px\"},children:mission.expDone==mission.expMax?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-success\",children:[mission.expDone,\"/\",mission.expMax]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-danger\",children:[mission.expDone,\"/\",mission.expMax]})})]})})});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return changeTab(\"battlePassMainView\");},className:\"btn w-100 btn-success\",children:\"Volver\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"battlePassRewardsView\",style:{display:\"none\",width:\"500px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row g-0\",children:[battlePass.missionStats.map(function(mission){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",style:{marginBottom:\"6px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:\"center\",padding:\"10px\",backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_serpentine_darkblue.gif)\",borderRadius:\"3px\",marginRight:\"6px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:mission.imageReward}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",style:{fontSize:\"14px\"},children:[\"Nivel \",mission.id]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),mission.expDone==mission.expMax?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-success\",children:\"Conseguido\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-danger\",children:\"Por conseguir\"})]})});}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",style:{marginBottom:\"6px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:\"center\",padding:\"10px\",backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_serpntine_darkred.gif)\",borderRadius:\"3px\",marginRight:\"6px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://cdn.discordapp.com/attachments/882679902162288651/1007401963345936395/final-1.png\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-info\",style:{fontSize:\"14px\"},children:\"Final\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-danger\",children:\"Por conseguir\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",style:{marginBottom:\"6px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:\"center\",padding:\"10px\",backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_serpntine_darkred.gif)\",borderRadius:\"3px\",marginRight:\"6px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://cdn.discordapp.com/attachments/882679902162288651/1007401963849261106/final-2.png\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-info\",style:{fontSize:\"14px\"},children:\"Final\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-danger\",children:\"Por conseguir\"})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return changeTab(\"battlePassMainView\");},className:\"btn w-100 btn-success\",children:\"Volver\"})})]})]})})]})});};\n// CONCATENATED MODULE: ./src/components/bawtool/BawToolView.tsx\nvar BawToolView_BawToolView=function BawToolView(props){var sso=new URLSearchParams(window.location.search).get('sso');var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(\"0\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),altura=_useState4[0],setAltura=_useState4[1];var _useState5=Object(react[\"useState\"])(\"0\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),estado=_useState6[0],setEstado=_useState6[1];var _useState7=Object(react[\"useState\"])(\"0\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),rotacion=_useState8[0],setRotacion=_useState8[1];function maxFloor(){fetch(\"https://int.ultrahabbo.fun/?type=maxFloor&sso=\"+sso);}function autoFloor(){fetch(\"https://int.ultrahabbo.fun/?type=autoFloor&sso=\"+sso);}function reloadRoom(){fetch(\"https://int.ultrahabbo.fun/?type=reloadRoom&sso=\"+sso);}function changeAltura(){fetch(\"https://int.ultrahabbo.fun/?type=cambiarAltura&altura=\"+altura+\"&sso=\"+sso);}function resetAltura(){fetch(\"https://int.ultrahabbo.fun/?type=cambiarAltura&altura=999&sso=\"+sso);}function cambiarEstado(){fetch(\"https://int.ultrahabbo.fun/?type=cambiarEstado&estado=\"+estado+\"&sso=\"+sso);}function cambiarRotacion(){fetch(\"https://int.ultrahabbo.fun/?type=cambiarRotacion&rotacion=\"+rotacion+\"&sso=\"+sso);}Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'bawtool/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{style:{width:\"250px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"Herramienta builder\",onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn w-100\",onClick:function onClick(){return maxFloor();},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Maxfloor\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn w-100\",onClick:function onClick(){return autoFloor();},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Autofloor\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn w-100\",onClick:function onClick(){return reloadRoom();},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Reload\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",style:{marginTop:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",onChange:function onChange(e){return setAltura(e.target.value);},placeholder:\"0\",className:\"form-control\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn w-100\",onClick:function onClick(){return changeAltura();},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Cambiar altura\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-sm w-100\",onClick:function onClick(){return resetAltura();},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Restablecer altura\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",style:{marginTop:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",onChange:function onChange(e){return setRotacion(e.target.value);},placeholder:\"0\",className:\"form-control\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn w-100\",onClick:function onClick(){return cambiarRotacion();},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Cambiar rotaci\\xF3n\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",onChange:function onChange(e){return setEstado(e.target.value);},placeholder:\"0\",className:\"form-control\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn w-100\",onClick:function onClick(){return cambiarEstado();},style:{backgroundColor:\"var(--test-galaxytwo)\"},children:\"Cambiar estado\"})})]})]})]})});};\n// CONCATENATED MODULE: ./src/components/camera/CameraWidgetContext.tsx\nvar CameraWidgetContext=/*#__PURE__*/Object(react[\"createContext\"])({cameraRoll:null,setCameraRoll:null,selectedPictureIndex:null,setSelectedPictureIndex:null});var CameraWidgetContext_CameraWidgetContextProvider=function CameraWidgetContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetContext.Provider,{value:props.value,children:props.children});};var CameraWidgetContext_useCameraWidgetContext=function useCameraWidgetContext(){return Object(react[\"useContext\"])(CameraWidgetContext);};\n// CONCATENATED MODULE: ./src/components/camera/common/CameraPicture.ts\nvar CameraPicture_CameraPicture=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CameraPicture(texture,imageUrl){Object(classCallCheck[\"a\" /* default */])(this,CameraPicture);this.texture=texture;this.imageUrl=imageUrl;});\n// CONCATENATED MODULE: ./src/components/camera/views/capture/CameraWidgetCaptureView.tsx\nvar CAMERA_ROLL_LIMIT=5;var CameraWidgetCaptureView_CameraWidgetCaptureView=function CameraWidgetCaptureView(props){var _props$onClose=props.onClose,onClose=_props$onClose===void 0?null:_props$onClose,_props$onEdit=props.onEdit,onEdit=_props$onEdit===void 0?null:_props$onEdit,_props$onDelete=props.onDelete,onDelete=_props$onDelete===void 0?null:_props$onDelete;var _useCameraWidgetConte=CameraWidgetContext_useCameraWidgetContext(),_useCameraWidgetConte2=_useCameraWidgetConte.cameraRoll,cameraRoll=_useCameraWidgetConte2===void 0?null:_useCameraWidgetConte2,_useCameraWidgetConte3=_useCameraWidgetConte.setCameraRoll,setCameraRoll=_useCameraWidgetConte3===void 0?null:_useCameraWidgetConte3,_useCameraWidgetConte4=_useCameraWidgetConte.selectedPictureIndex,selectedPictureIndex=_useCameraWidgetConte4===void 0?-1:_useCameraWidgetConte4,_useCameraWidgetConte5=_useCameraWidgetConte.setSelectedPictureIndex,setSelectedPictureIndex=_useCameraWidgetConte5===void 0?null:_useCameraWidgetConte5;var elementRef=Object(react[\"useRef\"])();var selectedPicture=selectedPictureIndex>-1?cameraRoll[selectedPictureIndex]:null;var getCameraBounds=Object(react[\"useCallback\"])(function(){if(!elementRef||!elementRef.current)return null;var frameBounds=elementRef.current.getBoundingClientRect();return new nitro_renderer[\"Te\" /* NitroRectangle */](Math.floor(frameBounds.x),Math.floor(frameBounds.y),Math.floor(frameBounds.width),Math.floor(frameBounds.height));},[]);var takePicture=Object(react[\"useCallback\"])(function(){if(selectedPictureIndex>-1){setSelectedPictureIndex(-1);return;}var texture=GetRoomEngine().createTextureFromRoom(GetRoomSession().roomId,1,getCameraBounds());var clone=Object(toConsumableArray[\"a\" /* default */])(cameraRoll);if(clone.length>=CAMERA_ROLL_LIMIT){NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('camera.full.body'));clone.pop();}PlaySound_PlaySound(SoundNames_SoundNames.CAMERA_SHUTTER);clone.push(new CameraPicture_CameraPicture(texture,nitro_renderer[\"Mh\" /* TextureUtils */].generateImageUrl(texture)));setCameraRoll(clone);},[cameraRoll,selectedPictureIndex,getCameraBounds,setCameraRoll,setSelectedPictureIndex]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow_DraggableWindow,{uniqueKey:\"nitro-camera-capture\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,className:\"nitro-camera-capture\",gap:0,children:[selectedPicture&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",className:\"camera-area\",src:selectedPicture.imageUrl}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"camera-canvas drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute header-close\",onClick:onClose,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})}),!selectedPicture&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:elementRef,className:\"camera-area camera-view-finder\"}),selectedPicture&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"camera-area camera-frame\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"camera-frame-preview-actions w-100 position-absolute bottom-0 py-2 text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success me-3\",title:LocalizeText('camera.editor.button.tooltip'),onClick:onEdit,children:LocalizeText('camera.editor.button.text')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-danger\",onClick:onDelete,children:LocalizeText('camera.delete.button.text')})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"camera-button\",title:LocalizeText('camera.take.photo.button.tooltip'),onClick:takePicture})})]}),cameraRoll.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{gap:2,justifyContent:\"center\",className:\"camera-roll d-flex justify-content-center py-2\",children:cameraRoll.map(function(picture,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:picture.imageUrl,onClick:function onClick(event){return setSelectedPictureIndex(index);}},index);})})]})});};\n// CONCATENATED MODULE: ./src/components/camera/views/checkout/CameraWidgetCheckoutView.tsx\nvar CameraWidgetCheckoutView_CameraWidgetCheckoutView=function CameraWidgetCheckoutView(props){var _props$base64Url=props.base64Url,base64Url=_props$base64Url===void 0?null:_props$base64Url,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick,_props$onCancelClick=props.onCancelClick,onCancelClick=_props$onCancelClick===void 0?null:_props$onCancelClick,_props$price=props.price,price=_props$price===void 0?null:_props$price;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),pictureUrl=_useState2[0],setPictureUrl=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),publishUrl=_useState4[0],setPublishUrl=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),picturesBought=_useState6[0],setPicturesBought=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),wasPicturePublished=_useState8[0],setWasPicturePublished=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isWaiting=_useState10[0],setIsWaiting=_useState10[1];var _useState11=Object(react[\"useState\"])(0),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),publishCooldown=_useState12[0],setPublishCooldown=_useState12[1];var publishDisabled=Object(react[\"useMemo\"])(function(){return GetConfiguration('camera.publish.disabled',false);},[]);var onCameraPurchaseOKMessageEvent=Object(react[\"useCallback\"])(function(event){setPicturesBought(function(value){return value+1;});setIsWaiting(false);},[]);UseMessageEventHook(nitro_renderer[\"M\" /* CameraPurchaseOKMessageEvent */],onCameraPurchaseOKMessageEvent);var onCameraPublishStatusMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setPublishUrl(parser.extraDataId);setPublishCooldown(parser.secondsToWait);setWasPicturePublished(parser.ok);setIsWaiting(false);},[]);UseMessageEventHook(nitro_renderer[\"L\" /* CameraPublishStatusMessageEvent */],onCameraPublishStatusMessageEvent);var onCameraStorageUrlMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setPictureUrl(GetConfiguration('camera.url')+'/'+parser.url);},[]);UseMessageEventHook(nitro_renderer[\"N\" /* CameraStorageUrlMessageEvent */],onCameraStorageUrlMessageEvent);var processAction=function processAction(type){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close':onCloseClick();return;case'buy':if(isWaiting)return;setIsWaiting(true);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Af\" /* PurchasePhotoMessageComposer */](''));return;case'publish':if(isWaiting)return;setIsWaiting(true);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"uf\" /* PublishPhotoMessageComposer */]());return;case'cancel':onCancelClick();return;}};Object(react[\"useEffect\"])(function(){if(!base64Url)return;GetRoomEngine().saveBase64AsScreenshot(base64Url);},[base64Url]);if(!price)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-camera-checkout\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('camera.confirm_phase.title'),onCloseClick:function onCloseClick(event){return processAction('close');}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,children:[pictureUrl&&pictureUrl.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage_LayoutImage,{className:\"picture-preview border\",imageUrl:pictureUrl}),(!pictureUrl||!pictureUrl.length)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"picture-preview border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('camera.loading')})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",className:\"bg-muted rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:publishDisabled?10:6,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('camera.purchase.header')}),(price.credits>0||price.duckets>0)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('catalog.purchase.confirmation.dialog.cost')}),price.credits>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:price.credits}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:-1})]}),price.duckets>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:price.duckets}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:5})]})]}),picturesBought>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('camera.purchase.count.info')}),\" \",picturesBought,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"u\",{className:\"ms-1 cursor-pointer\",onClick:function onClick(){return CreateLinkEvent('inventory/toggle');},children:LocalizeText('camera.open.inventory')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",disabled:isWaiting,onClick:function onClick(event){return processAction('buy');},children:LocalizeText(!picturesBought?'buy':'camera.buy.another.button.text')})})]}),!publishDisabled&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",className:\"bg-muted rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText(wasPicturePublished?'camera.publish.successful':'camera.publish.explanation')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(wasPicturePublished?'camera.publish.success.short.info':'camera.publish.detailed.explanation')}),wasPicturePublished&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:publishUrl,rel:\"noreferrer\",target:\"_blank\",children:LocalizeText('camera.link.to.published')}),!wasPicturePublished&&price.publishDucketPrice>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('catalog.purchase.confirmation.dialog.cost')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:price.publishDucketPrice}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:5})]})]}),publishCooldown>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mt-1 text-center fw-bold\",children:LocalizeText('camera.publish.wait',['minutes'],[Math.ceil(publishCooldown/60).toString()])})]}),!wasPicturePublished&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{className:\"d-flex align-items-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",disabled:isWaiting||publishCooldown>0,onClick:function onClick(event){return processAction('publish');},children:LocalizeText('camera.publish.button.text')})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:true,children:LocalizeText('camera.warning.disclaimer')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return processAction('cancel');},children:LocalizeText('generic.cancel')})})]})]});};\n// EXTERNAL MODULE: ./node_modules/react-slider/dist/es/prod/index.js + 3 modules\nvar prod = __webpack_require__(31);\n\n// CONCATENATED MODULE: ./src/components/camera/common/CameraEditorTabs.ts\nvar CameraEditorTabs_CameraEditorTabs=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CameraEditorTabs(){Object(classCallCheck[\"a\" /* default */])(this,CameraEditorTabs);});CameraEditorTabs_CameraEditorTabs.COLORMATRIX='colormatrix';CameraEditorTabs_CameraEditorTabs.COMPOSITE='composite';\n// CONCATENATED MODULE: ./src/components/camera/common/CameraPictureThumbnail.ts\nvar CameraPictureThumbnail_CameraPictureThumbnail=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CameraPictureThumbnail(effectName,thumbnailUrl){Object(classCallCheck[\"a\" /* default */])(this,CameraPictureThumbnail);this.effectName=effectName;this.thumbnailUrl=thumbnailUrl;});\n// CONCATENATED MODULE: ./src/components/camera/views/editor/effect-list/CameraWidgetEffectListItemView.tsx\nvar CameraWidgetEffectListItemView_CameraWidgetEffectListItemView=function CameraWidgetEffectListItemView(props){var _props$effect=props.effect,effect=_props$effect===void 0?null:_props$effect,_props$thumbnailUrl=props.thumbnailUrl,thumbnailUrl=_props$thumbnailUrl===void 0?null:_props$thumbnailUrl,_props$isActive=props.isActive,isActive=_props$isActive===void 0?false:_props$isActive,_props$isLocked=props.isLocked,isLocked=_props$isLocked===void 0?false:_props$isLocked,_props$selectEffect=props.selectEffect,selectEffect=_props$selectEffect===void 0?null:_props$selectEffect,_props$removeEffect=props.removeEffect,removeEffect=_props$removeEffect===void 0?null:_props$removeEffect;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{title:LocalizeText(!isLocked?\"camera.effect.name.\".concat(effect.name):\"camera.effect.required.level \".concat(effect.minLevel)),itemActive:isActive,onClick:function onClick(event){return!isActive&&selectEffect();},children:[isActive&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",className:\"rounded-circle remove-effect\",onClick:removeEffect,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})}),!isLocked&&thumbnailUrl&&thumbnailUrl.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"effect-thumbnail-image border\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:thumbnailUrl})}),isLocked&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{center:true,bold:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"lock\"})}),effect.minLevel]})]});};\n// CONCATENATED MODULE: ./src/components/camera/views/editor/effect-list/CameraWidgetEffectListView.tsx\nvar CameraWidgetEffectListView_CameraWidgetEffectListView=function CameraWidgetEffectListView(props){var _props$myLevel=props.myLevel,myLevel=_props$myLevel===void 0?0:_props$myLevel,_props$selectedEffect=props.selectedEffects,selectedEffects=_props$selectedEffect===void 0?[]:_props$selectedEffect,_props$effects=props.effects,effects=_props$effects===void 0?[]:_props$effects,_props$thumbnails=props.thumbnails,thumbnails=_props$thumbnails===void 0?[]:_props$thumbnails,_props$processAction=props.processAction,processAction=_props$processAction===void 0?null:_props$processAction;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{columnCount:3,overflow:\"auto\",children:effects&&effects.length>0&&effects.map(function(effect,index){var thumbnailUrl=thumbnails.find(function(thumbnail){return thumbnail.effectName===effect.name;});var isActive=selectedEffects.findIndex(function(selectedEffect){return selectedEffect.effect.name===effect.name;})>-1;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetEffectListItemView_CameraWidgetEffectListItemView,{effect:effect,thumbnailUrl:thumbnailUrl&&thumbnailUrl.thumbnailUrl||null,isActive:isActive,isLocked:effect.minLevel>myLevel,selectEffect:function selectEffect(){return processAction('select_effect',effect.name);},removeEffect:function removeEffect(){return processAction('remove_effect',effect.name);}},index);})});};\n// CONCATENATED MODULE: ./src/components/camera/views/editor/CameraWidgetEditorView.tsx\nvar TABS=[CameraEditorTabs_CameraEditorTabs.COLORMATRIX,CameraEditorTabs_CameraEditorTabs.COMPOSITE];var CameraWidgetEditorView_CameraWidgetEditorView=function CameraWidgetEditorView(props){var _props$picture=props.picture,picture=_props$picture===void 0?null:_props$picture,_props$availableEffec=props.availableEffects,availableEffects=_props$availableEffec===void 0?null:_props$availableEffec,_props$myLevel=props.myLevel,myLevel=_props$myLevel===void 0?1:_props$myLevel,_props$onClose=props.onClose,onClose=_props$onClose===void 0?null:_props$onClose,_props$onCancel=props.onCancel,onCancel=_props$onCancel===void 0?null:_props$onCancel,_props$onCheckout=props.onCheckout,onCheckout=_props$onCheckout===void 0?null:_props$onCheckout;var _useState=Object(react[\"useState\"])(TABS[0]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentTab=_useState2[0],setCurrentTab=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedEffectName=_useState4[0],setSelectedEffectName=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedEffects=_useState6[0],setSelectedEffects=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),effectsThumbnails=_useState8[0],setEffectsThumbnails=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isZoomed=_useState10[0],setIsZoomed=_useState10[1];var getColorMatrixEffects=Object(react[\"useMemo\"])(function(){return availableEffects.filter(function(effect){return effect.colorMatrix;});},[availableEffects]);var getCompositeEffects=Object(react[\"useMemo\"])(function(){return availableEffects.filter(function(effect){return effect.texture;});},[availableEffects]);var getEffectList=Object(react[\"useCallback\"])(function(){if(currentTab===CameraEditorTabs_CameraEditorTabs.COLORMATRIX){return getColorMatrixEffects;}return getCompositeEffects;},[currentTab,getColorMatrixEffects,getCompositeEffects]);var getSelectedEffectIndex=Object(react[\"useCallback\"])(function(name){if(!name||!name.length||!selectedEffects||!selectedEffects.length)return-1;return selectedEffects.findIndex(function(effect){return effect.effect.name===name;});},[selectedEffects]);var getCurrentEffectIndex=Object(react[\"useMemo\"])(function(){return getSelectedEffectIndex(selectedEffectName);},[selectedEffectName,getSelectedEffectIndex]);var getCurrentEffect=Object(react[\"useMemo\"])(function(){if(!selectedEffectName)return null;return selectedEffects[getCurrentEffectIndex]||null;},[selectedEffectName,getCurrentEffectIndex,selectedEffects]);var setSelectedEffectAlpha=Object(react[\"useCallback\"])(function(alpha){var index=getCurrentEffectIndex;if(index===-1)return;setSelectedEffects(function(prevValue){var clone=Object(toConsumableArray[\"a\" /* default */])(prevValue);var currentEffect=clone[index];clone[getCurrentEffectIndex]=new nitro_renderer[\"Uf\" /* RoomCameraWidgetSelectedEffect */](currentEffect.effect,alpha);return clone;});},[getCurrentEffectIndex,setSelectedEffects]);var getCurrentPictureUrl=Object(react[\"useMemo\"])(function(){return GetRoomCameraWidgetManager().applyEffects(picture.texture,selectedEffects,isZoomed).src;},[picture,selectedEffects,isZoomed]);var processAction=Object(react[\"useCallback\"])(function(type){var effectName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close':onClose();return;case'cancel':onCancel();return;case'checkout':onCheckout(getCurrentPictureUrl);return;case'change_tab':setCurrentTab(String(effectName));return;case'select_effect':{var existingIndex=getSelectedEffectIndex(effectName);if(existingIndex>=0)return;var effect=availableEffects.find(function(effect){return effect.name===effectName;});if(!effect)return;setSelectedEffects(function(prevValue){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevValue),[new nitro_renderer[\"Uf\" /* RoomCameraWidgetSelectedEffect */](effect,1)]);});setSelectedEffectName(effect.name);return;}case'remove_effect':{var _existingIndex=getSelectedEffectIndex(effectName);if(_existingIndex===-1)return;setSelectedEffects(function(prevValue){var clone=Object(toConsumableArray[\"a\" /* default */])(prevValue);clone.splice(_existingIndex,1);return clone;});if(selectedEffectName===effectName)setSelectedEffectName(null);return;}case'clear_effects':setSelectedEffectName(null);setSelectedEffects([]);return;case'download':{var image=new Image();image.src=getCurrentPictureUrl;var newWindow=window.open('');newWindow.document.write(image.outerHTML);return;}case'zoom':setIsZoomed(!isZoomed);return;}},[isZoomed,availableEffects,selectedEffectName,getCurrentPictureUrl,getSelectedEffectIndex,onCancel,onCheckout,onClose,setIsZoomed,setSelectedEffects]);Object(react[\"useEffect\"])(function(){var thumbnails=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(availableEffects),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var effect=_step.value;thumbnails.push(new CameraPictureThumbnail_CameraPictureThumbnail(effect.name,GetRoomCameraWidgetManager().applyEffects(picture.texture,[new nitro_renderer[\"Uf\" /* RoomCameraWidgetSelectedEffect */](effect,1)],false).src));}}catch(err){_iterator.e(err);}finally{_iterator.f();}setEffectsThumbnails(thumbnails);},[picture,availableEffects]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-camera-editor\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('camera.editor.button.text'),onCloseClick:function onCloseClick(event){return processAction('close');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView_NitroCardTabsView,{children:TABS.map(function(tab){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView_NitroCardTabsItemView,{isActive:currentTab===tab,onClick:function onClick(event){return processAction('change_tab',tab);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'icon icon-camera-'+tab})},tab);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetEffectListView_CameraWidgetEffectListView,{myLevel:myLevel,selectedEffects:selectedEffects,effects:getEffectList(),thumbnails:effectsThumbnails,processAction:processAction})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,justifyContent:\"between\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage_LayoutImage,{imageUrl:getCurrentPictureUrl,className:\"picture-preview\"}),selectedEffectName&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('camera.effect.name.'+selectedEffectName)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:1,step:0.01,value:getCurrentEffect.alpha,onChange:function onChange(event){return setSelectedEffectAlpha(event);},renderThumb:function renderThumb(props,state){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:state.valueNow}));}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup_ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return processAction('clear_effects');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"trash\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return processAction('download');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"save\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return processAction('zoom');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:isZoomed?'search-minus':'search-plus'})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return processAction('cancel');},children:LocalizeText('generic.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return processAction('checkout');},children:LocalizeText('camera.preview.button.text')})]})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/camera/CameraWidgetView.tsx\nvar MODE_NONE=0;var MODE_CAPTURE=1;var MODE_EDITOR=2;var MODE_CHECKOUT=3;var CameraWidgetView_CameraWidgetView=function CameraWidgetView(props){var _useState=Object(react[\"useState\"])(MODE_NONE),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),availableEffects=_useState4[0],setAvailableEffects=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),cameraRoll=_useState6[0],setCameraRoll=_useState6[1];var _useState7=Object(react[\"useState\"])(-1),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),selectedPictureIndex=_useState8[0],setSelectedPictureIndex=_useState8[1];var _useState9=Object(react[\"useState\"])(10),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),myLevel=_useState10[0],setMyLevel=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),base64Url=_useState12[0],setSavedPictureUrl=_useState12[1];var _useState13=Object(react[\"useState\"])(null),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),price=_useState14[0],setPrice=_useState14[1];var onRoomCameraWidgetManagerEvent=Object(react[\"useCallback\"])(function(event){setAvailableEffects(Array.from(GetRoomCameraWidgetManager().effects.values()));},[]);UseCameraEvent_UseCameraEvent(nitro_renderer[\"Tf\" /* RoomCameraWidgetManagerEvent */].INITIALIZED,onRoomCameraWidgetManagerEvent);var onCameraConfigurationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setPrice({credits:parser.creditPrice,duckets:parser.ducketPrice,publishDucketPrice:parser.publishDucketPrice});},[]);UseMessageEventHook(nitro_renderer[\"Jd\" /* InitCameraMessageEvent */],onCameraConfigurationEvent);var onRoomSessionEvent=Object(react[\"useCallback\"])(function(event){setMode(MODE_NONE);},[]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED,onRoomSessionEvent);Object(react[\"useEffect\"])(function(){if(!GetRoomCameraWidgetManager().isLoaded){GetRoomCameraWidgetManager().init();SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Nf\" /* RequestCameraConfigurationComposer */]());return;}},[]);var processAction=Object(react[\"useCallback\"])(function(type){switch(type){case'close':setMode(MODE_NONE);return;case'edit':setMode(MODE_EDITOR);return;case'delete':setCameraRoll(function(prevValue){var clone=Object(toConsumableArray[\"a\" /* default */])(prevValue);clone.splice(selectedPictureIndex,1);return clone;});return;case'editor_cancel':setMode(MODE_CAPTURE);return;}},[selectedPictureIndex]);var checkoutPictureUrl=Object(react[\"useCallback\"])(function(pictureUrl){setSavedPictureUrl(pictureUrl);setMode(MODE_CHECKOUT);},[]);var linkReceived=Object(react[\"useCallback\"])(function(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setMode(MODE_CAPTURE);return;case'hide':setMode(MODE_NONE);return;case'toggle':setMode(function(prevValue){if(!prevValue)return MODE_CAPTURE;else return MODE_NONE;});return;}},[]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:linkReceived,eventUrlPrefix:'camera/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[linkReceived]);if(mode===MODE_NONE)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CameraWidgetContext_CameraWidgetContextProvider,{value:{cameraRoll:cameraRoll,setCameraRoll:setCameraRoll,selectedPictureIndex:selectedPictureIndex,setSelectedPictureIndex:setSelectedPictureIndex},children:[mode===MODE_CAPTURE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetCaptureView_CameraWidgetCaptureView,{onClose:function onClose(){return processAction('close');},onEdit:function onEdit(){return processAction('edit');},onDelete:function onDelete(){return processAction('delete');}}),mode===MODE_EDITOR&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetEditorView_CameraWidgetEditorView,{picture:cameraRoll[selectedPictureIndex],myLevel:myLevel,onClose:function onClose(){return processAction('close');},onCancel:function onCancel(){return processAction('editor_cancel');},onCheckout:checkoutPictureUrl,availableEffects:availableEffects}),mode===MODE_CHECKOUT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetCheckoutView_CameraWidgetCheckoutView,{base64Url:base64Url,onCloseClick:function onCloseClick(){return processAction('close');},onCancelClick:function onCancelClick(){return processAction('editor_cancel');},price:price})]});};\n// CONCATENATED MODULE: ./src/components/campaign/CalendarItemView.tsx\nvar CalendarItemView_CalendarItemView=function CalendarItemView(props){var _props$itemId=props.itemId,itemId=_props$itemId===void 0?-1:_props$itemId,_props$state=props.state,state=_props$state===void 0?null:_props$state,_props$product=props.product,product=_props$product===void 0?null:_props$product,_props$active=props.active,active=_props$active===void 0?false:_props$active,_props$onClick=props.onClick,_onClick=_props$onClick===void 0?null:_props$onClick;var getFurnitureIcon=function getFurnitureIcon(name){var furniData=GetSessionDataManager().getFloorItemDataByName(name);var url=null;if(furniData)url=GetRoomEngine().getFurnitureFloorIconUrl(furniData.id);else{furniData=GetSessionDataManager().getWallItemDataByName(name);if(furniData)url=GetRoomEngine().getFurnitureWallIconUrl(furniData.id);}return url;};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fit:true,center:true,pointer:true,className:\"campaign-spritesheet campaign-day-generic-bg rounded calendar-item \".concat(active?'active':''),onClick:function onClick(){return _onClick(itemId);},children:[state===CalendarItemState_CalendarItemState.STATE_UNLOCKED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"campaign-spritesheet unlocked-bg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"campaign-spritesheet campaign-opened\",children:product&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage_LayoutImage,{imageUrl:product.customImage?GetConfiguration('image.library.url')+product.customImage:getFurnitureIcon(product.productName)})})}),state!==CalendarItemState_CalendarItemState.STATE_UNLOCKED&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,className:\"campaign-spritesheet locked-bg\",children:[state===CalendarItemState_CalendarItemState.STATE_LOCKED_AVAILABLE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"campaign-spritesheet available\"}),(state===CalendarItemState_CalendarItemState.STATE_LOCKED_EXPIRED||state===CalendarItemState_CalendarItemState.STATE_LOCKED_FUTURE)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"campaign-spritesheet unavailable\"})]})]});};\n// CONCATENATED MODULE: ./src/components/campaign/CalendarView.tsx\nvar TOTAL_SHOWN_ITEMS=5;var CalendarView_CalendarView=function CalendarView(props){var _props$close=props.close,close=_props$close===void 0?null:_props$close,_props$campaignName=props.campaignName,campaignName=_props$campaignName===void 0?null:_props$campaignName,_props$currentDay=props.currentDay,currentDay=_props$currentDay===void 0?null:_props$currentDay,_props$numDays=props.numDays,numDays=_props$numDays===void 0?null:_props$numDays,_props$missedDays=props.missedDays,missedDays=_props$missedDays===void 0?null:_props$missedDays,_props$openedDays=props.openedDays,openedDays=_props$openedDays===void 0?null:_props$openedDays,_props$openPackage=props.openPackage,openPackage=_props$openPackage===void 0?null:_props$openPackage,_props$receivedProduc=props.receivedProducts,receivedProducts=_props$receivedProduc===void 0?null:_props$receivedProduc;var _useState=Object(react[\"useState\"])(currentDay),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedDay=_useState2[0],setSelectedDay=_useState2[1];var _useState3=Object(react[\"useState\"])(Math.max(0,selectedDay-1)),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),index=_useState4[0],setIndex=_useState4[1];var getDayState=function getDayState(day){if(openedDays.includes(day))return CalendarItemState_CalendarItemState.STATE_UNLOCKED;if(day>currentDay)return CalendarItemState_CalendarItemState.STATE_LOCKED_FUTURE;if(missedDays.includes(day))return CalendarItemState_CalendarItemState.STATE_LOCKED_EXPIRED;return CalendarItemState_CalendarItemState.STATE_LOCKED_AVAILABLE;};var dayMessage=function dayMessage(day){var state=getDayState(day);switch(state){case CalendarItemState_CalendarItemState.STATE_UNLOCKED:return LocalizeText('campaign.calendar.info.unlocked');case CalendarItemState_CalendarItemState.STATE_LOCKED_FUTURE:return LocalizeText('campaign.calendar.info.future');case CalendarItemState_CalendarItemState.STATE_LOCKED_EXPIRED:return LocalizeText('campaign.calendar.info.expired');default:return LocalizeText('campaign.calendar.info.available.desktop');}};var onClickNext=function onClickNext(){var nextDay=selectedDay+1;if(nextDay===numDays)return;setSelectedDay(nextDay);if(index+TOTAL_SHOWN_ITEMS<nextDay+1)setIndex(index+1);};var onClickPrev=function onClickPrev(){var prevDay=selectedDay-1;if(prevDay<0)return;setSelectedDay(prevDay);if(index>prevDay)setIndex(index-1);};var onClickItem=function onClickItem(item){if(selectedDay===item){var state=getDayState(item);if(state===CalendarItemState_CalendarItemState.STATE_LOCKED_AVAILABLE)openPackage(item,false);return;}setSelectedDay(item);};var forceOpen=function forceOpen(){var id=selectedDay;var state=getDayState(id);if(state!==CalendarItemState_CalendarItemState.STATE_UNLOCKED)openPackage(id,true);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-campaign-calendar\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText(\"campaign.calendar.\".concat(campaignName,\".title\")),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{fullHeight:false,justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:1}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontSize:3,children:LocalizeText('campaign.calendar.heading.day',['number'],[(selectedDay+1).toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:dayMessage(selectedDay)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:GetSessionDataManager().isModerator&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:forceOpen,children:\"Force open\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:1})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullHeight:true,gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"campaign-spritesheet prev\",onClick:onClickPrev})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,fullWidth:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{fit:true,columnCount:TOTAL_SHOWN_ITEMS,gap:1,children:Object(toConsumableArray[\"a\" /* default */])(Array(TOTAL_SHOWN_ITEMS)).map(function(e,i){var day=index+i;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CalendarItemView_CalendarItemView,{itemId:day,state:getDayState(day),active:selectedDay===day,product:receivedProducts.has(day)?receivedProducts.get(day):null,onClick:onClickItem})},i);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"campaign-spritesheet next\",onClick:onClickNext})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/campaign/CampaignView.tsx\nvar CampaignView_CampaignView=function CampaignView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),calendarData=_useState2[0],setCalendarData=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),lastOpenAttempt=_useState4[0],setLastOpenAttempt=_useState4[1];var _useState5=Object(react[\"useState\"])(new Map()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),receivedProducts=_useState6[0],setReceivedProducts=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isCalendarOpen=_useState8[0],setCalendarOpen=_useState8[1];var onCampaignCalendarDataMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;setCalendarData(parser.calendarData);},[]);UseMessageEventHook(nitro_renderer[\"O\" /* CampaignCalendarDataMessageEvent */],onCampaignCalendarDataMessageEvent);var onCampaignCalendarDoorOpenedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var lastAttempt=lastOpenAttempt;if(parser.doorOpened){setCalendarData(function(prev){var copy=prev.clone();copy.openedDays.push(lastOpenAttempt);return copy;});setReceivedProducts(function(prev){var copy=new Map(prev);copy.set(lastAttempt,new CalendarItem_CalendarItem(parser.productName,parser.customImage,parser.furnitureClassName));return copy;});}setLastOpenAttempt(-1);},[lastOpenAttempt]);UseMessageEventHook(nitro_renderer[\"P\" /* CampaignCalendarDoorOpenedMessageEvent */],onCampaignCalendarDoorOpenedMessageEvent);var openPackage=Object(react[\"useCallback\"])(function(id){var asStaff=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!calendarData)return;setLastOpenAttempt(id);if(asStaff){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"cf\" /* OpenCampaignCalendarDoorAsStaffComposer */](calendarData.campaignName,id));}else{SendMessageComposer_SendMessageComposer(new nitro_renderer[\"df\" /* OpenCampaignCalendarDoorComposer */](calendarData.campaignName,id));}},[calendarData]);var onCalendarClose=Object(react[\"useCallback\"])(function(){setCalendarOpen(false);},[]);var onLinkReceived=Object(react[\"useCallback\"])(function(link){var value=link.split('/');if(value.length<2)return;switch(value[1]){case'calendar':setCalendarOpen(true);break;}},[]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:onLinkReceived,eventUrlPrefix:'openView/'};AddEventLinkTracker(linkTracker);return function(){RemoveLinkEventTracker(linkTracker);};},[onLinkReceived]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:calendarData&&isCalendarOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CalendarView_CalendarView,{close:onCalendarClose,campaignName:calendarData.campaignName,currentDay:calendarData.currentDay,numDays:calendarData.campaignDays,openedDays:calendarData.openedDays,missedDays:calendarData.missedDays,openPackage:openPackage,receivedProducts:receivedProducts})});};\n// CONCATENATED MODULE: ./src/components/casino/CasinoView.tsx\nvar CasinoView_CasinoView=function CasinoView(props){var sso=new URLSearchParams(window.location.search).get('sso');var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(\"none\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),dice=_useState4[0],setDice=_useState4[1];var _useState5=Object(react[\"useState\"])(\"none\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),rouletteFloor=_useState6[0],setRouletteFloor=_useState6[1];var _useState7=Object(react[\"useState\"])(\"none\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),rouletteWall=_useState8[0],setRouletteWall=_useState8[1];var _useState9=Object(react[\"useState\"])(\"none\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),vendingMachine=_useState10[0],setVendingMachine=_useState10[1];// Dados\nvar _useState11=Object(react[\"useState\"])(\"1\"),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),diceNumber=_useState12[0],setDiceNumber=_useState12[1];var _useState13=Object(react[\"useState\"])(\"1\"),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),diceCoin=_useState14[0],setDiceCoin=_useState14[1];var _useState15=Object(react[\"useState\"])(\"1\"),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),diceBet=_useState16[0],setDiceBet=_useState16[1];// RuletaSuelo\nvar _useState17=Object(react[\"useState\"])(\"1\"),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),ruletaSueloNumber=_useState18[0],setRuletaSueloNumber=_useState18[1];var _useState19=Object(react[\"useState\"])(\"1\"),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),ruletaSueloCoin=_useState20[0],setRuletaSueloCoin=_useState20[1];var _useState21=Object(react[\"useState\"])(\"1\"),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),ruletaSueloBet=_useState22[0],setRuletaSueloBet=_useState22[1];// RuletaPared\nvar _useState23=Object(react[\"useState\"])(\"1\"),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),ruletaParedCoin=_useState24[0],setRuletaParedCoin=_useState24[1];var _useState25=Object(react[\"useState\"])(\"1\"),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),ruletaParedBet=_useState26[0],setRuletaParedBet=_useState26[1];function betDados(){fetch(\"https://int.ultrahabbo.fun/?type=betDadosCasino&quantity=\"+diceBet+\"&coin=\"+diceCoin+\"&number=\"+diceNumber+\"&sso=\"+sso);setIsVisible(false);}function betRuletaSuelo(){fetch(\"https://int.ultrahabbo.fun/?type=betRuletaSuelo&quantity=\"+ruletaSueloBet+\"&coin=\"+ruletaSueloCoin+\"&number=\"+ruletaSueloNumber+\"&sso=\"+sso);setIsVisible(false);}function betRuletaPared(){fetch(\"https://int.ultrahabbo.fun/?type=betRuletaPared&quantity=\"+ruletaParedBet+\"&coin=\"+ruletaParedCoin+\"&sso=\"+sso);setIsVisible(false);}Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'rouletteColor':setRouletteWall(\"block\");setVendingMachine(\"none\");setDice(\"none\");setRouletteFloor(\"none\");setIsVisible(true);return;case'rouletteFloor':setRouletteWall(\"none\");setVendingMachine(\"none\");setDice(\"none\");setRouletteFloor(\"block\");setIsVisible(true);return;case'dice':setRouletteWall(\"none\");setVendingMachine(\"none\");setDice(\"block\");setRouletteFloor(\"none\");setIsVisible(true);return;case'vendingMachine':setRouletteWall(\"none\");setVendingMachine(\"block\");setDice(\"none\");setRouletteFloor(\"none\");setIsVisible(true);return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'casino/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{style:{width:\"350px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"Apostar\",onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"diceView\",style:{display:dice},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-primary text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Selecciona un n\\xFAmero del 1 al 6. Si el dado saca el mismo n\\xFAmero, ganas x2.\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Selecciona un n\\xFAmero entre 1 y 6\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setDiceNumber(e.target.value);},className:\"form-control\",type:\"number\",placeholder:\"0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Moneda a apostar:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:diceCoin,onChange:function onChange(e){return setDiceCoin(e.target.value);},className:\"form-control\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:\"Cr\\xE9ditos\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"3\",children:\"Cometas\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:\"Asteroides\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Cantidad a apostar:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setDiceBet(e.target.value);},className:\"form-control\",type:\"number\",placeholder:\"0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return betDados();},className:\"btn btn-success w-100\",children:\"Apostar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"rouletteColorsView\",style:{display:rouletteWall},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-primary text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"Depende del color, ganas o pierdes.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Verde: x5\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Morado: x2\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Moneda a apostar:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:ruletaParedCoin,onChange:function onChange(e){return setRuletaParedCoin(e.target.value);},className:\"form-control\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:\"Cr\\xE9ditos\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"3\",children:\"Cometas\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:\"Asteroides\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Cantidad a apostar:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setRuletaParedBet(e.target.value);},className:\"form-control\",type:\"number\",placeholder:\"0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return betRuletaPared();},className:\"btn btn-success w-100\",children:\"Apostar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"rouletteFloorView\",style:{display:rouletteFloor},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-primary text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Selecciona un n\\xFAmero. Si el n\\xFAmero es par y toca par, ganar\\xE1s un x1.5. Si toca el mismo n\\xFAmero, ganar\\xE1s un x5. Si seleccionas 0 y sale 0 ganar\\xE1s un x10.\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Selecciona un n\\xFAmero entre 0 y 32\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setRuletaSueloNumber(e.target.value);},className:\"form-control\",type:\"number\",placeholder:\"0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Moneda a apostar:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:ruletaSueloCoin,onChange:function onChange(e){return setRuletaSueloCoin(e.target.value);},className:\"form-control\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:\"Cr\\xE9ditos\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"3\",children:\"Cometas\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:\"Asteroides\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Cantidad a apostar:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return setRuletaSueloBet(e.target.value);},className:\"form-control\",type:\"number\",placeholder:\"0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return betRuletaSuelo();},className:\"btn btn-success w-100\",children:\"Apostar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"vendingMachineView\",style:{display:vendingMachine},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-primary text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Si la tragaperras te da premio, ganas x2.\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Moneda a apostar:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-control\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{children:\"Cr\\xE9ditos\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{children:\"Cometas\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{children:\"Asteroides\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Cantidad a apostar:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control\",type:\"number\",placeholder:\"0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",children:\"Apostar\"})]})]})]})});};\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(32);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// CONCATENATED MODULE: ./src/components/catalog/views/gift/CatalogGiftView.tsx\nvar CatalogGiftView_CatalogGiftView=function CatalogGiftView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),pageId=_useState4[0],setPageId=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),offerId=_useState6[0],setOfferId=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),extraData=_useState8[0],setExtraData=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),receiverName=_useState10[0],setReceiverName=_useState10[1];var _useState11=Object(react[\"useState\"])(true),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),showMyFace=_useState12[0],setShowMyFace=_useState12[1];var _useState13=Object(react[\"useState\"])(''),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),message=_useState14[0],setMessage=_useState14[1];var _useState15=Object(react[\"useState\"])([]),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),colors=_useState16[0],setColors=_useState16[1];var _useState17=Object(react[\"useState\"])(0),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),selectedBoxIndex=_useState18[0],setSelectedBoxIndex=_useState18[1];var _useState19=Object(react[\"useState\"])(0),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),selectedRibbonIndex=_useState20[0],setSelectedRibbonIndex=_useState20[1];var _useState21=Object(react[\"useState\"])(0),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),selectedColorId=_useState22[0],setSelectedColorId=_useState22[1];var _useState23=Object(react[\"useState\"])(0),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),maxBoxIndex=_useState24[0],setMaxBoxIndex=_useState24[1];var _useState25=Object(react[\"useState\"])(0),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),maxRibbonIndex=_useState26[0],setMaxRibbonIndex=_useState26[1];var _useState27=Object(react[\"useState\"])(false),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),receiverNotFound=_useState28[0],setReceiverNotFound=_useState28[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$catalogOp=_useCatalog.catalogOptions,catalogOptions=_useCatalog$catalogOp===void 0?null:_useCatalog$catalogOp;var _catalogOptions$giftC=catalogOptions.giftConfiguration,giftConfiguration=_catalogOptions$giftC===void 0?null:_catalogOptions$giftC;var close=Object(react[\"useCallback\"])(function(){setIsVisible(false);setPageId(0);setOfferId(0);setExtraData('');setReceiverName('');setShowMyFace(true);setMessage('');setSelectedBoxIndex(0);setSelectedRibbonIndex(0);if(colors.length)setSelectedColorId(colors[0].id);},[colors]);var onCatalogEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS:close();return;case CatalogEvent_CatalogEvent.INIT_GIFT:var castedEvent=event;close();setPageId(castedEvent.pageId);setOfferId(castedEvent.offerId);setExtraData(castedEvent.extraData);setIsVisible(true);return;}},[close]);UseUiEvent_UseUiEvent(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS,onCatalogEvent);UseUiEvent_UseUiEvent(CatalogEvent_CatalogEvent.INIT_GIFT,onCatalogEvent);var isBoxDefault=Object(react[\"useMemo\"])(function(){return giftConfiguration?giftConfiguration.defaultStuffTypes.findIndex(function(s){return s===giftConfiguration.boxTypes[selectedBoxIndex];})>-1:true;},[giftConfiguration,selectedBoxIndex]);var boxExtraData=Object(react[\"useMemo\"])(function(){if(!giftConfiguration)return'';return(giftConfiguration.boxTypes[selectedBoxIndex]*1000+giftConfiguration.ribbonTypes[selectedRibbonIndex]).toString();},[giftConfiguration,selectedBoxIndex,selectedRibbonIndex]);var isColorable=Object(react[\"useMemo\"])(function(){if(!giftConfiguration)return false;var boxType=giftConfiguration.boxTypes[selectedBoxIndex];return boxType===8||boxType>=3&&boxType<=6?false:true;},[giftConfiguration,selectedBoxIndex]);var handleAction=Object(react[\"useCallback\"])(function(action){switch(action){case'prev_box':setSelectedBoxIndex(function(value){return value===0?maxBoxIndex:value-1;});return;case'next_box':setSelectedBoxIndex(function(value){return value===maxBoxIndex?0:value+1;});return;case'prev_ribbon':setSelectedRibbonIndex(function(value){return value===0?maxRibbonIndex:value-1;});return;case'next_ribbon':setSelectedRibbonIndex(function(value){return value===maxRibbonIndex?0:value+1;});return;case'buy':if(!receiverName||receiverName.length===0){setReceiverNotFound(true);return;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"wf\" /* PurchaseFromCatalogAsGiftComposer */](pageId,offerId,extraData,receiverName,message,selectedColorId,selectedBoxIndex,selectedRibbonIndex,showMyFace));return;}},[extraData,maxBoxIndex,maxRibbonIndex,message,offerId,pageId,receiverName,selectedBoxIndex,selectedColorId,selectedRibbonIndex,showMyFace]);var onGiftReceiverNotFoundEvent=Object(react[\"useCallback\"])(function(){setReceiverNotFound(true);},[]);UseMessageEventHook(nitro_renderer[\"zc\" /* GiftReceiverNotFoundEvent */],onGiftReceiverNotFoundEvent);Object(react[\"useEffect\"])(function(){setReceiverNotFound(false);},[receiverName]);Object(react[\"useEffect\"])(function(){if(!giftConfiguration)return;var newColors=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(giftConfiguration.stuffTypes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var colorId=_step.value;var giftData=GetSessionDataManager().getFloorItemData(colorId);if(!giftData)continue;if(giftData.colors&&giftData.colors.length>0)newColors.push({id:colorId,color:\"#\".concat(giftData.colors[0].toString(16))});}}catch(err){_iterator.e(err);}finally{_iterator.f();}setMaxBoxIndex(giftConfiguration.boxTypes.length-1);setMaxRibbonIndex(giftConfiguration.ribbonTypes.length-1);if(newColors.length){setSelectedColorId(newColors[0].id);setColors(newColors);}},[giftConfiguration]);if(!giftConfiguration||!giftConfiguration.isEnabled||!isVisible)return null;var boxName='catalog.gift_wrapping_new.box.'+(isBoxDefault?'default':selectedBoxIndex);var ribbonName=\"catalog.gift_wrapping_new.ribbon.\".concat(selectedRibbonIndex);var priceText='catalog.gift_wrapping_new.'+(isBoxDefault?'freeprice':'price');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"catalog-gift\",className:\"nitro-catalog-gift\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('catalog.gift_wrapping.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormGroup_FormGroup,{column:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('catalog.gift_wrapping.receiver')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:'form-control form-control-sm'+classnames_default()({' is-invalid':receiverNotFound}),value:receiverName,onChange:function onChange(e){return setReceiverName(e.target.value);}}),receiverNotFound&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"invalid-feedback\",children:LocalizeText('catalog.gift_wrapping.receiver_not_found.title')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGiftTagView_LayoutGiftTagView,{figure:GetSessionDataManager().figure,userName:GetSessionDataManager().userName,message:message,editable:true,onChange:function onChange(value){return setMessage(value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:\"form-check\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"showMyFace\",checked:showMyFace,onChange:function onChange(e){return setShowMyFace(function(value){return!value;});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{color:\"var(--test-galaxytext)\"},className:\"form-check-label\",children:LocalizeText('catalog.gift_wrapping.show_face.title')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[selectedColorId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"gift-preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutFurniImageView_LayoutFurniImageView,{productType:ProductTypeEnum_ProductTypeEnum.FLOOR,productClassId:selectedColorId,extraData:boxExtraData})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup_ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",onClick:function onClick(){return handleAction('prev_box');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",onClick:function onClick(){return handleAction('next_box');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontWeight:\"bold\",children:LocalizeText(boxName)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{style:{color:\"var(--test-galaxytext)\"},alignItems:\"center\",gap:1,children:[LocalizeText(priceText,['price'],[giftConfiguration.price.toString()]),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:-1})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup_ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",onClick:function onClick(){return handleAction('prev_ribbon');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",onClick:function onClick(){return handleAction('next_ribbon');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontWeight:\"bold\",children:LocalizeText(ribbonName)})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontWeight:\"bold\",children:LocalizeText('catalog.gift_wrapping.pick_color')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ButtonGroup_ButtonGroup,{fullWidth:true,children:colors.map(function(color){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"dark\",active:color.id===selectedColorId,disabled:!isColorable,style:{backgroundColor:color.color},onClick:function onClick(){return setSelectedColorId(color.id);}},color.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"link\",onClick:close,style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(){return handleAction('buy');},children:LocalizeText('catalog.gift_wrapping.give_gift')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/common/CatalogSearchView.tsx\nvar CatalogSearchView_CatalogSearchView=function CatalogSearchView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),needsProcessing=_useState4[0],setNeedsProcessing=_useState4[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentTy=_useCatalog.currentType,currentType=_useCatalog$currentTy===void 0?null:_useCatalog$currentTy,_useCatalog$rootNode=_useCatalog.rootNode,rootNode=_useCatalog$rootNode===void 0?null:_useCatalog$rootNode,_useCatalog$offersToN=_useCatalog.offersToNodes,offersToNodes=_useCatalog$offersToN===void 0?null:_useCatalog$offersToN,_useCatalog$searchRes=_useCatalog.searchResult,searchResult=_useCatalog$searchRes===void 0?null:_useCatalog$searchRes,_useCatalog$setSearch=_useCatalog.setSearchResult,setSearchResult=_useCatalog$setSearch===void 0?null:_useCatalog$setSearch,_useCatalog$setCurren=_useCatalog.setCurrentPage,setCurrentPage=_useCatalog$setCurren===void 0?null:_useCatalog$setCurren;var updateSearchValue=function updateSearchValue(value){if(!value||!value.length){setSearchValue('');if(searchResult)setSearchResult(null);}else{setSearchValue(value);setNeedsProcessing(true);}};var processSearch=Object(react[\"useCallback\"])(function(search){setNeedsProcessing(false);search=search.toLocaleLowerCase().replace(' ','');if(!search||!search.length)return;var furnitureDatas=GetSessionDataManager().getAllFurnitureData({loadFurnitureData:null});if(!furnitureDatas||!furnitureDatas.length)return;var foundFurniture=[];var foundFurniLines=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(furnitureDatas),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _furniture=_step.value;if(currentType===CatalogType_CatalogType.BUILDER&&!_furniture.availableForBuildersClub)continue;if(currentType===CatalogType_CatalogType.NORMAL&&_furniture.excludeDynamic)continue;var searchValues=[_furniture.className,_furniture.name,_furniture.description].join(' ').replace(/ /gi,'').toLowerCase();if(currentType===CatalogType_CatalogType.BUILDER&&_furniture.purchaseOfferId===-1&&_furniture.rentOfferId===-1){if(_furniture.furniLine!==''&&foundFurniLines.indexOf(_furniture.furniLine)<0){if(searchValues.indexOf(search)>=0)foundFurniLines.push(_furniture.furniLine);}}else{var foundNodes=[].concat(Object(toConsumableArray[\"a\" /* default */])(CatalogUtilities_GetOfferNodes(offersToNodes,_furniture.purchaseOfferId)),Object(toConsumableArray[\"a\" /* default */])(CatalogUtilities_GetOfferNodes(offersToNodes,_furniture.rentOfferId)));if(foundNodes.length){if(searchValues.indexOf(search)>=0)foundFurniture.push(_furniture);if(foundFurniture.length===250)break;}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var offers=[];for(var _i=0,_foundFurniture=foundFurniture;_i<_foundFurniture.length;_i++){var furniture=_foundFurniture[_i];offers.push(new FurnitureOffer_FurnitureOffer(furniture));}var nodes=[];CatalogUtilities_FilterCatalogNode(search,foundFurniLines,rootNode,nodes);setCurrentPage(new CatalogPage_CatalogPage(-1,'default_3x3',new PageLocalization_PageLocalization([],[]),offers,false,1));setSearchResult(new SearchResult_SearchResult(search,offers,nodes.filter(function(node){return node.isVisible;})));},[offersToNodes,currentType,rootNode,setCurrentPage,setSearchResult]);Object(react[\"useEffect\"])(function(){if(!needsProcessing)return;var timeout=setTimeout(function(){return processSearch(searchValue);},300);return function(){return clearTimeout(timeout);};},[searchValue,needsProcessing,processSearch]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{fullWidth:true,alignItems:\"center\",position:\"relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:function onChange(event){return updateSearchValue(event.target.value);},onKeyDown:function onKeyDown(event){return(event.code==='Enter'||event.code==='NumpadEnter')&&processSearch(searchValue);}})}),(!searchValue||!searchValue.length)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",className:\"catalog-search-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"search\"})}),searchValue&&!!searchValue.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",className:\"catalog-search-button\",onClick:function onClick(event){return updateSearchValue('');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/catalog-icon/CatalogIconView.tsx\nvar CatalogIconView_CatalogIconView=function CatalogIconView(props){var _props$icon=props.icon,icon=_props$icon===void 0?0:_props$icon;var getIconUrl=Object(react[\"useMemo\"])(function(){return GetConfiguration('catalog.asset.icon.url').replace('%name%',icon.toString());},[icon]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage_LayoutImage,{imageUrl:getIconUrl,style:{width:20,height:20}});};\n// CONCATENATED MODULE: ./src/components/catalog/views/navigation/CatalogNavigationSetView.tsx\nvar CatalogNavigationSetView_CatalogNavigationSetView=function CatalogNavigationSetView(props){var _props$node=props.node,node=_props$node===void 0?null:_props$node;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:node&&node.children.length>0&&node.children.map(function(n,index){if(!n.isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationItemView_CatalogNavigationItemView,{node:n},index);})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/navigation/CatalogNavigationItemView.tsx\nvar CatalogNavigationItemView_CatalogNavigationItemView=function CatalogNavigationItemView(props){var _props$node=props.node,node=_props$node===void 0?null:_props$node;var _useCatalog=useCatalog_useCatalog(),_useCatalog$activateN=_useCatalog.activateNode,activateNode=_useCatalog$activateN===void 0?null:_useCatalog$activateN;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{gap:1,column:false,itemActive:node.isActive,onClick:function onClick(event){return activateNode(node);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogIconView_CatalogIconView,{icon:node.iconId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{grow:true,truncate:true,children:node.localization}),node.isBranch&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:node.isOpen?'caret-up':'caret-down'})]}),node.isOpen&&node.isBranch&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationSetView_CatalogNavigationSetView,{node:node})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/navigation/CatalogNavigationView.tsx\nvar CatalogNavigationView_CatalogNavigationView=function CatalogNavigationView(props){var _props$node=props.node,node=_props$node===void 0?null:_props$node;var _useCatalog=useCatalog_useCatalog(),_useCatalog$searchRes=_useCatalog.searchResult,searchResult=_useCatalog$searchRes===void 0?null:_useCatalog$searchRes;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSearchView_CatalogSearchView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullHeight:true,className:\"nitro-catalog-navigation-grid-container rounded p-1\",overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid_AutoGrid,{gap:1,columnCount:1,children:[searchResult&&searchResult.filteredNodes.length>0&&searchResult.filteredNodes.map(function(n,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationItemView_CatalogNavigationItemView,{node:n},index);}),!searchResult&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationSetView_CatalogNavigationSetView,{node:node})]})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogBadgeSelectorWidgetView.tsx\nvar CatalogBadgeSelectorWidgetView_excluded=[\"columnCount\"];var EXCLUDED_BADGE_CODES=[];var CatalogBadgeSelectorWidgetView_CatalogBadgeSelectorWidgetView=function CatalogBadgeSelectorWidgetView(props){var _props$columnCount=props.columnCount,columnCount=_props$columnCount===void 0?5:_props$columnCount,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogBadgeSelectorWidgetView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),currentBadgeCode=_useState4[0],setCurrentBadgeCode=_useState4[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha;var _useInventoryBadges=useInventoryBadges_useInventoryBadges(),_useInventoryBadges$b=_useInventoryBadges.badgeCodes,badgeCodes=_useInventoryBadges$b===void 0?[]:_useInventoryBadges$b,_useInventoryBadges$a=_useInventoryBadges.activate,activate=_useInventoryBadges$a===void 0?null:_useInventoryBadges$a,_useInventoryBadges$d=_useInventoryBadges.deactivate,deactivate=_useInventoryBadges$d===void 0?null:_useInventoryBadges$d;var previewStuffData=Object(react[\"useMemo\"])(function(){if(!currentBadgeCode)return null;var stuffData=new nitro_renderer[\"Kh\" /* StringDataType */]();stuffData.setValue(['0',currentBadgeCode,'','']);return stuffData;},[currentBadgeCode]);Object(react[\"useEffect\"])(function(){if(!currentOffer)return;setPurchaseOptions(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.extraParamRequired=true;newValue.extraData=previewStuffData&&previewStuffData.getValue(1)||null;newValue.previewStuffData=previewStuffData;return newValue;});},[currentOffer,previewStuffData,setPurchaseOptions]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;var id=activate();return function(){return deactivate(id);};},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(function(){setIsVisible(true);return function(){return setIsVisible(false);};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({columnCount:columnCount},rest),{},{children:badgeCodes&&badgeCodes.length>0&&badgeCodes.map(function(badgeCode,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:currentBadgeCode===badgeCode,onClick:function onClick(event){return setCurrentBadgeCode(badgeCode);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:badgeCode})},index);})}));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogFirstProductSelectorWidgetView.tsx\nvar CatalogFirstProductSelectorWidgetView_CatalogFirstProductSelectorWidgetView=function CatalogFirstProductSelectorWidgetView(props){var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentPa=_useCatalog.currentPage,currentPage=_useCatalog$currentPa===void 0?null:_useCatalog$currentPa,_useCatalog$setCurren=_useCatalog.setCurrentOffer,setCurrentOffer=_useCatalog$setCurren===void 0?null:_useCatalog$setCurren;Object(react[\"useEffect\"])(function(){if(!currentPage||!currentPage.offers.length)return;setCurrentOffer(currentPage.offers[0]);},[currentPage,setCurrentOffer]);return null;};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/common/CatalogGridOfferView.tsx\nvar CatalogGridOfferView_excluded=[\"offer\",\"selectOffer\",\"itemActive\"];var CatalogGridOfferView_CatalogGridOfferView=function CatalogGridOfferView(props){var _props$offer=props.offer,offer=_props$offer===void 0?null:_props$offer,_props$selectOffer=props.selectOffer,selectOffer=_props$selectOffer===void 0?null:_props$selectOffer,_props$itemActive=props.itemActive,itemActive=_props$itemActive===void 0?false:_props$itemActive,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogGridOfferView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMouseDown=_useState2[0],setMouseDown=_useState2[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$requestOf=_useCatalog.requestOfferToMover,requestOfferToMover=_useCatalog$requestOf===void 0?null:_useCatalog$requestOf;var _useInventoryFurni=useInventoryFurni_useInventoryFurni(),_useInventoryFurni$is=_useInventoryFurni.isVisible,isVisible=_useInventoryFurni$is===void 0?false:_useInventoryFurni$is;var iconUrl=Object(react[\"useMemo\"])(function(){if(offer.pricingModel===Offer_Offer.PRICING_MODEL_BUNDLE){return null;}return offer.product.getIconUrl(offer);},[offer]);var onMouseEvent=function onMouseEvent(event){switch(event.type){case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN:selectOffer(offer);setMouseDown(true);return;case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_UP:setMouseDown(false);return;case nitro_renderer[\"xe\" /* MouseEventType */].ROLL_OUT:if(!isMouseDown||!itemActive||!isVisible)return;requestOfferToMover(offer);return;}};var product=offer.product;if(!product)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({itemImage:iconUrl,itemCount:offer.pricingModel===Offer_Offer.PRICING_MODEL_MULTI?product.productCount:1,itemUniqueSoldout:product.uniqueLimitedItemSeriesSize&&!product.uniqueLimitedItemsLeft,itemUniqueNumber:product.uniqueLimitedItemSeriesSize,itemActive:itemActive,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent},rest),{},{children:offer.product.productType===ProductTypeEnum_ProductTypeEnum.ROBOT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:offer.product.extraParam,headOnly:true,direction:3})}));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogItemGridWidgetView.tsx\nvar CatalogItemGridWidgetView_excluded=[\"columnCount\",\"children\"];var CatalogItemGridWidgetView_CatalogItemGridWidgetView=function CatalogItemGridWidgetView(props){var _props$columnCount=props.columnCount,columnCount=_props$columnCount===void 0?5:_props$columnCount,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogItemGridWidgetView_excluded);var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$setCurren=_useCatalog.setCurrentOffer,setCurrentOffer=_useCatalog$setCurren===void 0?null:_useCatalog$setCurren,_useCatalog$currentPa=_useCatalog.currentPage,currentPage=_useCatalog$currentPa===void 0?null:_useCatalog$currentPa,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha;if(!currentPage)return null;var selectOffer=function selectOffer(offer){offer.activate();if(offer.isLazy)return;setCurrentOffer(offer);if(offer.product&&offer.product.productType===ProductTypeEnum_ProductTypeEnum.WALL){setPurchaseOptions(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.extraData=offer.product.extraParam||null;return newValue;});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid_AutoGrid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({columnCount:columnCount},rest),{},{children:[currentPage.offers&&currentPage.offers.length>0&&currentPage.offers.map(function(offer,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGridOfferView_CatalogGridOfferView,{itemActive:currentOffer&&currentOffer.offerId===offer.offerId,offer:offer,selectOffer:selectOffer},index);}),children]}));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogLimitedItemWidgetView.tsx\nvar CatalogLimitedItemWidgetView_excluded=[\"children\"];var CatalogLimitedItemWidgetView_CatalogLimitedItemWidgetView=function CatalogLimitedItemWidgetView(props){var _props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogLimitedItemWidgetView_excluded);var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf;if(!currentOffer||currentOffer.pricingModel!==Offer_Offer.PRICING_MODEL_SINGLE||!currentOffer.product.isUniqueLimitedItem)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionCompletePlateView_LayoutLimitedEditionCompletePlateView,{className:\"mx-auto\",uniqueLimitedItemsLeft:currentOffer.product.uniqueLimitedItemsLeft,uniqueLimitedSeriesSize:currentOffer.product.uniqueLimitedItemSeriesSize}),children]}));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogPurchaseWidgetView.tsx\nvar CatalogPurchaseWidgetView_CatalogPurchaseWidgetView=function CatalogPurchaseWidgetView(props){var _props$noGiftOption=props.noGiftOption,noGiftOption=_props$noGiftOption===void 0?false:_props$noGiftOption,_props$purchaseCallba=props.purchaseCallback,purchaseCallback=_props$purchaseCallba===void 0?null:_props$purchaseCallba;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),purchaseWillBeGift=_useState2[0],setPurchaseWillBeGift=_useState2[1];var _useState3=Object(react[\"useState\"])(CatalogPurchaseState_CatalogPurchaseState.NONE),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),purchaseState=_useState4[0],setPurchaseState=_useState4[1];var _useLocalStorage=useLocalStorage(LocalStorageKeys_LocalStorageKeys.CATALOG_SKIP_PURCHASE_CONFIRMATION,false),_useLocalStorage2=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage,2),catalogSkipPurchaseConfirmation=_useLocalStorage2[0],setCatalogSkipPurchaseConfirmation=_useLocalStorage2[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$currentPa=_useCatalog.currentPage,currentPage=_useCatalog$currentPa===void 0?null:_useCatalog$currentPa,_useCatalog$purchaseO=_useCatalog.purchaseOptions,purchaseOptions=_useCatalog$purchaseO===void 0?null:_useCatalog$purchaseO,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha;var _usePurse=usePurse_usePurse(),_usePurse$getCurrency=_usePurse.getCurrencyAmount,getCurrencyAmount=_usePurse$getCurrency===void 0?null:_usePurse$getCurrency;var onCatalogEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS:setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.NONE);return;case CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED:setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.FAILED);return;case CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent.NOT_ALLOWED:setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.FAILED);return;case CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent.SOLD_OUT:setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.SOLD_OUT);return;}},[]);UseUiEvent_UseUiEvent(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS,onCatalogEvent);UseUiEvent_UseUiEvent(CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED,onCatalogEvent);UseUiEvent_UseUiEvent(CatalogPurchaseNotAllowedEvent_CatalogPurchaseNotAllowedEvent.NOT_ALLOWED,onCatalogEvent);UseUiEvent_UseUiEvent(CatalogPurchaseSoldOutEvent_CatalogPurchaseSoldOutEvent.SOLD_OUT,onCatalogEvent);var isLimitedSoldOut=Object(react[\"useMemo\"])(function(){if(!currentOffer)return false;if(purchaseOptions.extraParamRequired&&(!purchaseOptions.extraData||!purchaseOptions.extraData.length))return false;if(currentOffer.pricingModel===Offer_Offer.PRICING_MODEL_SINGLE){var product=currentOffer.product;if(product&&product.isUniqueLimitedItem)return!product.uniqueLimitedItemsLeft;}return false;},[currentOffer,purchaseOptions]);var purchase=function purchase(){var isGift=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!currentOffer)return;if(GetClubMemberLevel()<currentOffer.clubLevel){CreateLinkEvent('habboUI/open/hccenter');return;}if(isGift){DispatchUiEvent_DispatchUiEvent(new CatalogInitGiftEvent_CatalogInitGiftEvent(currentOffer.page.pageId,currentOffer.offerId,purchaseOptions.extraData));return;}setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.PURCHASE);if(purchaseCallback){purchaseCallback();return;}var pageId=currentOffer.page.pageId;// if(pageId === -1)\n// {\n//     const nodes = getNodesByOfferId(currentOffer.offerId);\n//     if(nodes) pageId = nodes[0].pageId;\n// }\nSendMessageComposer_SendMessageComposer(new nitro_renderer[\"xf\" /* PurchaseFromCatalogComposer */](pageId,currentOffer.offerId,purchaseOptions.extraData,purchaseOptions.quantity));};Object(react[\"useEffect\"])(function(){if(!currentOffer)return;return function(){setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.NONE);setPurchaseOptions({quantity:1,extraData:null,extraParamRequired:false,previewStuffData:null});};},[currentOffer,setPurchaseOptions]);Object(react[\"useEffect\"])(function(){var timeout=null;if(purchaseState===CatalogPurchaseState_CatalogPurchaseState.CONFIRM||purchaseState===CatalogPurchaseState_CatalogPurchaseState.FAILED){timeout=setTimeout(function(){return setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.NONE);},3000);}return function(){if(timeout)clearTimeout(timeout);};},[purchaseState]);if(!currentOffer)return null;var PurchaseButton=function PurchaseButton(){var priceCredits=currentOffer.priceInCredits*purchaseOptions.quantity;var pricePoints=currentOffer.priceInActivityPoints*purchaseOptions.quantity;if(GetClubMemberLevel()<currentOffer.clubLevel)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",disabled:true,children:LocalizeText('catalog.alert.hc.required')});if(isLimitedSoldOut)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",disabled:true,children:LocalizeText('catalog.alert.limited_edition_sold_out.title')});if(priceCredits>getCurrencyAmount(-1))return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",disabled:true,children:LocalizeText('catalog.alert.notenough.title')});if(pricePoints>getCurrencyAmount(currentOffer.activityPointType))return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",disabled:true,children:LocalizeText('catalog.alert.notenough.activitypoints.title.'+currentOffer.activityPointType)});switch(purchaseState){case CatalogPurchaseState_CatalogPurchaseState.CONFIRM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"warning\",onClick:function onClick(event){return purchase();},children:LocalizeText('catalog.marketplace.confirm_title')});case CatalogPurchaseState_CatalogPurchaseState.PURCHASE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLoadingSpinnerView_LayoutLoadingSpinnerView,{})});case CatalogPurchaseState_CatalogPurchaseState.FAILED:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",children:LocalizeText('generic.failed')});case CatalogPurchaseState_CatalogPurchaseState.SOLD_OUT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",children:LocalizeText('generic.failed')+' - '+LocalizeText('catalog.alert.limited_edition_sold_out.title')});case CatalogPurchaseState_CatalogPurchaseState.NONE:default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:purchaseOptions.extraParamRequired&&(!purchaseOptions.extraData||!purchaseOptions.extraData.length),onClick:function onClick(event){return setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.CONFIRM);},children:LocalizeText('catalog.purchase_confirmation.'+(currentOffer.isRentOffer?'rent':'buy'))});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PurchaseButton,{}),!noGiftOption&&!currentOffer.isRentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:purchaseOptions.quantity>1||!currentOffer.giftable||isLimitedSoldOut||purchaseOptions.extraParamRequired&&(!purchaseOptions.extraData||!purchaseOptions.extraData.length),onClick:function onClick(event){return purchase(true);},children:LocalizeText('catalog.purchase_confirmation.gift')})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogPriceDisplayWidgetView.tsx\nvar CatalogPriceDisplayWidgetView_CatalogPriceDisplayWidgetView=function CatalogPriceDisplayWidgetView(props){var _props$offer=props.offer,offer=_props$offer===void 0?null:_props$offer,_props$separator=props.separator,separator=_props$separator===void 0?false:_props$separator;var _useCatalog=useCatalog_useCatalog(),_useCatalog$purchaseO=_useCatalog.purchaseOptions,purchaseOptions=_useCatalog$purchaseO===void 0?null:_useCatalog$purchaseO;var _purchaseOptions$quan=purchaseOptions.quantity,quantity=_purchaseOptions$quan===void 0?1:_purchaseOptions$quan;if(!offer)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[offer.priceInCredits>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:offer.priceInCredits*quantity}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:-1})]}),separator&&offer.priceInCredits>0&&offer.priceInActivityPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{size:\"xs\",color:\"black\",icon:\"plus\"}),offer.priceInActivityPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:offer.priceInActivityPoints*quantity}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:offer.activityPointType})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogTotalPriceWidget.tsx\nvar CatalogTotalPriceWidget_excluded=[\"gap\"];var CatalogTotalPriceWidget_CatalogTotalPriceWidget=function CatalogTotalPriceWidget(props){var _props$gap=props.gap,gap=_props$gap===void 0?1:_props$gap,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogTotalPriceWidget_excluded);var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({gap:gap},rest),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPriceDisplayWidgetView_CatalogPriceDisplayWidgetView,{offer:currentOffer})}));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogViewProductWidgetView.tsx\nvar CatalogViewProductWidgetView_CatalogViewProductWidgetView=function CatalogViewProductWidgetView(props){var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$roomPrevi=_useCatalog.roomPreviewer,roomPreviewer=_useCatalog$roomPrevi===void 0?null:_useCatalog$roomPrevi,_useCatalog$purchaseO=_useCatalog.purchaseOptions,purchaseOptions=_useCatalog$purchaseO===void 0?null:_useCatalog$purchaseO;var _purchaseOptions$prev=purchaseOptions.previewStuffData,previewStuffData=_purchaseOptions$prev===void 0?null:_purchaseOptions$prev;Object(react[\"useEffect\"])(function(){if(!currentOffer||currentOffer.pricingModel===Offer_Offer.PRICING_MODEL_BUNDLE||!roomPreviewer)return;var product=currentOffer.product;if(!product)return;switch(product.productType){case ProductTypeEnum_ProductTypeEnum.FLOOR:{if(!product.furnitureData)return;if(product.furnitureData.specialType===FurniCategory_FurniCategory.FIGURE_PURCHASABLE_SET){var furniData=GetSessionDataManager().getFloorItemData(product.furnitureData.id);var customParts=furniData.customParams.split(',').map(function(value){return parseInt(value);});var figureSets=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(customParts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;if(GetAvatarRenderManager().isValidFigureSetForGender(part,GetSessionDataManager().gender))figureSets.push(part);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var figureString=GetAvatarRenderManager().getFigureStringWithFigureIds(GetSessionDataManager().figure,GetSessionDataManager().gender,figureSets);roomPreviewer.addAvatarIntoRoom(figureString,product.productClassId);}else{roomPreviewer.addFurnitureIntoRoom(product.productClassId,new nitro_renderer[\"Oi\" /* Vector3d */](90),previewStuffData,product.extraParam);}return;}case ProductTypeEnum_ProductTypeEnum.WALL:{if(!product.furnitureData)return;switch(product.furnitureData.specialType){case FurniCategory_FurniCategory.FLOOR:roomPreviewer.reset(false);roomPreviewer.updateObjectRoom(product.extraParam);return;case FurniCategory_FurniCategory.WALL_PAPER:roomPreviewer.reset(false);roomPreviewer.updateObjectRoom(null,product.extraParam);return;case FurniCategory_FurniCategory.LANDSCAPE:{roomPreviewer.reset(false);roomPreviewer.updateObjectRoom(null,null,product.extraParam);var _furniData=GetSessionDataManager().getWallItemDataByName('ads_twi_windw');if(_furniData)roomPreviewer.addWallItemIntoRoom(_furniData.id,new nitro_renderer[\"Oi\" /* Vector3d */](90),_furniData.customParams);return;}default:roomPreviewer.updateObjectRoom('default','default','default');roomPreviewer.addWallItemIntoRoom(product.productClassId,new nitro_renderer[\"Oi\" /* Vector3d */](90),product.extraParam);return;}}case ProductTypeEnum_ProductTypeEnum.ROBOT:roomPreviewer.addAvatarIntoRoom(product.extraParam,0);return;case ProductTypeEnum_ProductTypeEnum.EFFECT:roomPreviewer.addAvatarIntoRoom(GetSessionDataManager().figure,product.productClassId);return;}},[currentOffer,previewStuffData,roomPreviewer]);if(!currentOffer)return null;if(currentOffer.pricingModel===Offer_Offer.PRICING_MODEL_BUNDLE){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fit:true,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{fullWidth:true,columnCount:4,className:\"nitro-catalog-layout-bundle-grid\",children:currentOffer.products.length>0&&currentOffer.products.map(function(product,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemImage:product.getIconUrl(currentOffer),itemCount:product.productCount},index);})})});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomPreviewerView_LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutBadgeDisplayView.tsx\nvar CatalogLayoutBadgeDisplayView_CatalogLayoutBadgeDisplayView=function CatalogLayoutBadgeDisplayView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogFirstProductSelectorWidgetView_CatalogFirstProductSelectorWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogItemGridWidgetView_CatalogItemGridWidgetView,{shrink:true}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",truncate:true,shrink:true,fontWeight:\"bold\",children:LocalizeText('catalog_selectbadge')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogBadgeSelectorWidgetView_CatalogBadgeSelectorWidgetView,{})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView_CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLimitedItemWidgetView_CatalogLimitedItemWidgetView,{fullWidth:true,position:\"absolute\",className:\"top-1\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget_CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{})]})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogAddOnBadgeWidgetView.tsx\nvar CatalogAddOnBadgeWidgetView_CatalogAddOnBadgeWidgetView=function CatalogAddOnBadgeWidgetView(props){var rest=Object.assign({},props);var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf;if(!currentOffer||!currentOffer.badgeCode||!currentOffer.badgeCode.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,Object(objectSpread2[\"a\" /* default */])({badgeCode:currentOffer.badgeCode},rest));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogSpinnerWidgetView.tsx\nvar MIN_VALUE=1;var MAX_VALUE=100;var CatalogSpinnerWidgetView_CatalogSpinnerWidgetView=function CatalogSpinnerWidgetView(props){var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$purchaseO=_useCatalog.purchaseOptions,purchaseOptions=_useCatalog$purchaseO===void 0?null:_useCatalog$purchaseO,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha;var _purchaseOptions$quan=purchaseOptions.quantity,quantity=_purchaseOptions$quan===void 0?1:_purchaseOptions$quan;var updateQuantity=function updateQuantity(value){if(isNaN(value))value=1;value=Math.max(value,MIN_VALUE);value=Math.min(value,MAX_VALUE);if(value===quantity)return;setPurchaseOptions(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.quantity=value;return newValue;});};if(!currentOffer||!currentOffer.bundlePurchaseAllowed)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('catalog.bundlewidget.spinner.select.amount')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"caret-left\",className:\"text-black cursor-pointer\",onClick:function onClick(event){return updateQuantity(quantity-1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:quantity,onChange:function onChange(event){return updateQuantity(event.target.valueAsNumber);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"caret-right\",className:\"text-black cursor-pointer\",onClick:function onClick(event){return updateQuantity(quantity+1);}})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutDefaultView.tsx\nvar CatalogLayoutDefaultView_CatalogLayoutDefaultView=function CatalogLayoutDefaultView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogItemGridWidgetView_CatalogItemGridWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView_CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLimitedItemWidgetView_CatalogLimitedItemWidgetView,{fullWidth:true,position:\"absolute\",className:\"top-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView_CatalogAddOnBadgeWidgetView,{position:\"absolute\",className:\"bg-muted rounded bottom-1 end-1\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSpinnerWidgetView_CatalogSpinnerWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget_CatalogTotalPriceWidget,{justifyContent:\"end\",alignItems:\"end\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogGuildBadgeWidgetView.tsx\nvar CatalogGuildBadgeWidgetView_CatalogGuildBadgeWidgetView=function CatalogGuildBadgeWidgetView(props){var rest=Object.assign({},props);var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$purchaseO=_useCatalog.purchaseOptions,purchaseOptions=_useCatalog$purchaseO===void 0?null:_useCatalog$purchaseO;var _purchaseOptions$prev=purchaseOptions.previewStuffData,previewStuffData=_purchaseOptions$prev===void 0?null:_purchaseOptions$prev;var badgeCode=Object(react[\"useMemo\"])(function(){if(!currentOffer||!previewStuffData)return null;var badgeCode=previewStuffData.getValue(2);if(!badgeCode||!badgeCode.length)return null;return badgeCode;},[currentOffer,previewStuffData]);if(!badgeCode)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,Object(objectSpread2[\"a\" /* default */])({badgeCode:badgeCode,isGroup:true},rest));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogGuildSelectorWidgetView.tsx\nvar CatalogGuildSelectorWidgetView_CatalogGuildSelectorWidgetView=function CatalogGuildSelectorWidgetView(props){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedGroupIndex=_useState2[0],setSelectedGroupIndex=_useState2[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$catalogOp=_useCatalog.catalogOptions,catalogOptions=_useCatalog$catalogOp===void 0?null:_useCatalog$catalogOp,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha;var _catalogOptions$group=catalogOptions.groups,groups=_catalogOptions$group===void 0?null:_catalogOptions$group;var previewStuffData=Object(react[\"useMemo\"])(function(){if(!groups||!groups.length)return null;var group=groups[selectedGroupIndex];if(!group)return null;var stuffData=new nitro_renderer[\"Kh\" /* StringDataType */]();stuffData.setValue(['0',group.groupId.toString(),group.badgeCode,group.colorA,group.colorB]);return stuffData;},[selectedGroupIndex,groups]);Object(react[\"useEffect\"])(function(){if(!currentOffer)return;setPurchaseOptions(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.extraParamRequired=true;newValue.extraData=previewStuffData&&previewStuffData.getValue(1)||null;newValue.previewStuffData=previewStuffData;return newValue;});},[currentOffer,previewStuffData,setPurchaseOptions]);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"T\" /* CatalogGroupsComposer */]());},[]);if(!groups||!groups.length){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:\"bg-muted rounded p-1 text-black text-center\",children:[LocalizeText('catalog.guild_selector.members_only'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{className:\"mt-1\",children:LocalizeText('catalog.guild_selector.find_groups')})]});}var selectedGroup=groups[selectedGroupIndex];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[!!selectedGroup&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{overflow:\"hidden\",className:\"rounded border\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fullHeight:true,style:{width:'20px',backgroundColor:'#'+selectedGroup.colorA}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fullHeight:true,style:{width:'20px',backgroundColor:'#'+selectedGroup.colorB}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:selectedGroupIndex,onChange:function onChange(event){return setSelectedGroupIndex(parseInt(event.target.value));},children:groups.map(function(group,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:index,children:group.groupName},index);})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutGuildCustomFurniView.tsx\nvar CatalogLayoutGuildCustomFurniView_CatalogLayouGuildCustomFurniView=function CatalogLayouGuildCustomFurniView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogItemGridWidgetView_CatalogItemGridWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView_CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGuildBadgeWidgetView_CatalogGuildBadgeWidgetView,{position:\"absolute\",className:\"bottom-1 end-1\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{grow:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGuildSelectorWidgetView_CatalogGuildSelectorWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget_CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutGuildForumView.tsx\nvar CatalogLayoutGuildForumView_CatalogLayouGuildForumView=function CatalogLayouGuildForumView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedGroupIndex=_useState2[0],setSelectedGroupIndex=_useState2[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$setCurren=_useCatalog.setCurrentOffer,setCurrentOffer=_useCatalog$setCurren===void 0?null:_useCatalog$setCurren,_useCatalog$catalogOp=_useCatalog.catalogOptions,catalogOptions=_useCatalog$catalogOp===void 0?null:_useCatalog$catalogOp;var _catalogOptions$group=catalogOptions.groups,groups=_catalogOptions$group===void 0?null:_catalogOptions$group;Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"T\" /* CatalogGroupsComposer */]());},[page]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogFirstProductSelectorWidgetView_CatalogFirstProductSelectorWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{className:\"bg-muted rounded p-2 text-black\",size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"overflow-auto\",dangerouslySetInnerHTML:{__html:page.localization.getText(1)}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:5,overflow:\"hidden\",gap:1,children:!!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{grow:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGuildSelectorWidgetView_CatalogGuildSelectorWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget_CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{noGiftOption:true})]})})})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutGuildFrontpageView.tsx\nvar CatalogLayoutGuildFrontpageView_CatalogLayouGuildFrontpageView=function CatalogLayouGuildFrontpageView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,overflow:\"hidden\",className:\"bg-muted rounded p-2 text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{dangerouslySetInnerHTML:{__html:page.localization.getText(2)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{overflow:\"auto\",dangerouslySetInnerHTML:{__html:page.localization.getText(0)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{dangerouslySetInnerHTML:{__html:page.localization.getText(1)}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,size:5,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage_LayoutImage,{imageUrl:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(){return CreateLinkEvent('groups/create');},children:LocalizeText('catalog.start.guild.purchase.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutInfoLoyaltyView.tsx\nvar CatalogLayoutInfoLoyaltyView_CatalogLayoutInfoLoyaltyView=function CatalogLayoutInfoLoyaltyView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"h-100 nitro-catalog-layout-info-loyalty text-black d-flex flex-row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"overflow-auto h-100 d-flex flex-column info-loyalty-content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})})});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutPets3View.tsx\nvar CatalogLayoutPets3View_CatalogLayoutPets3View=function CatalogLayoutPets3View(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;var imageUrl=page.localization.getImage(1);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,className:\"bg-muted rounded text-black p-2\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[imageUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:imageUrl}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"fs-5\",dangerouslySetInnerHTML:{__html:page.localization.getText(1)}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{grow:true,alignItems:\"center\",overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{dangerouslySetInnerHTML:{__html:page.localization.getText(2)}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"fw-bold\",dangerouslySetInnerHTML:{__html:page.localization.getText(3)}})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutPets2View.tsx\nvar CatalogLayoutPets2View_CatalogLayoutPets2View=function CatalogLayoutPets2View(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutPets3View_CatalogLayoutPets3View,Object(objectSpread2[\"a\" /* default */])({},props));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogBundleGridWidgetView.tsx\nvar CatalogBundleGridWidgetView_excluded=[\"columnCount\",\"children\"];var CatalogBundleGridWidgetView_CatalogBundleGridWidgetView=function CatalogBundleGridWidgetView(props){var _props$columnCount=props.columnCount,columnCount=_props$columnCount===void 0?5:_props$columnCount,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogBundleGridWidgetView_excluded);var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf;if(!currentOffer)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid_AutoGrid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({columnCount:5},rest),{},{children:[currentOffer.products&&currentOffer.products.length>0&&currentOffer.products.map(function(product,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemImage:product.getIconUrl(),itemCount:product.productCount},index);}),children]}));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogSimplePriceWidgetView.tsx\nvar CatalogSimplePriceWidgetView_excluded=[\"gap\"];var CatalogSimplePriceWidgetView_CatalogSimplePriceWidgetView=function CatalogSimplePriceWidgetView(props){var _props$gap=props.gap,gap=_props$gap===void 0?1:_props$gap,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogSimplePriceWidgetView_excluded);var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({gap:gap,alignItems:\"center\",classNames:['bg-muted','p-1','rounded']},rest),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPriceDisplayWidgetView_CatalogPriceDisplayWidgetView,{separator:true,offer:currentOffer})}));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutRoomBundleView.tsx\nvar CatalogLayoutRoomBundleView_CatalogLayoutRoomBundleView=function CatalogLayoutRoomBundleView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogFirstProductSelectorWidgetView_CatalogFirstProductSelectorWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,overflow:\"hidden\",children:[!!page.localization.getText(2)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",dangerouslySetInnerHTML:{__html:page.localization.getText(2)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{grow:true,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogBundleGridWidgetView_CatalogBundleGridWidgetView,{fullWidth:true,className:\"nitro-catalog-layout-bundle-grid\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,overflow:\"hidden\",gap:1,children:[!!page.localization.getText(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:true,small:true,overflow:\"auto\",children:page.localization.getText(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,position:\"relative\",overflow:\"hidden\",gap:0,children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",className:\"flex-grow-1\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView_CatalogAddOnBadgeWidgetView,{position:\"absolute\",className:\"bg-muted rounded bottom-0 start-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSimplePriceWidgetView_CatalogSimplePriceWidgetView,{position:\"absolute\",className:\"bottom-0 end-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutSingleBundleView.tsx\nvar CatalogLayoutSingleBundleView_CatalogLayoutSingleBundleView=function CatalogLayoutSingleBundleView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogFirstProductSelectorWidgetView_CatalogFirstProductSelectorWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,overflow:\"hidden\",children:[!!page.localization.getText(2)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{dangerouslySetInnerHTML:{__html:page.localization.getText(2)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{grow:true,overflow:\"hidden\",className:\"bg-muted p-2 rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogBundleGridWidgetView_CatalogBundleGridWidgetView,{fullWidth:true,className:\"nitro-catalog-layout-bundle-grid\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,overflow:\"hidden\",gap:1,children:[!!page.localization.getText(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,small:true,overflow:\"auto\",children:page.localization.getText(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,position:\"relative\",overflow:\"hidden\",gap:0,children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",className:\"flex-grow-1\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView_CatalogAddOnBadgeWidgetView,{position:\"absolute\",className:\"bg-muted rounded bottom-0 start-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSimplePriceWidgetView_CatalogSimplePriceWidgetView,{position:\"absolute\",className:\"bottom-0 end-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/widgets/CatalogSpacesWidgetView.tsx\nvar CatalogSpacesWidgetView_excluded=[\"columnCount\",\"children\"];var SPACES_GROUP_NAMES=['floors','walls','views'];var CatalogSpacesWidgetView_CatalogSpacesWidgetView=function CatalogSpacesWidgetView(props){var _props$columnCount=props.columnCount,columnCount=_props$columnCount===void 0?5:_props$columnCount,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogSpacesWidgetView_excluded);var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),groupedOffers=_useState2[0],setGroupedOffers=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedGroupIndex=_useState4[0],setSelectedGroupIndex=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedOfferForGroup=_useState6[0],setSelectedOfferForGroup=_useState6[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentPa=_useCatalog.currentPage,currentPage=_useCatalog$currentPa===void 0?null:_useCatalog$currentPa,_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$setCurren=_useCatalog.setCurrentOffer,setCurrentOffer=_useCatalog$setCurren===void 0?null:_useCatalog$setCurren,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha;var setSelectedOffer=function setSelectedOffer(offer){if(!offer)return;setSelectedOfferForGroup(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);newValue[selectedGroupIndex]=offer;return newValue;});};Object(react[\"useEffect\"])(function(){if(!currentPage)return;var groupedOffers=[[],[],[]];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(currentPage.offers),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var offer=_step.value;if(offer.pricingModel!==Offer_Offer.PRICING_MODEL_SINGLE&&offer.pricingModel!==Offer_Offer.PRICING_MODEL_MULTI)continue;var product=offer.product;if(!product||product.productType!==ProductTypeEnum_ProductTypeEnum.WALL&&product.productType!==ProductTypeEnum_ProductTypeEnum.FLOOR||!product.furnitureData)continue;var className=product.furnitureData.className;switch(className){case'floor':groupedOffers[0].push(offer);break;case'wallpaper':groupedOffers[1].push(offer);break;case'landscape':groupedOffers[2].push(offer);break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}setGroupedOffers(groupedOffers);setSelectedGroupIndex(0);setSelectedOfferForGroup([groupedOffers[0][0],groupedOffers[1][0],groupedOffers[2][0]]);},[currentPage]);Object(react[\"useEffect\"])(function(){if(selectedGroupIndex===-1||!selectedOfferForGroup)return;setCurrentOffer(selectedOfferForGroup[selectedGroupIndex]);},[selectedGroupIndex,selectedOfferForGroup,setCurrentOffer]);Object(react[\"useEffect\"])(function(){if(selectedGroupIndex===-1||!selectedOfferForGroup||!currentOffer)return;setPurchaseOptions(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.extraData=selectedOfferForGroup[selectedGroupIndex].product.extraParam;newValue.extraParamRequired=true;return newValue;});},[currentOffer,selectedGroupIndex,selectedOfferForGroup,setPurchaseOptions]);if(!groupedOffers||selectedGroupIndex===-1)return null;var offers=groupedOffers[selectedGroupIndex];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ButtonGroup_ButtonGroup,{children:SPACES_GROUP_NAMES.map(function(name,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{active:selectedGroupIndex===index,onClick:function onClick(event){return setSelectedGroupIndex(index);},children:LocalizeText(\"catalog.spaces.tab.\".concat(name))},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid_AutoGrid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({columnCount:columnCount},rest),{},{children:[offers&&offers.length>0&&offers.map(function(offer,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGridOfferView_CatalogGridOfferView,{itemActive:currentOffer&&currentOffer===offer,offer:offer,selectOffer:function selectOffer(offer){return setSelectedOffer(offer);}},index);}),children]}))]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutSpacesView.tsx\nvar CatalogLayoutSpacesView_CatalogLayoutSpacesView=function CatalogLayoutSpacesView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$roomPrevi=_useCatalog.roomPreviewer,roomPreviewer=_useCatalog$roomPrevi===void 0?null:_useCatalog$roomPrevi;Object(react[\"useEffect\"])(function(){roomPreviewer.updatePreviewObjectBoundingRectangle(new nitro_renderer[\"Se\" /* NitroPoint */]());},[roomPreviewer]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogSpacesWidgetView_CatalogSpacesWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{position:\"relative\",overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView_CatalogViewProductWidgetView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget_CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutTrophiesView.tsx\nvar CatalogLayoutTrophiesView_CatalogLayoutTrophiesView=function CatalogLayoutTrophiesView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),trophyText=_useState2[0],setTrophyText=_useState2[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha;Object(react[\"useEffect\"])(function(){if(!currentOffer)return;setPurchaseOptions(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.extraData=trophyText;return newValue;});},[currentOffer,trophyText,setPurchaseOptions]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogItemGridWidgetView_CatalogItemGridWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"flex-grow-1 form-control w-100\",defaultValue:trophyText||'',onChange:function onChange(event){return setTrophyText(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView_CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:true,truncate:true,children:currentOffer.localizationName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget_CatalogTotalPriceWidget,{alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/CatalogLayoutVipBuyView.tsx\nvar CatalogLayoutVipBuyView_CatalogLayoutVipBuyView=function CatalogLayoutVipBuyView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),pendingOffer=_useState2[0],setPendingOffer=_useState2[1];var _useState3=Object(react[\"useState\"])(CatalogPurchaseState_CatalogPurchaseState.NONE),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),purchaseState=_useState4[0],setPurchaseState=_useState4[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentPa=_useCatalog.currentPage,currentPage=_useCatalog$currentPa===void 0?null:_useCatalog$currentPa,_useCatalog$catalogOp=_useCatalog.catalogOptions,catalogOptions=_useCatalog$catalogOp===void 0?null:_useCatalog$catalogOp;var _usePurse=usePurse_usePurse(),_usePurse$purse=_usePurse.purse,purse=_usePurse$purse===void 0?null:_usePurse$purse,_usePurse$getCurrency=_usePurse.getCurrencyAmount,getCurrencyAmount=_usePurse$getCurrency===void 0?null:_usePurse$getCurrency;var _catalogOptions$clubO=catalogOptions.clubOffers,clubOffers=_catalogOptions$clubO===void 0?null:_catalogOptions$clubO;var onCatalogEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS:setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.NONE);return;case CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED:setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.FAILED);return;}},[]);UseUiEvent_UseUiEvent(CatalogPurchasedEvent_CatalogPurchasedEvent.PURCHASE_SUCCESS,onCatalogEvent);UseUiEvent_UseUiEvent(CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent.PURCHASE_FAILED,onCatalogEvent);var getOfferText=Object(react[\"useCallback\"])(function(offer){var offerText='';if(offer.months>0){offerText=LocalizeText('catalog.vip.item.header.months',['num_months'],[offer.months.toString()]);}if(offer.extraDays>0){if(offerText!=='')offerText+=' ';offerText+=' '+LocalizeText('catalog.vip.item.header.days',['num_days'],[offer.extraDays.toString()]);}return offerText;},[]);var getPurchaseHeader=Object(react[\"useCallback\"])(function(){if(!purse)return'';var extensionOrSubscription=purse.clubDays>0||purse.clubPeriods>0?'extension.':'subscription.';var daysOrMonths=pendingOffer.months===0?'days':'months';var daysOrMonthsText=pendingOffer.months===0?pendingOffer.extraDays:pendingOffer.months;var locale=LocalizeText('catalog.vip.buy.confirm.'+extensionOrSubscription+daysOrMonths);return locale.replace('%NUM_'+daysOrMonths.toUpperCase()+'%',daysOrMonthsText.toString());},[pendingOffer,purse]);var getPurchaseValidUntil=Object(react[\"useCallback\"])(function(){var locale=LocalizeText('catalog.vip.buy.confirm.end_date');locale=locale.replace('%month%',pendingOffer.month.toString());locale=locale.replace('%day%',pendingOffer.day.toString());locale=locale.replace('%year%',pendingOffer.year.toString());return locale;},[pendingOffer]);var getSubscriptionDetails=Object(react[\"useMemo\"])(function(){var clubDays=purse.clubDays;var clubPeriods=purse.clubPeriods;var totalDays=clubPeriods*31+clubDays;return LocalizeText('catalog.vip.extend.info',['days'],[totalDays.toString()]);},[purse]);var purchaseSubscription=Object(react[\"useCallback\"])(function(){if(!pendingOffer)return;setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.PURCHASE);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"xf\" /* PurchaseFromCatalogComposer */](currentPage.pageId,pendingOffer.offerId,null,1));},[pendingOffer,currentPage]);var setOffer=Object(react[\"useCallback\"])(function(offer){setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.NONE);setPendingOffer(offer);},[]);var getPurchaseButton=Object(react[\"useCallback\"])(function(){if(!pendingOffer)return null;if(pendingOffer.priceCredits>getCurrencyAmount(-1)){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"danger\",children:LocalizeText('catalog.alert.notenough.title')});}if(pendingOffer.priceActivityPoints>getCurrencyAmount(pendingOffer.priceActivityPointsType)){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"danger\",children:LocalizeText('catalog.alert.notenough.activitypoints.title.'+pendingOffer.priceActivityPointsType)});}switch(purchaseState){case CatalogPurchaseState_CatalogPurchaseState.CONFIRM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"warning\",onClick:purchaseSubscription,children:LocalizeText('catalog.marketplace.confirm_title')});case CatalogPurchaseState_CatalogPurchaseState.PURCHASE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"primary\",disabled:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLoadingSpinnerView_LayoutLoadingSpinnerView,{})});case CatalogPurchaseState_CatalogPurchaseState.FAILED:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"danger\",disabled:true,children:LocalizeText('generic.failed')});case CatalogPurchaseState_CatalogPurchaseState.NONE:default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:function onClick(){return setPurchaseState(CatalogPurchaseState_CatalogPurchaseState.CONFIRM);},children:LocalizeText('buy')});}},[pendingOffer,purchaseState,purchaseSubscription,getCurrencyAmount]);Object(react[\"useEffect\"])(function(){if(!clubOffers)SendMessageComposer_SendMessageComposer(new nitro_renderer[\"gc\" /* GetClubOffersMessageComposer */](1));},[clubOffers]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullHeight:true,size:7,overflow:\"hidden\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:1,className:\"nitro-catalog-layout-vip-buy-grid\",children:clubOffers&&clubOffers.length>0&&clubOffers.map(function(offer,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{column:false,center:false,alignItems:\"center\",justifyContent:\"between\",itemActive:pendingOffer===offer,className:\"p-1\",onClick:function onClick(){return setOffer(offer);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon-hc-banner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"end\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{textEnd:true,children:getOfferText(offer)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"end\",gap:1,children:[offer.priceCredits>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:offer.priceCredits}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:-1})]}),offer.priceActivityPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:offer.priceActivityPoints}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:offer.priceActivityPointsType})]})]})]})]},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,dangerouslySetInnerHTML:{__html:LocalizeText('catalog.vip.buy.hccenter')}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullHeight:true,center:true,overflow:\"hidden\",children:[currentPage.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:currentPage.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,overflow:\"auto\",dangerouslySetInnerHTML:{__html:getSubscriptionDetails}})]}),pendingOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullWidth:true,grow:true,justifyContent:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontWeight:\"bold\",children:getPurchaseHeader()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:getPurchaseValidUntil()})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[pendingOffer.priceCredits>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:pendingOffer.priceCredits}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:-1})]}),pendingOffer.priceActivityPoints>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:pendingOffer.priceActivityPoints}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:pendingOffer.priceActivityPointsType})]})]})]}),getPurchaseButton()]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/common/CatalogRedeemVoucherView.tsx\nvar CatalogRedeemVoucherView_CatalogRedeemVoucherView=function CatalogRedeemVoucherView(props){var _props$text=props.text,text=_props$text===void 0?null:_props$text;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),voucher=_useState2[0],setVoucher=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isWaiting=_useState4[0],setIsWaiting=_useState4[1];var redeemVoucher=function redeemVoucher(){if(!voucher||!voucher.length||isWaiting)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ef\" /* RedeemVoucherMessageComposer */](voucher));setIsWaiting(true);};var onVoucherRedeemOkMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var message=LocalizeText('catalog.alert.voucherredeem.ok.description');if(parser.productName)message=LocalizeText('catalog.alert.voucherredeem.ok.description.furni',['productName','productDescription'],[parser.productName,parser.productDescription]);NotificationUtilities_NotificationUtilities.simpleAlert(message,null,null,null,LocalizeText('catalog.alert.voucherredeem.ok.title'));setIsWaiting(false);setVoucher('');},[]);UseMessageEventHook(nitro_renderer[\"Qi\" /* VoucherRedeemOkMessageEvent */],onVoucherRedeemOkMessageEvent);var onVoucherRedeemErrorMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText(\"catalog.alert.voucherredeem.error.description.\".concat(parser.errorCode)),null,null,null,LocalizeText('catalog.alert.voucherredeem.error.title'));setIsWaiting(false);},[]);UseMessageEventHook(nitro_renderer[\"Pi\" /* VoucherRedeemErrorMessageEvent */],onVoucherRedeemErrorMessageEvent);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:text,value:voucher,onChange:function onChange(event){return setVoucher(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",onClick:redeemVoucher,disabled:isWaiting,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"tag\"})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/frontpage4/CatalogLayoutFrontPageItemView.tsx\nvar CatalogLayoutFrontPageItemView_excluded=[\"item\",\"position\",\"pointer\",\"overflow\",\"fullHeight\",\"classNames\",\"children\"];var CatalogLayoutFrontPageItemView_CatalogLayoutFrontPageItemView=function CatalogLayoutFrontPageItemView(props){var _props$item=props.item,item=_props$item===void 0?null:_props$item,_props$position=props.position,position=_props$position===void 0?'relative':_props$position,_props$pointer=props.pointer,pointer=_props$pointer===void 0?true:_props$pointer,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,_props$fullHeight=props.fullHeight,fullHeight=_props$fullHeight===void 0?true:_props$fullHeight,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,CatalogLayoutFrontPageItemView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['rounded','nitro-front-page-item'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);if(!item)return null;var imageUrl=GetConfiguration('image.library.url')+item.itemPromoImage;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutBackgroundImage_LayoutBackgroundImage,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({imageUrl:imageUrl,classNames:getClassNames,position:position,fullHeight:fullHeight,pointer:pointer,overflow:overflow},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{position:\"absolute\",variant:\"white\",className:\"bg-dark rounded p-2 m-2 bottom-0\",children:item.itemName}),children]}));};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/frontpage4/CatalogLayoutFrontpage4View.tsx\nvar CatalogLayoutFrontpage4View_CatalogLayoutFrontpage4View=function CatalogLayoutFrontpage4View(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page,_props$hideNavigation=props.hideNavigation,hideNavigation=_props$hideNavigation===void 0?null:_props$hideNavigation;var _useCatalog=useCatalog_useCatalog(),_useCatalog$frontPage=_useCatalog.frontPageItems,frontPageItems=_useCatalog$frontPage===void 0?[]:_useCatalog$frontPage;var selectItem=Object(react[\"useCallback\"])(function(item){switch(item.type){case nitro_renderer[\"Jb\" /* FrontPageItem */].ITEM_CATALOGUE_PAGE:CreateLinkEvent(\"catalog/open/\".concat(item.catalogPageLocation));return;case nitro_renderer[\"Jb\" /* FrontPageItem */].ITEM_PRODUCT_OFFER:CreateLinkEvent(\"catalog/open/\".concat(item.productOfferId));return;}},[]);Object(react[\"useEffect\"])(function(){hideNavigation();},[page,hideNavigation]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:4,children:frontPageItems[0]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontPageItemView_CatalogLayoutFrontPageItemView,{item:frontPageItems[0],onClick:function onClick(event){return selectItem(frontPageItems[0]);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:8,children:[frontPageItems[1]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontPageItemView_CatalogLayoutFrontPageItemView,{item:frontPageItems[1],onClick:function onClick(event){return selectItem(frontPageItems[1]);}}),frontPageItems[2]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontPageItemView_CatalogLayoutFrontPageItemView,{item:frontPageItems[2],onClick:function onClick(event){return selectItem(frontPageItems[2]);}}),frontPageItems[3]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontPageItemView_CatalogLayoutFrontPageItemView,{item:frontPageItems[3],onClick:function onClick(event){return selectItem(frontPageItems[3]);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogRedeemVoucherView_CatalogRedeemVoucherView,{text:page.localization.getText(1)})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/common/MarketplaceOfferData.ts\nvar MarketplaceOfferData_MarketplaceOfferData=/*#__PURE__*/function(){function MarketplaceOfferData(offerId,furniId,furniType,extraData,stuffData,price,status,averagePrice){var offerCount=arguments.length>8&&arguments[8]!==undefined?arguments[8]:-1;Object(classCallCheck[\"a\" /* default */])(this,MarketplaceOfferData);this._offerId=void 0;this._furniId=void 0;this._furniType=void 0;this._extraData=void 0;this._stuffData=void 0;this._price=void 0;this._averagePrice=void 0;this._imageCallback=void 0;this._status=void 0;this._timeLeftMinutes=-1;this._offerCount=void 0;this._image=void 0;this._offerId=offerId;this._furniId=furniId;this._furniType=furniType;this._extraData=extraData;this._stuffData=stuffData;this._price=price;this._status=status;this._averagePrice=averagePrice;this._offerCount=offerCount;}Object(createClass[\"a\" /* default */])(MarketplaceOfferData,[{key:\"offerId\",get:function get(){return this._offerId;},set:function set(offerId){this._offerId=offerId;}},{key:\"furniId\",get:function get(){return this._furniId;}},{key:\"furniType\",get:function get(){return this._furniType;}},{key:\"extraData\",get:function get(){return this._extraData;}},{key:\"stuffData\",get:function get(){return this._stuffData;}},{key:\"price\",get:function get(){return this._price;},set:function set(price){this._price=price;}},{key:\"averagePrice\",get:function get(){return this._averagePrice;}},{key:\"image\",get:function get(){return this._image;},set:function set(image){this._image=image;}},{key:\"imageCallback\",get:function get(){return this._imageCallback;},set:function set(callback){this._imageCallback=callback;}},{key:\"status\",get:function get(){return this._status;}},{key:\"timeLeftMinutes\",get:function get(){return this._timeLeftMinutes;},set:function set(minutes){this._timeLeftMinutes=minutes;}},{key:\"offerCount\",get:function get(){return this._offerCount;},set:function set(count){this._offerCount=count;}},{key:\"isUniqueLimitedItem\",get:function get(){return this.stuffData&&this.stuffData.uniqueSeries>0;}}]);return MarketplaceOfferData;}();MarketplaceOfferData_MarketplaceOfferData.TYPE_FLOOR=1;MarketplaceOfferData_MarketplaceOfferData.TYPE_WALL=2;\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/common/MarketplaceOfferState.ts\nvar MarketplaceOfferState_MarketPlaceOfferState=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function MarketPlaceOfferState(){Object(classCallCheck[\"a\" /* default */])(this,MarketPlaceOfferState);});MarketplaceOfferState_MarketPlaceOfferState.ONGOING=1;MarketplaceOfferState_MarketPlaceOfferState.ONGOING_OWN=1;MarketplaceOfferState_MarketPlaceOfferState.SOLD=2;MarketplaceOfferState_MarketPlaceOfferState.EXPIRED=3;\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/CatalogLayoutMarketplaceItemView.tsx\nvar OWN_OFFER=1;var PUBLIC_OFFER=2;var CatalogLayoutMarketplaceItemView_CatalogLayoutMarketplaceItemView=function CatalogLayoutMarketplaceItemView(props){var _props$offerData=props.offerData,offerData=_props$offerData===void 0?null:_props$offerData,_props$type=props.type,type=_props$type===void 0?PUBLIC_OFFER:_props$type,_props$onClick=props.onClick,onClick=_props$onClick===void 0?null:_props$onClick;var getMarketplaceOfferTitle=Object(react[\"useMemo\"])(function(){if(!offerData)return'';// desc\nreturn LocalizeText((offerData.furniType===2?'wallItem':'roomItem')+\".name.\".concat(offerData.furniId));},[offerData]);var offerTime=Object(react[\"useCallback\"])(function(){if(!offerData)return'';if(offerData.status===MarketplaceOfferState_MarketPlaceOfferState.SOLD)return LocalizeText('catalog.marketplace.offer.sold');if(offerData.timeLeftMinutes<=0)return LocalizeText('catalog.marketplace.offer.expired');var time=Math.max(1,offerData.timeLeftMinutes);var hours=Math.floor(time/60);var minutes=time-hours*60;var text=minutes+' '+LocalizeText('catalog.marketplace.offer.minutes');if(hours>0){text=hours+' '+LocalizeText('catalog.marketplace.offer.hours')+' '+text;}return LocalizeText('catalog.marketplace.offer.time_left',['time'],[text]);},[offerData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{shrink:true,center:false,column:false,alignItems:\"center\",className:\"p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutFurniIconImageView_LayoutFurniIconImageView,{productType:offerData.furniType===MarketplaceOfferData_MarketplaceOfferData.TYPE_FLOOR?ProductTypeEnum_ProductTypeEnum.FLOOR:ProductTypeEnum_ProductTypeEnum.WALL,productClassId:offerData.furniId,extraData:offerData.extraData,style:{width:50,height:50}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontWeight:\"bold\",children:getMarketplaceOfferTitle}),type===OWN_OFFER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('catalog.marketplace.offer.price_own_item',['price'],[offerData.price.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:offerTime()})]}),type===PUBLIC_OFFER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('catalog.marketplace.offer.price_public_item',['price','average'],[offerData.price.toString(),offerData.averagePrice.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('catalog.marketplace.offer_count',['count'],[offerData.offerCount.toString()])})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[type===OWN_OFFER&&offerData.status!==MarketplaceOfferState_MarketPlaceOfferState.SOLD&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:function(_onClick){function onClick(){return _onClick.apply(this,arguments);}onClick.toString=function(){return _onClick.toString();};return onClick;}(function(){return onClick(offerData);}),children:LocalizeText('catalog.marketplace.offer.pick')}),type===PUBLIC_OFFER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:function(_onClick2){function onClick(){return _onClick2.apply(this,arguments);}onClick.toString=function(){return _onClick2.toString();};return onClick;}(function(){return onClick(offerData);}),children:LocalizeText('buy')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",disabled:true,children:LocalizeText('catalog.marketplace.view_more')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/CatalogLayoutMarketplaceOwnItemsView.tsx\nvar CatalogLayoutMarketplaceOwnItemsView_CatalogLayoutMarketplaceOwnItemsView=function CatalogLayoutMarketplaceOwnItemsView(props){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),creditsWaiting=_useState2[0],setCreditsWaiting=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),offers=_useState4[0],setOffers=_useState4[1];var onMarketPlaceOwnOffersEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var offers=parser.offers.map(function(offer){var newOffer=new MarketplaceOfferData_MarketplaceOfferData(offer.offerId,offer.furniId,offer.furniType,offer.extraData,offer.stuffData,offer.price,offer.status,offer.averagePrice,offer.offerCount);newOffer.timeLeftMinutes=offer.timeLeftMinutes;return newOffer;});setCreditsWaiting(parser.creditsWaiting);setOffers(offers);},[]);UseMessageEventHook(nitro_renderer[\"ee\" /* MarketplaceOwnOffersEvent */],onMarketPlaceOwnOffersEvent);var onMarketplaceCancelOfferResultEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;if(!parser.success){NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('catalog.marketplace.cancel_failed'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('catalog.marketplace.operation_failed.topic'));return;}setOffers(function(prevValue){return prevValue.filter(function(value){return value.offerId!==parser.offerId;});});},[]);UseMessageEventHook(nitro_renderer[\"be\" /* MarketplaceCancelOfferResultEvent */],onMarketplaceCancelOfferResultEvent);var soldOffers=Object(react[\"useMemo\"])(function(){return offers.filter(function(value){return value.status===MarketplaceOfferState_MarketPlaceOfferState.SOLD;});},[offers]);var redeemSoldOffers=Object(react[\"useCallback\"])(function(){setOffers(function(prevValue){var idsToDelete=soldOffers.map(function(value){return value.offerId;});return prevValue.filter(function(value){return idsToDelete.indexOf(value.offerId)===-1;});});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Df\" /* RedeemMarketplaceOfferCreditsMessageComposer */]());},[soldOffers]);var takeItemBack=function takeItemBack(offerData){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"R\" /* CancelMarketplaceOfferMessageComposer */](offerData.offerId));};Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"mc\" /* GetMarketplaceOwnOffersMessageComposer */]());},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",children:[creditsWaiting<=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,className:\"bg-muted rounded p-1\",children:LocalizeText('catalog.marketplace.redeem.no_sold_items')}),creditsWaiting>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,gap:1,className:\"bg-muted rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('catalog.marketplace.redeem.get_credits',['count','credits'],[soldOffers.length.toString(),creditsWaiting.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{className:\"mt-1\",onClick:redeemSoldOffers,children:LocalizeText('catalog.marketplace.offer.redeem')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:LocalizeText('catalog.marketplace.items_found',['count'],[offers.length.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"auto\",className:\"nitro-catalog-layout-marketplace-grid\",children:offers.length>0&&offers.map(function(offer){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplaceItemView_CatalogLayoutMarketplaceItemView,{offerData:offer,type:OWN_OFFER,onClick:takeItemBack},offer.offerId);})})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/common/MarketplaceSearchType.ts\nvar MarketplaceSearchType_MarketplaceSearchType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function MarketplaceSearchType(){Object(classCallCheck[\"a\" /* default */])(this,MarketplaceSearchType);});MarketplaceSearchType_MarketplaceSearchType.BY_ACTIVITY=1;MarketplaceSearchType_MarketplaceSearchType.BY_VALUE=2;MarketplaceSearchType_MarketplaceSearchType.ADVANCED=3;\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/CatalogLayoutMarketplaceSearchFormView.tsx\nvar CatalogLayoutMarketplaceSearchFormView_SearchFormView=function SearchFormView(props){var _props$searchType=props.searchType,searchType=_props$searchType===void 0?null:_props$searchType,_props$sortTypes=props.sortTypes,sortTypes=_props$sortTypes===void 0?null:_props$sortTypes,_props$onSearch=props.onSearch,onSearch=_props$onSearch===void 0?null:_props$onSearch;var _useState=Object(react[\"useState\"])(sortTypes?sortTypes[0]:3),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),sortType=_useState2[0],setSortType=_useState2[1];// first item of SORT_TYPES_ACTIVITY\nvar _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),min=_useState6[0],setMin=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),max=_useState8[0],setMax=_useState8[1];var onSortTypeChange=Object(react[\"useCallback\"])(function(sortType){setSortType(sortType);if(searchType===MarketplaceSearchType_MarketplaceSearchType.BY_ACTIVITY||searchType===MarketplaceSearchType_MarketplaceSearchType.BY_VALUE)onSearch({minPrice:-1,maxPrice:-1,query:'',type:sortType});},[onSearch,searchType]);var onClickSearch=Object(react[\"useCallback\"])(function(){var minPrice=min>0?min:-1;var maxPrice=max>0?max:-1;onSearch({minPrice:minPrice,maxPrice:maxPrice,type:sortType,query:searchQuery});},[max,min,onSearch,searchQuery,sortType]);Object(react[\"useEffect\"])(function(){if(!sortTypes||!sortTypes.length)return;var sortType=sortTypes[0];setSortType(sortType);if(searchType===MarketplaceSearchType_MarketplaceSearchType.BY_ACTIVITY||MarketplaceSearchType_MarketplaceSearchType.BY_VALUE===searchType)onSearch({minPrice:-1,maxPrice:-1,query:'',type:sortType});},[onSearch,searchType,sortTypes]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{className:\"col-3\",children:LocalizeText('catalog.marketplace.sort_order')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:sortType,onChange:function onChange(event){return onSortTypeChange(parseInt(event.target.value));},children:sortTypes.map(function(type){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:type,children:LocalizeText(\"catalog.marketplace.sort.\".concat(type))},type);})})]}),searchType===MarketplaceSearchType_MarketplaceSearchType.ADVANCED&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{className:\"col-3\",children:LocalizeText('catalog.marketplace.search_name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",type:\"text\",value:searchQuery,onChange:function onChange(event){return setSearchQuery(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{className:\"col-3\",children:LocalizeText('catalog.marketplace.search_price')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:min,onChange:function onChange(event){return setMin(event.target.valueAsNumber);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:max,onChange:function onChange(event){return setMax(event.target.valueAsNumber);}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",className:\"mx-auto\",onClick:onClickSearch,children:LocalizeText('generic.search')})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/CatalogLayoutMarketplacePublicItemsView.tsx\nvar SORT_TYPES_VALUE=[1,2];var SORT_TYPES_ACTIVITY=[3,4,5,6];var SORT_TYPES_ADVANCED=[1,2,3,4,5,6];var CatalogLayoutMarketplacePublicItemsView_CatalogLayoutMarketplacePublicItemsView=function CatalogLayoutMarketplacePublicItemsView(props){var _useState=Object(react[\"useState\"])(MarketplaceSearchType_MarketplaceSearchType.BY_ACTIVITY),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchType=_useState2[0],setSearchType=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),totalItemsFound=_useState4[0],setTotalItemsFound=_useState4[1];var _useState5=Object(react[\"useState\"])(new Map()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),offers=_useState6[0],setOffers=_useState6[1];var _useState7=Object(react[\"useState\"])({minPrice:-1,maxPrice:-1,query:'',type:3}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),lastSearch=_useState8[0],setLastSearch=_useState8[1];var _usePurse=usePurse_usePurse(),_usePurse$getCurrency=_usePurse.getCurrencyAmount,getCurrencyAmount=_usePurse$getCurrency===void 0?null:_usePurse$getCurrency;var requestOffers=Object(react[\"useCallback\"])(function(options){setLastSearch(options);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"lc\" /* GetMarketplaceOffersMessageComposer */](options.minPrice,options.maxPrice,options.query,options.type));},[]);var getSortTypes=Object(react[\"useMemo\"])(function(){switch(searchType){case MarketplaceSearchType_MarketplaceSearchType.BY_ACTIVITY:return SORT_TYPES_ACTIVITY;case MarketplaceSearchType_MarketplaceSearchType.BY_VALUE:return SORT_TYPES_VALUE;case MarketplaceSearchType_MarketplaceSearchType.ADVANCED:return SORT_TYPES_ADVANCED;}return[];},[searchType]);var purchaseItem=Object(react[\"useCallback\"])(function(offerData){if(offerData.price>getCurrencyAmount(-1)){NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('catalog.alert.notenough.credits.description'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('catalog.alert.notenough.title'));return;}var offerId=offerData.offerId;NotificationUtilities_NotificationUtilities.confirm(LocalizeText('catalog.marketplace.confirm_header'),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"I\" /* BuyMarketplaceOfferMessageComposer */](offerId));},null,null,null,LocalizeText('catalog.marketplace.confirm_title'));},[getCurrencyAmount]);var onMarketPlaceOffersEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var latestOffers=new Map();parser.offers.forEach(function(entry){var offerEntry=new MarketplaceOfferData_MarketplaceOfferData(entry.offerId,entry.furniId,entry.furniType,entry.extraData,entry.stuffData,entry.price,entry.status,entry.averagePrice,entry.offerCount);offerEntry.timeLeftMinutes=entry.timeLeftMinutes;latestOffers.set(entry.offerId,offerEntry);});setTotalItemsFound(parser.totalItemsFound);setOffers(latestOffers);},[]);var onMarketplaceBuyOfferResultEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;switch(parser.result){case 1:requestOffers(lastSearch);break;case 2:setOffers(function(prev){var newVal=new Map(prev);newVal.delete(parser.requestedOfferId);return newVal;});NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('catalog.marketplace.not_available_header'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('catalog.marketplace.not_available_title'));break;case 3:// our shit was updated\n// todo: some dialogue modal \nsetOffers(function(prev){var newVal=new Map(prev);var item=newVal.get(parser.requestedOfferId);if(item){item.offerId=parser.offerId;item.price=parser.newPrice;item.offerCount--;newVal.set(item.offerId,item);}newVal.delete(parser.requestedOfferId);return newVal;});NotificationUtilities_NotificationUtilities.confirm(LocalizeText('catalog.marketplace.confirm_higher_header')+'\\n'+LocalizeText('catalog.marketplace.confirm_price',['price'],[parser.newPrice.toString()]),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"I\" /* BuyMarketplaceOfferMessageComposer */](parser.offerId));},null,null,null,LocalizeText('catalog.marketplace.confirm_higher_title'));break;case 4:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('catalog.alert.notenough.credits.description'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('catalog.alert.notenough.title'));break;}},[lastSearch,requestOffers]);UseMessageEventHook(nitro_renderer[\"Zd\" /* MarketPlaceOffersEvent */],onMarketPlaceOffersEvent);UseMessageEventHook(nitro_renderer[\"ae\" /* MarketplaceBuyOfferResultEvent */],onMarketplaceBuyOfferResultEvent);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup_ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{active:searchType===MarketplaceSearchType_MarketplaceSearchType.BY_ACTIVITY,onClick:function onClick(){return setSearchType(MarketplaceSearchType_MarketplaceSearchType.BY_ACTIVITY);},children:LocalizeText('catalog.marketplace.search_by_activity')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{active:searchType===MarketplaceSearchType_MarketplaceSearchType.BY_VALUE,onClick:function onClick(){return setSearchType(MarketplaceSearchType_MarketplaceSearchType.BY_VALUE);},children:LocalizeText('catalog.marketplace.search_by_value')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{active:searchType===MarketplaceSearchType_MarketplaceSearchType.ADVANCED,onClick:function onClick(){return setSearchType(MarketplaceSearchType_MarketplaceSearchType.ADVANCED);},children:LocalizeText('catalog.marketplace.search_advanced')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplaceSearchFormView_SearchFormView,{sortTypes:getSortTypes,searchType:searchType,onSearch:requestOffers}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:LocalizeText('catalog.marketplace.items_found',['count'],[offers.size.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{className:\"nitro-catalog-layout-marketplace-grid\",overflow:\"auto\",children:Array.from(offers.values()).map(function(entry,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplaceItemView_CatalogLayoutMarketplaceItemView,{offerData:entry,type:PUBLIC_OFFER,onClick:purchaseItem},index);})})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/pets/CatalogLayoutPetView.tsx\nvar CatalogLayoutPetView_CatalogLayoutPetView=function CatalogLayoutPetView(props){var _props$page=props.page,page=_props$page===void 0?null:_props$page;var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),petIndex=_useState2[0],setPetIndex=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),sellablePalettes=_useState4[0],setSellablePalettes=_useState4[1];var _useState5=Object(react[\"useState\"])(-1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedPaletteIndex=_useState6[0],setSelectedPaletteIndex=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),sellableColors=_useState8[0],setSellableColors=_useState8[1];var _useState9=Object(react[\"useState\"])(-1),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),selectedColorIndex=_useState10[0],setSelectedColorIndex=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),colorsShowing=_useState12[0],setColorsShowing=_useState12[1];var _useState13=Object(react[\"useState\"])(''),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),petName=_useState14[0],setPetName=_useState14[1];var _useState15=Object(react[\"useState\"])(true),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),approvalPending=_useState16[0],setApprovalPending=_useState16[1];var _useState17=Object(react[\"useState\"])(-1),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),approvalResult=_useState18[0],setApprovalResult=_useState18[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$setCurren=_useCatalog.setCurrentOffer,setCurrentOffer=_useCatalog$setCurren===void 0?null:_useCatalog$setCurren,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha,_useCatalog$catalogOp=_useCatalog.catalogOptions,catalogOptions=_useCatalog$catalogOp===void 0?null:_useCatalog$catalogOp,_useCatalog$roomPrevi=_useCatalog.roomPreviewer,roomPreviewer=_useCatalog$roomPrevi===void 0?null:_useCatalog$roomPrevi;var _catalogOptions$petPa=catalogOptions.petPalettes,petPalettes=_catalogOptions$petPa===void 0?null:_catalogOptions$petPa;var getColor=Object(react[\"useMemo\"])(function(){if(!sellableColors.length||selectedColorIndex===-1)return 0xFFFFFF;return sellableColors[selectedColorIndex][0];},[sellableColors,selectedColorIndex]);var petBreedName=Object(react[\"useMemo\"])(function(){if(petIndex===-1||!sellablePalettes.length||selectedPaletteIndex===-1)return'';return LocalizeText(\"pet.breed.\".concat(petIndex,\".\").concat(sellablePalettes[selectedPaletteIndex].breedId));},[petIndex,sellablePalettes,selectedPaletteIndex]);var petPurchaseString=Object(react[\"useMemo\"])(function(){if(!sellablePalettes.length||selectedPaletteIndex===-1)return'';var paletteId=sellablePalettes[selectedPaletteIndex].paletteId;var color=0xFFFFFF;if(petIndex<=7){if(selectedColorIndex===-1)return'';color=sellableColors[selectedColorIndex][0];}var colorString=color.toString(16).toUpperCase();while(colorString.length<6){colorString='0'+colorString;}return\"\".concat(paletteId,\"\\n\").concat(colorString);},[sellablePalettes,selectedPaletteIndex,petIndex,sellableColors,selectedColorIndex]);var validationErrorMessage=Object(react[\"useMemo\"])(function(){var key='';switch(approvalResult){case 1:key='catalog.alert.petname.long';break;case 2:key='catalog.alert.petname.short';break;case 3:key='catalog.alert.petname.chars';break;case 4:key='catalog.alert.petname.bobba';break;}if(!key||!key.length)return'';return LocalizeText(key);},[approvalResult]);var purchasePet=Object(react[\"useCallback\"])(function(){if(approvalResult===-1){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"i\" /* ApproveNameMessageComposer */](petName,1));return;}if(approvalResult===0){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"xf\" /* PurchaseFromCatalogComposer */](page.pageId,currentOffer.offerId,\"\".concat(petName,\"\\n\").concat(petPurchaseString),1));return;}},[page,currentOffer,petName,petPurchaseString,approvalResult]);var onApproveNameMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setApprovalResult(parser.result);if(parser.result===0)purchasePet();else DispatchUiEvent_DispatchUiEvent(new CatalogPurchaseFailureEvent_CatalogPurchaseFailureEvent(-1));},[purchasePet]);UseMessageEventHook(nitro_renderer[\"j\" /* ApproveNameMessageEvent */],onApproveNameMessageEvent);Object(react[\"useEffect\"])(function(){if(!page||!page.offers.length)return;var offer=page.offers[0];setCurrentOffer(offer);setPetIndex(GetPetIndexFromLocalization(offer.localizationId));setColorsShowing(false);},[page,setCurrentOffer]);Object(react[\"useEffect\"])(function(){if(!currentOffer)return;var productData=currentOffer.product.productData;if(!productData)return;if(petPalettes){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(petPalettes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var paletteData=_step.value;if(paletteData.breed!==productData.type)continue;var palettes=[];var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(paletteData.palettes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var palette=_step2.value;if(!palette.sellable)continue;palettes.push(palette);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}setSelectedPaletteIndex(palettes.length?0:-1);setSellablePalettes(palettes);return;}}catch(err){_iterator.e(err);}finally{_iterator.f();}}setSelectedPaletteIndex(-1);setSellablePalettes([]);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"vc\" /* GetSellablePetPalettesComposer */](productData.type));},[currentOffer,petPalettes]);Object(react[\"useEffect\"])(function(){if(petIndex===-1)return;var colors=GetPetAvailableColors(petIndex,sellablePalettes);setSelectedColorIndex(colors.length?0:-1);setSellableColors(colors);},[petIndex,sellablePalettes]);Object(react[\"useEffect\"])(function(){if(!roomPreviewer)return;roomPreviewer.reset(false);if(petIndex===-1||!sellablePalettes.length||selectedPaletteIndex===-1)return;var petFigureString=\"\".concat(petIndex,\" \").concat(sellablePalettes[selectedPaletteIndex].paletteId);if(petIndex<=7)petFigureString+=\" \".concat(getColor.toString(16));roomPreviewer.addPetIntoRoom(petFigureString);},[roomPreviewer,petIndex,sellablePalettes,selectedPaletteIndex,getColor]);Object(react[\"useEffect\"])(function(){setApprovalResult(-1);},[petName]);if(!currentOffer)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AutoGrid_AutoGrid,{columnCount:5,children:[!colorsShowing&&sellablePalettes.length>0&&sellablePalettes.map(function(palette,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:selectedPaletteIndex===index,onClick:function onClick(event){return setSelectedPaletteIndex(index);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView_LayoutPetImageView,{typeId:petIndex,paletteId:palette.paletteId,direction:2,headOnly:true})},index);}),colorsShowing&&sellableColors.length>0&&sellableColors.map(function(colorSet,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemHighlight:true,itemActive:selectedColorIndex===index,itemColor:nitro_renderer[\"ib\" /* ColorConverter */].int2rgb(colorSet[0]),className:\"clear-bg\",onClick:function onClick(event){return setSelectedColorIndex(index);}},index);})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:!currentOffer,size:5,overflow:\"hidden\",children:[!currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!page.localization.getImage(1)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:page.localization.getImage(1)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,dangerouslySetInnerHTML:{__html:page.localization.getText(0)}})]}),currentOffer&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogViewProductWidgetView_CatalogViewProductWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogAddOnBadgeWidgetView_CatalogAddOnBadgeWidgetView,{position:\"absolute\",className:\"bg-muted rounded bottom-1 end-1\"}),petIndex>-1&&petIndex<=7&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{position:\"absolute\",className:\"bottom-1 start-1\",onClick:function onClick(event){return setColorsShowing(!colorsShowing);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"fill-drip\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,children:petBreedName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm w-100\",placeholder:LocalizeText('widgets.petpackage.name.title'),value:petName,onChange:function onChange(event){return setPetName(event.target.value);}}),approvalResult>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"invalid-feedback d-block m-0\",children:validationErrorMessage})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogTotalPriceWidget_CatalogTotalPriceWidget,{justifyContent:\"end\",alignItems:\"end\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogPurchaseWidgetView_CatalogPurchaseWidgetView,{purchaseCallback:purchasePet})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/vip-gifts/VipGiftItemView.tsx\nvar VipGiftItemView_VipGiftItem=function VipGiftItem(props){var _props$offer=props.offer,offer=_props$offer===void 0?null:_props$offer,_props$isAvailable=props.isAvailable,isAvailable=_props$isAvailable===void 0?false:_props$isAvailable,_props$onSelect=props.onSelect,onSelect=_props$onSelect===void 0?null:_props$onSelect;var getImageUrlForOffer=Object(react[\"useCallback\"])(function(){if(!offer||!offer.products.length)return'';var productData=offer.products[0];return ProductImageUtility_ProductImageUtility.getProductImageUrl(productData.productType,productData.furniClassId,productData.extraParam);},[offer]);var getItemTitle=Object(react[\"useCallback\"])(function(){if(!offer||!offer.products.length)return'';var productData=offer.products[0];var localizationKey=ProductImageUtility_ProductImageUtility.getProductCategory(productData.productType,productData.furniClassId)===2?'wallItem.name.'+productData.furniClassId:'roomItem.name.'+productData.furniClassId;return LocalizeText(localizationKey);},[offer]);var getItemDesc=Object(react[\"useCallback\"])(function(){if(!offer||!offer.products.length)return'';var productData=offer.products[0];var localizationKey=ProductImageUtility_ProductImageUtility.getProductCategory(productData.productType,productData.furniClassId)===2?'wallItem.desc.'+productData.furniClassId:'roomItem.desc.'+productData.furniClassId;return LocalizeText(localizationKey);},[offer]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{center:false,column:false,alignItems:\"center\",className:\"p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutImage_LayoutImage,{imageUrl:getImageUrlForOffer()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{grow:true,fontWeight:\"bold\",children:getItemTitle()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:function onClick(){return onSelect(offer.localizationId);},disabled:!isAvailable,children:LocalizeText('catalog.club_gift.select')})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/vip-gifts/CatalogLayoutVipGiftsView.tsx\nvar CatalogLayoutVipGiftsView_CatalogLayoutVipGiftsView=function CatalogLayoutVipGiftsView(props){var _usePurse=usePurse_usePurse(),_usePurse$purse=_usePurse.purse,purse=_usePurse$purse===void 0?null:_usePurse$purse;var _useCatalog=useCatalog_useCatalog(),_useCatalog$catalogOp=_useCatalog.catalogOptions,catalogOptions=_useCatalog$catalogOp===void 0?null:_useCatalog$catalogOp,_useCatalog$setCatalo=_useCatalog.setCatalogOptions,setCatalogOptions=_useCatalog$setCatalo===void 0?null:_useCatalog$setCatalo;var _catalogOptions$clubG=catalogOptions.clubGifts,clubGifts=_catalogOptions$clubG===void 0?null:_catalogOptions$clubG;var giftsAvailable=Object(react[\"useCallback\"])(function(){if(!clubGifts)return'';if(clubGifts.giftsAvailable>0)return LocalizeText('catalog.club_gift.available',['amount'],[clubGifts.giftsAvailable.toString()]);if(clubGifts.daysUntilNextGift>0)return LocalizeText('catalog.club_gift.days_until_next',['days'],[clubGifts.daysUntilNextGift.toString()]);if(purse.isVip)return LocalizeText('catalog.club_gift.not_available');return LocalizeText('catalog.club_gift.no_club');},[clubGifts,purse]);var selectGift=Object(react[\"useCallback\"])(function(localizationId){NotificationUtilities_NotificationUtilities.confirm(LocalizeText('catalog.club_gift.confirm'),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ch\" /* SelectClubGiftComposer */](localizationId));setCatalogOptions(function(prevValue){prevValue.clubGifts.giftsAvailable--;return Object(objectSpread2[\"a\" /* default */])({},prevValue);});},null);},[setCatalogOptions]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:giftsAvailable()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:1,className:\"nitro-catalog-layout-vip-gifts-grid\",children:clubGifts.offers.length>0&&clubGifts.offers.map(function(offer){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VipGiftItemView_VipGiftItem,{offer:offer,isAvailable:clubGifts.getOfferExtraData(offer.offerId).isSelectable&&clubGifts.giftsAvailable>0,onSelect:selectGift},offer.offerId);})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/GetCatalogLayout.tsx\nvar GetCatalogLayout_GetCatalogLayout=function GetCatalogLayout(page,hideNavigation){if(!page)return null;var layoutProps={page:page,hideNavigation:hideNavigation};switch(page.layoutCode){case'frontpage_featured':return null;case'frontpage4':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutFrontpage4View_CatalogLayoutFrontpage4View,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'pets':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutPetView_CatalogLayoutPetView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'pets2':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutPets2View_CatalogLayoutPets2View,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'pets3':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutPets3View_CatalogLayoutPets3View,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'vip_buy':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutVipBuyView_CatalogLayoutVipBuyView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'guild_frontpage':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutGuildFrontpageView_CatalogLayouGuildFrontpageView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'guild_forum':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutGuildForumView_CatalogLayouGuildForumView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'guild_custom_furni':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutGuildCustomFurniView_CatalogLayouGuildCustomFurniView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'club_gifts':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutVipGiftsView_CatalogLayoutVipGiftsView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'marketplace_own_items':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplaceOwnItemsView_CatalogLayoutMarketplaceOwnItemsView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'marketplace':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutMarketplacePublicItemsView_CatalogLayoutMarketplacePublicItemsView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'single_bundle':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutSingleBundleView_CatalogLayoutSingleBundleView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'room_bundle':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutRoomBundleView_CatalogLayoutRoomBundleView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'spaces_new':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutSpacesView_CatalogLayoutSpacesView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'trophies':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutTrophiesView_CatalogLayoutTrophiesView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'info_loyalty':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutInfoLoyaltyView_CatalogLayoutInfoLoyaltyView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));case'badge_display':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutBadgeDisplayView_CatalogLayoutBadgeDisplayView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));//case 'default_3x3_color_grouping':\n//return <CatalogLayoutColorGroupingView { ...layoutProps } />;\ncase'bots':case'default_3x3':default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogLayoutDefaultView_CatalogLayoutDefaultView,Object(objectSpread2[\"a\" /* default */])({},layoutProps));}};\n// CONCATENATED MODULE: ./src/components/catalog/views/page/layout/marketplace/MarketplacePostOfferView.tsx\nvar MarketplacePostOfferView_MarketplacePostOfferView=function MarketplacePostOfferView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),askingPrice=_useState4[0],setAskingPrice=_useState4[1];var _useCatalog=useCatalog_useCatalog(),_useCatalog$catalogOp=_useCatalog.catalogOptions,catalogOptions=_useCatalog$catalogOp===void 0?null:_useCatalog$catalogOp,_useCatalog$setCatalo=_useCatalog.setCatalogOptions,setCatalogOptions=_useCatalog$setCatalo===void 0?null:_useCatalog$setCatalo;var _catalogOptions$marke=catalogOptions.marketplaceConfiguration,marketplaceConfiguration=_catalogOptions$marke===void 0?null:_catalogOptions$marke;var onMarketplaceConfigurationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setCatalogOptions(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.marketplaceConfiguration=parser;return newValue;});},[setCatalogOptions]);UseMessageEventHook(nitro_renderer[\"ce\" /* MarketplaceConfigurationEvent */],onMarketplaceConfigurationEvent);var onCatalogPostMarketplaceOfferEvent=Object(react[\"useCallback\"])(function(event){setItem(event.item);},[]);UseUiEvent_UseUiEvent(CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent.POST_MARKETPLACE,onCatalogPostMarketplaceOfferEvent);Object(react[\"useEffect\"])(function(){if(!item||marketplaceConfiguration)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"kc\" /* GetMarketplaceConfigurationMessageComposer */]());},[item,marketplaceConfiguration]);Object(react[\"useEffect\"])(function(){if(!item)return;return function(){return setAskingPrice(0);};},[item]);if(!marketplaceConfiguration||!item)return null;var getFurniTitle=item?LocalizeText(item.isWallItem?'wallItem.name.'+item.type:'roomItem.name.'+item.type):'';var getFurniDescription=item?LocalizeText(item.isWallItem?'wallItem.desc.'+item.type:'roomItem.desc.'+item.type):'';var postItem=function postItem(){if(!item||askingPrice<=marketplaceConfiguration.minimumPrice)return;NotificationUtilities_NotificationUtilities.confirm(LocalizeText('inventory.marketplace.confirm_offer.info',['furniname','price'],[getFurniTitle,askingPrice.toString()]),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Yd\" /* MakeOfferMessageComposer */](askingPrice,item.isWallItem?2:1,item.id));setItem(null);},function(){setItem(null);},null,null,LocalizeText('inventory.marketplace.confirm_offer.title'));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-catalog-layout-marketplace-post-offer\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('inventory.marketplace.make_offer.title'),onCloseClick:function onCloseClick(event){return setItem(null);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{fullHeight:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,className:\"bg-muted rounded p-2\",size:4,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutFurniImageView_LayoutFurniImageView,{productType:item.isWallItem?ProductTypeEnum_ProductTypeEnum.WALL:ProductTypeEnum_ProductTypeEnum.FLOOR,productClassId:item.type,extraData:item.extra.toString()})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:8,justifyContent:\"between\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontWeight:\"bold\",children:getFurniTitle}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,shrink:true,children:getFurniDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{italics:true,children:LocalizeText('inventory.marketplace.make_offer.expiration_info',['time'],[marketplaceConfiguration.offerTime.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group has-validation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",type:\"number\",min:0,value:askingPrice,onChange:function onChange(event){return setAskingPrice(parseInt(event.target.value));},placeholder:LocalizeText('inventory.marketplace.make_offer.price_request')}),(askingPrice<marketplaceConfiguration.minimumPrice||isNaN(askingPrice))&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"invalid-feedback d-block\",children:LocalizeText('inventory.marketplace.make_offer.min_price',['minprice'],[marketplaceConfiguration.minimumPrice.toString()])}),askingPrice>marketplaceConfiguration.maximumPrice&&!isNaN(askingPrice)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"invalid-feedback d-block\",children:LocalizeText('inventory.marketplace.make_offer.max_price',['maxprice'],[marketplaceConfiguration.maximumPrice.toString()])}),!(askingPrice<marketplaceConfiguration.minimumPrice||askingPrice>marketplaceConfiguration.maximumPrice||isNaN(askingPrice))&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"invalid-feedback d-block\",children:LocalizeText('inventory.marketplace.make_offer.final_price',['commission','finalprice'],[marketplaceConfiguration.commission.toString(),(askingPrice+marketplaceConfiguration.commission).toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:askingPrice<marketplaceConfiguration.minimumPrice||askingPrice>marketplaceConfiguration.maximumPrice||isNaN(askingPrice),onClick:postItem,children:LocalizeText('inventory.marketplace.make_offer.post')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/catalog/CatalogView.tsx\nvar CatalogView_CatalogView=function CatalogView(props){var _useCatalog=useCatalog_useCatalog(),_useCatalog$isVisible=_useCatalog.isVisible,isVisible=_useCatalog$isVisible===void 0?false:_useCatalog$isVisible,_useCatalog$setIsVisi=_useCatalog.setIsVisible,setIsVisible=_useCatalog$setIsVisi===void 0?null:_useCatalog$setIsVisi,_useCatalog$rootNode=_useCatalog.rootNode,rootNode=_useCatalog$rootNode===void 0?null:_useCatalog$rootNode,_useCatalog$currentPa=_useCatalog.currentPage,currentPage=_useCatalog$currentPa===void 0?null:_useCatalog$currentPa,_useCatalog$navigatio=_useCatalog.navigationHidden,navigationHidden=_useCatalog$navigatio===void 0?false:_useCatalog$navigatio,_useCatalog$setNaviga=_useCatalog.setNavigationHidden,setNavigationHidden=_useCatalog$setNaviga===void 0?null:_useCatalog$setNaviga,_useCatalog$activeNod=_useCatalog.activeNodes,activeNodes=_useCatalog$activeNod===void 0?[]:_useCatalog$activeNod,_useCatalog$searchRes=_useCatalog.searchResult,searchResult=_useCatalog$searchRes===void 0?null:_useCatalog$searchRes,_useCatalog$setSearch=_useCatalog.setSearchResult,setSearchResult=_useCatalog$setSearch===void 0?null:_useCatalog$setSearch,_useCatalog$openPageB=_useCatalog.openPageByName,openPageByName=_useCatalog$openPageB===void 0?null:_useCatalog$openPageB,_useCatalog$openPageB2=_useCatalog.openPageByOfferId,openPageByOfferId=_useCatalog$openPageB2===void 0?null:_useCatalog$openPageB2,_useCatalog$activateN=_useCatalog.activateNode,activateNode=_useCatalog$activateN===void 0?null:_useCatalog$activateN;Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;case'open':if(parts.length>2){if(parts.length===4){switch(parts[2]){case'offerId':openPageByOfferId(parseInt(parts[3]));return;}}else{openPageByName(parts[2]);}}else{setIsVisible(true);}return;}},eventUrlPrefix:'catalog/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible,openPageByOfferId,openPageByName]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"catalog\",className:\"nitro-catalog\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('catalog.title'),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView_NitroCardTabsView,{children:rootNode&&rootNode.children.length>0&&rootNode.children.map(function(child){if(!child.isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView_NitroCardTabsItemView,{isActive:child.isActive,onClick:function onClick(event){if(searchResult)setSearchResult(null);activateNode(child);},children:child.localization},child.pageId);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[!navigationHidden&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:3,overflow:\"hidden\",children:activeNodes&&activeNodes.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogNavigationView_CatalogNavigationView,{node:activeNodes[0]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:!navigationHidden?9:12,overflow:\"hidden\",children:GetCatalogLayout_GetCatalogLayout(currentPage,function(){return setNavigationHidden(true);})})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogGiftView_CatalogGiftView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MarketplacePostOfferView_MarketplacePostOfferView,{})]});};\n// EXTERNAL MODULE: ./node_modules/react-virtualized/dist/es/index.js + 67 modules\nvar es = __webpack_require__(45);\n\n// CONCATENATED MODULE: ./src/components/chat-history/ChatHistoryContext.tsx\nvar ChatHistoryContext=/*#__PURE__*/Object(react[\"createContext\"])({chatHistoryState:null,roomHistoryState:null});var ChatHistoryContext_ChatHistoryContextProvider=function ChatHistoryContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatHistoryContext.Provider,{value:props.value,children:props.children});};var ChatHistoryContext_useChatHistoryContext=function useChatHistoryContext(){return Object(react[\"useContext\"])(ChatHistoryContext);};\n// CONCATENATED MODULE: ./src/components/chat-history/common/ChatEntryType.ts\nvar ChatEntryType_ChatEntryType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function ChatEntryType(){Object(classCallCheck[\"a\" /* default */])(this,ChatEntryType);});ChatEntryType_ChatEntryType.TYPE_CHAT=1;ChatEntryType_ChatEntryType.TYPE_ROOM_INFO=2;\n// CONCATENATED MODULE: ./src/components/chat-history/common/Utilities.ts\nvar currentDate=function currentDate(){var currentTime=new Date();return\"\".concat(currentTime.getHours().toString().padStart(2,'0'),\":\").concat(currentTime.getMinutes().toString().padStart(2,'0'));};\n// CONCATENATED MODULE: ./src/components/chat-history/ChatHistoryMessageHandler.tsx\nvar CHAT_HISTORY_MAX=1000;var ROOM_HISTORY_MAX=10;var ChatHistoryMessageHandler_ChatHistoryMessageHandler=function ChatHistoryMessageHandler(props){var _useChatHistoryContex=ChatHistoryContext_useChatHistoryContext(),_useChatHistoryContex2=_useChatHistoryContex.chatHistoryState,chatHistoryState=_useChatHistoryContex2===void 0?null:_useChatHistoryContex2,_useChatHistoryContex3=_useChatHistoryContex.roomHistoryState,roomHistoryState=_useChatHistoryContex3===void 0?null:_useChatHistoryContex3;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),needsRoomInsert=_useState2[0],setNeedsRoomInsert=_useState2[1];var addChatEntry=Object(react[\"useCallback\"])(function(entry){entry.id=chatHistoryState.chats.length;chatHistoryState.chats.push(entry);//check for overflow\nif(chatHistoryState.chats.length>CHAT_HISTORY_MAX){chatHistoryState.chats.shift();}chatHistoryState.notify();//dispatchUiEvent(new ChatHistoryEvent(ChatHistoryEvent.CHAT_HISTORY_CHANGED));\n},[chatHistoryState]);var addRoomHistoryEntry=Object(react[\"useCallback\"])(function(entry){roomHistoryState.roomHistory.push(entry);// check for overflow\nif(roomHistoryState.roomHistory.length>ROOM_HISTORY_MAX){roomHistoryState.roomHistory.shift();}roomHistoryState.notify();},[roomHistoryState]);var onChatEvent=Object(react[\"useCallback\"])(function(event){var roomSession=GetRoomSession();if(!roomSession)return;var userData=roomSession.userDataManager.getUserDataByIndex(event.objectId);if(!userData)return;var timeString=currentDate();var entry={id:-1,entityId:userData.webID,name:userData.name,look:userData.figure,entityType:userData.type,message:event.message,timestamp:timeString,type:ChatEntryType_ChatEntryType.TYPE_CHAT,roomId:roomSession.roomId};addChatEntry(entry);},[addChatEntry]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_EVENT,onChatEvent);var onRoomSessionEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"Sg\" /* RoomSessionEvent */].STARTED:setNeedsRoomInsert(true);break;case nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED://dispatchUiEvent(new ChatHistoryEvent(ChatHistoryEvent.HIDE_CHAT_HISTORY));\nbreak;}},[]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].STARTED,onRoomSessionEvent);var onGetGuestRoomResultEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var session=GetRoomSession();if(!session||session.roomId!==parser.data.roomId)return;if(needsRoomInsert){var chatEntry={id:-1,entityId:parser.data.roomId,name:parser.data.roomName,timestamp:currentDate(),type:ChatEntryType_ChatEntryType.TYPE_ROOM_INFO,roomId:parser.data.roomId};addChatEntry(chatEntry);var roomEntry={id:parser.data.roomId,name:parser.data.roomName};addRoomHistoryEntry(roomEntry);setNeedsRoomInsert(false);}},[addChatEntry,addRoomHistoryEntry,needsRoomInsert]);UseMessageEventHook(nitro_renderer[\"jc\" /* GetGuestRoomResultEvent */],onGetGuestRoomResultEvent);return null;};\n// CONCATENATED MODULE: ./src/components/chat-history/common/ChatHistoryState.ts\nvar ChatHistoryState_ChatHistoryState=/*#__PURE__*/function(){function ChatHistoryState(){Object(classCallCheck[\"a\" /* default */])(this,ChatHistoryState);this._chats=void 0;this._notifier=void 0;this._chats=[];}Object(createClass[\"a\" /* default */])(ChatHistoryState,[{key:\"notify\",value:function notify(){if(this._notifier)this._notifier();}},{key:\"chats\",get:function get(){return this._chats;}},{key:\"notifier\",get:function get(){return this._notifier;},set:function set(notifier){this._notifier=notifier;}}]);return ChatHistoryState;}();\n// CONCATENATED MODULE: ./src/components/chat-history/common/GetChatHistory.ts\nvar GLOBAL_CHATS=null;var SetChatHistory=function SetChatHistory(chatHistory){return GLOBAL_CHATS=chatHistory;};var GetChatHistory=function GetChatHistory(){return GLOBAL_CHATS;};\n// CONCATENATED MODULE: ./src/components/chat-history/common/RoomHistoryState.ts\nvar RoomHistoryState_RoomHistoryState=/*#__PURE__*/function(){function RoomHistoryState(){Object(classCallCheck[\"a\" /* default */])(this,RoomHistoryState);this._roomHistory=void 0;this._notifier=void 0;this._roomHistory=[];}Object(createClass[\"a\" /* default */])(RoomHistoryState,[{key:\"roomHistory\",get:function get(){return this._roomHistory;}},{key:\"notifier\",get:function get(){return this._notifier;},set:function set(notifier){this._notifier=notifier;}},{key:\"notify\",value:function notify(){if(this._notifier)this._notifier();}}]);return RoomHistoryState;}();\n// CONCATENATED MODULE: ./src/components/chat-history/ChatHistoryView.tsx\nvar ChatHistoryView_ChatHistoryView=function ChatHistoryView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),chatHistoryUpdateId=_useState4[0],setChatHistoryUpdateId=_useState4[1];var _useState5=Object(react[\"useState\"])(-1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomHistoryUpdateId=_useState6[0],setRoomHistoryUpdateId=_useState6[1];var _useState7=Object(react[\"useState\"])(new ChatHistoryState_ChatHistoryState()),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),chatHistoryState=_useState8[0],setChatHistoryState=_useState8[1];var _useState9=Object(react[\"useState\"])(new RoomHistoryState_RoomHistoryState()),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),roomHistoryState=_useState10[0],setRoomHistoryState=_useState10[1];var elementRef=Object(react[\"useRef\"])(null);var cache=Object(react[\"useMemo\"])(function(){return new es[\"c\" /* CellMeasurerCache */]({defaultHeight:25,fixedWidth:true});},[]);var RowRenderer=function RowRenderer(props){var item=chatHistoryState.chats[props.index];var isDark=props.index%2===0;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"b\" /* CellMeasurer */],{cache:cache,columnIndex:0,parent:props.parent,rowIndex:props.index,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{style:props.style,className:\"p-1\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"muted\",children:item.timestamp}),item.type===ChatEntryType_ChatEntryType.TYPE_CHAT&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},pointer:true,noWrap:true,dangerouslySetInnerHTML:{__html:item.name+':'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},textBreak:true,wrap:true,grow:true,children:item.message})]}),item.type===ChatEntryType_ChatEntryType.TYPE_ROOM_INFO&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-small-room\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},textBreak:true,wrap:true,grow:true,children:item.name})]})]},props.key)},props.key);};var onResize=function onResize(info){return cache.clearAll();};var linkReceived=Object(react[\"useCallback\"])(function(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;}},[]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:linkReceived,eventUrlPrefix:'chat-history/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[linkReceived]);Object(react[\"useEffect\"])(function(){var chatState=new ChatHistoryState_ChatHistoryState();var roomState=new RoomHistoryState_RoomHistoryState();SetChatHistory(chatState);chatState.notifier=function(){return setChatHistoryUpdateId(function(prevValue){return prevValue+1;});};roomState.notifier=function(){return setRoomHistoryUpdateId(function(prevValue){return prevValue+1;});};setChatHistoryState(chatState);setRoomHistoryState(roomState);return function(){chatState.notifier=null;roomState.notifier=null;};},[]);Object(react[\"useEffect\"])(function(){if(elementRef&&elementRef.current&&isVisible)elementRef.current.scrollToRow(-1);},[isVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ChatHistoryContext_ChatHistoryContextProvider,{value:{chatHistoryState:chatHistoryState,roomHistoryState:roomHistoryState},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatHistoryMessageHandler_ChatHistoryMessageHandler,{}),isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"chat-history\",className:\"nitro-chat-history\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('room.chathistory.button.text'),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AutoSizer */],{defaultWidth:300,defaultHeight:200,onResize:onResize,children:function children(_ref){var height=_ref.height,width=_ref.width;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* List */],{ref:elementRef,width:width,height:height,rowCount:chatHistoryState.chats.length,rowHeight:cache.rowHeight,className:'chat-history-list',rowRenderer:RowRenderer,deferredMeasurementCache:cache});}})})]})]});};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/Constants.ts\nvar TILE_SIZE=32;var MAX_NUM_TILE_PER_AXIS=64;var HEIGHT_SCHEME='x0123456789abcdefghijklmnopq';var Constants_FloorAction=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function FloorAction(){Object(classCallCheck[\"a\" /* default */])(this,FloorAction);});Constants_FloorAction.DOOR=0;Constants_FloorAction.UP=1;Constants_FloorAction.DOWN=2;Constants_FloorAction.SET=3;Constants_FloorAction.UNSET=4;var COLORMAP={'x':'101010','0':'0065ff','1':'0091ff','2':'00bcff','3':'00e8ff','4':'00ffea','5':'00ffbf','6':'00ff93','7':'00ff68','8':'00ff3d','9':'19ff00','a':'44ff00','b':'70ff00','c':'9bff00','d':'f2ff00','e':'ffe000','f':'ffb500','g':'ff8900','h':'ff5e00','i':'ff3200','j':'ff0700','k':'ff0023','l':'ff007a','m':'ff00a5','n':'ff00d1','o':'ff00fc','p':'d600ff','q':'aa00ff'};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/ActionSettings.ts\nvar ActionSettings_ActionSettings=/*#__PURE__*/function(){function ActionSettings(){Object(classCallCheck[\"a\" /* default */])(this,ActionSettings);this._currentAction=void 0;this._currentHeight=void 0;this._currentAction=Constants_FloorAction.SET;this._currentHeight=HEIGHT_SCHEME[1];}Object(createClass[\"a\" /* default */])(ActionSettings,[{key:\"currentAction\",get:function get(){return this._currentAction;},set:function set(value){this._currentAction=value;}},{key:\"currentHeight\",get:function get(){return this._currentHeight;},set:function set(value){this._currentHeight=value;}},{key:\"clear\",value:function clear(){this._currentAction=Constants_FloorAction.SET;this._currentHeight=HEIGHT_SCHEME[1];}}]);return ActionSettings;}();\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/Tile.ts\nvar Tile_Tile=/*#__PURE__*/function(){function Tile(height,isBlocked){Object(classCallCheck[\"a\" /* default */])(this,Tile);this._height=void 0;this._isBlocked=void 0;this._height=height;this._isBlocked=isBlocked;}Object(createClass[\"a\" /* default */])(Tile,[{key:\"height\",get:function get(){return this._height;},set:function set(height){this._height=height;}},{key:\"isBlocked\",get:function get(){return this._isBlocked;},set:function set(val){this._isBlocked=val;}}]);return Tile;}();\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/Utils.ts\nvar Utils_getScreenPositionForTile=function getScreenPositionForTile(x,y){var positionX=x*TILE_SIZE/2-y*TILE_SIZE/2;var positionY=x*TILE_SIZE/4+y*TILE_SIZE/4;positionX=positionX+1024;// center the map in the canvas\nreturn[positionX,positionY];};var Utils_getTileFromScreenPosition=function getTileFromScreenPosition(x,y){var translatedX=x-1024;// after centering translation\nvar realX=(translatedX/(TILE_SIZE/2)+y/(TILE_SIZE/4))/2;var realY=(y/(TILE_SIZE/4)-translatedX/(TILE_SIZE/2))/2;return[realX,realY];};var convertNumbersForSaving=function convertNumbersForSaving(value){value=parseInt(value.toString());switch(value){case 0:return-2;case 1:return-1;case 3:return 1;default:return 0;}};var convertSettingToNumber=function convertSettingToNumber(value){switch(value){case 0.25:return 0;case 0.5:return 1;case 2:return 3;default:return 2;}};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/FloorplanEditor.ts\nvar FloorplanEditor_FloorplanEditor=/*#__PURE__*/function(_PixiApplicationProxy){Object(inherits[\"a\" /* default */])(FloorplanEditor,_PixiApplicationProxy);var _super=Object(createSuper[\"a\" /* default */])(FloorplanEditor);function FloorplanEditor(){var _this;Object(classCallCheck[\"a\" /* default */])(this,FloorplanEditor);var width=TILE_SIZE*MAX_NUM_TILE_PER_AXIS+20;var height=TILE_SIZE*MAX_NUM_TILE_PER_AXIS/2+100;_this=_super.call(this,{width:width,height:height,backgroundColor:0x000000,antialias:true,autoDensity:true,resolution:1,sharedLoader:true,sharedTicker:true});_this._tilemap=void 0;_this._width=void 0;_this._height=void 0;_this._isHolding=void 0;_this._doorLocation=void 0;_this._lastUsedTile=void 0;_this._tilemapRenderer=void 0;_this._actionSettings=void 0;_this._isInitialized=void 0;_this._assetCollection=void 0;_this._tilemap=[];_this._doorLocation=new nitro_renderer[\"Se\" /* NitroPoint */](0,0);_this._width=0;_this._height=0;_this._isHolding=false;_this._lastUsedTile=new nitro_renderer[\"Se\" /* NitroPoint */](-1,-1);_this._actionSettings=new ActionSettings_ActionSettings();return _this;}Object(createClass[\"a\" /* default */])(FloorplanEditor,[{key:\"initialize\",value:function initialize(){if(this._isInitialized)return;var collection=GetNitroCore().asset.getCollection('floor_editor');if(!collection)return;this._assetCollection=collection;this._tilemapRenderer=new nitro_renderer[\"Xe\" /* NitroTilemap */](collection.baseTexture);this.registerEventListeners();this.stage.addChild(this._tilemapRenderer);this._isInitialized=true;}},{key:\"registerEventListeners\",value:function registerEventListeners(){var _this2=this;//this._tilemapRenderer.interactive = true;\nvar tempPoint=new nitro_renderer[\"Se\" /* NitroPoint */]();// @ts-ignore\nthis._tilemapRenderer.containsPoint=function(position){_this2._tilemapRenderer.worldTransform.applyInverse(position,tempPoint);return _this2.tileHitDetection(tempPoint,false);};this._tilemapRenderer.on('pointerup',function(){_this2._isHolding=false;});this._tilemapRenderer.on('pointerout',function(){_this2._isHolding=false;});this._tilemapRenderer.on('pointerdown',function(event){if(!(event.data.originalEvent instanceof PointerEvent)&&!(event.data.originalEvent instanceof TouchEvent))return;var pointerEvent=event.data.originalEvent;if(pointerEvent instanceof MouseEvent&&pointerEvent.button===2)return;var location=event.data.global;_this2.tileHitDetection(location,true);});this._tilemapRenderer.on('click',function(event){if(!(event.data.originalEvent instanceof PointerEvent))return;var pointerEvent=event.data.originalEvent;if(pointerEvent.button===2)return;var location=event.data.global;_this2.tileHitDetection(location,true,true);});}},{key:\"tileHitDetection\",value:function tileHitDetection(tempPoint,setHolding){var isClick=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;// @ts-ignore\nvar buffer=this._tilemapRenderer.pointsBuf;var bufSize=nitro_renderer[\"ef\" /* POINT_STRUCT_SIZE */];var len=buffer.length;if(setHolding){this._isHolding=true;}for(var j=0;j<len;j+=bufSize){var bufIndex=j+bufSize;var data=buffer.slice(j,bufIndex);var width=TILE_SIZE;var height=TILE_SIZE/2;var mousePositionX=Math.floor(tempPoint.x);var mousePositionY=Math.floor(tempPoint.y);var tileStartX=data[2];var tileStartY=data[3];var centreX=tileStartX+width/2;var centreY=tileStartY+height/2;var dx=Math.abs(mousePositionX-centreX);var dy=Math.abs(mousePositionY-centreY);var solution=dx/(width*0.5)+dy/(height*0.5)<=1;//todo: improve this\nif(solution){if(this._isHolding){var _getTileFromScreenPos=Utils_getTileFromScreenPosition(tileStartX,tileStartY),_getTileFromScreenPos2=Object(slicedToArray[\"a\" /* default */])(_getTileFromScreenPos,2),realX=_getTileFromScreenPos2[0],realY=_getTileFromScreenPos2[1];if(isClick){this.onClick(realX,realY);}else if(this._lastUsedTile.x!==realX||this._lastUsedTile.y!==realY){this._lastUsedTile.x=realX;this._lastUsedTile.y=realY;this.onClick(realX,realY);}}return true;}}return false;}},{key:\"onClick\",value:function onClick(x,y){var tile=this._tilemap[y][x];var heightIndex=HEIGHT_SCHEME.indexOf(tile.height);var futureHeightIndex=0;switch(this._actionSettings.currentAction){case Constants_FloorAction.DOOR:if(tile.height!=='x'){this._doorLocation.x=x;this._doorLocation.y=y;this.renderTiles();}return;case Constants_FloorAction.UP:if(tile.height==='x')return;futureHeightIndex=heightIndex+1;break;case Constants_FloorAction.DOWN:if(tile.height==='x'||heightIndex<=1)return;futureHeightIndex=heightIndex-1;break;case Constants_FloorAction.SET:futureHeightIndex=HEIGHT_SCHEME.indexOf(this._actionSettings.currentHeight);break;case Constants_FloorAction.UNSET:futureHeightIndex=0;break;}if(futureHeightIndex===-1)return;if(heightIndex===futureHeightIndex)return;if(futureHeightIndex>0){if(x+1>this._width)this._width=x+1;if(y+1>this._height)this._height=y+1;}var newHeight=HEIGHT_SCHEME[futureHeightIndex];if(!newHeight)return;if(tile.isBlocked)return;this._tilemap[y][x].height=newHeight;this.renderTiles();}},{key:\"renderTiles\",value:function renderTiles(){this.tilemapRenderer.clear();for(var y=0;y<this._tilemap.length;y++){for(var x=0;x<this.tilemap[y].length;x++){var tile=this.tilemap[y][x];var assetName=tile.height;if(this._doorLocation.x===x&&this._doorLocation.y===y)assetName=FloorplanEditor.TILE_DOOR;if(tile.isBlocked)assetName=FloorplanEditor.TILE_BLOCKED;//if((tile.height === 'x') || tile.height === 'X') continue;\nvar _getScreenPositionFor=Utils_getScreenPositionForTile(x,y),_getScreenPositionFor2=Object(slicedToArray[\"a\" /* default */])(_getScreenPositionFor,2),positionX=_getScreenPositionFor2[0],positionY=_getScreenPositionFor2[1];this._tilemapRenderer.tile(this._assetCollection.getTexture(\"floor_editor_\".concat(assetName)),positionX,positionY);}}}},{key:\"setTilemap\",value:function setTilemap(map,blockedTiles){this._tilemap=[];var roomMapStringSplit=map.split('\\r');var width=0;var height=roomMapStringSplit.length;// find the map width, height\nfor(var y=0;y<height;y++){var originalRow=roomMapStringSplit[y];if(originalRow.length===0){roomMapStringSplit.splice(y,1);height=roomMapStringSplit.length;y--;continue;}if(originalRow.length>width){width=originalRow.length;}}// fill map with room heightmap tiles\nfor(var _y=0;_y<height;_y++){this._tilemap[_y]=[];var rowString=roomMapStringSplit[_y];for(var x=0;x<width;x++){var blocked=blockedTiles[_y]&&blockedTiles[_y][x]||false;var char=rowString[x];if(!(char==='x')&&!(char==='X')&&char){this._tilemap[_y][x]=new Tile_Tile(char,blocked);}else{this._tilemap[_y][x]=new Tile_Tile('x',blocked);}}for(var _x=width;_x<MAX_NUM_TILE_PER_AXIS;_x++){this.tilemap[_y][_x]=new Tile_Tile('x',false);}}// fill remaining map with empty tiles\nfor(var _y2=height;_y2<MAX_NUM_TILE_PER_AXIS;_y2++){if(!this.tilemap[_y2])this.tilemap[_y2]=[];for(var _x2=0;_x2<MAX_NUM_TILE_PER_AXIS;_x2++){this.tilemap[_y2][_x2]=new Tile_Tile('x',false);}}this._width=width;this._height=height;}},{key:\"getCurrentTilemapString\",value:function getCurrentTilemapString(){var highestTile=this._tilemap[this._height-1][this._width-1];if(highestTile.height==='x'){this._width=-1;this._height=-1;for(var y=MAX_NUM_TILE_PER_AXIS-1;y>=0;y--){if(!this._tilemap[y])continue;for(var x=MAX_NUM_TILE_PER_AXIS-1;x>=0;x--){if(!this._tilemap[y][x])continue;var tile=this._tilemap[y][x];if(tile.height!=='x'){if(x+1>this._width)this._width=x+1;if(y+1>this._height)this._height=y+1;}}}}var rows=[];for(var _y3=0;_y3<this._height;_y3++){var row=[];for(var _x3=0;_x3<this._width;_x3++){var _tile=this._tilemap[_y3][_x3];row[_x3]=_tile.height;}rows[_y3]=row.join('');}return rows.join('\\r');}},{key:\"clear\",value:function clear(){this._tilemapRenderer.interactive=false;this._tilemap=[];this._doorLocation.set(-1,-1);this._width=0;this._height=0;this._isHolding=false;this._lastUsedTile.set(-1,-1);this._actionSettings.clear();this._tilemapRenderer.clear();}},{key:\"tilemapRenderer\",get:function get(){return this._tilemapRenderer;}},{key:\"tilemap\",get:function get(){return this._tilemap;}},{key:\"doorLocation\",get:function get(){return this._doorLocation;},set:function set(value){this._doorLocation=value;}},{key:\"actionSettings\",get:function get(){return this._actionSettings;}}],[{key:\"instance\",get:function get(){if(!FloorplanEditor._INSTANCE){FloorplanEditor._INSTANCE=new FloorplanEditor();}return FloorplanEditor._INSTANCE;}}]);return FloorplanEditor;}(nitro_renderer[\"sf\" /* PixiApplicationProxy */]);FloorplanEditor_FloorplanEditor._INSTANCE=null;FloorplanEditor_FloorplanEditor.TILE_BLOCKED='r_blocked';FloorplanEditor_FloorplanEditor.TILE_DOOR='r_door';\n// CONCATENATED MODULE: ./src/components/floorplan-editor/FloorplanEditorContext.tsx\nvar FloorplanEditorContext=/*#__PURE__*/Object(react[\"createContext\"])({originalFloorplanSettings:null,setOriginalFloorplanSettings:null,visualizationSettings:null,setVisualizationSettings:null});var FloorplanEditorContext_FloorplanEditorContextProvider=function FloorplanEditorContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanEditorContext.Provider,Object(objectSpread2[\"a\" /* default */])({},props));};var FloorplanEditorContext_useFloorplanEditorContext=function useFloorplanEditorContext(){return Object(react[\"useContext\"])(FloorplanEditorContext);};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/views/FloorplanCanvasView.tsx\nvar FloorplanCanvasView_excluded=[\"gap\",\"children\"];var FloorplanCanvasView_FloorplanCanvasView=function FloorplanCanvasView(props){var _props$gap=props.gap,gap=_props$gap===void 0?1:_props$gap,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,FloorplanCanvasView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),occupiedTilesReceived=_useState2[0],setOccupiedTilesReceived=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),entryTileReceived=_useState4[0],setEntryTileReceived=_useState4[1];var _useFloorplanEditorCo=FloorplanEditorContext_useFloorplanEditorContext(),_useFloorplanEditorCo2=_useFloorplanEditorCo.originalFloorplanSettings,originalFloorplanSettings=_useFloorplanEditorCo2===void 0?null:_useFloorplanEditorCo2,_useFloorplanEditorCo3=_useFloorplanEditorCo.setOriginalFloorplanSettings,setOriginalFloorplanSettings=_useFloorplanEditorCo3===void 0?null:_useFloorplanEditorCo3,_useFloorplanEditorCo4=_useFloorplanEditorCo.setVisualizationSettings,setVisualizationSettings=_useFloorplanEditorCo4===void 0?null:_useFloorplanEditorCo4;var elementRef=Object(react[\"useRef\"])(null);var onRoomOccupiedTilesMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setOriginalFloorplanSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.reservedTiles=parser.blockedTilesMap;FloorplanEditor_FloorplanEditor.instance.setTilemap(newValue.tilemap,newValue.reservedTiles);return newValue;});setOccupiedTilesReceived(true);elementRef.current.scrollTo(FloorplanEditor_FloorplanEditor.instance.view.width/3,0);},[setOriginalFloorplanSettings]);UseMessageEventHook(nitro_renderer[\"Jg\" /* RoomOccupiedTilesMessageEvent */],onRoomOccupiedTilesMessageEvent);var onRoomEntryTileMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setOriginalFloorplanSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.entryPoint=[parser.x,parser.y];newValue.entryPointDir=parser.direction;return newValue;});setVisualizationSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.entryPointDir=parser.direction;return newValue;});FloorplanEditor_FloorplanEditor.instance.doorLocation=new nitro_renderer[\"Se\" /* NitroPoint */](parser.x,parser.y);setEntryTileReceived(true);},[setOriginalFloorplanSettings,setVisualizationSettings]);UseMessageEventHook(nitro_renderer[\"sg\" /* RoomEntryTileMessageEvent */],onRoomEntryTileMessageEvent);var onClickArrowButton=function onClickArrowButton(scrollDirection){var element=elementRef.current;if(!element)return;switch(scrollDirection){case'up':element.scrollBy({top:-10});break;case'down':element.scrollBy({top:10});break;case'left':element.scrollBy({left:-10});break;case'right':element.scrollBy({left:10});break;}};Object(react[\"useEffect\"])(function(){return function(){FloorplanEditor_FloorplanEditor.instance.clear();setVisualizationSettings(function(prevValue){return{wallHeight:originalFloorplanSettings.wallHeight,thicknessWall:originalFloorplanSettings.thicknessWall,thicknessFloor:originalFloorplanSettings.thicknessFloor,entryPointDir:prevValue.entryPointDir};});};},[originalFloorplanSettings.thicknessFloor,originalFloorplanSettings.thicknessWall,originalFloorplanSettings.wallHeight,setVisualizationSettings]);Object(react[\"useEffect\"])(function(){if(!entryTileReceived||!occupiedTilesReceived)return;FloorplanEditor_FloorplanEditor.instance.renderTiles();},[entryTileReceived,occupiedTilesReceived]);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"tc\" /* GetRoomEntryTileMessageComposer */]());SendMessageComposer_SendMessageComposer(new nitro_renderer[\"pc\" /* GetOccupiedTilesMessageComposer */]());FloorplanEditor_FloorplanEditor.instance.tilemapRenderer.interactive=true;if(!elementRef.current)return;elementRef.current.appendChild(FloorplanEditor_FloorplanEditor.instance.renderer.view);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({gap:gap},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"hidden\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,size:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{className:\"d-md-none\",onClick:function onClick(event){return onClickArrowButton('left');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrow-left\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",size:10,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"center\",className:\"d-md-none\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{shrink:true,onClick:function onClick(event){return onClickArrowButton('up');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrow-up\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{overflow:\"auto\",innerRef:elementRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"center\",className:\"d-md-none\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{shrink:true,onClick:function onClick(event){return onClickArrowButton('down');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrow-down\"})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,size:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{className:\"d-md-none\",onClick:function onClick(event){return onClickArrowButton('right');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"arrow-right\"})})})]}),children]}));};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/common/ConvertMapToString.ts\nvar ConvertTileMapToString=function ConvertTileMapToString(map){return map.replace(/\\r\\n|\\r|\\n/g,'\\n').toLowerCase();};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/views/FloorplanImportExportView.tsx\nvar FloorplanImportExportView_FloorplanImportExportView=function FloorplanImportExportView(props){var _props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),map=_useState2[0],setMap=_useState2[1];var _useFloorplanEditorCo=FloorplanEditorContext_useFloorplanEditorContext(),_useFloorplanEditorCo2=_useFloorplanEditorCo.originalFloorplanSettings,originalFloorplanSettings=_useFloorplanEditorCo2===void 0?null:_useFloorplanEditorCo2;var saveFloorChanges=function saveFloorChanges(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"oi\" /* UpdateFloorPropertiesMessageComposer */](map.split('\\n').join('\\r'),originalFloorplanSettings.entryPoint[0],originalFloorplanSettings.entryPoint[1],originalFloorplanSettings.entryPointDir,convertNumbersForSaving(originalFloorplanSettings.thicknessWall),convertNumbersForSaving(originalFloorplanSettings.thicknessFloor),originalFloorplanSettings.wallHeight-1));};UseMountEffect(function(){setMap(ConvertTileMapToString(originalFloorplanSettings.tilemap));});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{theme:\"primary-slim\",className:\"floorplan-import-export\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('floor.plan.editor.import.export'),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"h-100\",value:map,onChange:function onChange(event){return setMap(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return setMap(ConvertTileMapToString(originalFloorplanSettings.tilemap));},children:LocalizeText('floor.plan.editor.revert.to.last.received.map')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:saveFloorChanges,children:LocalizeText('floor.plan.editor.save')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/views/FloorplanOptionsView.tsx\nvar FloorplanOptionsView_excluded=[\"style\"];var MIN_WALL_HEIGHT=0;var MAX_WALL_HEIGHT=16;var MIN_FLOOR_HEIGHT=0;var MAX_FLOOR_HEIGHT=26;var FloorplanOptionsView_FloorplanOptionsView=function FloorplanOptionsView(props){var _useFloorplanEditorCo=FloorplanEditorContext_useFloorplanEditorContext(),_useFloorplanEditorCo2=_useFloorplanEditorCo.visualizationSettings,visualizationSettings=_useFloorplanEditorCo2===void 0?null:_useFloorplanEditorCo2,_useFloorplanEditorCo3=_useFloorplanEditorCo.setVisualizationSettings,setVisualizationSettings=_useFloorplanEditorCo3===void 0?null:_useFloorplanEditorCo3;var _useState=Object(react[\"useState\"])(Constants_FloorAction.SET),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),floorAction=_useState2[0],setFloorAction=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),floorHeight=_useState4[0],setFloorHeight=_useState4[1];var selectAction=function selectAction(action){setFloorAction(action);FloorplanEditor_FloorplanEditor.instance.actionSettings.currentAction=action;};var changeDoorDirection=function changeDoorDirection(){setVisualizationSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);if(newValue.entryPointDir<7){++newValue.entryPointDir;}else{newValue.entryPointDir=0;}return newValue;});};var onFloorHeightChange=function onFloorHeightChange(value){if(isNaN(value)||value<=0)value=0;if(value>26)value=26;setFloorHeight(value);FloorplanEditor_FloorplanEditor.instance.actionSettings.currentHeight=value.toString(36);};var onFloorThicknessChange=function onFloorThicknessChange(value){setVisualizationSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.thicknessFloor=value;return newValue;});};var onWallThicknessChange=function onWallThicknessChange(value){setVisualizationSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.thicknessWall=value;return newValue;});};var onWallHeightChange=function onWallHeightChange(value){if(isNaN(value)||value<=0)value=MIN_WALL_HEIGHT;if(value>MAX_WALL_HEIGHT)value=MAX_WALL_HEIGHT;setVisualizationSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.wallHeight=value;return newValue;});};var increaseWallHeight=function increaseWallHeight(){var height=visualizationSettings.wallHeight+1;if(height>MAX_WALL_HEIGHT)height=MAX_WALL_HEIGHT;onWallHeightChange(height);};var decreaseWallHeight=function decreaseWallHeight(){var height=visualizationSettings.wallHeight-1;if(height<=0)height=MIN_WALL_HEIGHT;onWallHeightChange(height);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('floor.plan.editor.draw.mode')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:floorAction===Constants_FloorAction.SET,onClick:function onClick(event){return selectAction(Constants_FloorAction.SET);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-set-tile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:floorAction===Constants_FloorAction.UNSET,onClick:function onClick(event){return selectAction(Constants_FloorAction.UNSET);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-unset-tile\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:floorAction===Constants_FloorAction.UP,onClick:function onClick(event){return selectAction(Constants_FloorAction.UP);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-increase-height\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:floorAction===Constants_FloorAction.DOWN,onClick:function onClick(event){return selectAction(Constants_FloorAction.DOWN);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-decrease-height\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:floorAction===Constants_FloorAction.DOOR,onClick:function onClick(event){return selectAction(Constants_FloorAction.DOOR);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-set-door\"})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",size:4,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:LocalizeText('floor.plan.editor.enter.direction')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-door-direction-\".concat(visualizationSettings.entryPointDir,\" cursor-pointer\"),onClick:changeDoorDirection})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:LocalizeText('floor.editor.wall.height')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"caret-left\",className:\"cursor-pointer\",onClick:decreaseWallHeight}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm quantity-input\",value:visualizationSettings.wallHeight,onChange:function onChange(event){return onWallHeightChange(event.target.valueAsNumber);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"caret-right\",className:\"cursor-pointer\",onClick:increaseWallHeight})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:[LocalizeText('floor.plan.editor.tile.height'),\": \",floorHeight]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:\"nitro-slider\",min:MIN_FLOOR_HEIGHT,max:MAX_FLOOR_HEIGHT,step:1,value:floorHeight,onChange:function onChange(event){return onFloorHeightChange(event);},renderThumb:function renderThumb(_ref,state){var style=_ref.style,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,FloorplanOptionsView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({style:Object(objectSpread2[\"a\" /* default */])({backgroundColor:\"#\".concat(COLORMAP[state.valueNow.toString(33)])},style)},rest),{},{children:state.valueNow}));}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:LocalizeText('floor.plan.editor.room.options')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"align-items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-control form-control-sm\",value:visualizationSettings.thicknessWall,onChange:function onChange(event){return onWallThicknessChange(parseInt(event.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:0,children:LocalizeText('navigator.roomsettings.wall_thickness.thinnest')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:1,children:LocalizeText('navigator.roomsettings.wall_thickness.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:2,children:LocalizeText('navigator.roomsettings.wall_thickness.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:3,children:LocalizeText('navigator.roomsettings.wall_thickness.thick')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-control form-control-sm\",value:visualizationSettings.thicknessFloor,onChange:function onChange(event){return onFloorThicknessChange(parseInt(event.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:0,children:LocalizeText('navigator.roomsettings.floor_thickness.thinnest')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:1,children:LocalizeText('navigator.roomsettings.floor_thickness.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:2,children:LocalizeText('navigator.roomsettings.floor_thickness.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:3,children:LocalizeText('navigator.roomsettings.floor_thickness.thick')})]})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/floorplan-editor/FloorplanEditorView.tsx\nvar FloorplanEditorView_FloorplanEditorView=function FloorplanEditorView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),importExportVisible=_useState4[0],setImportExportVisible=_useState4[1];var _useState5=Object(react[\"useState\"])({tilemap:'',reservedTiles:[],entryPoint:[0,0],entryPointDir:2,wallHeight:-1,thicknessWall:1,thicknessFloor:1}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),originalFloorplanSettings=_useState6[0],setOriginalFloorplanSettings=_useState6[1];var _useState7=Object(react[\"useState\"])({entryPointDir:2,wallHeight:-1,thicknessWall:1,thicknessFloor:1}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),visualizationSettings=_useState8[0],setVisualizationSettings=_useState8[1];var saveFloorChanges=function saveFloorChanges(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"oi\" /* UpdateFloorPropertiesMessageComposer */](FloorplanEditor_FloorplanEditor.instance.getCurrentTilemapString(),FloorplanEditor_FloorplanEditor.instance.doorLocation.x,FloorplanEditor_FloorplanEditor.instance.doorLocation.y,visualizationSettings.entryPointDir,convertNumbersForSaving(visualizationSettings.thicknessWall),convertNumbersForSaving(visualizationSettings.thicknessFloor),visualizationSettings.wallHeight-1));};var revertChanges=function revertChanges(){setVisualizationSettings({wallHeight:originalFloorplanSettings.wallHeight,thicknessWall:originalFloorplanSettings.thicknessWall,thicknessFloor:originalFloorplanSettings.thicknessFloor,entryPointDir:originalFloorplanSettings.entryPointDir});FloorplanEditor_FloorplanEditor.instance.doorLocation=new nitro_renderer[\"Se\" /* NitroPoint */](originalFloorplanSettings.entryPoint[0],originalFloorplanSettings.entryPoint[1]);FloorplanEditor_FloorplanEditor.instance.setTilemap(originalFloorplanSettings.tilemap,originalFloorplanSettings.reservedTiles);FloorplanEditor_FloorplanEditor.instance.renderTiles();};var onRoomEngineEvent=Object(react[\"useCallback\"])(function(event){setIsVisible(false);},[]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ig\" /* RoomEngineEvent */].DISPOSED,onRoomEngineEvent);var onFloorHeightMapEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setOriginalFloorplanSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.tilemap=parser.model;newValue.wallHeight=parser.wallHeight+1;return newValue;});setVisualizationSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.wallHeight=parser.wallHeight+1;return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"Cb\" /* FloorHeightMapEvent */],onFloorHeightMapEvent);var onRoomVisualizationSettingsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setOriginalFloorplanSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.thicknessFloor=convertSettingToNumber(parser.thicknessFloor);newValue.thicknessWall=convertSettingToNumber(parser.thicknessWall);return newValue;});setVisualizationSettings(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.thicknessFloor=convertSettingToNumber(parser.thicknessFloor);newValue.thicknessWall=convertSettingToNumber(parser.thicknessWall);return newValue;});},[]);UseMessageEventHook(nitro_renderer[\"rh\" /* RoomVisualizationSettingsEvent */],onRoomVisualizationSettingsEvent);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;}},eventUrlPrefix:'floor-editor/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[]);Object(react[\"useEffect\"])(function(){FloorplanEditor_FloorplanEditor.instance.initialize();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FloorplanEditorContext_FloorplanEditorContextProvider,{value:{originalFloorplanSettings:originalFloorplanSettings,setOriginalFloorplanSettings:setOriginalFloorplanSettings,visualizationSettings:visualizationSettings,setVisualizationSettings:setVisualizationSettings},children:[isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"floorpan-editor\",className:\"nitro-floorplan-editor\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('floor.plan.editor.title'),onCloseClick:function onCloseClick(){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanOptionsView_FloorplanOptionsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanCanvasView_FloorplanCanvasView,{overflow:\"hidden\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:revertChanges,children:LocalizeText('floor.plan.editor.reload')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup_ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:true,children:LocalizeText('floor.plan.editor.preview')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return setImportExportVisible(true);},children:LocalizeText('floor.plan.editor.import.export')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:saveFloorChanges,children:LocalizeText('floor.plan.editor.save')})]})]})]})]}),importExportVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanImportExportView_FloorplanImportExportView,{onCloseClick:function onCloseClick(){return setImportExportVisible(false);}})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-bar/FriendBarItemView.tsx\nvar FriendBarItemView_FriendBarItemView=function FriendBarItemView(props){var _props$friend=props.friend,friend=_props$friend===void 0?null:_props$friend;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setVisible=_useState2[1];var _useFriends=useFriends_useFriends(),_useFriends$followFri=_useFriends.followFriend,followFriend=_useFriends$followFri===void 0?null:_useFriends$followFri;var elementRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){var onClick=function onClick(event){var element=elementRef.current;if(!element)return;if(event.target!==element&&!element.contains(event.target)){setVisible(false);}};document.addEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_CLICK,onClick);return function(){return document.removeEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_CLICK,onClick);};},[]);if(!friend){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{backgroundColor:\"var(--test-galaxytwo)\"},ref:elementRef,className:\"btn btn-lg friend-bar-item friend-bar-search\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"position-absolute\",style:{left:\"2px\",top:\"2px\"},src:\"https://swfs.hgalaxy.net/images/head.png\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-truncate\",style:{fontSize:\"15px\",marginTop:\"3px\",marginBottom:\"3px\",marginLeft:\"3px\"},children:LocalizeText('friend.bar.find.title')})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{backgroundColor:\"var(--test-galaxytwo)\"},ref:elementRef,className:'btn friend-bar-item btn-lg '+(isVisible?'friend-bar-item-active':''),onMouseOver:function onMouseOver(e){return setVisible(function(prevValue){return!prevValue;});},onMouseOut:function onMouseOut(e){return setVisible(function(prevValue){return!prevValue;});},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"friend-bar-item-head position-absolute \".concat(friend.id>0?'avatar':'group'),children:[friend.id>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{className:\"image-friendzone\",figure:friend.figure,direction:2}),friend.id<=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{isGroup:true,badgeCode:friend.figure})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-truncate\",style:{fontSize:\"15px\",marginTop:\"3px\",marginBottom:\"3px\",marginLeft:\"7px\"},children:friend.name}),isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-friendbar-chat cursor-pointer\",onClick:function onClick(event){return OpenMessengerChat(friend.id);}}),friend.followingAllowed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-friendbar-visit cursor-pointer\",onClick:function onClick(event){return followFriend(friend);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-profile cursor-pointer\",onClick:function onClick(event){return GetUserProfile(friend.id);}})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-bar/FriendsBarView.tsx\nvar MAX_DISPLAY_COUNT=3;var FriendsBarView_FriendBarView=function FriendBarView(props){var _props$onlineFriends=props.onlineFriends,onlineFriends=_props$onlineFriends===void 0?null:_props$onlineFriends;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),indexOffset=_useState2[0],setIndexOffset=_useState2[1];var elementRef=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{innerRef:elementRef,alignItems:\"center\",className:\"friend-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{className:\"friend-bar-button\",disabled:indexOffset<=0,onClick:function onClick(event){return setIndexOffset(indexOffset-1);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})}),Array.from(Array(MAX_DISPLAY_COUNT),function(e,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendBarItemView_FriendBarItemView,{friend:onlineFriends[indexOffset+i]||null},i);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{className:\"friend-bar-button\",disabled:!(onlineFriends.length>MAX_DISPLAY_COUNT&&indexOffset+MAX_DISPLAY_COUNT<=onlineFriends.length-1),onClick:function onClick(event){return setIndexOffset(indexOffset+1);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/friends-list-group/FriendsListGroupItemView.tsx\nvar FriendsListGroupItemView_FriendsListGroupItemView=function FriendsListGroupItemView(props){var _props$friend=props.friend,friend=_props$friend===void 0?null:_props$friend,_props$selected=props.selected,selected=_props$selected===void 0?false:_props$selected,_props$selectFriend=props.selectFriend,selectFriend=_props$selectFriend===void 0?null:_props$selectFriend;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isRelationshipOpen=_useState2[0],setIsRelationshipOpen=_useState2[1];var _useFriends=useFriends_useFriends(),_useFriends$followFri=_useFriends.followFriend,followFriend=_useFriends$followFri===void 0?null:_useFriends$followFri,_useFriends$updateRel=_useFriends.updateRelationship,updateRelationship=_useFriends$updateRel===void 0?null:_useFriends$updateRel;var clickFollowFriend=function clickFollowFriend(event){event.stopPropagation();followFriend(friend);};var openMessengerChat=function openMessengerChat(event){event.stopPropagation();OpenMessengerChat(friend.id);};var openRelationship=function openRelationship(event){event.stopPropagation();setIsRelationshipOpen(true);};var clickUpdateRelationship=function clickUpdateRelationship(event,type){event.stopPropagation();updateRelationship(friend,type);setIsRelationshipOpen(false);};var getCurrentRelationshipName=function getCurrentRelationshipName(){if(!friend)return'none';switch(friend.relationshipStatus){case MessengerFriend_MessengerFriend.RELATIONSHIP_HEART:return'heart';case MessengerFriend_MessengerFriend.RELATIONSHIP_SMILE:return'smile';case MessengerFriend_MessengerFriend.RELATIONSHIP_BOBBA:return'bobba';default:return'none';}};if(!friend)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionItemView_NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1 \".concat(selected&&'bg-primary text-white'),onClick:function onClick(event){return selectFriend(friend.id);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{onClick:function onClick(event){return event.stopPropagation();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:friend.id})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:friend.name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[!isRelationshipOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[friend.followingAllowed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,onClick:clickFollowFriend,className:\"nitro-friends-spritesheet icon-follow\",title:LocalizeText('friendlist.tip.follow')}),friend.online&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-chat\",onClick:openMessengerChat,title:LocalizeText('friendlist.tip.im')}),friend.id>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-\".concat(getCurrentRelationshipName(),\" cursor-pointer\"),onClick:openRelationship,title:LocalizeText('infostand.link.relationship')})]}),isRelationshipOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-heart\",onClick:function onClick(event){return clickUpdateRelationship(event,MessengerFriend_MessengerFriend.RELATIONSHIP_HEART);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-smile\",onClick:function onClick(event){return clickUpdateRelationship(event,MessengerFriend_MessengerFriend.RELATIONSHIP_SMILE);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-bobba\",onClick:function onClick(event){return clickUpdateRelationship(event,MessengerFriend_MessengerFriend.RELATIONSHIP_BOBBA);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-none\",onClick:function onClick(event){return clickUpdateRelationship(event,MessengerFriend_MessengerFriend.RELATIONSHIP_NONE);}})]})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/friends-list-group/FriendsListGroupView.tsx\nvar FriendsListGroupView_FriendsListGroupView=function FriendsListGroupView(props){var _props$list=props.list,list=_props$list===void 0?null:_props$list,_props$selectedFriend=props.selectedFriendsIds,selectedFriendsIds=_props$selectedFriend===void 0?null:_props$selectedFriend,_props$selectFriend=props.selectFriend,selectFriend=_props$selectFriend===void 0?null:_props$selectFriend;if(!list||!list.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:list.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListGroupItemView_FriendsListGroupItemView,{friend:item,selected:selectedFriendsIds&&selectedFriendsIds.indexOf(item.id)>=0,selectFriend:selectFriend},index);})});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/friends-list-request/FriendsListRequestItemView.tsx\nvar FriendsListRequestItemView_FriendsListRequestItemView=function FriendsListRequestItemView(props){var _props$request=props.request,request=_props$request===void 0?null:_props$request;var _useFriends=useFriends_useFriends(),_useFriends$requestRe=_useFriends.requestResponse,requestResponse=_useFriends$requestRe===void 0?null:_useFriends$requestRe;if(!request)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionItemView_NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:request.id}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:request.name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-accept cursor-pointer\",onClick:function onClick(event){return requestResponse(request.id,true);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-deny cursor-pointer\",onClick:function onClick(event){return requestResponse(request.id,false);}})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/friends-list-request/FriendsListRequestView.tsx\nvar FriendsListRequestView_excluded=[\"children\"];var FriendsListRequestView_FriendsListRequestView=function FriendsListRequestView(props){var _props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,FriendsListRequestView_excluded);var _useFriends=useFriends_useFriends(),_useFriends$requests=_useFriends.requests,requests=_useFriends$requests===void 0?[]:_useFriends$requests,_useFriends$requestRe=_useFriends.requestResponse,requestResponse=_useFriends$requestRe===void 0?null:_useFriends$requestRe;if(!requests.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionSetView_NitroCardAccordionSetView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullHeight:true,justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:0,children:requests.map(function(request,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListRequestItemView_FriendsListRequestItemView,{request:request},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"center\",className:\"px-2 py-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return requestResponse(-1,false);},children:LocalizeText('friendlist.requests.dismissall')})})]}),children]}));};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/FriendsListRemoveConfirmationView.tsx\nvar FriendsListRemoveConfirmationView_FriendsRemoveConfirmationView=function FriendsRemoveConfirmationView(props){var _props$selectedFriend=props.selectedFriendsIds,selectedFriendsIds=_props$selectedFriend===void 0?null:_props$selectedFriend,_props$removeFriendsT=props.removeFriendsText,removeFriendsText=_props$removeFriendsT===void 0?null:_props$removeFriendsT,_props$removeSelected=props.removeSelectedFriends,removeSelectedFriends=_props$removeSelected===void 0?null:_props$removeSelected,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-friends-remove-confirmation\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('friendlist.removefriendconfirm.title'),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:removeFriendsText}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"danger\",disabled:selectedFriendsIds.length===0,onClick:removeSelectedFriends,children:LocalizeText('generic.ok')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:onCloseClick,children:LocalizeText('generic.cancel')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/FriendsListRoomInviteView.tsx\nvar FriendsListRoomInviteView_FriendsRoomInviteView=function FriendsRoomInviteView(props){var _props$selectedFriend=props.selectedFriendsIds,selectedFriendsIds=_props$selectedFriend===void 0?null:_props$selectedFriend,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick,_props$sendRoomInvite=props.sendRoomInvite,sendRoomInvite=_props$sendRoomInvite===void 0?null:_props$sendRoomInvite;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),roomInviteMessage=_useState2[0],setRoomInviteMessage=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-friends-room-invite\",uniqueKey:\"nitro-friends-room-invite\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('friendlist.invite.title'),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[LocalizeText('friendlist.invite.summary',['count'],[selectedFriendsIds.length.toString()]),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control\",value:roomInviteMessage,onChange:function onChange(event){return setRoomInviteMessage(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,className:\"bg-muted rounded p-1\",children:LocalizeText('friendlist.invite.note')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",disabled:roomInviteMessage.length===0||selectedFriendsIds.length===0,onClick:function onClick(){return sendRoomInvite(roomInviteMessage);},children:LocalizeText('friendlist.invite.send')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:onCloseClick,children:LocalizeText('generic.cancel')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/FriendsListSearchView.tsx\nvar FriendsListSearchView_FriendsSearchView=function FriendsSearchView(props){var rest=Object.assign({},props);var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),friendResults=_useState4[0],setFriendResults=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),otherResults=_useState6[0],setOtherResults=_useState6[1];var _useFriends=useFriends_useFriends(),_useFriends$canReques=_useFriends.canRequestFriend,canRequestFriend=_useFriends$canReques===void 0?null:_useFriends$canReques,_useFriends$requestFr=_useFriends.requestFriend,requestFriend=_useFriends$requestFr===void 0?null:_useFriends$requestFr;var onHabboSearchResultEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setFriendResults(parser.friends);setOtherResults(parser.others);},[]);UseMessageEventHook(nitro_renderer[\"Dd\" /* HabboSearchResultEvent */],onHabboSearchResultEvent);Object(react[\"useEffect\"])(function(){if(!searchValue||!searchValue.length)return;var timeout=setTimeout(function(){if(!searchValue||!searchValue.length)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Cd\" /* HabboSearchComposer */](searchValue));},500);return function(){return clearTimeout(timeout);};},[searchValue]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionSetView_NitroCardAccordionSetView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"search-input form-control form-control-sm w-100 rounded-0\",placeholder:LocalizeText('generic.search'),value:searchValue,maxLength:50,onChange:function onChange(event){return setSearchValue(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[friendResults&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[friendResults.length===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.nofriendsfound')}),friendResults.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.friendscaption',['cnt'],[friendResults.length.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:0,children:friendResults.map(function(result){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionItemView_NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:result.avatarId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:result.avatarName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:result.isAvatarOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-chat cursor-pointer\",onClick:function onClick(event){return OpenMessengerChat(result.avatarId);},title:LocalizeText('friendlist.tip.im')})})]},result.avatarId);})})]})]}),otherResults&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[otherResults.length===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.noothersfound')}),otherResults.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.otherscaption',['cnt'],[otherResults.length.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:0,children:otherResults.map(function(result){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionItemView_NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:result.avatarId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:result.avatarName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:canRequestFriend(result.avatarId)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-add cursor-pointer\",onClick:function onClick(event){return requestFriend(result.avatarId,result.avatarName);},title:LocalizeText('friendlist.tip.addfriend')})})]},result.avatarId);})})]})]})]})]}));};\n// CONCATENATED MODULE: ./src/components/friends/views/friends-list/FriendsListView.tsx\nvar FriendsListView_FriendsListView=function FriendsListView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedFriendsIds=_useState4[0],setSelectedFriendsIds=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showRoomInvite=_useState6[0],setShowRoomInvite=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),showRemoveFriendsConfirmation=_useState8[0],setShowRemoveFriendsConfirmation=_useState8[1];var _useFriends=useFriends_useFriends(),_useFriends$onlineFri=_useFriends.onlineFriends,onlineFriends=_useFriends$onlineFri===void 0?[]:_useFriends$onlineFri,_useFriends$offlineFr=_useFriends.offlineFriends,offlineFriends=_useFriends$offlineFr===void 0?[]:_useFriends$offlineFr,_useFriends$requests=_useFriends.requests,requests=_useFriends$requests===void 0?[]:_useFriends$requests,_useFriends$requestFr=_useFriends.requestFriend,requestFriend=_useFriends$requestFr===void 0?null:_useFriends$requestFr;var removeFriendsText=Object(react[\"useMemo\"])(function(){if(!selectedFriendsIds||!selectedFriendsIds.length)return'';var userNames=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(selectedFriendsIds),_step;try{var _loop=function _loop(){var userId=_step.value;var existingFriend=onlineFriends.find(function(f){return f.id===userId;});if(!existingFriend)existingFriend=offlineFriends.find(function(f){return f.id===userId;});if(!existingFriend)return\"continue\";userNames.push(existingFriend.name);};for(_iterator.s();!(_step=_iterator.n()).done;){var _ret=_loop();if(_ret===\"continue\")continue;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return LocalizeText('friendlist.removefriendconfirm.userlist',['user_names'],[userNames.join(', ')]);},[offlineFriends,onlineFriends,selectedFriendsIds]);var selectFriend=Object(react[\"useCallback\"])(function(userId){if(userId<0)return;setSelectedFriendsIds(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var existingUserIdIndex=newValue.indexOf(userId);if(existingUserIdIndex>-1){newValue.splice(existingUserIdIndex,1);}else{newValue.push(userId);}return newValue;});},[setSelectedFriendsIds]);var sendRoomInvite=function sendRoomInvite(message){if(selectedFriendsIds.length===0||!message||message.length===0)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Fh\" /* SendRoomInviteComposer */](message,selectedFriendsIds));setShowRoomInvite(false);};var removeSelectedFriends=function removeSelectedFriends(){if(selectedFriendsIds.length===0)return;setSelectedFriendsIds(function(prevValue){SendMessageComposer_SendMessageComposer(Object(construct[\"a\" /* default */])(nitro_renderer[\"Jf\" /* RemoveFriendComposer */],Object(toConsumableArray[\"a\" /* default */])(prevValue)));return[];});setShowRemoveFriendsConfirmation(false);};Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;case'request':if(parts.length<4)return;requestFriend(parseInt(parts[2]),parts[3]);}},eventUrlPrefix:'friends/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[requestFriend]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-friends animate__animated animate__bounceInUp\",uniqueKey:\"nitro-friends\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('friendlist.friends'),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",gap:1,className:\"text-black p-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardAccordionView_NitroCardAccordionView,{fullHeight:true,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardAccordionSetView_NitroCardAccordionSetView,{headerText:LocalizeText('friendlist.friends')+\" (\".concat(onlineFriends.length,\")\"),isExpanded:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListGroupView_FriendsListGroupView,{list:onlineFriends,selectedFriendsIds:selectedFriendsIds,selectFriend:selectFriend})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardAccordionSetView_NitroCardAccordionSetView,{headerText:LocalizeText('friendlist.friends.offlinecaption')+\" (\".concat(offlineFriends.length,\")\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListGroupView_FriendsListGroupView,{list:offlineFriends,selectedFriendsIds:selectedFriendsIds,selectFriend:selectFriend})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListRequestView_FriendsListRequestView,{headerText:LocalizeText('friendlist.tab.friendrequests')+\" (\".concat(requests.length,\")\"),isExpanded:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListSearchView_FriendsSearchView,{headerText:LocalizeText('people.search.title')})]}),selectedFriendsIds&&selectedFriendsIds.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,className:\"p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:function onClick(){return setShowRoomInvite(true);},children:LocalizeText('friendlist.tip.invite')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"danger\",onClick:function onClick(event){return setShowRemoveFriendsConfirmation(true);},children:LocalizeText('generic.delete')})]})]})]}),showRoomInvite&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListRoomInviteView_FriendsRoomInviteView,{selectedFriendsIds:selectedFriendsIds,onCloseClick:function onCloseClick(){return setShowRoomInvite(false);},sendRoomInvite:sendRoomInvite}),showRemoveFriendsConfirmation&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListRemoveConfirmationView_FriendsRemoveConfirmationView,{selectedFriendsIds:selectedFriendsIds,removeFriendsText:removeFriendsText,onCloseClick:function onCloseClick(){return setShowRemoveFriendsConfirmation(false);},removeSelectedFriends:removeSelectedFriends})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/messenger/messenger-thread/FriendsMessengerThreadGroup.tsx\nvar FriendsMessengerThreadGroup_FriendsMessengerThreadGroup=function FriendsMessengerThreadGroup(props){var _props$thread=props.thread,thread=_props$thread===void 0?null:_props$thread,_props$group=props.group,group=_props$group===void 0?null:_props$group;var groupChatData=Object(react[\"useMemo\"])(function(){return group.type===GroupType_GroupType.GROUP_CHAT&&GetGroupChatData(group.chats[0].extraData);},[group]);var isOwnChat=Object(react[\"useMemo\"])(function(){if(!thread||!group)return false;if(group.type===GroupType_GroupType.PRIVATE_CHAT&&group.userId===GetSessionDataManager().userId)return true;if(groupChatData&&group.chats.length&&groupChatData.userId===GetSessionDataManager().userId)return true;return false;},[thread,group,groupChatData]);if(!thread||!group)return null;if(!group.userId){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:group.chats.map(function(chat,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{fullWidth:true,gap:2,justifyContent:\"start\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:\"w-100 text-break\",children:[chat.type===MessengerThreadChat_MessengerThreadChat.SECURITY_NOTIFICATION&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-muted\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-warning flex-shrink-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{children:chat.message})]}),chat.type===MessengerThreadChat_MessengerThreadChat.ROOM_INVITE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"messenger-notification-icon flex-shrink-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{children:[LocalizeText('messenger.invitation')+' ',chat.message]})]})]})},index);})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,justifyContent:isOwnChat?'end':'start',gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{shrink:true,className:\"message-avatar\",children:[group.type===GroupType_GroupType.PRIVATE_CHAT&&!isOwnChat&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:thread.participant.figure,direction:2}),groupChatData&&!isOwnChat&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:groupChatData.figure,direction:2})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:'bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-'+(isOwnChat?'right':'left'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:\"fw-bold\",children:[isOwnChat&&GetSessionDataManager().userName,!isOwnChat&&(groupChatData?groupChatData.username:thread.participant.name)]}),group.chats.map(function(chat,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"text-break\",children:chat.message},index);})]}),isOwnChat&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{shrink:true,className:\"message-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:GetSessionDataManager().figure,direction:4})})]});};\n// CONCATENATED MODULE: ./src/components/friends/views/messenger/messenger-thread/FriendsMessengerThreadView.tsx\nvar FriendsMessengerThreadView_FriendsMessengerThreadView=function FriendsMessengerThreadView(props){var _props$thread=props.thread,thread=_props$thread===void 0?null:_props$thread;thread.setRead();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:thread.groups.length>0&&thread.groups.map(function(group,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsMessengerThreadGroup_FriendsMessengerThreadGroup,{thread:thread,group:group},index);})});};\n// CONCATENATED MODULE: ./src/components/friends/views/messenger/FriendsMessengerView.tsx\nvar FriendsMessengerView_FriendsMessengerView=function FriendsMessengerView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),lastThreadId=_useState4[0],setLastThreadId=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),messageText=_useState6[0],setMessageText=_useState6[1];var _useMessenger=useMessenger_useMessenger(),_useMessenger$visible=_useMessenger.visibleThreads,visibleThreads=_useMessenger$visible===void 0?[]:_useMessenger$visible,_useMessenger$activeT=_useMessenger.activeThread,activeThread=_useMessenger$activeT===void 0?null:_useMessenger$activeT,_useMessenger$getMess=_useMessenger.getMessageThread,getMessageThread=_useMessenger$getMess===void 0?null:_useMessenger$getMess,_useMessenger$sendMes=_useMessenger.sendMessage,sendMessage=_useMessenger$sendMes===void 0?null:_useMessenger$sendMes,_useMessenger$setActi=_useMessenger.setActiveThreadId,setActiveThreadId=_useMessenger$setActi===void 0?null:_useMessenger$setActi,_useMessenger$closeTh=_useMessenger.closeThread,closeThread=_useMessenger$closeTh===void 0?null:_useMessenger$closeTh;var messagesBox=Object(react[\"useRef\"])();var followFriend=function followFriend(){return activeThread&&activeThread.participant&&SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Db\" /* FollowFriendMessageComposer */](activeThread.participant.id));};var openProfile=function openProfile(){return activeThread&&activeThread.participant&&GetUserProfile(activeThread.participant.id);};var send=function send(){if(!activeThread||!messageText.length)return;sendMessage(activeThread,messageText);setMessageText('');};var onKeyDown=function onKeyDown(event){if(event.key!=='Enter')return;send();};Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length===2){if(parts[1]==='open'){setIsVisible(true);return;}else{var thread=getMessageThread(parseInt(parts[1]));if(!thread)return;setActiveThreadId(thread.threadId);setIsVisible(true);}}},eventUrlPrefix:'friends-messenger/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[getMessageThread,setActiveThreadId]);Object(react[\"useEffect\"])(function(){if(!isVisible||!activeThread)return;messagesBox.current.scrollTop=messagesBox.current.scrollHeight;},[isVisible,activeThread]);Object(react[\"useEffect\"])(function(){if(isVisible&&!activeThread){if(lastThreadId>0){setActiveThreadId(lastThreadId);}else{if(visibleThreads.length>0)setActiveThreadId(visibleThreads[0].threadId);}return;}if(!isVisible&&activeThread){setLastThreadId(activeThread.threadId);setActiveThreadId(-1);}},[isVisible,activeThread,lastThreadId,visibleThreads,setActiveThreadId]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-friends-messenger animate__animated animate__bounceInDown\",uniqueKey:\"nitro-friends-messenger\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('messenger.window.title',['OPEN_CHAT_COUNT'],[visibleThreads.length.toString()]),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:4,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:LocalizeText('toolbar.icon.label.messenger')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullHeight:true,overflow:\"auto\",children:visibleThreads&&visibleThreads.length>0&&visibleThreads.map(function(thread){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{itemActive:activeThread===thread,onClick:function onClick(event){return setActiveThreadId(thread.threadId);},children:[thread.unread&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView_LayoutItemCountView,{count:thread.unreadCount}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",className:\"friend-head px-1\",children:[thread.participant.id>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:thread.participant.figure,headOnly:true,direction:3}),thread.participant.id<=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{isGroup:true,badgeCode:thread.participant.figure})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,grow:true,children:thread.participant.name})]})]},thread.threadId);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:8,overflow:\"hidden\",children:activeThread&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,center:true,children:LocalizeText('messenger.window.separator',['FRIEND_NAME'],[activeThread.participant.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup_ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:followFriend,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-follow\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:openProfile,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friends-spritesheet icon-profile-sm\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:openProfile,children:LocalizeText('messenger.window.button.report')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return closeThread(activeThread.threadId);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fit:true,className:\"bg-muted p-2 rounded chat-messages\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{innerRef:messagesBox,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsMessengerThreadView_FriendsMessengerThreadView,{thread:activeThread})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:255,placeholder:LocalizeText('messenger.window.input.default',['FRIEND_NAME'],[activeThread.participant.name]),value:messageText,onChange:function onChange(event){return setMessageText(event.target.value);},onKeyDown:onKeyDown}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:send,children:LocalizeText('widgets.chatinput.say')})]})]})})]})})]});};\n// CONCATENATED MODULE: ./src/components/friends/FriendsView.tsx\nvar FriendsView_FriendsView=function FriendsView(props){var _useFriends=useFriends_useFriends(),_useFriends$settings=_useFriends.settings,settings=_useFriends$settings===void 0?null:_useFriends$settings,_useFriends$onlineFri=_useFriends.onlineFriends,onlineFriends=_useFriends$onlineFri===void 0?[]:_useFriends$onlineFri;// const onRoomEngineObjectEvent = useCallback((event: RoomEngineObjectEvent) =>\n// {\n//     const roomSession = GetRoomSession();\n//     if(!roomSession) return;\n//     if(event.category !== RoomObjectCategory.UNIT) return;\n//     const userData = roomSession.userDataManager.getUserDataByIndex(event.objectId);\n//     if(!userData || (userData.type !== RoomObjectUserType.getTypeNumber(RoomObjectUserType.USER))) return;\n//     const friend = getFriend(userData.webID);\n//     if(!friend) return;\n//     DispatchUiEvent(new FriendEnteredRoomEvent(userData.roomIndex, RoomObjectCategory.UNIT, userData.webID, userData.name, userData.type));\n// }, [ getFriend ]);\n// UseRoomEngineEvent(RoomEngineObjectEvent.ADDED, onRoomEngineObjectEvent);\nif(!settings)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(react_dom[\"createPortal\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsBarView_FriendBarView,{onlineFriends:onlineFriends}),document.getElementById('toolbar-friend-bar-container')),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsListView_FriendsListView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsMessengerView_FriendsMessengerView,{})]});};\n// CONCATENATED MODULE: ./src/components/galerts/GalertsView.tsx\nvar GalertsView_GalertsView=function GalertsView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),figure=_useState6[0],setFigure=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=Object(react[\"useState\"])(\"Notificación\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),headerText=_useState10[0],setHeaderText=_useState10[1];var _useState11=Object(react[\"useState\"])(\"0\"),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),roomId=_useState12[0],setRoomId=_useState12[1];var _useState13=Object(react[\"useState\"])(\"gameAlert\"),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),actualTab=_useState14[0],setActualTab=_useState14[1];var _useState15=Object(react[\"useState\"])(\"url(https://files.habboemotion.com/resources/images/homebgs/nl_green_bg.gif)\"),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),background=_useState16[0],setBackground=_useState16[1];var _useState17=Object(react[\"useState\"])(\"primary\"),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),color=_useState18[0],setColor=_useState18[1];var _useState19=Object(react[\"useState\"])(\"undefined\"),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),alertText=_useState20[0],setAlertText=_useState20[1];var sso=new URLSearchParams(window.location.search).get('sso');function getHabboImaging(look){return\"https://habbo-imaging.hgalaxy.net/avatarimage/\"+look+\"&gesture=sml&direction=2&effect=6&img_format=gif\";}function goToRoom(){fetch(\"https://int.ultrahabbo.fun/?type=goToRoom&roomId=\"+roomId+\"&sso=\"+sso);setIsVisible(false);}function getBadge(){return\"badge bg-\"+color;}function getAlert(){return\"alert alert-\"+color+\" text-center\";}Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'@gm':setIsVisible(false);setHeaderText(\"Nuevo juego abierto\");setRoomId(parts[2]);setUsername(parts[3]);setMessage(parts[4]);setAlertText(\"📢 <b>Nuevo juego abierto.</b> ¡Únete si quieres ganar premios!\");setColor(\"warning\");setBackground(\"url(https://files.habboemotion.com/resources/images/homebgs/nl_green_bg.gif)\");fetch(\"https://int.ultrahabbo.fun/?type=getFigure&getFigure=\"+parts[3]).then(function(response){return response.text();}).then(function(response){setFigure(response);setIsVisible(true);var audio=new Audio('https://swfs.hgalaxy.net/sounds/ding.mp3');audio.play();});return;case'@ev':setIsVisible(false);setHeaderText(\"Nuevo evento abierto\");setRoomId(parts[2]);setUsername(parts[3]);setMessage(parts[4]);setAlertText(\"📢 <b>Nuevo evento abierto.</b> ¡Únete si quieres ganar premios!\");setColor(\"info\");setBackground(\"url(https://files.habboemotion.com/resources/images/homebgs/bg_pattern_bobbaskulls1.gif)\");fetch(\"https://int.ultrahabbo.fun/?type=getFigure&getFigure=\"+parts[3]).then(function(response){return response.text();}).then(function(response){setFigure(response);setIsVisible(true);var audio=new Audio('https://swfs.hgalaxy.net/sounds/ding.mp3');audio.play();});return;case'@pbl':setIsVisible(false);setHeaderText(\"Nueva oleada de publicidad abierta\");setRoomId(parts[2]);setUsername(parts[3]);setMessage(parts[4]);setAlertText(\"📢 <b>Nueva oleada de publicidad abierta.</b> ¡Únete si quieres ganar premios!\");setColor(\"danger\");setBackground(\"url(https://files.habboemotion.com/resources/images/homebgs/xmas_bgpattern_starsky.gif)\");fetch(\"https://int.ultrahabbo.fun/?type=getFigure&getFigure=\"+parts[3]).then(function(response){return response.text();}).then(function(response){setFigure(response);setIsVisible(true);var audio=new Audio('https://swfs.hgalaxy.net/sounds/ding.mp3');audio.play();});return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'galert/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{style:{width:\"350px\"},className:\"animate__animated animate__flipInX\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:headerText,onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",style:{backgroundImage:background},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:getAlert(),dangerouslySetInnerHTML:{__html:alertText}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-12 text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:getHabboImaging(figure)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",style:{fontSize:\"12px\"},children:[\"Juego abierto por \",username]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:getBadge(),style:{fontSize:\"18px\"},children:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return goToRoom();},className:\"btn btn-success btn-sm rounded w-100\",children:\"Ir a sala\"})]})})})]})})})]})});};\n// CONCATENATED MODULE: ./src/components/groups/common/CompareId.ts\nvar CompareId=function CompareId(a,b){if(a.id<b.id)return-1;if(a.id>b.id)return 1;return 0;};\n// CONCATENATED MODULE: ./src/components/groups/GroupsContext.tsx\nvar GroupsContext=/*#__PURE__*/Object(react[\"createContext\"])({groupCustomize:null,setGroupCustomize:null});var GroupsContext_GroupsContextProvider=function GroupsContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupsContext.Provider,{value:props.value,children:props.children});};var GroupsContext_useGroupsContext=function useGroupsContext(){return Object(react[\"useContext\"])(GroupsContext);};\n// CONCATENATED MODULE: ./src/components/groups/common/GroupBadgePart.ts\nvar GroupBadgePart_GroupBadgePart=/*#__PURE__*/function(){function GroupBadgePart(type,key,color,position){Object(classCallCheck[\"a\" /* default */])(this,GroupBadgePart);this.type=void 0;this.key=void 0;this.color=void 0;this.position=void 0;this.type=type;this.key=key?key:0;this.color=color?color:0;this.position=position?position:4;}Object(createClass[\"a\" /* default */])(GroupBadgePart,[{key:\"code\",get:function get(){if(this.key===0)return null;return GroupBadgePart.getCode(this.type,this.key,this.color,this.position);}}],[{key:\"getCode\",value:function getCode(type,key,color,position){return type+(key<10?'0':'')+key+(color<10?'0':'')+color+position;}}]);return GroupBadgePart;}();GroupBadgePart_GroupBadgePart.BASE='b';GroupBadgePart_GroupBadgePart.SYMBOL='s';\n// CONCATENATED MODULE: ./src/components/groups/views/GroupBadgeCreatorView.tsx\nvar POSITIONS=[0,1,2,3,4,5,6,7,8];var GroupBadgeCreatorView_GroupBadgeCreatorView=function GroupBadgeCreatorView(props){var _props$badgeParts=props.badgeParts,badgeParts=_props$badgeParts===void 0?[]:_props$badgeParts,_props$setBadgeParts=props.setBadgeParts,setBadgeParts=_props$setBadgeParts===void 0?null:_props$setBadgeParts;var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedIndex=_useState2[0],setSelectedIndex=_useState2[1];var _useGroupsContext=GroupsContext_useGroupsContext(),_useGroupsContext$gro=_useGroupsContext.groupCustomize,groupCustomize=_useGroupsContext$gro===void 0?null:_useGroupsContext$gro;var setPartProperty=function setPartProperty(partIndex,property,value){var newBadgeParts=Object(toConsumableArray[\"a\" /* default */])(badgeParts);newBadgeParts[partIndex][property]=value;setBadgeParts(newBadgeParts);if(property==='key')setSelectedIndex(-1);};if(!badgeParts||!badgeParts.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[selectedIndex<0&&badgeParts&&badgeParts.length>0&&badgeParts.map(function(part,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:2,className:\"bg-muted rounded px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:function onClick(event){return setSelectedIndex(index);},children:[badgeParts[index].code&&badgeParts[index].code.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:badgeParts[index].code,isGroup:true}),(!badgeParts[index].code||!badgeParts[index].code.length)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"badge-image group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"plus\"})})]}),part.type!==GroupBadgePart_GroupBadgePart.BASE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{gap:1,columnCount:3,children:POSITIONS.map(function(position,posIndex){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"group-badge-position-swatch \".concat(badgeParts[index].position===position?'active':''),onClick:function onClick(event){return setPartProperty(index,'position',position);}},posIndex);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{gap:1,columnCount:8,children:groupCustomize.badgePartColors.length>0&&groupCustomize.badgePartColors.map(function(item,colorIndex){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"group-badge-color-swatch \".concat(badgeParts[index].color===colorIndex+1?'active':''),style:{backgroundColor:'#'+item.color},onClick:function onClick(event){return setPartProperty(index,'color',colorIndex+1);}},colorIndex);})})]},index);}),selectedIndex>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,columnCount:5,children:[badgeParts[selectedIndex].type===GroupBadgePart_GroupBadgePart.SYMBOL&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:function onClick(event){return setPartProperty(selectedIndex,'key',0);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"badge-image group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})}),(badgeParts[selectedIndex].type===GroupBadgePart_GroupBadgePart.BASE?groupCustomize.badgeBases:groupCustomize.badgeSymbols).map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{pointer:true,center:true,className:\"bg-muted rounded p-1\",onClick:function onClick(event){return setPartProperty(selectedIndex,'key',item.id);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:GroupBadgePart_GroupBadgePart.getCode(badgeParts[selectedIndex].type,item.id,badgeParts[selectedIndex].color,4),isGroup:true})},index);})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabBadgeView.tsx\nvar GroupTabBadgeView_GroupTabBadgeView=function GroupTabBadgeView(props){var _props$groupData=props.groupData,groupData=_props$groupData===void 0?null:_props$groupData,_props$setGroupData=props.setGroupData,setGroupData=_props$setGroupData===void 0?null:_props$setGroupData,_props$setCloseAction=props.setCloseAction,setCloseAction=_props$setCloseAction===void 0?null:_props$setCloseAction,_props$skipDefault=props.skipDefault,skipDefault=_props$skipDefault===void 0?null:_props$skipDefault;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),badgeParts=_useState2[0],setBadgeParts=_useState2[1];var _useGroupsContext=GroupsContext_useGroupsContext(),_useGroupsContext$gro=_useGroupsContext.groupCustomize,groupCustomize=_useGroupsContext$gro===void 0?null:_useGroupsContext$gro;var getModifiedBadgeCode=function getModifiedBadgeCode(){if(!badgeParts||!badgeParts.length)return'';var badgeCode='';badgeParts.forEach(function(part){return part.code&&(badgeCode+=part.code);});return badgeCode;};var saveBadge=Object(react[\"useCallback\"])(function(){if(!groupData||!badgeParts||!badgeParts.length)return false;if(groupData.groupBadgeParts===badgeParts)return true;if(groupData.groupId<=0){setGroupData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.groupBadgeParts=badgeParts;return newValue;});return true;}var badge=[];badgeParts.forEach(function(part){if(!part.code)return;badge.push(part.key);badge.push(part.color);badge.push(part.position);});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Yc\" /* GroupSaveBadgeComposer */](groupData.groupId,badge));return true;},[groupData,badgeParts,setGroupData]);Object(react[\"useEffect\"])(function(){if(groupData.groupBadgeParts)return;var badgeParts=[new GroupBadgePart_GroupBadgePart(GroupBadgePart_GroupBadgePart.BASE,groupCustomize.badgeBases[0].id,groupCustomize.badgePartColors[0].id),new GroupBadgePart_GroupBadgePart(GroupBadgePart_GroupBadgePart.SYMBOL,0,groupCustomize.badgePartColors[0].id),new GroupBadgePart_GroupBadgePart(GroupBadgePart_GroupBadgePart.SYMBOL,0,groupCustomize.badgePartColors[0].id),new GroupBadgePart_GroupBadgePart(GroupBadgePart_GroupBadgePart.SYMBOL,0,groupCustomize.badgePartColors[0].id),new GroupBadgePart_GroupBadgePart(GroupBadgePart_GroupBadgePart.SYMBOL,0,groupCustomize.badgePartColors[0].id)];setGroupData(function(prevValue){var groupBadgeParts=badgeParts;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{groupBadgeParts:groupBadgeParts});});},[groupData.groupBadgeParts,groupCustomize,setGroupData]);Object(react[\"useEffect\"])(function(){if(groupData.groupId<=0){setBadgeParts(groupData.groupBadgeParts?Object(toConsumableArray[\"a\" /* default */])(groupData.groupBadgeParts):null);return;}setBadgeParts(groupData.groupBadgeParts);},[groupData]);Object(react[\"useEffect\"])(function(){setCloseAction({action:saveBadge});return function(){return setCloseAction(null);};},[setCloseAction,saveBadge]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"hidden\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"bg-muted rounded p-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:getModifiedBadgeCode(),isGroup:true})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:10,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupBadgeCreatorView_GroupBadgeCreatorView,{badgeParts:badgeParts,setBadgeParts:setBadgeParts})})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabColorsView.tsx\nvar GroupTabColorsView_GroupTabColorsView=function GroupTabColorsView(props){var _props$groupData=props.groupData,groupData=_props$groupData===void 0?null:_props$groupData,_props$setGroupData=props.setGroupData,setGroupData=_props$setGroupData===void 0?null:_props$setGroupData,_props$setCloseAction=props.setCloseAction,setCloseAction=_props$setCloseAction===void 0?null:_props$setCloseAction;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),colors=_useState2[0],setColors=_useState2[1];var _useGroupsContext=GroupsContext_useGroupsContext(),_useGroupsContext$gro=_useGroupsContext.groupCustomize,groupCustomize=_useGroupsContext$gro===void 0?null:_useGroupsContext$gro;var getGroupColor=function getGroupColor(colorIndex){if(colorIndex===0)return groupCustomize.groupColorsA.find(function(color){return color.id===colors[colorIndex];}).color;return groupCustomize.groupColorsB.find(function(color){return color.id===colors[colorIndex];}).color;};var selectColor=function selectColor(colorIndex,colorId){setColors(function(prevValue){var newColors=Object(toConsumableArray[\"a\" /* default */])(prevValue);newColors[colorIndex]=colorId;return newColors;});};var saveColors=Object(react[\"useCallback\"])(function(){if(!groupData||!colors||!colors.length)return false;if(groupData.groupColors===colors)return true;if(groupData.groupId<=0){setGroupData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.groupColors=Object(toConsumableArray[\"a\" /* default */])(colors);return newValue;});return true;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Zc\" /* GroupSaveColorsComposer */](groupData.groupId,colors[0],colors[1]));return true;},[groupData,colors,setGroupData]);Object(react[\"useEffect\"])(function(){if(!groupCustomize.groupColorsA||!groupCustomize.groupColorsB||groupData.groupColors)return;var groupColors=[groupCustomize.groupColorsA[0].id,groupCustomize.groupColorsB[0].id];setGroupData(function(prevValue){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{groupColors:groupColors});});},[groupCustomize,groupData.groupColors,setGroupData]);Object(react[\"useEffect\"])(function(){if(groupData.groupId<=0){setColors(groupData.groupColors?Object(toConsumableArray[\"a\" /* default */])(groupData.groupColors):null);return;}setColors(groupData.groupColors);},[groupData]);Object(react[\"useEffect\"])(function(){setCloseAction({action:saveColors});return function(){return setCloseAction(null);};},[setCloseAction,saveColors]);if(!colors)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:2,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('group.edit.color.guild.color')}),groupData.groupColors&&groupData.groupColors.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{overflow:\"hidden\",className:\"rounded border\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(0)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(1)}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('group.edit.color.primary.color')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:groupData.groupColors&&groupCustomize.groupColorsA&&groupCustomize.groupColorsA.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'group-badge-color-swatch cursor-pointer'+classnames_default()({' active':groupData.groupColors[0]===item.id}),style:{backgroundColor:'#'+item.color},onClick:function onClick(){return selectColor(0,item.id);}},index);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('group.edit.color.secondary.color')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:groupData.groupColors&&groupCustomize.groupColorsB&&groupCustomize.groupColorsB.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'group-badge-color-swatch cursor-pointer'+classnames_default()({' active':groupData.groupColors[1]===item.id}),style:{backgroundColor:'#'+item.color},onClick:function onClick(){return selectColor(1,item.id);}},index);})})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabCreatorConfirmationView.tsx\nvar GroupTabCreatorConfirmationView_GroupTabCreatorConfirmationView=function GroupTabCreatorConfirmationView(props){var _props$groupData=props.groupData,groupData=_props$groupData===void 0?null:_props$groupData,_props$setGroupData=props.setGroupData,setGroupData=_props$setGroupData===void 0?null:_props$setGroupData,_props$purchaseCost=props.purchaseCost,purchaseCost=_props$purchaseCost===void 0?0:_props$purchaseCost;var _useGroupsContext=GroupsContext_useGroupsContext(),_useGroupsContext$gro=_useGroupsContext.groupCustomize,groupCustomize=_useGroupsContext$gro===void 0?null:_useGroupsContext$gro;var getCompleteBadgeCode=function getCompleteBadgeCode(){if(!groupData||!groupData.groupBadgeParts||!groupData.groupBadgeParts.length)return'';var badgeCode='';groupData.groupBadgeParts.forEach(function(part){return part.code&&(badgeCode+=part.code);});return badgeCode;};var getGroupColor=function getGroupColor(colorIndex){if(colorIndex===0)return groupCustomize.groupColorsA.find(function(c){return c.id===groupData.groupColors[colorIndex];}).color;return groupCustomize.groupColorsB.find(function(c){return c.id===groupData.groupColors[colorIndex];}).color;};if(!groupData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"hidden\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,className:\"bg-muted rounded p-1\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,center:true,children:LocalizeText('group.create.confirm.guildbadge')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:getCompleteBadgeCode(),isGroup:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,className:\"bg-muted rounded p-1\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,center:true,children:LocalizeText('group.edit.color.guild.color')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{overflow:\"hidden\",className:\"rounded border\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(0)}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(1)}})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:9,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:groupData.groupName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:groupData.groupDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{overflow:\"auto\",children:LocalizeText('group.create.confirm.info')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,variant:\"white\",className:\"bg-primary rounded p-1\",children:LocalizeText('group.create.confirm.buyinfo',['amount'],[purchaseCost.toString()])})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabIdentityView.tsx\nvar GroupTabIdentityView_GroupTabIdentityView=function GroupTabIdentityView(props){var _props$groupData=props.groupData,groupData=_props$groupData===void 0?null:_props$groupData,_props$setGroupData=props.setGroupData,setGroupData=_props$setGroupData===void 0?null:_props$setGroupData,_props$setCloseAction=props.setCloseAction,setCloseAction=_props$setCloseAction===void 0?null:_props$setCloseAction,_props$close=props.close,close=_props$close===void 0?null:_props$close,_props$isCreator=props.isCreator,isCreator=_props$isCreator===void 0?false:_props$isCreator,_props$availableRooms=props.availableRooms,availableRooms=_props$availableRooms===void 0?[]:_props$availableRooms;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),groupName=_useState2[0],setGroupName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),groupDescription=_useState4[0],setGroupDescription=_useState4[1];var _useState5=Object(react[\"useState\"])(-1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),groupHomeroomId=_useState6[0],setGroupHomeroomId=_useState6[1];var deleteGroup=function deleteGroup(){if(!groupData||groupData.groupId<=0)return;NotificationUtilities_NotificationUtilities.confirm(LocalizeText('group.deleteconfirm.desc'),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Lc\" /* GroupDeleteComposer */](groupData.groupId));if(close)close();},null,null,null,LocalizeText('group.deleteconfirm.title'));};var saveIdentity=Object(react[\"useCallback\"])(function(){if(!groupData||!groupName||!groupName.length)return false;if(groupName===groupData.groupName&&groupDescription===groupData.groupDescription)return true;if(groupData.groupId<=0){if(groupHomeroomId<=0)return false;setGroupData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.groupName=groupName;newValue.groupDescription=groupDescription;newValue.groupHomeroomId=groupHomeroomId;return newValue;});return true;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ad\" /* GroupSaveInformationComposer */](groupData.groupId,groupName,groupDescription||''));return true;},[groupData,groupName,groupDescription,groupHomeroomId,setGroupData]);Object(react[\"useEffect\"])(function(){setGroupName(groupData.groupName||'');setGroupDescription(groupData.groupDescription||'');setGroupHomeroomId(groupData.groupHomeroomId);},[groupData]);Object(react[\"useEffect\"])(function(){setCloseAction({action:saveIdentity});return function(){return setCloseAction(null);};},[setCloseAction,saveIdentity]);if(!groupData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:groupName,maxLength:29,onChange:function onChange(event){return setGroupName(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.desc')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control form-control-sm\",value:groupDescription,maxLength:254,onChange:function onChange(event){return setGroupDescription(event.target.value);}})]}),isCreator&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.base')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullWidth:true,gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:groupHomeroomId,onChange:function onChange(event){return setGroupHomeroomId(parseInt(event.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:-1,disabled:true,children:LocalizeText('group.edit.base.select.room')}),availableRooms&&availableRooms.map(function(room,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:room.id,children:room.name},index);})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"col-3\",children:\"\\xA0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,children:LocalizeText('group.edit.base.warning')})]})]})]}),!isCreator&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:deleteGroup,children:LocalizeText('group.delete')}),isCreator&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{underline:true,center:true,fullWidth:true,pointer:true,onClick:function onClick(event){return CreateLinkEvent('navigator/create');},children:LocalizeText('group.createroom')})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupCreatorView.tsx\nvar GroupCreatorView_TABS=[1,2,3,4];var GroupCreatorView_GroupCreatorView=function GroupCreatorView(props){var _props$onClose=props.onClose,onClose=_props$onClose===void 0?null:_props$onClose;var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentTab=_useState2[0],setCurrentTab=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),closeAction=_useState4[0],setCloseAction=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),groupData=_useState6[0],setGroupData=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),availableRooms=_useState8[0],setAvailableRooms=_useState8[1];var _useState9=Object(react[\"useState\"])(0),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),purchaseCost=_useState10[0],setPurchaseCost=_useState10[1];var close=function close(){setCloseAction(null);setGroupData(null);if(onClose)onClose();};var buyGroup=function buyGroup(){if(!groupData)return;var badge=[];groupData.groupBadgeParts.forEach(function(part){if(part.code){badge.push(part.key);badge.push(part.color);badge.push(part.position);}});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Gc\" /* GroupBuyComposer */](groupData.groupName,groupData.groupDescription,groupData.groupHomeroomId,groupData.groupColors[0],groupData.groupColors[1],badge));};var previousStep=function previousStep(){if(closeAction&&closeAction.action){if(!closeAction.action())return;}if(currentTab===1){onClose();return;}setCurrentTab(function(value){return value-1;});};var nextStep=function nextStep(){if(closeAction&&closeAction.action){if(!closeAction.action())return;}if(currentTab===4){buyGroup();return;}setCurrentTab(function(value){return value===4?value:value+1;});};var onGroupBuyDataEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var rooms=[];parser.availableRooms.forEach(function(name,id){return rooms.push({id:id,name:name});});setAvailableRooms(rooms);setPurchaseCost(parser.groupCost);},[]);UseMessageEventHook(nitro_renderer[\"Ic\" /* GroupBuyDataEvent */],onGroupBuyDataEvent);Object(react[\"useEffect\"])(function(){setCurrentTab(1);setGroupData({groupId:-1,groupName:null,groupDescription:null,groupHomeroomId:-1,groupState:1,groupCanMembersDecorate:true,groupColors:null,groupBadgeParts:null});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Hc\" /* GroupBuyDataComposer */]());},[setGroupData]);if(!groupData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-group-creator\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('group.create.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"creator-tabs\",children:GroupCreatorView_TABS.map(function(tab,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"tab tab-\".concat(tab===1?'blue-flat':tab===4?'yellow':'blue-arrow',\" \").concat(currentTab===tab?'active':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",children:LocalizeText(\"group.create.steplabel.\".concat(tab))})},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-group-tab-image tab-\".concat(currentTab)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,fontSize:4,children:LocalizeText(\"group.create.stepcaption.\".concat(currentTab))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(\"group.create.stepdesc.\".concat(currentTab))})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",children:[currentTab===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabIdentityView_GroupTabIdentityView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction,close:null,isCreator:true,availableRooms:availableRooms}),currentTab===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabBadgeView_GroupTabBadgeView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction}),currentTab===3&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabColorsView_GroupTabColorsView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction}),currentTab===4&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabCreatorConfirmationView_GroupTabCreatorConfirmationView,{groupData:groupData,setGroupData:setGroupData,purchaseCost:purchaseCost})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"link\",className:\"text-black\",onClick:previousStep,children:LocalizeText(currentTab===1?'generic.cancel':'group.create.previousstep')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:currentTab===4&&!HasHabboClub(),variant:currentTab===4?HasHabboClub()?'success':'danger':'primary',onClick:nextStep,children:LocalizeText(currentTab===4?HasHabboClub()?'group.create.confirm.buy':'group.create.confirm.viprequired':'group.create.nextstep')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/common/GroupMembershipType.ts\nvar GroupMembershipType_GroupMembershipType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function GroupMembershipType(){Object(classCallCheck[\"a\" /* default */])(this,GroupMembershipType);});GroupMembershipType_GroupMembershipType.NOT_MEMBER=0;GroupMembershipType_GroupMembershipType.MEMBER=1;GroupMembershipType_GroupMembershipType.REQUEST_PENDING=2;\n// CONCATENATED MODULE: ./src/components/groups/common/GroupType.ts\nvar common_GroupType_GroupType=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function GroupType(){Object(classCallCheck[\"a\" /* default */])(this,GroupType);});common_GroupType_GroupType.REGULAR=0;common_GroupType_GroupType.EXCLUSIVE=1;common_GroupType_GroupType.PRIVATE=2;\n// CONCATENATED MODULE: ./src/components/groups/views/GroupInformationView.tsx\nvar GroupInformationView_excluded=[\"groupInformation\",\"onClose\",\"overflow\"];var STATES=['regular','exclusive','private'];var GroupInformationView_GroupInformationView=function GroupInformationView(props){var _props$groupInformati=props.groupInformation,groupInformation=_props$groupInformati===void 0?null:_props$groupInformati,_props$onClose=props.onClose,onClose=_props$onClose===void 0?null:_props$onClose,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,GroupInformationView_excluded);var isRealOwner=groupInformation&&groupInformation.ownerName===GetSessionDataManager().userName;var joinGroup=function joinGroup(){return groupInformation&&TryJoinGroup_TryJoinGroup(groupInformation.id);};var leaveGroup=function leaveGroup(){NotificationUtilities_NotificationUtilities.confirm(LocalizeText('group.leaveconfirm.desc'),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Xc\" /* GroupRemoveMemberComposer */](groupInformation.id,GetSessionDataManager().userId));if(onClose)onClose();},null);};var getRoleIcon=function getRoleIcon(){if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.NOT_MEMBER||groupInformation.membershipType===GroupMembershipType_GroupMembershipType.REQUEST_PENDING)return null;if(isRealOwner)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-owner\",title:LocalizeText('group.youareowner')});if(groupInformation.isAdmin)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-admin\",title:LocalizeText('group.youareadmin')});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-member\",title:LocalizeText('group.youaremember')});};var getButtonText=function getButtonText(){if(isRealOwner)return'group.youareowner';if(groupInformation.type===common_GroupType_GroupType.PRIVATE)return'';if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.MEMBER)return'group.leave';if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.NOT_MEMBER&&groupInformation.type===common_GroupType_GroupType.REGULAR)return'group.join';if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.REQUEST_PENDING)return'group.membershippending';if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.NOT_MEMBER&&groupInformation.type===common_GroupType_GroupType.EXCLUSIVE)return'group.requestmembership';};var handleButtonClick=function handleButtonClick(){if(groupInformation.type===common_GroupType_GroupType.PRIVATE&&groupInformation.membershipType===GroupMembershipType_GroupMembershipType.NOT_MEMBER)return;if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.MEMBER){leaveGroup();return;}joinGroup();};var handleAction=Object(react[\"useCallback\"])(function(action){switch(action){case'members':GetGroupMembers(groupInformation.id);break;case'members_pending':GetGroupMembers(groupInformation.id,2);break;case'manage':GetGroupManager(groupInformation.id);break;case'homeroom':TryVisitRoom(groupInformation.roomId);break;case'furniture':CreateLinkEvent('catalog/open/'+CatalogPageName_CatalogPageName.GUILD_CUSTOM_FURNI);break;case'popular_groups':CreateLinkEvent('navigator/search/groups');break;}},[groupInformation]);if(!groupInformation)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({overflow:overflow},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,size:3,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",overflow:\"hidden\",className:\"group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:groupInformation.badge,isGroup:true,scale:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('members');},children:LocalizeText('group.membercount',['totalMembers'],[groupInformation.membersCount.toString()])}),groupInformation.pendingRequestsCount>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('members_pending');},children:LocalizeText('group.pendingmembercount',['amount'],[groupInformation.pendingRequestsCount.toString()])}),groupInformation.isOwner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('manage');},children:LocalizeText('group.manage')})]}),getRoleIcon()]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:9,justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:groupInformation.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'icon icon-group-type-'+groupInformation.type,title:LocalizeText(\"group.edit.settings.type.\".concat(STATES[groupInformation.type],\".help\"))}),groupInformation.canMembersDecorate&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-decorate\",title:LocalizeText('group.memberscandecorate')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:LocalizeText('group.created',['date','owner'],[groupInformation.createdAt,groupInformation.ownerName])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,overflow:\"auto\",className:\"group-description\",children:groupInformation.description})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('homeroom');},children:LocalizeText('group.linktobase')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('furniture');},children:LocalizeText('group.buyfurni')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('popular_groups');},children:LocalizeText('group.showgroups')})]}),groupInformation.type!==common_GroupType_GroupType.PRIVATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:groupInformation.membershipType===GroupMembershipType_GroupMembershipType.REQUEST_PENDING||isRealOwner,onClick:handleButtonClick,children:LocalizeText(getButtonText())})]})]})]}));};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupInformationStandaloneView.tsx\nvar GroupInformationStandaloneView_GroupInformationStandaloneView=function GroupInformationStandaloneView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),groupInformation=_useState2[0],setGroupInformation=_useState2[1];var onGroupInformationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(groupInformation&&groupInformation.id===parser.id||parser.flag)setGroupInformation(parser);},[groupInformation]);UseMessageEventHook(nitro_renderer[\"Pc\" /* GroupInformationEvent */],onGroupInformationEvent);if(!groupInformation)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-group-information-standalone\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('group.window.title'),onCloseClick:function onCloseClick(event){return setGroupInformation(null);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupInformationView_GroupInformationView,{groupInformation:groupInformation,onClose:function onClose(){return setGroupInformation(null);}})})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/tabs/GroupTabSettingsView.tsx\nvar GroupTabSettingsView_STATES=['regular','exclusive','private'];var GroupTabSettingsView_GroupTabSettingsView=function GroupTabSettingsView(props){var _props$groupData=props.groupData,groupData=_props$groupData===void 0?null:_props$groupData,_props$setGroupData=props.setGroupData,setGroupData=_props$setGroupData===void 0?null:_props$setGroupData,_props$setCloseAction=props.setCloseAction,setCloseAction=_props$setCloseAction===void 0?null:_props$setCloseAction;var _useState=Object(react[\"useState\"])(groupData.groupState),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),groupState=_useState2[0],setGroupState=_useState2[1];var _useState3=Object(react[\"useState\"])(groupData.groupCanMembersDecorate),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),groupDecorate=_useState4[0],setGroupDecorate=_useState4[1];var saveSettings=Object(react[\"useCallback\"])(function(){if(!groupData)return false;if(groupState===groupData.groupState&&groupDecorate===groupData.groupCanMembersDecorate)return true;if(groupData.groupId<=0){setGroupData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.groupState=groupState;newValue.groupCanMembersDecorate=groupDecorate;return newValue;});return true;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"bd\" /* GroupSavePreferencesComposer */](groupData.groupId,groupState,groupDecorate?0:1));return true;},[groupData,groupState,groupDecorate,setGroupData]);Object(react[\"useEffect\"])(function(){setGroupState(groupData.groupState);setGroupDecorate(groupData.groupCanMembersDecorate);},[groupData]);Object(react[\"useEffect\"])(function(){setCloseAction({action:saveSettings});return function(){return setCloseAction(null);};},[setCloseAction,saveSettings]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{children:GroupTabSettingsView_STATES.map(function(state,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"groupState\",checked:groupState===index,onChange:function onChange(event){return setGroupState(index);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-group-type-\".concat(index)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText(\"group.edit.settings.type.\".concat(state,\".label\"))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(\"group.edit.settings.type.\".concat(state,\".help\"))})]})]},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HorizontalRule_HorizontalRule,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:groupDecorate,onChange:function onChange(event){return setGroupDecorate(function(prevValue){return!prevValue;});}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('group.edit.settings.rights.caption')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('group.edit.settings.rights.members.help')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupManagerView.tsx\nvar GroupManagerView_TABS=[1,2,3,5];var GroupManagerView_GroupManagerView=function GroupManagerView(props){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentTab=_useState2[0],setCurrentTab=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),closeAction=_useState4[0],setCloseAction=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),groupData=_useState6[0],setGroupData=_useState6[1];var close=function close(){setCloseAction(function(prevValue){if(prevValue&&prevValue.action)prevValue.action();return null;});setGroupData(null);};var changeTab=function changeTab(tab){if(closeAction&&closeAction.action)closeAction.action();setCurrentTab(tab);};var onGroupInformationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!groupData||groupData.groupId!==parser.id)return;setGroupData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.groupName=parser.title;newValue.groupDescription=parser.description;newValue.groupState=parser.type;newValue.groupCanMembersDecorate=parser.canMembersDecorate;return newValue;});},[groupData]);UseMessageEventHook(nitro_renderer[\"Pc\" /* GroupInformationEvent */],onGroupInformationEvent);var onGroupSettingsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var groupBadgeParts=[];parser.badgeParts.forEach(function(part,id){groupBadgeParts.push(new nitro_renderer[\"Dc\" /* GroupBadgePart */](part.isBase?nitro_renderer[\"Dc\" /* GroupBadgePart */].BASE:nitro_renderer[\"Dc\" /* GroupBadgePart */].SYMBOL,part.key,part.color,part.position));});setGroupData({groupId:parser.id,groupName:parser.title,groupDescription:parser.description,groupHomeroomId:parser.roomId,groupState:parser.state,groupCanMembersDecorate:parser.canMembersDecorate,groupColors:[parser.colorA,parser.colorB],groupBadgeParts:groupBadgeParts});},[setGroupData]);UseMessageEventHook(nitro_renderer[\"dd\" /* GroupSettingsEvent */],onGroupSettingsEvent);if(!groupData||groupData.groupId<=0)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-group-manager\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('group.window.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView_NitroCardTabsView,{children:GroupManagerView_TABS.map(function(tab){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView_NitroCardTabsItemView,{isActive:currentTab===tab,onClick:function onClick(){return changeTab(tab);},children:LocalizeText(\"group.edit.tab.\".concat(tab))},tab);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-group-tab-image tab-\".concat(currentTab)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,fontSize:4,children:LocalizeText(\"group.edit.tabcaption.\".concat(currentTab))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(\"group.edit.tabdesc.\".concat(currentTab))})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,overflow:\"hidden\",children:[currentTab===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabIdentityView_GroupTabIdentityView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction,close:close}),currentTab===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabBadgeView_GroupTabBadgeView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction,skipDefault:true}),currentTab===3&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabColorsView_GroupTabColorsView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction}),currentTab===5&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupTabSettingsView_GroupTabSettingsView,{groupData:groupData,setGroupData:setGroupData,setCloseAction:setCloseAction})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupMembersView.tsx\nvar GroupMembersView_GroupMembersView=function GroupMembersView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),groupId=_useState2[0],setGroupId=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),levelId=_useState4[0],setLevelId=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),membersData=_useState6[0],setMembersData=_useState6[1];var _useState7=Object(react[\"useState\"])(-1),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),pageId=_useState8[0],setPageId=_useState8[1];var _useState9=Object(react[\"useState\"])(0),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),totalPages=_useState10[0],setTotalPages=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),searchQuery=_useState12[0],setSearchQuery=_useState12[1];var _useState13=Object(react[\"useState\"])(null),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),removingMemberName=_useState14[0],setRemovingMemberName=_useState14[1];var getRankDescription=function getRankDescription(member){if(member.rank===nitro_renderer[\"Wc\" /* GroupRank */].OWNER)return'group.members.owner';if(membersData.admin){if(member.rank===nitro_renderer[\"Wc\" /* GroupRank */].ADMIN)return'group.members.removerights';if(member.rank===nitro_renderer[\"Wc\" /* GroupRank */].MEMBER)return'group.members.giverights';}return'';};var refreshMembers=Object(react[\"useCallback\"])(function(){if(groupId===-1||levelId===-1||pageId===-1)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Rc\" /* GroupMembersComposer */](groupId,pageId,searchQuery,levelId));},[groupId,levelId,pageId,searchQuery]);var toggleAdmin=function toggleAdmin(member){if(!membersData.admin||member.rank===nitro_renderer[\"Wc\" /* GroupRank */].OWNER)return;if(member.rank!==nitro_renderer[\"Wc\" /* GroupRank */].ADMIN)SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Bc\" /* GroupAdminGiveComposer */](membersData.groupId,member.id));else SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Cc\" /* GroupAdminTakeComposer */](membersData.groupId,member.id));refreshMembers();};var acceptMembership=function acceptMembership(member){if(!membersData.admin||member.rank!==nitro_renderer[\"Wc\" /* GroupRank */].REQUESTED)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Tc\" /* GroupMembershipAcceptComposer */](membersData.groupId,member.id));refreshMembers();};var removeMemberOrDeclineMembership=function removeMemberOrDeclineMembership(member){if(!membersData.admin)return;if(member.rank===nitro_renderer[\"Wc\" /* GroupRank */].REQUESTED){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Uc\" /* GroupMembershipDeclineComposer */](membersData.groupId,member.id));refreshMembers();return;}setRemovingMemberName(member.name);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Kc\" /* GroupConfirmRemoveMemberComposer */](membersData.groupId,member.id));};var onGroupMembersEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setMembersData(parser);setLevelId(parser.level);setTotalPages(Math.ceil(parser.totalMembersCount/parser.pageSize));},[]);UseMessageEventHook(nitro_renderer[\"Sc\" /* GroupMembersEvent */],onGroupMembersEvent);var onGroupConfirmMemberRemoveEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.confirm(LocalizeText(parser.furnitureCount>0?'group.kickconfirm.desc':'group.kickconfirm_nofurni.desc',['user','amount'],[removingMemberName,parser.furnitureCount.toString()]),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Xc\" /* GroupRemoveMemberComposer */](membersData.groupId,parser.userId));refreshMembers();},null);setRemovingMemberName(null);},[membersData,removingMemberName,refreshMembers]);UseMessageEventHook(nitro_renderer[\"Jc\" /* GroupConfirmMemberRemoveEvent */],onGroupConfirmMemberRemoveEvent);var linkReceived=Object(react[\"useCallback\"])(function(url){var parts=url.split('/');if(parts.length<2)return;var groupId=parseInt(parts[1])||-1;var levelId=parseInt(parts[2])||3;setGroupId(groupId);setLevelId(levelId);},[]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:linkReceived,eventUrlPrefix:'group-members/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[linkReceived]);Object(react[\"useEffect\"])(function(){setPageId(0);},[groupId,levelId,searchQuery]);Object(react[\"useEffect\"])(function(){if(groupId===-1||levelId===-1||pageId===-1)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Rc\" /* GroupMembersComposer */](groupId,pageId,searchQuery,levelId));},[groupId,levelId,pageId,searchQuery]);Object(react[\"useEffect\"])(function(){if(groupId===-1)return;setLevelId(-1);setMembersData(null);setTotalPages(0);setSearchQuery('');setRemovingMemberName(null);},[groupId]);if(groupId===-1||!membersData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-group-members\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('group.members.title',['groupName'],[membersData?membersData.groupTitle:'']),onCloseClick:function onCloseClick(event){return setGroupId(-1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:membersData.badge,isGroup:true,className:\"mx-auto d-block\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm w-100\",placeholder:LocalizeText('group.members.searchinfo'),value:searchQuery,onChange:function onChange(event){return setSearchQuery(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm w-100\",value:levelId,onChange:function onChange(event){return setLevelId(parseInt(event.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('group.members.search.all')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('group.members.search.admins')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:LocalizeText('group.members.search.pending')})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{columnCount:2,overflow:\"auto\",className:\"nitro-group-members-list-grid\",children:membersData.result.map(function(member,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,alignItems:\"center\",overflow:\"hidden\",className:\"member-list-item bg-white rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"avatar-head cursor-pointer\",onClick:function onClick(){return GetUserProfile(member.id);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:member.figure,headOnly:true,direction:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,small:true,pointer:true,onClick:function onClick(event){return GetUserProfile(member.id);},children:member.name}),member.rank!==nitro_renderer[\"Wc\" /* GroupRank */].REQUESTED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,italics:true,variant:\"muted\",children:LocalizeText('group.members.since',['date'],[member.joinedAt])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[member.rank!==nitro_renderer[\"Wc\" /* GroupRank */].REQUESTED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:membersData.admin,className:\"icon icon-group-small-\".concat(member.rank===nitro_renderer[\"Wc\" /* GroupRank */].OWNER?'owner':member.rank===nitro_renderer[\"Wc\" /* GroupRank */].ADMIN?'admin':membersData.admin&&member.rank===nitro_renderer[\"Wc\" /* GroupRank */].MEMBER?'not-admin':''),title:LocalizeText(getRankDescription(member)),onClick:function onClick(event){return toggleAdmin(member);}})}),membersData.admin&&member.rank===nitro_renderer[\"Wc\" /* GroupRank */].REQUESTED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-accept\",title:LocalizeText('group.members.accept'),onClick:function onClick(event){return acceptMembership(member);}})}),membersData.admin&&member.rank!==nitro_renderer[\"Wc\" /* GroupRank */].OWNER&&member.id!==GetSessionDataManager().userId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-deny\",title:LocalizeText(member.rank===nitro_renderer[\"Wc\" /* GroupRank */].REQUESTED?'group.members.reject':'group.members.kick'),onClick:function onClick(event){return removeMemberOrDeclineMembership(member);}})})]})]},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:membersData.pageIndex===0,onClick:function onClick(event){return setPageId(function(prevValue){return prevValue-1;});},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,children:LocalizeText('group.members.pageinfo',['amount','page','totalPages'],[membersData.totalMembersCount.toString(),(membersData.pageIndex+1).toString(),totalPages.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:membersData.pageIndex===totalPages-1,onClick:function onClick(event){return setPageId(function(prevValue){return prevValue+1;});},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/groups/GroupsView.tsx\nvar GroupsView_GroupsView=function GroupsView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isCreatorVisible=_useState2[0],setCreatorVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),groupCustomize=_useState4[0],setGroupCustomize=_useState4[1];var onGroupPurchasedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setCreatorVisible(false);TryVisitRoom(parser.roomId);},[]);UseMessageEventHook(nitro_renderer[\"Vc\" /* GroupPurchasedEvent */],onGroupPurchasedEvent);var onGroupBadgePartsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var customize={badgeBases:[],badgeSymbols:[],badgePartColors:[],groupColorsA:[],groupColorsB:[]};parser.bases.forEach(function(images,id){return customize.badgeBases.push({id:id,images:images});});parser.symbols.forEach(function(images,id){return customize.badgeSymbols.push({id:id,images:images});});parser.partColors.forEach(function(color,id){return customize.badgePartColors.push({id:id,color:color});});parser.colorsA.forEach(function(color,id){return customize.groupColorsA.push({id:id,color:color});});parser.colorsB.forEach(function(color,id){return customize.groupColorsB.push({id:id,color:color});});customize.badgeBases.sort(CompareId);customize.badgeSymbols.sort(CompareId);customize.badgePartColors.sort(CompareId);customize.groupColorsA.sort(CompareId);customize.groupColorsB.sort(CompareId);setGroupCustomize(customize);},[setGroupCustomize]);UseMessageEventHook(nitro_renderer[\"Fc\" /* GroupBadgePartsEvent */],onGroupBadgePartsEvent);var linkReceived=Object(react[\"useCallback\"])(function(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'create':setCreatorVisible(true);return;case'manage':if(!parts[2])return;setCreatorVisible(false);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"cd\" /* GroupSettingsComposer */](Number(parts[2])));return;}},[]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:linkReceived,eventUrlPrefix:'groups/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[linkReceived]);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ec\" /* GroupBadgePartsComposer */]());},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GroupsContext_GroupsContextProvider,{value:{groupCustomize:groupCustomize,setGroupCustomize:setGroupCustomize},children:[isCreatorVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupCreatorView_GroupCreatorView,{onClose:function onClose(){return setCreatorVisible(false);}}),!isCreatorVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupManagerView_GroupManagerView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupMembersView_GroupMembersView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupInformationStandaloneView_GroupInformationStandaloneView,{})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/common/GuideSessionState.ts\nvar GuideSessionState_GuideSessionState=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function GuideSessionState(){Object(classCallCheck[\"a\" /* default */])(this,GuideSessionState);});GuideSessionState_GuideSessionState.NONE='NONE';GuideSessionState_GuideSessionState.ERROR='ERROR';GuideSessionState_GuideSessionState.REJECTED='REJECTED';GuideSessionState_GuideSessionState.USER_CREATE='USER_CREATE';GuideSessionState_GuideSessionState.USER_PENDING='USER_PENDING';GuideSessionState_GuideSessionState.USER_ONGOING='USER_ONGOING';GuideSessionState_GuideSessionState.USER_FEEDBACK='USER_FEEDBACK';GuideSessionState_GuideSessionState.USER_THANKS='USER_THANKS';GuideSessionState_GuideSessionState.USER_GUIDE_DISCONNECTED='USER_GUIDE_DISCONNECTED';GuideSessionState_GuideSessionState.GUIDE_TOOL_MENU='GUIDE_TOOL_MENU';GuideSessionState_GuideSessionState.GUIDE_ACCEPT='GUIDE_ACCEPT';GuideSessionState_GuideSessionState.GUIDE_ONGOING='GUIDE_ONGOING';GuideSessionState_GuideSessionState.GUIDE_CLOSED='GUIDE_CLOSED';GuideSessionState_GuideSessionState.GUARDIAN_CHAT_REVIEW_ACCEPT='GUARDIAN_CHAT_REVIEW_ACCEPT';GuideSessionState_GuideSessionState.GUARDIAN_CHAT_REVIEW_WAIT_FOR_VOTERS='GUARDIAN_CHAT_REVIEW_WAIT_FOR_VOTERS';GuideSessionState_GuideSessionState.GUARDIAN_CHAT_REVIEW_VOTE='GUARDIAN_CHAT_REVIEW_VOTE';GuideSessionState_GuideSessionState.GUARDIAN_CHAT_REVIEW_WAIT_FOR_RESULTS='GUARDIAN_CHAT_REVIEW_WAIT_FOR_RESULTS';GuideSessionState_GuideSessionState.GUARDIAN_CHAT_REVIEW_RESULTS='GUARDIAN_CHAT_REVIEW_RESULTS';\n// CONCATENATED MODULE: ./src/components/guide-tool/common/GuideToolMessage.ts\nvar GuideToolMessage_GuideToolMessage=/*#__PURE__*/function(){function GuideToolMessage(message,roomId){Object(classCallCheck[\"a\" /* default */])(this,GuideToolMessage);this._message=void 0;this._roomId=void 0;this._message=message;this._roomId=roomId;}Object(createClass[\"a\" /* default */])(GuideToolMessage,[{key:\"message\",get:function get(){return this._message;}},{key:\"roomId\",get:function get(){return this._roomId;}}]);return GuideToolMessage;}();\n// CONCATENATED MODULE: ./src/components/guide-tool/common/GuideToolMessageGroup.ts\nvar GuideToolMessageGroup_GuideToolMessageGroup=/*#__PURE__*/function(){function GuideToolMessageGroup(userId){Object(classCallCheck[\"a\" /* default */])(this,GuideToolMessageGroup);this._userId=void 0;this._messages=void 0;this._userId=userId;this._messages=[];}Object(createClass[\"a\" /* default */])(GuideToolMessageGroup,[{key:\"addChat\",value:function addChat(message){this._messages.push(message);}},{key:\"userId\",get:function get(){return this._userId;}},{key:\"messages\",get:function get(){return this._messages;}}]);return GuideToolMessageGroup;}();\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolAcceptView.tsx\nvar GuideToolAcceptView_GuideToolAcceptView=function GuideToolAcceptView(props){var _props$helpRequestDes=props.helpRequestDescription,helpRequestDescription=_props$helpRequestDes===void 0?null:_props$helpRequestDes,_props$helpRequestAve=props.helpRequestAverageTime,helpRequestAverageTime=_props$helpRequestAve===void 0?0:_props$helpRequestAve;var answerRequest=function answerRequest(response){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"md\" /* GuideSessionGuideDecidesMessageComposer */](response));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,className:\"bg-muted p-2 rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('guide.help.request.guide.accept.request.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"muted\",children:LocalizeText('guide.help.request.type.1')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{wrap:true,textBreak:true,children:helpRequestDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return answerRequest(true);},children:LocalizeText('guide.help.request.guide.accept.accept.button')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(event){return answerRequest(false);},children:LocalizeText('guide.help.request.guide.accept.skip.link')})]})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolMenuView.tsx\nvar GuideToolMenuView_GuideToolMenuView=function GuideToolMenuView(props){var _props$isOnDuty=props.isOnDuty,isOnDuty=_props$isOnDuty===void 0?false:_props$isOnDuty,_props$isHandlingGuid=props.isHandlingGuideRequests,isHandlingGuideRequests=_props$isHandlingGuid===void 0?false:_props$isHandlingGuid,_props$setIsHandlingG=props.setIsHandlingGuideRequests,setIsHandlingGuideRequests=_props$setIsHandlingG===void 0?null:_props$setIsHandlingG,_props$isHandlingHelp=props.isHandlingHelpRequests,isHandlingHelpRequests=_props$isHandlingHelp===void 0?false:_props$isHandlingHelp,_props$setIsHandlingH=props.setIsHandlingHelpRequests,setIsHandlingHelpRequests=_props$setIsHandlingH===void 0?null:_props$setIsHandlingH,_props$isHandlingBull=props.isHandlingBullyReports,isHandlingBullyReports=_props$isHandlingBull===void 0?false:_props$isHandlingBull,_props$setIsHandlingB=props.setIsHandlingBullyReports,setIsHandlingBullyReports=_props$setIsHandlingB===void 0?null:_props$setIsHandlingB,_props$guidesOnDuty=props.guidesOnDuty,guidesOnDuty=_props$guidesOnDuty===void 0?0:_props$guidesOnDuty,_props$helpersOnDuty=props.helpersOnDuty,helpersOnDuty=_props$helpersOnDuty===void 0?0:_props$helpersOnDuty,_props$guardiansOnDut=props.guardiansOnDuty,guardiansOnDuty=_props$guardiansOnDut===void 0?0:_props$guardiansOnDut,_props$processAction=props.processAction,processAction=_props$processAction===void 0?null:_props$processAction;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,className:\"bg-muted p-2 rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:'duty-switch'+(isOnDuty?'':' off'),onClick:function onClick(event){return processAction('toggle_duty');}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('guide.help.guide.tool.yourstatus')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(\"guide.help.guide.tool.duty.\".concat(isOnDuty?'on':'off'))})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('guide.help.guide.tool.tickettypeselection.caption')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",disabled:isOnDuty,type:\"checkbox\",checked:isHandlingGuideRequests,onChange:function onChange(event){return setIsHandlingGuideRequests(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.guide.tool.tickettypeselection.guiderequests')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",disabled:isOnDuty,type:\"checkbox\",checked:isHandlingHelpRequests,onChange:function onChange(event){return setIsHandlingHelpRequests(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.guide.tool.tickettypeselection.onlyhelprequests')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",disabled:isOnDuty,type:\"checkbox\",checked:isHandlingBullyReports,onChange:function onChange(event){return setIsHandlingBullyReports(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.guide.tool.tickettypeselection.bullyreports')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"bg-dark m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"info-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{dangerouslySetInnerHTML:{__html:LocalizeText('guide.help.guide.tool.guidesonduty',['amount'],[guidesOnDuty.toString()])}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{dangerouslySetInnerHTML:{__html:LocalizeText('guide.help.guide.tool.helpersonduty',['amount'],[helpersOnDuty.toString()])}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{dangerouslySetInnerHTML:{__html:LocalizeText('guide.help.guide.tool.guardiansonduty',['amount'],[guardiansOnDuty.toString()])}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"bg-dark m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:true,onClick:function onClick(event){return processAction('forum_link');},children:LocalizeText('guide.help.guide.tool.forum.link')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:true,children:LocalizeText('guide.help.guide.tool.skill.link')})]})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolOngoingView.tsx\nvar GuideToolOngoingView_GuideToolOngoingView=function GuideToolOngoingView(props){var _props$isGuide=props.isGuide,isGuide=_props$isGuide===void 0?false:_props$isGuide,_props$userId=props.userId,userId=_props$userId===void 0?0:_props$userId,_props$userName=props.userName,userName=_props$userName===void 0?null:_props$userName,_props$userFigure=props.userFigure,userFigure=_props$userFigure===void 0?null:_props$userFigure,_props$isTyping=props.isTyping,isTyping=_props$isTyping===void 0?false:_props$isTyping,_props$messageGroups=props.messageGroups,messageGroups=_props$messageGroups===void 0?[]:_props$messageGroups;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messageText=_useState2[0],setMessageText=_useState2[1];var visit=Object(react[\"useCallback\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ld\" /* GuideSessionGetRequesterRoomMessageComposer */]());},[]);var invite=Object(react[\"useCallback\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"nd\" /* GuideSessionInviteRequesterMessageComposer */]());},[]);var resolve=Object(react[\"useCallback\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"vd\" /* GuideSessionResolvedMessageComposer */]());},[]);var onGuideSessionRequesterRoomMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();TryVisitRoom(parser.requesterRoomId);},[]);UseMessageEventHook(nitro_renderer[\"ud\" /* GuideSessionRequesterRoomMessageEvent */],onGuideSessionRequesterRoomMessageEvent);var sendMessage=Object(react[\"useCallback\"])(function(){if(!messageText||!messageText.length)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"pd\" /* GuideSessionMessageMessageComposer */](messageText));setMessageText('');},[messageText]);var onKeyDown=Object(react[\"useCallback\"])(function(event){if(event.key!=='Enter')return;sendMessage();},[sendMessage]);var isOwnChat=Object(react[\"useCallback\"])(function(userId){return userId===GetSessionDataManager().userId;},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullHeight:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,className:\"bg-muted p-2 rounded\",children:[isGuide&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup_ButtonGroup,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:visit,children:LocalizeText('guide.help.request.guide.ongoing.visit.button')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:true,onClick:invite,children:LocalizeText('guide.help.request.guide.ongoing.invite.button')})]}),!isGuide&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.request.user.ongoing.guide.desc')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",disabled:true,children:LocalizeText('guide.help.common.report.link')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"hidden\",gap:1,className:\"bg-muted rounded chat-messages p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"auto\",children:messageGroups.map(function(group,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,justifyContent:isOwnChat(group.userId)?'end':'start',gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{shrink:true,className:\"message-avatar\",children:!isOwnChat(group.userId)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:userFigure,direction:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:'bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-'+(isOwnChat(group.userId)?'right':'left'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{bold:true,children:[isOwnChat(group.userId)&&GetSessionDataManager().userName,!isOwnChat(group.userId)&&userName]}),group.messages.map(function(chat,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"text-break\",children:chat.message},index);})]}),isOwnChat(group.userId)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"message-avatar flex-shrink-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:GetSessionDataManager().figure,direction:4})})]},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('guide.help.request.guide.ongoing.input.empty',['name'],[userName]),value:messageText,onChange:function onChange(event){return setMessageText(event.target.value);},onKeyDown:onKeyDown}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:sendMessage,children:LocalizeText('widgets.chatinput.say')})]}),isTyping&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"muted\",children:LocalizeText('guide.help.common.typing')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:resolve,children:LocalizeText('guide.help.request.'+(isGuide?'guide':'user')+'.ongoing.close.link')})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolUserCreateRequestView.tsx\nvar MIN_REQUEST_LENGTH=15;var GuideToolUserCreateRequestView_GuideToolUserCreateRequestView=function GuideToolUserCreateRequestView(props){var _props$userRequest=props.userRequest,userRequest=_props$userRequest===void 0?'':_props$userRequest,_props$setUserRequest=props.setUserRequest,setUserRequest=_props$setUserRequest===void 0?null:_props$setUserRequest;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isPending=_useState2[0],setIsPending=_useState2[1];var sendRequest=function sendRequest(){setIsPending(true);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"hd\" /* GuideSessionCreateMessageComposer */](1,userRequest));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('guide.help.request.user.create.help')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"request-message\",maxLength:140,value:userRequest,onChange:function onChange(event){return setUserRequest(event.target.value);},placeholder:LocalizeText('guide.help.request.user.create.input.help')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",disabled:userRequest.length<MIN_REQUEST_LENGTH||isPending,onClick:sendRequest,children:LocalizeText('guide.help.request.user.create.input.button')})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolUserFeedbackView.tsx\nvar GuideToolUserFeedbackView_GuideToolUserFeedbackView=function GuideToolUserFeedbackView(props){var _props$userName=props.userName,userName=_props$userName===void 0?null:_props$userName;var giveFeedback=Object(react[\"useCallback\"])(function(recommend){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"kd\" /* GuideSessionFeedbackMessageComposer */](recommend));},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",gap:1,className:\"bg-muted p-2 rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.request.user.feedback.guide.desc')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",disabled:true,children:LocalizeText('guide.help.common.report.link')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('guide.help.request.user.feedback.closed.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.request.user.feedback.closed.desc')})]}),userName&&userName.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"bg-dark m-0 mt-auto\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,bold:true,children:LocalizeText('guide.help.request.user.feedback.question')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:function onClick(event){return giveFeedback(true);},children:LocalizeText('guide.help.request.user.feedback.positive.button')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"danger\",onClick:function onClick(event){return giveFeedback(false);},children:LocalizeText('guide.help.request.user.feedback.negative.button')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolUserPendingView.tsx\nvar GuideToolUserPendingView_GuideToolUserPendingView=function GuideToolUserPendingView(props){var _props$helpRequestDes=props.helpRequestDescription,helpRequestDescription=_props$helpRequestDes===void 0?null:_props$helpRequestDes,_props$helpRequestAve=props.helpRequestAverageTime,helpRequestAverageTime=_props$helpRequestAve===void 0?0:_props$helpRequestAve;var cancelRequest=function cancelRequest(){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"td\" /* GuideSessionRequesterCancelsMessageComposer */]());};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,className:\"bg-muted rounded p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('guide.help.request.guide.accept.request.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"muted\",children:LocalizeText('guide.help.request.type.1')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{wrap:true,textBreak:true,children:helpRequestDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('guide.help.request.user.pending.info.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.request.user.pending.info.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.request.user.pending.info.waiting',['waitingtime'],[helpRequestAverageTime.toString()])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:cancelRequest,children:LocalizeText('guide.help.request.user.pending.cancel.button')})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/views/GuideToolUserThanksView.tsx\nvar GuideToolUserThanksView_GuideToolUserThanksView=function GuideToolUserThanksView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('guide.help.request.user.thanks.info.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('guide.help.request.user.thanks.info.desc')})]});};\n// CONCATENATED MODULE: ./src/components/guide-tool/GuideToolView.tsx\nvar GuideToolView_GuideToolView=function GuideToolView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(LocalizeText('guide.help.guide.tool.title')),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),headerText=_useState4[0],setHeaderText=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),noCloseButton=_useState6[0],setNoCloseButton=_useState6[1];var _useState7=Object(react[\"useState\"])(GuideSessionState_GuideSessionState.GUIDE_TOOL_MENU),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),sessionState=_useState8[0],setSessionState=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isOnDuty=_useState10[0],setIsOnDuty=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isHandlingBullyReports=_useState12[0],setIsHandlingBullyReports=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),isHandlingGuideRequests=_useState14[0],setIsHandlingGuideRequests=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),isHandlingHelpRequests=_useState16[0],setIsHandlingHelpRequests=_useState16[1];var _useState17=Object(react[\"useState\"])(0),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),helpersOnDuty=_useState18[0],setHelpersOnDuty=_useState18[1];var _useState19=Object(react[\"useState\"])(0),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),guidesOnDuty=_useState20[0],setGuidesOnDuty=_useState20[1];var _useState21=Object(react[\"useState\"])(0),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),guardiansOnDuty=_useState22[0],setGuardiansOnDuty=_useState22[1];var _useState23=Object(react[\"useState\"])(''),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),userRequest=_useState24[0],setUserRequest=_useState24[1];var _useState25=Object(react[\"useState\"])(null),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),helpRequestDescription=_useState26[0],setHelpRequestDescription=_useState26[1];var _useState27=Object(react[\"useState\"])(0),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),helpRequestAverageTime=_useState28[0],setHelpRequestAverageTime=_useState28[1];var _useState29=Object(react[\"useState\"])(0),_useState30=Object(slicedToArray[\"a\" /* default */])(_useState29,2),ongoingUserId=_useState30[0],setOngoingUserId=_useState30[1];var _useState31=Object(react[\"useState\"])(null),_useState32=Object(slicedToArray[\"a\" /* default */])(_useState31,2),ongoingUsername=_useState32[0],setOngoingUsername=_useState32[1];var _useState33=Object(react[\"useState\"])(null),_useState34=Object(slicedToArray[\"a\" /* default */])(_useState33,2),ongoingFigure=_useState34[0],setOngoingFigure=_useState34[1];var _useState35=Object(react[\"useState\"])(false),_useState36=Object(slicedToArray[\"a\" /* default */])(_useState35,2),ongoingIsTyping=_useState36[0],setOngoingIsTyping=_useState36[1];var _useState37=Object(react[\"useState\"])([]),_useState38=Object(slicedToArray[\"a\" /* default */])(_useState37,2),ongoingMessageGroups=_useState38[0],setOngoingMessageGroups=_useState38[1];var updateSessionState=Object(react[\"useCallback\"])(function(newState,replacement){switch(newState){case GuideSessionState_GuideSessionState.GUIDE_TOOL_MENU:setHeaderText(LocalizeText('guide.help.guide.tool.title'));setNoCloseButton(false);break;case GuideSessionState_GuideSessionState.GUIDE_ACCEPT:setHeaderText(LocalizeText('guide.help.request.guide.accept.title'));setNoCloseButton(true);break;case GuideSessionState_GuideSessionState.GUIDE_ONGOING:setHeaderText(LocalizeText('guide.help.request.guide.ongoing.title',['name'],[replacement]));setNoCloseButton(true);break;case GuideSessionState_GuideSessionState.USER_CREATE:setHeaderText(LocalizeText('guide.help.request.user.create.title'));setNoCloseButton(false);break;case GuideSessionState_GuideSessionState.USER_PENDING:setHeaderText(LocalizeText('guide.help.request.user.pending.title'));setNoCloseButton(true);break;case GuideSessionState_GuideSessionState.USER_ONGOING:setHeaderText(LocalizeText('guide.help.request.user.ongoing.title',['name'],[replacement]));setNoCloseButton(true);break;case GuideSessionState_GuideSessionState.USER_FEEDBACK:setHeaderText(LocalizeText('guide.help.request.user.feedback.title'));setNoCloseButton(true);break;case GuideSessionState_GuideSessionState.USER_THANKS:setHeaderText(LocalizeText('guide.help.request.user.thanks.title'));setNoCloseButton(false);break;}setSessionState(newState);setIsVisible(true);},[]);var onGuideToolEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case GuideToolEvent_GuideToolEvent.SHOW_GUIDE_TOOL:setIsVisible(true);return;case GuideToolEvent_GuideToolEvent.HIDE_GUIDE_TOOL:setIsVisible(false);return;case GuideToolEvent_GuideToolEvent.TOGGLE_GUIDE_TOOL:setIsVisible(function(value){return!value;});return;case GuideToolEvent_GuideToolEvent.CREATE_HELP_REQUEST:updateSessionState(GuideSessionState_GuideSessionState.USER_CREATE);return;}},[updateSessionState]);UseUiEvent_UseUiEvent(GuideToolEvent_GuideToolEvent.SHOW_GUIDE_TOOL,onGuideToolEvent);UseUiEvent_UseUiEvent(GuideToolEvent_GuideToolEvent.HIDE_GUIDE_TOOL,onGuideToolEvent);UseUiEvent_UseUiEvent(GuideToolEvent_GuideToolEvent.TOGGLE_GUIDE_TOOL,onGuideToolEvent);UseUiEvent_UseUiEvent(GuideToolEvent_GuideToolEvent.CREATE_HELP_REQUEST,onGuideToolEvent);var onPerkAllowancesMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser.isAllowed(nitro_renderer[\"gf\" /* PerkEnum */].USE_GUIDE_TOOL)&&isOnDuty){setIsOnDuty(false);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"rd\" /* GuideSessionOnDutyUpdateMessageComposer */](false,false,false,false));}},[isOnDuty,setIsOnDuty]);UseMessageEventHook(nitro_renderer[\"ff\" /* PerkAllowancesMessageEvent */],onPerkAllowancesMessageEvent);var onGuideOnDutyStatusMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setIsOnDuty(parser.onDuty);setGuidesOnDuty(parser.guidesOnDuty);setHelpersOnDuty(parser.helpersOnDuty);setGuardiansOnDuty(parser.guardiansOnDuty);},[setIsOnDuty,setHelpersOnDuty,setGuidesOnDuty,setGuardiansOnDuty]);UseMessageEventHook(nitro_renderer[\"fd\" /* GuideOnDutyStatusMessageEvent */],onGuideOnDutyStatusMessageEvent);var onGuideSessionAttachedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setHelpRequestDescription(parser.helpRequestDescription);setHelpRequestAverageTime(parser.roleSpecificWaitTime);if(parser.asGuide&&isOnDuty)updateSessionState(GuideSessionState_GuideSessionState.GUIDE_ACCEPT);if(!parser.asGuide)updateSessionState(GuideSessionState_GuideSessionState.USER_PENDING);},[isOnDuty,updateSessionState]);UseMessageEventHook(nitro_renderer[\"gd\" /* GuideSessionAttachedMessageEvent */],onGuideSessionAttachedMessageEvent);var onGuideSessionStartedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(isOnDuty){setOngoingUserId(parser.requesterUserId);setOngoingUsername(parser.requesterName);setOngoingFigure(parser.requesterFigure);updateSessionState(GuideSessionState_GuideSessionState.GUIDE_ONGOING,parser.requesterName);}else{setOngoingUserId(parser.guideUserId);setOngoingUsername(parser.guideName);setOngoingFigure(parser.guideFigure);updateSessionState(GuideSessionState_GuideSessionState.USER_ONGOING,parser.guideName);}},[isOnDuty,updateSessionState]);UseMessageEventHook(nitro_renderer[\"wd\" /* GuideSessionStartedMessageEvent */],onGuideSessionStartedMessageEvent);var onGuideSessionPartnerIsTypingMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setOngoingIsTyping(parser.isTyping);},[]);UseMessageEventHook(nitro_renderer[\"sd\" /* GuideSessionPartnerIsTypingMessageEvent */],onGuideSessionPartnerIsTypingMessageEvent);var onGuideSessionMessageMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var messageGroups=Object(toConsumableArray[\"a\" /* default */])(ongoingMessageGroups);var lastGroup=messageGroups[messageGroups.length-1];if(!lastGroup||lastGroup.userId!==parser.senderId){lastGroup=new GuideToolMessageGroup_GuideToolMessageGroup(parser.senderId);messageGroups.push(lastGroup);}lastGroup.addChat(new GuideToolMessage_GuideToolMessage(parser.chatMessage));setOngoingMessageGroups(messageGroups);},[ongoingMessageGroups]);UseMessageEventHook(nitro_renderer[\"qd\" /* GuideSessionMessageMessageEvent */],onGuideSessionMessageMessageEvent);var onGuideSessionInvitedToGuideRoomMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var messageGroups=Object(toConsumableArray[\"a\" /* default */])(ongoingMessageGroups);var lastGroup=messageGroups[messageGroups.length-1];var guideId=isOnDuty?GetSessionDataManager().userId:ongoingUserId;if(!lastGroup||lastGroup.userId!==guideId){lastGroup=new GuideToolMessageGroup_GuideToolMessageGroup(guideId);messageGroups.push(lastGroup);}lastGroup.addChat(new GuideToolMessage_GuideToolMessage(parser.roomName,parser.roomId));setOngoingMessageGroups(messageGroups);},[isOnDuty,ongoingMessageGroups,ongoingUserId]);UseMessageEventHook(nitro_renderer[\"od\" /* GuideSessionInvitedToGuideRoomMessageEvent */],onGuideSessionInvitedToGuideRoomMessageEvent);var onGuideSessionEndedMessageEvent=Object(react[\"useCallback\"])(function(event){if(isOnDuty){setOngoingUserId(0);setOngoingUsername(null);setOngoingFigure(null);setOngoingIsTyping(false);setOngoingMessageGroups([]);updateSessionState(GuideSessionState_GuideSessionState.GUIDE_TOOL_MENU);}else{updateSessionState(GuideSessionState_GuideSessionState.USER_FEEDBACK);}},[isOnDuty,updateSessionState]);UseMessageEventHook(nitro_renderer[\"jd\" /* GuideSessionEndedMessageEvent */],onGuideSessionEndedMessageEvent);var onGuideSessionDetachedMessageEvent=Object(react[\"useCallback\"])(function(event){setOngoingUserId(0);setOngoingUsername(null);setOngoingFigure(null);setOngoingIsTyping(false);setOngoingMessageGroups([]);if(isOnDuty){updateSessionState(GuideSessionState_GuideSessionState.GUIDE_TOOL_MENU);}else{updateSessionState(GuideSessionState_GuideSessionState.USER_THANKS);}},[isOnDuty,updateSessionState]);UseMessageEventHook(nitro_renderer[\"id\" /* GuideSessionDetachedMessageEvent */],onGuideSessionDetachedMessageEvent);var linkReceived=Object(react[\"useCallback\"])(function(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'tour'://Create Tour Request\nreturn;}},[]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:linkReceived,eventUrlPrefix:'help/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[linkReceived]);var processAction=Object(react[\"useCallback\"])(function(action){switch(action){case'close':setIsVisible(false);setUserRequest('');setSessionState(GuideSessionState_GuideSessionState.GUIDE_TOOL_MENU);return;case'toggle_duty':if(!isHandlingBullyReports&&!isHandlingGuideRequests&&!isHandlingHelpRequests){DispatchUiEvent_DispatchUiEvent(new NotificationAlertEvent_NotificationAlertEvent([LocalizeText('guide.help.guide.tool.noqueueselected.message')],null,null,null,LocalizeText('guide.help.guide.tool.noqueueselected.caption'),null));return;}setIsOnDuty(function(v){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"rd\" /* GuideSessionOnDutyUpdateMessageComposer */](!v,v?false:isHandlingGuideRequests,v?false:isHandlingHelpRequests,v?false:isHandlingBullyReports));return!v;});return;case'forum_link':var url=GetConfiguration('group.homepage.url','').replace('%groupid%',GetConfiguration('guide.help.alpha.groupid','0'));window.open(url);return;}},[isHandlingBullyReports,isHandlingGuideRequests,isHandlingHelpRequests]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-guide-tool\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:headerText,onCloseClick:function onCloseClick(event){return processAction('close');},noCloseButton:noCloseButton}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[sessionState===GuideSessionState_GuideSessionState.GUIDE_TOOL_MENU&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolMenuView_GuideToolMenuView,{isOnDuty:isOnDuty,isHandlingGuideRequests:isHandlingGuideRequests,setIsHandlingGuideRequests:setIsHandlingGuideRequests,isHandlingHelpRequests:isHandlingHelpRequests,setIsHandlingHelpRequests:setIsHandlingHelpRequests,isHandlingBullyReports:isHandlingBullyReports,setIsHandlingBullyReports:setIsHandlingBullyReports,guidesOnDuty:guidesOnDuty,helpersOnDuty:helpersOnDuty,guardiansOnDuty:guardiansOnDuty,processAction:processAction}),sessionState===GuideSessionState_GuideSessionState.GUIDE_ACCEPT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolAcceptView_GuideToolAcceptView,{helpRequestDescription:helpRequestDescription,helpRequestAverageTime:helpRequestAverageTime}),[GuideSessionState_GuideSessionState.GUIDE_ONGOING,GuideSessionState_GuideSessionState.USER_ONGOING].includes(sessionState)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolOngoingView_GuideToolOngoingView,{isGuide:isOnDuty,userId:ongoingUserId,userName:ongoingUsername,userFigure:ongoingFigure,isTyping:ongoingIsTyping,messageGroups:ongoingMessageGroups}),sessionState===GuideSessionState_GuideSessionState.USER_CREATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolUserCreateRequestView_GuideToolUserCreateRequestView,{userRequest:userRequest,setUserRequest:setUserRequest}),sessionState===GuideSessionState_GuideSessionState.USER_PENDING&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolUserPendingView_GuideToolUserPendingView,{helpRequestDescription:helpRequestDescription,helpRequestAverageTime:helpRequestAverageTime}),sessionState===GuideSessionState_GuideSessionState.USER_FEEDBACK&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolUserFeedbackView_GuideToolUserFeedbackView,{userName:ongoingUsername}),sessionState===GuideSessionState_GuideSessionState.USER_THANKS&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolUserThanksView_GuideToolUserThanksView,{})]})]});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Popover.js + 3 modules\nvar Popover = __webpack_require__(131);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/OverlayTrigger.js + 3 modules\nvar OverlayTrigger = __webpack_require__(196);\n\n// CONCATENATED MODULE: ./src/components/hc-center/HcCenterView.tsx\nvar HcCenterView_HcCenterView=function HcCenterView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),kickbackData=_useState4[0],setKickbackData=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),unclaimedGifts=_useState6[0],setUnclaimedGifts=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),badgeCode=_useState8[0],setBadgeCode=_useState8[1];var _useSessionInfo=useSessionInfo_useSessionInfo(),_useSessionInfo$userF=_useSessionInfo.userFigure,userFigure=_useSessionInfo$userF===void 0?null:_useSessionInfo$userF;var _usePurse=usePurse_usePurse(),_usePurse$purse=_usePurse.purse,purse=_usePurse$purse===void 0?null:_usePurse$purse,_usePurse$clubStatus=_usePurse.clubStatus,clubStatus=_usePurse$clubStatus===void 0?null:_usePurse$clubStatus;var _useInventoryBadges=useInventoryBadges_useInventoryBadges(),_useInventoryBadges$b=_useInventoryBadges.badgeCodes,badgeCodes=_useInventoryBadges$b===void 0?[]:_useInventoryBadges$b,_useInventoryBadges$a=_useInventoryBadges.activate,activate=_useInventoryBadges$a===void 0?null:_useInventoryBadges$a,_useInventoryBadges$d=_useInventoryBadges.deactivate,deactivate=_useInventoryBadges$d===void 0?null:_useInventoryBadges$d;var getClubText=function getClubText(){if(purse.clubDays<=0)return LocalizeText('purse.clubdays.zero.amount.text');if(purse.minutesUntilExpiration>-1&&purse.minutesUntilExpiration<60*24){return nitro_renderer[\"Ib\" /* FriendlyTime */].shortFormat(purse.minutesUntilExpiration*60);}return nitro_renderer[\"Ib\" /* FriendlyTime */].shortFormat((purse.clubPeriods*31+purse.clubDays)*86400);};var getInfoText=function getInfoText(){switch(clubStatus){case ClubStatus_ClubStatus.ACTIVE:return LocalizeText(\"hccenter.status.\".concat(clubStatus,\".info\"),['timeleft','joindate','streakduration'],[getClubText(),kickbackData.firstSubscriptionDate,nitro_renderer[\"Ib\" /* FriendlyTime */].shortFormat(kickbackData.currentHcStreak*86400)]);case ClubStatus_ClubStatus.EXPIRED:return LocalizeText(\"hccenter.status.\".concat(clubStatus,\".info\"),['joindate'],[kickbackData.firstSubscriptionDate]);default:return LocalizeText(\"hccenter.status.\".concat(clubStatus,\".info\"));}};var getHcPaydayTime=function getHcPaydayTime(){return kickbackData.timeUntilPayday<60?LocalizeText('hccenter.special.time.soon'):nitro_renderer[\"Ib\" /* FriendlyTime */].shortFormat(kickbackData.timeUntilPayday*60);};var getHcPaydayAmount=function getHcPaydayAmount(){return LocalizeText('hccenter.special.sum',['credits'],[(kickbackData.creditRewardForStreakBonus+kickbackData.creditRewardForMonthlySpent).toString()]);};var onClubGiftInfoEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setUnclaimedGifts(parser.giftsAvailable);},[]);UseMessageEventHook(nitro_renderer[\"fb\" /* ClubGiftInfoEvent */],onClubGiftInfoEvent);var onScrSendKickbackInfo=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setKickbackData(parser.data);},[]);UseMessageEventHook(nitro_renderer[\"Ah\" /* ScrSendKickbackInfoMessageEvent */],onScrSendKickbackInfo);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'open':if(parts.length>2){switch(parts[2]){case'hccenter':setIsVisible(true);break;}}return;}},eventUrlPrefix:'habboUI/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[]);Object(react[\"useEffect\"])(function(){setBadgeCode(GetClubBadge(badgeCodes));},[badgeCodes]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;var id=activate();return function(){return deactivate(id);};},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"fc\" /* GetClubGiftInfo */]());SendMessageComposer_SendMessageComposer(new nitro_renderer[\"zh\" /* ScrGetKickbackInfoMessageComposer */]());},[]);if(!isVisible)return null;var popover=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],{id:\"popover-basic\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Popover[\"a\" /* default */].Body,{className:\"text-black py-2 px-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:LocalizeText('hccenter.breakdown.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.breakdown.creditsspent',['credits'],[kickbackData.totalCreditsSpent.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.breakdown.paydayfactor.percent',['percent'],[(kickbackData.kickbackPercentage*100).toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.breakdown.streakbonus',['credits'],[kickbackData.creditRewardForStreakBonus.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"w-100 text-black my-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.breakdown.total',['credits','actual'],[getHcPaydayAmount(),((kickbackData.kickbackPercentage*kickbackData.totalCreditsSpent+kickbackData.creditRewardForStreakBonus)*100/100).toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn btn-link text-primary p-0\",onClick:function onClick(){return CreateLinkEvent('habbopages/'+GetConfiguration('hc.center')['payday.habbopage']);},children:LocalizeText('hccenter.special.infolink')})]})});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{theme:\"primary-slim\",className:\"nitro-hc-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('generic.hccenter'),onCloseClick:function onCloseClick(){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{position:\"relative\",className:\"bg-muted p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"hc-logo\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return CreateLinkEvent('catalog/open/'+GetConfiguration('catalog.links')['hc.buy_hc']);},children:LocalizeText(clubStatus===ClubStatus_ClubStatus.ACTIVE?'hccenter.btn.extend':'hccenter.btn.buy')})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{position:\"absolute\",className:\"end-0 p-4 top-0 habbo-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:userFigure,direction:4,scale:2})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:badgeCode,className:\"align-self-center flex-shrink-0 me-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,className:\"streak-info\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('hccenter.status.'+clubStatus)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{dangerouslySetInnerHTML:{__html:getInfoText()}})]})]}),GetConfiguration('hc.center')['payday.info']&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"rounded-start bg-primary p-2 payday-special mb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"mb-1\",children:LocalizeText('hccenter.special.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('hccenter.special.info')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn btn-link text-white p-0 mt-auto align-self-baseline\",onClick:function onClick(){return CreateLinkEvent('habbopages/'+GetConfiguration('hc.center')['payday.habbopage']);},children:LocalizeText('hccenter.special.infolink')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"payday flex-shrink-0 p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"mb-2 ms-2\",children:LocalizeText('hccenter.special.time.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-row mb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"clock me-2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h6\",{className:\"mb-0 align-self-center\",children:getHcPaydayTime()})]}),clubStatus===ClubStatus_ClubStatus.ACTIVE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"pe-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"ms-2 mb-1 bolder\",children:LocalizeText('hccenter.special.amount.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100 text-center ms-4n\",children:getHcPaydayAmount()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OverlayTrigger[\"a\" /* default */],{trigger:['hover','focus'],placement:\"left\",overlay:popover,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn btn-link align-self-end text-primary\",children:LocalizeText('hccenter.breakdown.infolink')})})]})]})]})]}),GetConfiguration('hc.center')['gift.info']&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"rounded bg-success p-2 d-flex flex-row mb-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"mb-1\",children:LocalizeText('hccenter.gift.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{dangerouslySetInnerHTML:{__html:unclaimedGifts>0?LocalizeText('hccenter.unclaimedgifts',['unclaimedgifts'],[unclaimedGifts.toString()]):LocalizeText('hccenter.gift.info')}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary btn-lg align-self-center ms-auto\",onClick:function onClick(){return CreateLinkEvent('catalog/open/'+GetConfiguration('catalog.links')['hc.hc_gifts']);},children:LocalizeText(clubStatus===ClubStatus_ClubStatus.ACTIVE?'hccenter.btn.gifts.redeem':'hccenter.btn.gifts.view')})]}),GetConfiguration('hc.center')['benefits.info']&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"benefits text-black py-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"mb-1 text-primary\",children:LocalizeText('hccenter.general.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mb-2\",dangerouslySetInnerHTML:{__html:LocalizeText('hccenter.general.info')}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-link p-0 text-primary\",onClick:function onClick(){return CreateLinkEvent('habbopages/'+GetConfiguration('hc.center')['benefits.habbopage']);},children:LocalizeText('hccenter.general.infolink')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/help/HelpContext.tsx\nvar HelpContext=/*#__PURE__*/Object(react[\"createContext\"])({helpReportState:null,setHelpReportState:null});var HelpContext_HelpContextProvider=function HelpContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HelpContext.Provider,{value:props.value,children:props.children});};var HelpContext_useHelpContext=function useHelpContext(){return Object(react[\"useContext\"])(HelpContext);};\n// CONCATENATED MODULE: ./src/components/help/common/CallForHelpResult.ts\nvar CallForHelpResult_CallForHelpResult=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function CallForHelpResult(){Object(classCallCheck[\"a\" /* default */])(this,CallForHelpResult);});CallForHelpResult_CallForHelpResult.TOO_MANY_PENDING_CALLS_CODE=1;CallForHelpResult_CallForHelpResult.HAS_ABUSIVE_CALL_CODE=2;\n// CONCATENATED MODULE: ./src/components/help/common/GetCloseReasonKey.ts\nvar GetCloseReasonKey=function GetCloseReasonKey(code){if(code===1)return'useless';if(code===2)return'abusive';return'resolved';};\n// CONCATENATED MODULE: ./src/components/help/HelpMessageHandler.tsx\nvar HelpMessageHandler_HelpMessageHandler=function HelpMessageHandler(props){var onCallForHelpResultMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var message=parser.messageText;switch(parser.resultType){case CallForHelpResult_CallForHelpResult.TOO_MANY_PENDING_CALLS_CODE:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"qc\" /* GetPendingCallsForHelpMessageComposer */]());NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('help.cfh.error.pending'),NotificationAlertType_NotificationAlertType.MODERATION,null,null,LocalizeText('help.cfh.error.title'));break;case CallForHelpResult_CallForHelpResult.HAS_ABUSIVE_CALL_CODE:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('help.cfh.error.abusive'),NotificationAlertType_NotificationAlertType.MODERATION,null,null,LocalizeText('help.cfh.error.title'));break;default:if(message.trim().length===0){message=LocalizeText('help.cfh.sent.text');}NotificationUtilities_NotificationUtilities.simpleAlert(message,NotificationAlertType_NotificationAlertType.MODERATION,null,null,LocalizeText('help.cfh.sent.title'));}},[]);UseMessageEventHook(nitro_renderer[\"K\" /* CallForHelpResultMessageEvent */],onCallForHelpResultMessageEvent);var onIssueCloseNotificationMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var message=parser.messageText.length===0?LocalizeText('help.cfh.closed.'+GetCloseReasonKey(parser.closeReason)):parser.messageText;NotificationUtilities_NotificationUtilities.simpleAlert(message,NotificationAlertType_NotificationAlertType.MODERATION,null,null,LocalizeText('mod.alert.title'));},[]);UseMessageEventHook(nitro_renderer[\"Kd\" /* IssueCloseNotificationMessageEvent */],onIssueCloseNotificationMessageEvent);return null;};\n// CONCATENATED MODULE: ./src/components/help/views/DescribeReportView.tsx\nvar DescribeReportView_DescribeReportView=function DescribeReportView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useHelpContext=HelpContext_useHelpContext(),_useHelpContext$helpR=_useHelpContext.helpReportState,helpReportState=_useHelpContext$helpR===void 0?null:_useHelpContext$helpR,_useHelpContext$setHe=_useHelpContext.setHelpReportState,setHelpReportState=_useHelpContext$setHe===void 0?null:_useHelpContext$setHe;var reportedChats=helpReportState.reportedChats,cfhTopic=helpReportState.cfhTopic,reportedUserId=helpReportState.reportedUserId;var submitReport=function submitReport(){if(message.length<15)return;var roomId=reportedChats[0].roomId;var chats=[];reportedChats.forEach(function(entry){chats.push(entry.entityId);chats.push(entry.message);});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"J\" /* CallForHelpMessageComposer */](message,cfhTopic,reportedUserId,roomId,chats));CreateLinkEvent('help/hide');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:LocalizeText('help.emergency.chat_report.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('help.cfh.input.text')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control h-100\",value:message,onChange:function onChange(event){return setMessage(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",disabled:message.length<15,onClick:submitReport,children:LocalizeText('help.bully.submit')})]});};\n// CONCATENATED MODULE: ./src/components/help/views/HelpIndexView.tsx\nvar HelpIndexView_HelpIndexView=function HelpIndexView(props){var _useHelpContext=HelpContext_useHelpContext(),_useHelpContext$helpR=_useHelpContext.helpReportState,helpReportState=_useHelpContext$helpR===void 0?null:_useHelpContext$helpR,_useHelpContext$setHe=_useHelpContext.setHelpReportState,setHelpReportState=_useHelpContext$setHe===void 0?null:_useHelpContext$setHe;var onReportClick=Object(react[\"useCallback\"])(function(){var reportState=Object.assign({},helpReportState);reportState.currentStep=1;setHelpReportState(reportState);},[helpReportState,setHelpReportState]);var onRequestMySanctionStatusClick=Object(react[\"useCallback\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ec\" /* GetCfhStatusMessageComposer */](false));},[]);var onNewHelpRequestClick=Object(react[\"useCallback\"])(function(){DispatchUiEvent_DispatchUiEvent(new GuideToolEvent_GuideToolEvent(GuideToolEvent_GuideToolEvent.CREATE_HELP_REQUEST));},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:3,children:LocalizeText('help.main.frame.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('help.main.self.description')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:onReportClick,children:LocalizeText('help.main.bully.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:onNewHelpRequestClick,children:LocalizeText('help.main.help.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:true,children:LocalizeText('help.main.self.tips.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",onClick:onRequestMySanctionStatusClick,children:LocalizeText('help.main.my.sanction.status')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/name-change/NameChangeConfirmationView.tsx\nvar NameChangeConfirmationView_NameChangeConfirmationView=function NameChangeConfirmationView(props){var _props$username=props.username,username=_props$username===void 0?'':_props$username,_props$onAction=props.onAction,onAction=_props$onAction===void 0?null:_props$onAction;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isConfirming=_useState2[0],setIsConfirming=_useState2[1];var onUserNameChangeMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;if(parser.webId!==GetSessionDataManager().userId)return;onAction('close');},[onAction]);UseMessageEventHook(nitro_renderer[\"Ai\" /* UserNameChangeMessageEvent */],onUserNameChangeMessageEvent);var confirm=Object(react[\"useCallback\"])(function(){if(isConfirming)return;setIsConfirming(true);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"bb\" /* ChangeUserNameMessageComposer */](username));},[isConfirming,username]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column gap-4 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:LocalizeText('tutorial.name_change.info.confirm')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column align-items-center gap-1 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('tutorial.name_change.confirm')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fw-bold\",children:username})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",disabled:isConfirming,onClick:confirm,children:LocalizeText('generic.ok')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:function onClick(){return onAction('close');},children:LocalizeText('cancel')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/name-change/NameChangeInitView.tsx\nvar NameChangeInitView_NameChangeInitView=function NameChangeInitView(props){var _props$onAction=props.onAction,onAction=_props$onAction===void 0?null:_props$onAction;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column gap-4 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:LocalizeText('tutorial.name_change.info.main')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fw-bold d-flex align-items-center justify-content-center h-100 w-100\",children:LocalizeText('tutorial.name_change.current',['name'],[GetSessionDataManager().userName])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(){return onAction('start');},children:LocalizeText('tutorial.name_change.change')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:function onClick(){return onAction('confirmation',GetSessionDataManager().userName);},children:LocalizeText('tutorial.name_change.keep')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/name-change/NameChangeInputView.tsx\nvar AVAILABLE=0;var TOO_SHORT=2;var TOO_LONG=3;var NOT_VALID=4;var TAKEN_WITH_SUGGESTIONS=5;var DISABLED=6;var NameChangeInputView_NameChangeInputView=function NameChangeInputView(props){var _props$onAction=props.onAction,onAction=_props$onAction===void 0?null:_props$onAction;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newUsername=_useState2[0],setNewUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),canProceed=_useState4[0],setCanProceed=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isChecking=_useState6[0],setIsChecking=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),errorCode=_useState8[0],setErrorCode=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),suggestions=_useState10[0],setSuggestions=_useState10[1];var onCheckUserNameResultMessageEvent=Object(react[\"useCallback\"])(function(event){setIsChecking(false);var parser=event.getParser();if(!parser)return;switch(parser.resultCode){case AVAILABLE:setCanProceed(true);break;case TOO_SHORT:setErrorCode('short');break;case TOO_LONG:setErrorCode('long');break;case NOT_VALID:setErrorCode('invalid');break;case TAKEN_WITH_SUGGESTIONS:setSuggestions(parser.nameSuggestions);setErrorCode('taken');break;case DISABLED:setErrorCode('change_not_allowed');}},[]);UseMessageEventHook(nitro_renderer[\"db\" /* CheckUserNameResultMessageEvent */],onCheckUserNameResultMessageEvent);var check=Object(react[\"useCallback\"])(function(){if(newUsername==='')return;setCanProceed(false);setSuggestions([]);setErrorCode(null);setIsChecking(true);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"cb\" /* CheckUserNameMessageComposer */](newUsername));},[newUsername]);var handleUsernameChange=Object(react[\"useCallback\"])(function(username){setCanProceed(false);setSuggestions([]);setErrorCode(null);setNewUsername(username);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column gap-3 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:LocalizeText('tutorial.name_change.info.select')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:newUsername,onChange:function onChange(e){return handleUsernameChange(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary\",disabled:newUsername===''||isChecking,onClick:check,children:LocalizeText('tutorial.name_change.check')})]}),!errorCode&&!canProceed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-muted rounded p-2 text-center\",children:LocalizeText('help.tutorial.name.info')}),errorCode&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-danger rounded p-2 text-center text-white\",children:LocalizeText(\"help.tutorial.name.\".concat(errorCode),['name'],[newUsername])}),canProceed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bg-success rounded p-2 text-center text-white\",children:LocalizeText('help.tutorial.name.available',['name'],[newUsername])}),suggestions&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex flex-column gap-2\",children:suggestions.map(function(suggestion,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col bg-muted rounded p-1 cursor-pointer\",onClick:function onClick(){return handleUsernameChange(suggestion);},children:suggestion},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",disabled:!canProceed,onClick:function onClick(){return onAction('confirmation',newUsername);},children:LocalizeText('tutorial.name_change.pick')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:function onClick(){return onAction('close');},children:LocalizeText('cancel')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/name-change/NameChangeView.tsx\nvar INIT='INIT';var INPUT='INPUT';var CONFIRMATION='CONFIRMATION';var NameChangeView_NameChangeView=function NameChangeView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(INIT),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),layout=_useState4[0],setLayout=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newUsername=_useState6[0],setNewUsername=_useState6[1];var onHelpNameChangeEvent=Object(react[\"useCallback\"])(function(event){setLayout(INIT);setIsVisible(true);},[]);UseUiEvent_UseUiEvent(HelpNameChangeEvent_HelpNameChangeEvent.INIT,onHelpNameChangeEvent);var onAction=Object(react[\"useCallback\"])(function(action,value){switch(action){case'start':setLayout(INPUT);break;case'confirmation':setNewUsername(value);setLayout(CONFIRMATION);break;case'close':setNewUsername('');setIsVisible(false);break;}},[]);var titleKey=Object(react[\"useMemo\"])(function(){switch(layout){case INIT:return'tutorial.name_change.title.main';case INPUT:return'tutorial.name_change.title.select';case CONFIRMATION:return'tutorial.name_change.title.confirm';}},[layout]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-change-username\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText(titleKey),onCloseClick:function onCloseClick(){return onAction('close');}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[layout===INIT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NameChangeInitView_NameChangeInitView,{onAction:onAction}),layout===INPUT&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NameChangeInputView_NameChangeInputView,{onAction:onAction}),layout===CONFIRMATION&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NameChangeConfirmationView_NameChangeConfirmationView,{username:newUsername,onAction:onAction})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/SanctionStatusView.tsx\nvar SanctionStatusView_SanctionSatusView=function SanctionSatusView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),sanctionInfo=_useState2[0],setSanctionInfo=_useState2[1];var onSanctionStatusEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;setSanctionInfo(parser);},[]);UseMessageEventHook(nitro_renderer[\"wh\" /* SanctionStatusEvent */],onSanctionStatusEvent);var sanctionLocalization=Object(react[\"useCallback\"])(function(param,sanctionName,length){var localizationName=\"help.sanction.\".concat(param);switch(sanctionName){case'ALERT':localizationName=localizationName+'.alert';break;case'MUTE':localizationName=localizationName+'.mute';break;case'BAN_PERMANENT':localizationName=localizationName+'.permban';break;default:localizationName=localizationName+'.ban';if(length>24){localizationName=localizationName+'.days';return LocalizeText(localizationName,['days'],[(length/24).toString()]);}}return LocalizeText(localizationName,['hours'],[length.toString()]);},[]);if(!sanctionInfo)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-help\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('help.sanction.info.title'),onCloseClick:function onCloseClick(){return setSanctionInfo(null);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"index-image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"between\",size:7,overflow:\"hidden\",children:[sanctionInfo.sanctionReason==='cfh.reason.EMPTY'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 fw-bold\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('help.sanction.current.none')}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[(sanctionInfo.probationHoursLeft>0||sanctionInfo.isSanctionActive)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 fw-bold\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('help.sanction.probation.reminder')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12 fw-bold \".concat(sanctionInfo.isSanctionNew?'text-danger':''),children:[LocalizeText('help.sanction.last.sanction'),\" \",sanctionLocalization('current',sanctionInfo.sanctionName,sanctionInfo.sanctionLengthHours)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12\",style:{color:\"var(--test-galaxytext)\"},children:[LocalizeText('generic.start.time'),\" \",sanctionInfo.sanctionCreationTime]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12\",style:{color:\"var(--test-galaxytext)\"},children:[LocalizeText('generic.reason'),\" \",sanctionInfo.sanctionReason]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12\",style:{color:\"var(--test-galaxytext)\"},children:[LocalizeText('help.sanction.probation.days.left'),\" \",Math.trunc(sanctionInfo.probationHoursLeft/24)+1]})]}),sanctionInfo.hasCustomMute&&!sanctionInfo.isSanctionActive&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12 fw-bold\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('help.sanction.custom.mute')}),sanctionInfo.tradeLockExpiryTime&&sanctionInfo.tradeLockExpiryTime.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-12 fw-bold\",style:{color:\"var(--test-galaxytext)\"},children:[LocalizeText('trade.locked.until'),\" \",sanctionInfo.tradeLockExpiryTime]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12\",children:sanctionLocalization('next',sanctionInfo.nextSanctionName,sanctionInfo.nextSanctionLengthHours)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return setSanctionInfo(null);},children:LocalizeText('habbo.way.ok.button')})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/help/views/SelectReportedChatsView.tsx\nvar SelectReportedChatsView_SelectReportedChatsView=function SelectReportedChatsView(props){var _useState=Object(react[\"useState\"])(new Map()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedChats=_useState2[0],setSelectedChats=_useState2[1];var _useHelpContext=HelpContext_useHelpContext(),_useHelpContext$helpR=_useHelpContext.helpReportState,helpReportState=_useHelpContext$helpR===void 0?null:_useHelpContext$helpR,_useHelpContext$setHe=_useHelpContext.setHelpReportState,setHelpReportState=_useHelpContext$setHe===void 0?null:_useHelpContext$setHe;var _helpReportState$repo=helpReportState.reportedUserId,reportedUserId=_helpReportState$repo===void 0?-1:_helpReportState$repo;var userChats=Object(react[\"useMemo\"])(function(){return GetChatHistory().chats.filter(function(chat){return chat.type===ChatEntryType_ChatEntryType.TYPE_CHAT&&chat.entityId===reportedUserId&&chat.entityType===nitro_renderer[\"Gg\" /* RoomObjectType */].USER;});},[reportedUserId]);var selectChat=function selectChat(chatEntry){var chats=new Map(selectedChats);if(chats.has(chatEntry.id))chats.delete(chatEntry.id);else chats.set(chatEntry.id,chatEntry);setSelectedChats(chats);};var submitChats=function submitChats(){if(!selectedChats||selectedChats.size<=0)return;setHelpReportState(function(prevValue){var reportedChats=Array.from(selectedChats.values());var currentStep=3;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{reportedChats:reportedChats,currentStep:currentStep});});};var back=function back(){setHelpReportState(function(prevValue){var currentStep=prevValue.currentStep-1;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{currentStep:currentStep});});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:LocalizeText('help.emergency.chat_report.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('help.emergency.chat_report.description')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,overflow:\"hidden\",children:[!!!userChats.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('help.cfh.error.no_user_data')}),userChats.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{gap:1,columnCount:1,columnMinHeight:25,overflow:\"auto\",children:userChats.map(function(chat,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{onClick:function onClick(event){return selectChat(chat);},itemActive:selectedChats.has(chat.id),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:chat.message})},chat.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:back,children:LocalizeText('generic.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:selectedChats.size<=0,onClick:submitChats,children:LocalizeText('help.emergency.main.submit.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/views/SelectReportedUserView.tsx\nvar SelectReportedUserView_SelectReportedUserView=function SelectReportedUserView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedUserId=_useState2[0],setSelectedUserId=_useState2[1];var _useHelpContext=HelpContext_useHelpContext(),_useHelpContext$helpR=_useHelpContext.helpReportState,helpReportState=_useHelpContext$helpR===void 0?null:_useHelpContext$helpR,_useHelpContext$setHe=_useHelpContext.setHelpReportState,setHelpReportState=_useHelpContext$setHe===void 0?null:_useHelpContext$setHe;var availableUsers=Object(react[\"useMemo\"])(function(){var users=new Map();GetChatHistory().chats.forEach(function(chat){if(chat.type===ChatEntryType_ChatEntryType.TYPE_CHAT&&chat.entityType===nitro_renderer[\"Gg\" /* RoomObjectType */].USER&&chat.entityId!==GetSessionDataManager().userId){if(!users.has(chat.entityId)){users.set(chat.entityId,{id:chat.entityId,username:chat.name});}}});return Array.from(users.values());},[]);var submitUser=function submitUser(){if(selectedUserId<=0)return;setHelpReportState(function(prevValue){var reportedUserId=selectedUserId;var currentStep=2;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{reportedUserId:reportedUserId,currentStep:currentStep});});};var selectUser=function selectUser(userId){if(selectedUserId===userId)setSelectedUserId(-1);else setSelectedUserId(userId);};var back=function back(){setHelpReportState(function(prevValue){var currentStep=prevValue.currentStep-1;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{currentStep:currentStep});});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:LocalizeText('help.emergency.main.step.two.title')}),availableUsers.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('report.user.pick.user')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,overflow:\"hidden\",children:[!!!availableUsers.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('report.user.error.nolist')}),availableUsers.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:1,columnMinHeight:25,gap:1,children:availableUsers.map(function(user,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{onClick:function onClick(event){return selectUser(user.id);},itemActive:selectedUserId===user.id,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{dangerouslySetInnerHTML:{__html:user.username}})},user.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:back,children:LocalizeText('generic.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{disabled:selectedUserId<=0,onClick:submitUser,children:LocalizeText('help.emergency.main.submit.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/common/GetCFHCategories.ts\nvar GetCFHCategories_cfhCategories=[];var SetCfhCategories=function SetCfhCategories(categories){return GetCFHCategories_cfhCategories=categories;};var GetCfhCategories=function GetCfhCategories(){return GetCFHCategories_cfhCategories;};\n// CONCATENATED MODULE: ./src/components/help/views/SelectTopicView.tsx\nvar SelectTopicView_SelectTopicView=function SelectTopicView(props){var _useHelpContext=HelpContext_useHelpContext(),_useHelpContext$setHe=_useHelpContext.setHelpReportState,setHelpReportState=_useHelpContext$setHe===void 0?null:_useHelpContext$setHe;var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedCategory=_useState2[0],setSelectedCategory=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedTopic=_useState4[0],setSelectedTopic=_useState4[1];var cfhCategories=Object(react[\"useMemo\"])(function(){return GetCfhCategories();},[]);var submitTopic=function submitTopic(){if(selectedCategory<0||selectedTopic<0)return;setHelpReportState(function(prevValue){var cfhCategory=selectedCategory;var cfhTopic=cfhCategories[selectedCategory].topics[selectedTopic].id;var currentStep=4;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{cfhCategory:cfhCategory,cfhTopic:cfhTopic,currentStep:currentStep});});};var back=function back(){setHelpReportState(function(prevValue){var currentStep=prevValue.currentStep-1;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevValue),{},{currentStep:currentStep});});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:LocalizeText('help.emergency.chat_report.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('help.cfh.pick.topic')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,overflow:\"auto\",children:[selectedCategory<0&&cfhCategories.map(function(category,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(event){return setSelectedCategory(index);},children:LocalizeText(\"help.cfh.reason.\".concat(category.name))},index);}),selectedCategory>=0&&cfhCategories[selectedCategory].topics.map(function(topic,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(event){return setSelectedTopic(index);},active:selectedTopic===index,children:LocalizeText(\"help.cfh.topic.\".concat(topic.id))},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",onClick:back,children:LocalizeText('generic.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",disabled:selectedTopic<0,onClick:submitTopic,children:LocalizeText('help.emergency.main.submit.button')})]})]});};\n// CONCATENATED MODULE: ./src/components/help/HelpView.tsx\nvar HelpView_HelpView=function HelpView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])({reportedUserId:-1,reportedChats:[],cfhCategory:-1,cfhTopic:-1,roomId:-1,message:'',currentStep:0}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),helpReportState=_useState4[0],setHelpReportState=_useState4[1];var linkReceived=Object(react[\"useCallback\"])(function(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;}},[]);var onHelpReportUserEvent=Object(react[\"useCallback\"])(function(event){setHelpReportState({reportedUserId:event.reportedUserId,reportedChats:[],cfhCategory:-1,cfhTopic:-1,roomId:-1,message:'',currentStep:2});setIsVisible(true);},[]);UseUiEvent_UseUiEvent(HelpReportUserEvent_HelpReportUserEvent.REPORT_USER,onHelpReportUserEvent);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:linkReceived,eventUrlPrefix:'help/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[linkReceived]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;setHelpReportState({reportedUserId:-1,reportedChats:[],cfhCategory:-1,cfhTopic:-1,roomId:-1,message:'',currentStep:0});},[isVisible]);var CurrentStepView=Object(react[\"useCallback\"])(function(){switch(helpReportState.currentStep){case 0:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HelpIndexView_HelpIndexView,{});case 1:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectReportedUserView_SelectReportedUserView,{});case 2:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectReportedChatsView_SelectReportedChatsView,{});case 3:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SelectTopicView_SelectTopicView,{});case 4:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DescribeReportView_DescribeReportView,{});}return null;},[helpReportState.currentStep]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(HelpContext_HelpContextProvider,{value:{helpReportState:helpReportState,setHelpReportState:setHelpReportState},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HelpMessageHandler_HelpMessageHandler,{}),isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-help\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('help.button.cfh'),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"index-image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{justifyContent:\"between\",size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrentStepView,{})})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SanctionStatusView_SanctionSatusView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NameChangeView_NameChangeView,{})]});};\n// CONCATENATED MODULE: ./src/components/hotel-view/HotelView.tsx\nvar widgetSlotCount=7;var HotelView_HotelView=function HotelView(props){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useSessionInfo=useSessionInfo_useSessionInfo(),_useSessionInfo$userF=_useSessionInfo.userFigure,userFigure=_useSessionInfo$userF===void 0?null:_useSessionInfo$userF;var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),topDiamonds=_useState4[0],setTopDiamonds=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),topDuckets=_useState6[0],setTopDuckets=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),viewPoints=_useState8[0],setViewPoints=_useState8[1];var sso=new URLSearchParams(window.location.search).get('sso');var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];Object(react[\"useEffect\"])(function(){fetch(\"https://int.ultrahabbo.fun/?type=getHotelViewStats&sso=\"+sso).then(function(response){return response.json();}).then(function(response){setViewPoints(response.viewPoints);setTopDiamonds(response.diamonds);setTopDuckets(response.duckets);setLoading(false);});},[]);function getWidthProgressBar(){return viewPoints+\"%\";}function getImagerByFigure(figure){return\"url(https://habbo-imaging.hgalaxy.net/avatarimage/\"+figure+\"&amp;direction=2&amp;head_direction=2)\";}function getProfileUrl(username){return\"https://hgalaxy.net/community/profile?user=\"+username;}var onRoomSessionEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED:setIsVisible(false);return;case nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED:setIsVisible(event.openLandingView);return;}},[]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED,onRoomSessionEvent);if(!isVisible)return null;var backgroundColor=GetConfiguration('hotelview')['images']['background.colour'];var background=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['background']);var sun=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['sun']);var drape=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['drape']);var left=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['left']);var rightRepeat=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['right.repeat']);var right=GetConfigurationManager().interpolate(GetConfiguration('hotelview')['images']['right']);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nitro-hotel-view\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container h-100 py-3 overflow-hidden landing-widgets\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row h-100\",style:{marginLeft:\"100px\",marginTop:\"50px\"},children:!loading&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-10 animate__animated animate__fadeInDown\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card\",style:{backgroundColor:\"var(--test-galaxy)\",padding:\"20px\",borderRadius:\"5px\",marginBottom:\"15px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Recompensa mensual\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:\"30px\"},className:\"progress\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"progress-bar progress-bar-striped progress-bar-animated\",role:\"progressbar\",style:{width:getWidthProgressBar()},children:[viewPoints,\"%\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"small\",{style:{color:\"var(--test-galaxytext)\"},children:[\"Debes llegar a 100 horas jugadas para obtener la recompensa \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"(\",viewPoints,\"/100)\"]}),\" - Termina el 30 de septiembre\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-2 text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{style:{marginTop:\"17px\"},src:\"https://i.imgur.com/RJNXe26.png\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",style:{backgroundColor:\"var(--test-galaxy)\",padding:\"20px\",borderRadius:\"5px\",marginBottom:\"15px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Top cometas\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),topDiamonds.map(function(top){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"7px\",borderRadius:\"5px\",marginBottom:\"5px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{paddingBottom:\"-15px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-img\",style:{backgroundImage:getImagerByFigure(top.figure),backgroundPosition:\"-11px -14px\",width:\"45px\",height:\"48px\",marginLeft:\"5px\"}})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{float:\"right\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:\"14px\"},className:\"badge bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"text-white\",href:getProfileUrl(top.username),target:\"_blank\",children:top.username})})}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{style:{fontSize:\"14px\"},className:\"badge bg-primary\",children:[top.vip_points,\" cometas\"]})})]})]})]});})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",style:{backgroundColor:\"var(--test-galaxy)\",padding:\"20px\",borderRadius:\"5px\",marginBottom:\"15px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Top asteroides\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),topDuckets.map(function(top){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"7px\",borderRadius:\"5px\",marginBottom:\"5px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{paddingBottom:\"-15px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-img\",style:{backgroundImage:getImagerByFigure(top.figure),backgroundPosition:\"-11px -14px\",width:\"45px\",height:\"48px\",marginLeft:\"5px\"}})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{float:\"right\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:\"14px\"},className:\"badge bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"text-white\",href:getProfileUrl(top.username),target:\"_blank\",children:top.username})})}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{style:{fontSize:\"14px\"},className:\"badge bg-info\",children:[top.activity_points,\" asteroides\"]})})]})]})]});})]})})]})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"background position-absolute\",style:background&&background.length?{backgroundImage:\"url(\".concat(background,\")\")}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sun position-absolute\",style:sun&&sun.length?{backgroundImage:\"url(\".concat(sun,\")\")}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"drape position-absolute\",style:drape&&drape.length?{backgroundImage:\"url(https://swfs.hgalaxy.net/banners/logohotel.png)\"}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"left position-absolute\",style:left&&left.length?{backgroundImage:\"url(\".concat(left,\")\")}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"right-repeat position-absolute\",style:rightRepeat&&rightRepeat.length?{backgroundImage:\"url(\".concat(rightRepeat,\")\")}:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"right position-absolute\",style:right&&right.length?{backgroundImage:\"url(https://swfs.hgalaxy.net/banners/testt.png)\"}:{}})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/badge/InventoryBadgeItemView.tsx\nvar InventoryBadgeItemView_excluded=[\"badgeCode\",\"children\"];var InventoryBadgeItemView_InventoryBadgeItemView=function InventoryBadgeItemView(props){var _props$badgeCode=props.badgeCode,badgeCode=_props$badgeCode===void 0?null:_props$badgeCode,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,InventoryBadgeItemView_excluded);var _useInventoryBadges=useInventoryBadges_useInventoryBadges(),_useInventoryBadges$s=_useInventoryBadges.selectedBadgeCode,selectedBadgeCode=_useInventoryBadges$s===void 0?null:_useInventoryBadges$s,_useInventoryBadges$s2=_useInventoryBadges.setSelectedBadgeCode,setSelectedBadgeCode=_useInventoryBadges$s2===void 0?null:_useInventoryBadges$s2,_useInventoryBadges$g=_useInventoryBadges.getBadgeId,getBadgeId=_useInventoryBadges$g===void 0?null:_useInventoryBadges$g;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2;var unseen=isUnseen(UnseenItemCategory_UnseenItemCategory.BADGE,getBadgeId(badgeCode));return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({itemActive:selectedBadgeCode===badgeCode,itemUnseen:unseen,onMouseDown:function onMouseDown(event){return setSelectedBadgeCode(badgeCode);}},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:badgeCode}),children]}));};\n// CONCATENATED MODULE: ./src/components/inventory/views/badge/InventoryBadgeView.tsx\nvar InventoryBadgeView_InventoryBadgeView=function InventoryBadgeView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useInventoryBadges=useInventoryBadges_useInventoryBadges(),_useInventoryBadges$b=_useInventoryBadges.badgeCodes,badgeCodes=_useInventoryBadges$b===void 0?[]:_useInventoryBadges$b,_useInventoryBadges$a=_useInventoryBadges.activeBadgeCodes,activeBadgeCodes=_useInventoryBadges$a===void 0?[]:_useInventoryBadges$a,_useInventoryBadges$s=_useInventoryBadges.selectedBadgeCode,selectedBadgeCode=_useInventoryBadges$s===void 0?null:_useInventoryBadges$s,_useInventoryBadges$i=_useInventoryBadges.isWearingBadge,isWearingBadge=_useInventoryBadges$i===void 0?null:_useInventoryBadges$i,_useInventoryBadges$c=_useInventoryBadges.canWearBadges,canWearBadges=_useInventoryBadges$c===void 0?null:_useInventoryBadges$c,_useInventoryBadges$t=_useInventoryBadges.toggleBadge,toggleBadge=_useInventoryBadges$t===void 0?null:_useInventoryBadges$t,_useInventoryBadges$g=_useInventoryBadges.getBadgeId,getBadgeId=_useInventoryBadges$g===void 0?null:_useInventoryBadges$g,_useInventoryBadges$a2=_useInventoryBadges.activate,activate=_useInventoryBadges$a2===void 0?null:_useInventoryBadges$a2,_useInventoryBadges$d=_useInventoryBadges.deactivate,deactivate=_useInventoryBadges$d===void 0?null:_useInventoryBadges$d;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.removeUnseen,removeUnseen=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;Object(react[\"useEffect\"])(function(){if(!selectedBadgeCode||!isUnseen(UnseenItemCategory_UnseenItemCategory.BADGE,getBadgeId(selectedBadgeCode)))return;removeUnseen(UnseenItemCategory_UnseenItemCategory.BADGE,getBadgeId(selectedBadgeCode));},[selectedBadgeCode,isUnseen,removeUnseen,getBadgeId]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;var id=activate();return function(){return deactivate(id);};},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(function(){setIsVisible(true);return function(){return setIsVisible(false);};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:4,children:badgeCodes&&badgeCodes.length>0&&badgeCodes.map(function(badgeCode,index){if(activeBadgeCodes.indexOf(badgeCode)>=0)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBadgeItemView_InventoryBadgeItemView,{badgeCode:badgeCode},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"justify-content-between\",size:5,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('inventory.badges.activebadges')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:3,children:activeBadgeCodes&&activeBadgeCodes.length>0&&activeBadgeCodes.map(function(badgeCode,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBadgeItemView_InventoryBadgeItemView,{badgeCode:badgeCode},index);})})]}),!!selectedBadgeCode&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,justifyContent:\"end\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{shrink:true,badgeCode:selectedBadgeCode}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeBageName_LocalizeBadgeName(selectedBadgeCode)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:isWearingBadge(selectedBadgeCode)?'danger':'success',disabled:!isWearingBadge(selectedBadgeCode)&&!canWearBadges(),onClick:function onClick(event){return toggleBadge(selectedBadgeCode);},children:LocalizeText(isWearingBadge(selectedBadgeCode)?'inventory.badges.clearbadge':'inventory.badges.wearbadge')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/InventoryCategoryEmptyView.tsx\nvar InventoryCategoryEmptyView_excluded=[\"title\",\"desc\",\"children\"];var InventoryCategoryEmptyView_InventoryCategoryEmptyView=function InventoryCategoryEmptyView(props){var _props$title=props.title,title=_props$title===void 0?'':_props$title,_props$desc=props.desc,desc=_props$desc===void 0?'':_props$desc,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,InventoryCategoryEmptyView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,size:5,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"empty-image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"center\",size:7,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontWeight:\"bold\",fontSize:5,overflow:\"unset\",truncate:true,children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",overflow:\"auto\",children:desc})]}),children]}));};\n// CONCATENATED MODULE: ./src/components/inventory/views/bot/InventoryBotItemView.tsx\nvar InventoryBotItemView_excluded=[\"botItem\",\"children\"];var InventoryBotItemView_InventoryBotItemView=function InventoryBotItemView(props){var _props$botItem=props.botItem,botItem=_props$botItem===void 0?null:_props$botItem,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,InventoryBotItemView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMouseDown=_useState2[0],setMouseDown=_useState2[1];var _useInventoryBots=useInventoryBots_useInventoryBots(),_useInventoryBots$sel=_useInventoryBots.selectedBot,selectedBot=_useInventoryBots$sel===void 0?null:_useInventoryBots$sel,_useInventoryBots$set=_useInventoryBots.setSelectedBot,setSelectedBot=_useInventoryBots$set===void 0?null:_useInventoryBots$set;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2;var unseen=isUnseen(UnseenItemCategory_UnseenItemCategory.BOT,botItem.botData.id);var onMouseEvent=function onMouseEvent(event){switch(event.type){case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN:setSelectedBot(botItem);setMouseDown(true);return;case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_UP:setMouseDown(false);return;case nitro_renderer[\"xe\" /* MouseEventType */].ROLL_OUT:if(!isMouseDown||selectedBot!==botItem)return;InventoryUtilities_attemptBotPlacement(botItem);return;}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({itemActive:selectedBot===botItem,itemUnseen:unseen,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:botItem.botData.figure,direction:3,headOnly:true}),children]}));};\n// CONCATENATED MODULE: ./src/components/inventory/views/bot/InventoryBotView.tsx\nvar InventoryBotView_InventoryBotView=function InventoryBotView(props){var _props$roomSession=props.roomSession,roomSession=_props$roomSession===void 0?null:_props$roomSession,_props$roomPreviewer=props.roomPreviewer,roomPreviewer=_props$roomPreviewer===void 0?null:_props$roomPreviewer;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useInventoryBots=useInventoryBots_useInventoryBots(),_useInventoryBots$bot=_useInventoryBots.botItems,botItems=_useInventoryBots$bot===void 0?[]:_useInventoryBots$bot,_useInventoryBots$sel=_useInventoryBots.selectedBot,selectedBot=_useInventoryBots$sel===void 0?null:_useInventoryBots$sel,_useInventoryBots$act=_useInventoryBots.activate,activate=_useInventoryBots$act===void 0?null:_useInventoryBots$act,_useInventoryBots$dea=_useInventoryBots.deactivate,deactivate=_useInventoryBots$dea===void 0?null:_useInventoryBots$dea;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.removeUnseen,removeUnseen=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;Object(react[\"useEffect\"])(function(){if(!selectedBot||!roomPreviewer)return;var botData=selectedBot.botData;var roomEngine=GetRoomEngine();var wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_WALL_TYPE);var floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);var landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';roomPreviewer.reset(false);roomPreviewer.updateRoomWallsAndFloorVisibility(true,true);roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);roomPreviewer.addAvatarIntoRoom(botData.figure,0);},[roomPreviewer,selectedBot]);Object(react[\"useEffect\"])(function(){if(!selectedBot||!isUnseen(UnseenItemCategory_UnseenItemCategory.BOT,selectedBot.botData.id))return;removeUnseen(UnseenItemCategory_UnseenItemCategory.BOT,selectedBot.botData.id);},[selectedBot,isUnseen,removeUnseen]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;var id=activate();return function(){return deactivate(id);};},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(function(){setIsVisible(true);return function(){return setIsVisible(false);};},[]);if(!botItems||!botItems.length)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryCategoryEmptyView_InventoryCategoryEmptyView,{title:LocalizeText('inventory.empty.bots.title'),desc:LocalizeText('inventory.empty.bots.desc')});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:5,children:botItems&&botItems.length>0&&botItems.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBotItemView_InventoryBotItemView,{botItem:item},item.botData.id);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"hidden\",position:\"relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomPreviewerView_LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140})}),selectedBot&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:true,truncate:true,children:selectedBot.botData.name}),!!roomSession&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return InventoryUtilities_attemptBotPlacement(selectedBot);},children:LocalizeText('inventory.furni.placetoroom')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/furniture/InventoryFurnitureItemView.tsx\nvar InventoryFurnitureItemView_excluded=[\"groupItem\"];var InventoryFurnitureItemView_InventoryFurnitureItemView=function InventoryFurnitureItemView(props){var _props$groupItem=props.groupItem,groupItem=_props$groupItem===void 0?null:_props$groupItem,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,InventoryFurnitureItemView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMouseDown=_useState2[0],setMouseDown=_useState2[1];var _useInventoryFurni=useInventoryFurni_useInventoryFurni(),_useInventoryFurni$se=_useInventoryFurni.selectedItem,selectedItem=_useInventoryFurni$se===void 0?null:_useInventoryFurni$se,_useInventoryFurni$se2=_useInventoryFurni.setSelectedItem,setSelectedItem=_useInventoryFurni$se2===void 0?null:_useInventoryFurni$se2;var onMouseEvent=function onMouseEvent(event){switch(event.type){case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN:setSelectedItem(groupItem);setMouseDown(true);return;case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_UP:setMouseDown(false);return;case nitro_renderer[\"xe\" /* MouseEventType */].ROLL_OUT:if(!isMouseDown||!(groupItem===selectedItem))return;InventoryUtilities_attemptItemPlacement(groupItem);return;}};var count=groupItem.getUnlockedCount();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])({className:!count?'opacity-0-5 ':'',itemImage:groupItem.iconUrl,itemCount:groupItem.getUnlockedCount(),itemActive:groupItem===selectedItem,itemUniqueNumber:groupItem.stuffData.uniqueNumber,itemUnseen:groupItem.hasUnseenItems,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent},rest));};\n// CONCATENATED MODULE: ./src/components/inventory/views/furniture/InventoryFurnitureSearchView.tsx\nvar InventoryFurnitureSearchView_InventoryFurnitureSearchView=function InventoryFurnitureSearchView(props){var _props$groupItems=props.groupItems,groupItems=_props$groupItems===void 0?[]:_props$groupItems,_props$setGroupItems=props.setGroupItems,setGroupItems=_props$setGroupItems===void 0?null:_props$setGroupItems;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];Object(react[\"useEffect\"])(function(){var filteredGroupItems=Object(toConsumableArray[\"a\" /* default */])(groupItems);if(searchValue&&searchValue.length){var comparison=searchValue.toLocaleLowerCase();filteredGroupItems=groupItems.filter(function(item){if(comparison&&comparison.length){if(item.name.toLocaleLowerCase().includes(comparison))return item;}return null;});}setGroupItems(filteredGroupItems);},[groupItems,setGroupItems,searchValue]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:function onChange(event){return setSearchValue(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"search\"})})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/furniture/InventoryFurnitureView.tsx\nvar InventoryFurnitureView_attemptPlaceMarketplaceOffer=function attemptPlaceMarketplaceOffer(groupItem){var item=groupItem.getLastItem();if(!item)return false;if(!item.sellable)return false;DispatchUiEvent_DispatchUiEvent(new CatalogPostMarketplaceOfferEvent_CatalogPostMarketplaceOfferEvent(item));};var InventoryFurnitureView_InventoryFurnitureView=function InventoryFurnitureView(props){var _props$roomSession=props.roomSession,roomSession=_props$roomSession===void 0?null:_props$roomSession,_props$roomPreviewer=props.roomPreviewer,roomPreviewer=_props$roomPreviewer===void 0?null:_props$roomPreviewer;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),filteredGroupItems=_useState4[0],setFilteredGroupItems=_useState4[1];var _useInventoryFurni=useInventoryFurni_useInventoryFurni(),_useInventoryFurni$gr=_useInventoryFurni.groupItems,groupItems=_useInventoryFurni$gr===void 0?[]:_useInventoryFurni$gr,_useInventoryFurni$se=_useInventoryFurni.selectedItem,selectedItem=_useInventoryFurni$se===void 0?null:_useInventoryFurni$se,_useInventoryFurni$ac=_useInventoryFurni.activate,activate=_useInventoryFurni$ac===void 0?null:_useInventoryFurni$ac,_useInventoryFurni$de=_useInventoryFurni.deactivate,deactivate=_useInventoryFurni$de===void 0?null:_useInventoryFurni$de;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.resetItems,resetItems=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2;Object(react[\"useEffect\"])(function(){if(!selectedItem||!roomPreviewer)return;var furnitureItem=selectedItem.getLastItem();if(!furnitureItem)return;var roomEngine=GetRoomEngine();var wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_WALL_TYPE);var floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);var landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';roomPreviewer.reset(false);roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);roomPreviewer.updateRoomWallsAndFloorVisibility(true,true);if(furnitureItem.category===FurniCategory_FurniCategory.WALL_PAPER||furnitureItem.category===FurniCategory_FurniCategory.FLOOR||furnitureItem.category===FurniCategory_FurniCategory.LANDSCAPE){floorType=furnitureItem.category===FurniCategory_FurniCategory.FLOOR?selectedItem.stuffData.getLegacyString():floorType;wallType=furnitureItem.category===FurniCategory_FurniCategory.WALL_PAPER?selectedItem.stuffData.getLegacyString():wallType;landscapeType=furnitureItem.category===FurniCategory_FurniCategory.LANDSCAPE?selectedItem.stuffData.getLegacyString():landscapeType;roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);if(furnitureItem.category===FurniCategory_FurniCategory.LANDSCAPE){var data=GetSessionDataManager().getWallItemDataByName('noob_window_double');if(data)roomPreviewer.addWallItemIntoRoom(data.id,new nitro_renderer[\"Oi\" /* Vector3d */](90,0,0),data.customParams);}}else{if(selectedItem.isWallItem){roomPreviewer.addWallItemIntoRoom(selectedItem.type,new nitro_renderer[\"Oi\" /* Vector3d */](90),furnitureItem.stuffData.getLegacyString());}else{roomPreviewer.addFurnitureIntoRoom(selectedItem.type,new nitro_renderer[\"Oi\" /* Vector3d */](90),selectedItem.stuffData,furnitureItem.extra.toString());}}},[roomPreviewer,selectedItem]);Object(react[\"useEffect\"])(function(){if(!selectedItem||!selectedItem.hasUnseenItems)return;resetItems(UnseenItemCategory_UnseenItemCategory.FURNI,selectedItem.items.map(function(item){return item.id;}));selectedItem.hasUnseenItems=false;},[selectedItem,resetItems]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;var id=activate();return function(){return deactivate(id);};},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(function(){setIsVisible(true);return function(){return setIsVisible(false);};},[]);if(!groupItems||!groupItems.length)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryCategoryEmptyView_InventoryCategoryEmptyView,{title:LocalizeText('inventory.empty.title'),desc:LocalizeText('inventory.empty.desc')});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryFurnitureSearchView_InventoryFurnitureSearchView,{groupItems:groupItems,setGroupItems:setFilteredGroupItems}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:5,children:filteredGroupItems&&filteredGroupItems.length>0&&filteredGroupItems.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryFurnitureItemView_InventoryFurnitureItemView,{groupItem:item},index);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",position:\"relative\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomPreviewerView_LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140}),selectedItem&&selectedItem.stuffData.isUnique&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionCompactPlateView_LayoutLimitedEditionCompactPlateView,{className:\"top-2 end-2\",position:\"absolute\",uniqueNumber:selectedItem.stuffData.uniqueNumber,uniqueSeries:selectedItem.stuffData.uniqueSeries}),selectedItem&&selectedItem.stuffData.rarityLevel>-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRarityLevelView_LayoutRarityLevelView,{className:\"top-2 end-2\",position:\"absolute\",level:selectedItem.stuffData.rarityLevel})]}),selectedItem&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{grow:true,justifyContent:\"between\",gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:true,truncate:true,children:selectedItem.name}),!!roomSession&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{style:{marginTop:\"10px\"},variant:\"success\",onClick:function onClick(event){return InventoryUtilities_attemptItemPlacement(selectedItem);},children:LocalizeText('inventory.furni.placetoroom')}),selectedItem&&selectedItem.isSellable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{style:{marginTop:\"10px\"},onClick:function onClick(event){return InventoryFurnitureView_attemptPlaceMarketplaceOffer(selectedItem);},children:LocalizeText('inventory.marketplace.sell')})]})})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/furniture/InventoryTradeView.tsx\nvar MAX_ITEMS_TO_TRADE=9;var InventoryTradeView_InventoryTradeView=function InventoryTradeView(props){var _props$cancelTrade=props.cancelTrade,cancelTrade=_props$cancelTrade===void 0?null:_props$cancelTrade;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),groupItem=_useState2[0],setGroupItem=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),ownGroupItem=_useState4[0],setOwnGroupItem=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),otherGroupItem=_useState6[0],setOtherGroupItem=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),filteredGroupItems=_useState8[0],setFilteredGroupItems=_useState8[1];var _useState9=Object(react[\"useState\"])(3),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),countdownTick=_useState10[0],setCountdownTick=_useState10[1];var _useInventoryTrade=useInventoryTrade_useInventoryTrade(),_useInventoryTrade$ow=_useInventoryTrade.ownUser,ownUser=_useInventoryTrade$ow===void 0?null:_useInventoryTrade$ow,_useInventoryTrade$ot=_useInventoryTrade.otherUser,otherUser=_useInventoryTrade$ot===void 0?null:_useInventoryTrade$ot,_useInventoryTrade$gr=_useInventoryTrade.groupItems,groupItems=_useInventoryTrade$gr===void 0?[]:_useInventoryTrade$gr,_useInventoryTrade$tr=_useInventoryTrade.tradeState,tradeState=_useInventoryTrade$tr===void 0?TradeState_TradeState.TRADING_STATE_READY:_useInventoryTrade$tr,_useInventoryTrade$pr=_useInventoryTrade.progressTrade,progressTrade=_useInventoryTrade$pr===void 0?null:_useInventoryTrade$pr,_useInventoryTrade$re=_useInventoryTrade.removeItem,removeItem=_useInventoryTrade$re===void 0?null:_useInventoryTrade$re,_useInventoryTrade$se=_useInventoryTrade.setTradeState,setTradeState=_useInventoryTrade$se===void 0?null:_useInventoryTrade$se;var canTradeItem=function canTradeItem(isWallItem,spriteId,category,groupable,stuffData){if(!ownUser||ownUser.accepts||!ownUser.userItems)return false;if(ownUser.userItems.length<MAX_ITEMS_TO_TRADE)return true;if(!groupable)return false;var type=spriteId.toString();if(category===FurniCategory_FurniCategory.POSTER){type=type+'poster'+stuffData.getLegacyString();}else{if(category===FurniCategory_FurniCategory.GUILD_FURNI){type=TradingUtilities_getGuildFurniType(spriteId,stuffData);}else{type=(isWallItem?'I':'S')+type;}}return!!ownUser.userItems.getValue(type);};var attemptItemOffer=function attemptItemOffer(count){if(!groupItem)return;var tradeItems=groupItem.getTradeItems(count);if(!tradeItems||!tradeItems.length)return;var coreItem=null;var itemIds=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(tradeItems),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;itemIds.push(item.id);if(!coreItem)coreItem=item;}}catch(err){_iterator.e(err);}finally{_iterator.f();}var ownItemCount=ownUser.userItems.length;if(ownItemCount+itemIds.length<=1500){if(!coreItem.isGroupable&&itemIds.length){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Xh\" /* TradingListAddItemComposer */](itemIds.pop()));}else{var tradeIds=[];var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(itemIds),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var itemId=_step2.value;if(canTradeItem(coreItem.isWallItem,coreItem.type,coreItem.category,coreItem.isGroupable,coreItem.stuffData)){tradeIds.push(itemId);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(tradeIds.length){if(tradeIds.length===1){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Xh\" /* TradingListAddItemComposer */](tradeIds.pop()));}else{SendMessageComposer_SendMessageComposer(Object(construct[\"a\" /* default */])(nitro_renderer[\"Yh\" /* TradingListAddItemsComposer */],tradeIds));}}}}else{NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('trading.items.too_many_items.desc'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('trading.items.too_many_items.title'));}};var getLockIcon=function getLockIcon(accepts){var iconName=accepts?'lock':'unlock';var textColor=accepts?'success':'danger';return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:iconName,className:'text-'+textColor});};Object(react[\"useEffect\"])(function(){if(tradeState!==TradeState_TradeState.TRADING_STATE_COUNTDOWN)return;setCountdownTick(3);var interval=setInterval(function(){setCountdownTick(function(prevValue){var newValue=prevValue-1;if(newValue===0)clearInterval(interval);return newValue;});},1000);return function(){return clearInterval(interval);};},[tradeState,setTradeState]);Object(react[\"useEffect\"])(function(){if(countdownTick!==0)return;setTradeState(TradeState_TradeState.TRADING_STATE_CONFIRMING);},[countdownTick,setTradeState]);if(tradeState===TradeState_TradeState.TRADING_STATE_READY||!ownUser||!otherUser)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:4,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryFurnitureSearchView_InventoryFurnitureSearchView,{groupItems:groupItems,setGroupItems:setFilteredGroupItems}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{column:true,fullHeight:true,justifyContent:\"between\",overflow:\"hidden\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:3,children:filteredGroupItems&&filteredGroupItems.length>0&&filteredGroupItems.map(function(item,index){var count=item.getUnlockedCount();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{className:!count?'opacity-0-5 ':'',itemImage:item.iconUrl,itemCount:count,itemActive:groupItem===item,itemUniqueNumber:item.stuffData.uniqueNumber,onClick:function onClick(event){return count&&setGroupItem(item);},children:count>0&&groupItem===item&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{position:\"absolute\",variant:\"success\",className:\"trade-button bottom-1 end-1\",onClick:function onClick(event){return attemptItemOffer(1);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\"})})},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fullWidth:true,className:\"badge bg-muted\",children:groupItem?groupItem.name:LocalizeText('catalog_selectproduct')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:8,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:[LocalizeText('inventory.trading.you'),\" \",LocalizeText('inventory.trading.areoffering'),\":\"]}),getLockIcon(ownUser.accepts)]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:3,children:Array.from(Array(MAX_ITEMS_TO_TRADE),function(e,i){var item=ownUser.userItems.getWithIndex(i)||null;if(!item)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{},i);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:ownGroupItem===item,itemImage:item.iconUrl,itemCount:item.getTotalCount(),itemUniqueNumber:item.stuffData.uniqueNumber,onClick:function onClick(event){return setOwnGroupItem(item);},children:ownGroupItem===item&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{position:\"absolute\",variant:\"danger\",className:\"trade-button bottom-1 start-1\",onClick:function onClick(event){return removeItem(item);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\"})})},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fullWidth:true,className:\"badge bg-muted\",children:ownGroupItem?ownGroupItem.name:LocalizeText('catalog_selectproduct')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:[otherUser.userName,\" \",LocalizeText('inventory.trading.isoffering'),\":\"]}),getLockIcon(otherUser.accepts)]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:3,children:Array.from(Array(MAX_ITEMS_TO_TRADE),function(e,i){var item=otherUser.userItems.getWithIndex(i)||null;if(!item)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{},i);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGridItem_LayoutGridItem,{itemActive:otherGroupItem===item,itemImage:item.iconUrl,itemCount:item.getTotalCount(),itemUniqueNumber:item.stuffData.uniqueNumber,onClick:function onClick(event){return setOtherGroupItem(item);}},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fullWidth:true,className:\"badge bg-muted w-100\",children:otherGroupItem?otherGroupItem.name:LocalizeText('catalog_selectproduct')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{grow:true,justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:cancelTrade,children:LocalizeText('generic.cancel')}),tradeState===TradeState_TradeState.TRADING_STATE_READY&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",disabled:!ownUser.itemCount&&!otherUser.itemCount,onClick:progressTrade,children:LocalizeText('inventory.trading.accept')}),tradeState===TradeState_TradeState.TRADING_STATE_RUNNING&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",disabled:!ownUser.itemCount&&!otherUser.itemCount,onClick:progressTrade,children:LocalizeText(ownUser.accepts?'inventory.trading.modify':'inventory.trading.accept')}),tradeState===TradeState_TradeState.TRADING_STATE_COUNTDOWN&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",disabled:true,children:LocalizeText('inventory.trading.countdown',['counter'],[countdownTick.toString()])}),tradeState===TradeState_TradeState.TRADING_STATE_CONFIRMING&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:progressTrade,children:LocalizeText('inventory.trading.button.restore')}),tradeState===TradeState_TradeState.TRADING_STATE_CONFIRMED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",children:LocalizeText('inventory.trading.info.waiting')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/views/pet/InventoryPetItemView.tsx\nvar InventoryPetItemView_excluded=[\"petItem\",\"children\"];var InventoryPetItemView_InventoryPetItemView=function InventoryPetItemView(props){var _props$petItem=props.petItem,petItem=_props$petItem===void 0?null:_props$petItem,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,InventoryPetItemView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMouseDown=_useState2[0],setMouseDown=_useState2[1];var _useInventoryPets=useInventoryPets_useInventoryPets(),_useInventoryPets$sel=_useInventoryPets.selectedPet,selectedPet=_useInventoryPets$sel===void 0?null:_useInventoryPets$sel,_useInventoryPets$set=_useInventoryPets.setSelectedPet,setSelectedPet=_useInventoryPets$set===void 0?null:_useInventoryPets$set;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),isUnseen=_useInventoryUnseenTr.isUnseen;var unseen=isUnseen(UnseenItemCategory_UnseenItemCategory.PET,petItem.petData.id);var onMouseEvent=function onMouseEvent(event){switch(event.type){case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_DOWN:setSelectedPet(petItem);setMouseDown(true);return;case nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_UP:setMouseDown(false);return;case nitro_renderer[\"xe\" /* MouseEventType */].ROLL_OUT:if(!isMouseDown||!(petItem===selectedPet))return;InventoryUtilities_attemptPetPlacement(petItem);return;}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({itemActive:petItem===selectedPet,itemUnseen:unseen,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView_LayoutPetImageView,{figure:petItem.petData.figureData.figuredata,direction:3,headOnly:true}),children]}));};\n// CONCATENATED MODULE: ./src/components/inventory/views/pet/InventoryPetView.tsx\nvar InventoryPetView_InventoryPetView=function InventoryPetView(props){var _props$roomSession=props.roomSession,roomSession=_props$roomSession===void 0?null:_props$roomSession,_props$roomPreviewer=props.roomPreviewer,roomPreviewer=_props$roomPreviewer===void 0?null:_props$roomPreviewer;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useInventoryPets=useInventoryPets_useInventoryPets(),_useInventoryPets$pet=_useInventoryPets.petItems,petItems=_useInventoryPets$pet===void 0?null:_useInventoryPets$pet,_useInventoryPets$sel=_useInventoryPets.selectedPet,selectedPet=_useInventoryPets$sel===void 0?null:_useInventoryPets$sel,_useInventoryPets$act=_useInventoryPets.activate,activate=_useInventoryPets$act===void 0?null:_useInventoryPets$act,_useInventoryPets$dea=_useInventoryPets.deactivate,deactivate=_useInventoryPets$dea===void 0?null:_useInventoryPets$dea;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.removeUnseen,removeUnseen=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;Object(react[\"useEffect\"])(function(){if(!selectedPet||!roomPreviewer)return;var petData=selectedPet.petData;var roomEngine=GetRoomEngine();var wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_WALL_TYPE);var floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_FLOOR_TYPE);var landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,nitro_renderer[\"Ig\" /* RoomObjectVariable */].ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';roomPreviewer.reset(false);roomPreviewer.updateRoomWallsAndFloorVisibility(true,true);roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);roomPreviewer.addPetIntoRoom(petData.figureString);},[roomPreviewer,selectedPet]);Object(react[\"useEffect\"])(function(){if(!selectedPet||!isUnseen(UnseenItemCategory_UnseenItemCategory.PET,selectedPet.petData.id))return;removeUnseen(UnseenItemCategory_UnseenItemCategory.PET,selectedPet.petData.id);},[selectedPet,isUnseen,removeUnseen]);Object(react[\"useEffect\"])(function(){if(!isVisible)return;var id=activate();return function(){return deactivate(id);};},[isVisible,activate,deactivate]);Object(react[\"useEffect\"])(function(){setIsVisible(true);return function(){return setIsVisible(false);};},[]);if(!petItems||!petItems.length)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryCategoryEmptyView_InventoryCategoryEmptyView,{title:LocalizeText('inventory.empty.pets.title'),desc:LocalizeText('inventory.empty.pets.desc')});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{columnCount:5,children:petItems&&petItems.length>0&&petItems.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryPetItemView_InventoryPetItemView,{petItem:item},item.petData.id);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:5,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"hidden\",position:\"relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomPreviewerView_LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140})}),selectedPet&&selectedPet.petData&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:true,truncate:true,children:selectedPet.petData.name}),!!roomSession&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return InventoryUtilities_attemptPetPlacement(selectedPet);},children:LocalizeText('inventory.furni.placetoroom')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/inventory/InventoryView.tsx\nvar TAB_FURNITURE='inventory.furni';var TAB_BOTS='inventory.bots';var TAB_PETS='inventory.furni.tab.pets';var TAB_BADGES='inventory.badges';var InventoryView_TABS=[TAB_FURNITURE,TAB_BOTS,TAB_PETS,TAB_BADGES];var UNSEEN_CATEGORIES=[UnseenItemCategory_UnseenItemCategory.FURNI,UnseenItemCategory_UnseenItemCategory.BOT,UnseenItemCategory_UnseenItemCategory.PET,UnseenItemCategory_UnseenItemCategory.BADGE];var InventoryView_InventoryView=function InventoryView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(InventoryView_TABS[0]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),currentTab=_useState4[0],setCurrentTab=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomSession=_useState6[0],setRoomSession=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),roomPreviewer=_useState8[0],setRoomPreviewer=_useState8[1];var _useInventoryTrade=useInventoryTrade_useInventoryTrade(),_useInventoryTrade$is=_useInventoryTrade.isTrading,isTrading=_useInventoryTrade$is===void 0?false:_useInventoryTrade$is,_useInventoryTrade$st=_useInventoryTrade.stopTrading,stopTrading=_useInventoryTrade$st===void 0?null:_useInventoryTrade$st;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.getCount,getCount=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.resetCategory,resetCategory=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;var close=function close(){if(isTrading)stopTrading();setIsVisible(false);};var onRoomEngineObjectPlacedEvent=Object(react[\"useCallback\"])(function(event){if(!isObjectMoverRequested())return;InventoryUtilities_setObjectMoverRequested(false);if(!event.placedInRoom)setIsVisible(true);},[]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].PLACED,onRoomEngineObjectPlacedEvent);var onRoomSessionEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED:setRoomSession(event.session);return;case nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED:setRoomSession(null);setIsVisible(false);return;}},[]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED,onRoomSessionEvent);var onBadgePointLimitsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(parser.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var data=_step.value;GetLocalization().setBadgePointLimit(data.badgeId,data.limit);}}catch(err){_iterator.e(err);}finally{_iterator.f();}},[]);UseMessageEventHook(nitro_renderer[\"t\" /* BadgePointLimitsEvent */],onBadgePointLimitsEvent);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;}},eventUrlPrefix:'inventory/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[]);Object(react[\"useEffect\"])(function(){setRoomPreviewer(new nitro_renderer[\"Kg\" /* RoomPreviewer */](GetRoomEngine(),++nitro_renderer[\"Kg\" /* RoomPreviewer */].PREVIEW_COUNTER));return function(){setRoomPreviewer(function(prevValue){prevValue.dispose();return null;});};},[]);Object(react[\"useEffect\"])(function(){if(!isVisible&&isTrading)setIsVisible(true);},[isVisible,isTrading]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:'inventory',className:\"nitro-inventory\",theme:isTrading?'primary-slim':'',children:[!isTrading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{padding:\"10px\",fontSize:\"21px\",fontWeight:\"bold\",color:\"var(--test-galaxytext)\",display:\"inline-block\"},children:\"Inventario\"}),InventoryView_TABS.map(function(name,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:\"inline-block\",backgroundColor:\"var(--test-galaxytwo)\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"5px\",cursor:\"pointer\"},onClick:function onClick(event){return setCurrentTab(name);},children:LocalizeText(name)});}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:\"inline-block\",float:\"right\",padding:\"13px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:\"inline-block\",backgroundColor:\"#a61c1c\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"2px\",cursor:\"pointer\"},onClick:function onClick(){return setIsVisible(!isVisible);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"height-fix\",children:[currentTab===TAB_FURNITURE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryFurnitureView_InventoryFurnitureView,{roomSession:roomSession,roomPreviewer:roomPreviewer}),currentTab===TAB_BOTS&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBotView_InventoryBotView,{roomSession:roomSession,roomPreviewer:roomPreviewer}),currentTab===TAB_PETS&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryPetView_InventoryPetView,{roomSession:roomSession,roomPreviewer:roomPreviewer}),currentTab===TAB_BADGES&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryBadgeView_InventoryBadgeView,{})]})})]})}),isTrading&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('inventory.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryTradeView_InventoryTradeView,{cancelTrade:close})})]})]});};\n// CONCATENATED MODULE: ./src/components/mediaroom/MediaRoomView.tsx\nvar MediaRoomView_MediaRoomView=function MediaRoomView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(\"dQw4w9WgXcQ\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),youtubeUrl=_useState4[0],setYoutubeUrl=_useState4[1];Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'video':setYoutubeUrl(parts[2]);setIsVisible(true);return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'mediaroom/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);function getSrcYoutube(){return\"https://www.youtube.com/embed/\"+youtubeUrl;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{style:{height:\"300px\",width:\"600px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"Video\",onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"iframe\",{style:{height:\"300px\",width:\"600px\"},src:getSrcYoutube()})})]})});};\n// CONCATENATED MODULE: ./src/components/mod-tools/ModToolsContext.tsx\nvar ModToolsContext=/*#__PURE__*/Object(react[\"createContext\"])({modToolsState:null,dispatchModToolsState:null});var ModToolsContext_ModToolsContextProvider=function ModToolsContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsContext.Provider,{value:props.value,children:props.children});};var ModToolsContext_useModToolsContext=function useModToolsContext(){return Object(react[\"useContext\"])(ModToolsContext);};\n// CONCATENATED MODULE: ./src/components/mod-tools/reducers/ModToolsReducer.tsx\nvar ModToolsReducer_ModToolsActions=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function ModToolsActions(){Object(classCallCheck[\"a\" /* default */])(this,ModToolsActions);});ModToolsReducer_ModToolsActions.SET_INIT_DATA='MTA_SET_INIT_DATA';ModToolsReducer_ModToolsActions.SET_CURRENT_ROOM_ID='MTA_SET_CURRENT_ROOM_ID';ModToolsReducer_ModToolsActions.SET_OPEN_ROOMS='MTA_SET_OPEN_ROOMS';ModToolsReducer_ModToolsActions.SET_OPEN_USERINFO='MTA_SET_OPEN_USERINFO';ModToolsReducer_ModToolsActions.SET_OPEN_ROOM_CHATLOGS='MTA_SET_OPEN_CHATLOGS';ModToolsReducer_ModToolsActions.SET_OPEN_USER_CHATLOGS='MTA_SET_OPEN_USER_CHATLOGS';ModToolsReducer_ModToolsActions.SET_TICKETS='MTA_SET_TICKETS';ModToolsReducer_ModToolsActions.SET_CFH_CATEGORIES='MTA_SET_CFH_CATEGORIES';ModToolsReducer_ModToolsActions.RESET_STATE='MTA_RESET_STATE';var initialModTools={settings:null,currentRoomId:null,openRooms:null,openRoomChatlogs:null,openUserChatlogs:null,openUserInfo:null,tickets:null,cfhCategories:null};var ModToolsReducer_ModToolsReducer=function ModToolsReducer(state,action){switch(action.type){case ModToolsReducer_ModToolsActions.SET_INIT_DATA:{var settings=action.payload.settings||state.settings||null;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{settings:settings});}case ModToolsReducer_ModToolsActions.SET_CURRENT_ROOM_ID:{var currentRoomId=action.payload.currentRoomId||state.currentRoomId||null;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentRoomId:currentRoomId});}case ModToolsReducer_ModToolsActions.SET_OPEN_ROOMS:{var openRooms=action.payload.openRooms||state.openRooms||null;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{openRooms:openRooms});}case ModToolsReducer_ModToolsActions.SET_OPEN_USERINFO:{var openUserInfo=action.payload.openUserInfo||state.openUserInfo||null;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{openUserInfo:openUserInfo});}case ModToolsReducer_ModToolsActions.SET_OPEN_ROOM_CHATLOGS:{var openRoomChatlogs=action.payload.openRoomChatlogs||state.openRoomChatlogs||null;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{openRoomChatlogs:openRoomChatlogs});}case ModToolsReducer_ModToolsActions.SET_OPEN_USER_CHATLOGS:{var openUserChatlogs=action.payload.openUserChatlogs||state.openUserChatlogs||null;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{openUserChatlogs:openUserChatlogs});}case ModToolsReducer_ModToolsActions.SET_TICKETS:{var tickets=action.payload.tickets||state.tickets||null;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{tickets:tickets});}case ModToolsReducer_ModToolsActions.SET_CFH_CATEGORIES:{var cfhCategories=action.payload.cfhCategories||state.cfhCategories||null;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cfhCategories:cfhCategories});}case ModToolsReducer_ModToolsActions.RESET_STATE:{return Object(objectSpread2[\"a\" /* default */])({},initialModTools);}default:return state;}};\n// CONCATENATED MODULE: ./src/components/mod-tools/ModToolsMessageHandler.tsx\nvar ModToolsMessageHandler_ModToolsMessageHandler=function ModToolsMessageHandler(props){var _useModToolsContext=ModToolsContext_useModToolsContext(),_useModToolsContext$m=_useModToolsContext.modToolsState,modToolsState=_useModToolsContext$m===void 0?null:_useModToolsContext$m,_useModToolsContext$d=_useModToolsContext.dispatchModToolsState,dispatchModToolsState=_useModToolsContext$d===void 0?null:_useModToolsContext$d;var _modToolsState$openRo=modToolsState.openRooms,openRooms=_modToolsState$openRo===void 0?null:_modToolsState$openRo,_modToolsState$openRo2=modToolsState.openRoomChatlogs,openRoomChatlogs=_modToolsState$openRo2===void 0?null:_modToolsState$openRo2,_modToolsState$openUs=modToolsState.openUserChatlogs,openUserChatlogs=_modToolsState$openUs===void 0?null:_modToolsState$openUs,_modToolsState$openUs2=modToolsState.openUserInfo,openUserInfo=_modToolsState$openUs2===void 0?null:_modToolsState$openUs2,_modToolsState$ticket=modToolsState.tickets,tickets=_modToolsState$ticket===void 0?null:_modToolsState$ticket;var onModeratorInitMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var data=parser.data;dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_INIT_DATA,payload:{settings:data}});dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_TICKETS,payload:{tickets:data.issues}});},[dispatchModToolsState]);var onIssueInfoMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var newTickets=tickets?Array.from(tickets):[];var existingIndex=newTickets.findIndex(function(entry){return entry.issueId===parser.issueData.issueId;});if(existingIndex>-1){newTickets[existingIndex]=parser.issueData;}else{newTickets.push(parser.issueData);PlaySound_PlaySound(SoundNames_SoundNames.MODTOOLS_NEW_TICKET);}dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_TICKETS,payload:{tickets:newTickets}});},[dispatchModToolsState,tickets]);var onModeratorToolPreferencesEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;},[]);var onIssuePickFailedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;NotificationUtilities_NotificationUtilities.simpleAlert('Failed to pick issue',NotificationAlertType_NotificationAlertType.DEFAULT,null,null,'Error');},[]);var onIssueDeletedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var newTickets=tickets?Array.from(tickets):[];var existingIndex=newTickets.findIndex(function(entry){return entry.issueId===parser.issueId;});if(existingIndex===-1)return;newTickets.splice(existingIndex,1);dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_TICKETS,payload:{tickets:newTickets}});},[dispatchModToolsState,tickets]);var onModeratorActionResultMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;if(parser.success){NotificationUtilities_NotificationUtilities.simpleAlert('Moderation action was successfull',NotificationAlertType_NotificationAlertType.MODERATION,null,null,'Success');}else{NotificationUtilities_NotificationUtilities.simpleAlert('There was a problem applying tht moderation action',NotificationAlertType_NotificationAlertType.MODERATION,null,null,'Error');}},[]);var onCfhTopicsInitEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;var categories=parser.callForHelpCategories;dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_CFH_CATEGORIES,payload:{cfhCategories:categories}});SetCfhCategories(categories);},[dispatchModToolsState]);var onCfhSanctionMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;// todo: update sanction data\n},[]);UseMessageEventHook(nitro_renderer[\"re\" /* ModeratorInitMessageEvent */],onModeratorInitMessageEvent);UseMessageEventHook(nitro_renderer[\"Md\" /* IssueInfoMessageEvent */],onIssueInfoMessageEvent);UseMessageEventHook(nitro_renderer[\"ue\" /* ModeratorToolPreferencesEvent */],onModeratorToolPreferencesEvent);UseMessageEventHook(nitro_renderer[\"Od\" /* IssuePickFailedMessageEvent */],onIssuePickFailedMessageEvent);UseMessageEventHook(nitro_renderer[\"Ld\" /* IssueDeletedMessageEvent */],onIssueDeletedMessageEvent);UseMessageEventHook(nitro_renderer[\"pe\" /* ModeratorActionResultMessageEvent */],onModeratorActionResultMessageEvent);UseMessageEventHook(nitro_renderer[\"ab\" /* CfhTopicsInitEvent */],onCfhTopicsInitEvent);UseMessageEventHook(nitro_renderer[\"Z\" /* CfhSanctionMessageEvent */],onCfhSanctionMessageEvent);var onRoomEngineEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"ig\" /* RoomEngineEvent */].INITIALIZED:dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_CURRENT_ROOM_ID,payload:{currentRoomId:event.roomId}});return;case nitro_renderer[\"ig\" /* RoomEngineEvent */].DISPOSED:dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_CURRENT_ROOM_ID,payload:{currentRoomId:null}});return;}},[dispatchModToolsState]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ig\" /* RoomEngineEvent */].INITIALIZED,onRoomEngineEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ig\" /* RoomEngineEvent */].DISPOSED,onRoomEngineEvent);var onModToolsEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case ModToolsEvent_ModToolsEvent.OPEN_ROOM_INFO:{var castedEvent=event;if(openRooms&&openRooms.includes(castedEvent.roomId))return;var rooms=openRooms||[];dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_OPEN_ROOMS,payload:{openRooms:[].concat(Object(toConsumableArray[\"a\" /* default */])(rooms),[castedEvent.roomId])}});return;}case ModToolsEvent_ModToolsEvent.OPEN_ROOM_CHATLOG:{var _castedEvent=event;if(openRoomChatlogs&&openRoomChatlogs.includes(_castedEvent.roomId))return;var chatlogs=openRoomChatlogs||[];dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_OPEN_ROOM_CHATLOGS,payload:{openRoomChatlogs:[].concat(Object(toConsumableArray[\"a\" /* default */])(chatlogs),[_castedEvent.roomId])}});return;}case ModToolsEvent_ModToolsEvent.OPEN_USER_INFO:{var _castedEvent2=event;if(openUserInfo&&openUserInfo.includes(_castedEvent2.userId))return;var userInfo=openUserInfo||[];dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_OPEN_USERINFO,payload:{openUserInfo:[].concat(Object(toConsumableArray[\"a\" /* default */])(userInfo),[_castedEvent2.userId])}});return;}case ModToolsEvent_ModToolsEvent.OPEN_USER_CHATLOG:{var _castedEvent3=event;if(openUserChatlogs&&openUserChatlogs.includes(_castedEvent3.userId))return;var userChatlog=openUserChatlogs||[];dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_OPEN_USER_CHATLOGS,payload:{openUserChatlogs:[].concat(Object(toConsumableArray[\"a\" /* default */])(userChatlog),[_castedEvent3.userId])}});return;}}},[openRooms,dispatchModToolsState,openRoomChatlogs,openUserInfo,openUserChatlogs]);UseUiEvent_UseUiEvent(ModToolsEvent_ModToolsEvent.OPEN_ROOM_INFO,onModToolsEvent);UseUiEvent_UseUiEvent(ModToolsEvent_ModToolsEvent.OPEN_ROOM_CHATLOG,onModToolsEvent);UseUiEvent_UseUiEvent(ModToolsEvent_ModToolsEvent.OPEN_USER_INFO,onModToolsEvent);UseUiEvent_UseUiEvent(ModToolsEvent_ModToolsEvent.OPEN_USER_CHATLOG,onModToolsEvent);return null;};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/chatlog/ChatlogView.tsx\nvar ChatlogView_ChatlogView=function ChatlogView(props){var _props$records=props.records,records=_props$records===void 0?null:_props$records;var rowRenderer=function rowRenderer(props){var chatlogEntry=records[0].chatlog[props.index];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"b\" /* CellMeasurer */],{cache:cache,columnIndex:0,parent:props.parent,rowIndex:props.index,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{fullHeight:false,style:props.style,gap:1,alignItems:\"center\",className:\"log-entry py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-2\",children:chatlogEntry.timestamp}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-3\",bold:true,underline:true,pointer:true,onClick:function onClick(event){return DispatchUiEvent_DispatchUiEvent(new ModToolsOpenUserInfoEvent_ModToolsOpenUserInfoEvent(chatlogEntry.userId));},children:chatlogEntry.userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",textBreak:true,wrap:true,className:\"g-col-7\",children:chatlogEntry.message})]},props.key)},props.key);};var advancedRowRenderer=function advancedRowRenderer(props){var chatlogEntry=null;var currentRecord=null;var isRoomInfo=false;var totalIndex=0;for(var i=0;i<records.length;i++){currentRecord=records[i];totalIndex++;// row for room info\ntotalIndex=totalIndex+currentRecord.chatlog.length;if(props.index>totalIndex-1)continue;if(props.index+1===totalIndex-currentRecord.chatlog.length){isRoomInfo=true;break;}var index=props.index-(totalIndex-currentRecord.chatlog.length);chatlogEntry=currentRecord.chatlog[index];break;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es[\"b\" /* CellMeasurer */],{cache:cache,columnIndex:0,parent:props.parent,rowIndex:props.index,children:[isRoomInfo&&currentRecord&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomInfo,{roomId:currentRecord.roomId,roomName:currentRecord.roomName,uniqueKey:props.key,style:props.style}),!isRoomInfo&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{fullHeight:false,style:props.style,gap:1,alignItems:\"center\",className:\"log-entry py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-2\",children:chatlogEntry.timestamp}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-3\",bold:true,underline:true,pointer:true,onClick:function onClick(event){return DispatchUiEvent_DispatchUiEvent(new ModToolsOpenUserInfoEvent_ModToolsOpenUserInfoEvent(chatlogEntry.userId));},children:chatlogEntry.userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",textBreak:true,wrap:true,className:\"g-col-7\",children:chatlogEntry.message})]},props.key)]},props.key);};var getNumRowsForAdvanced=Object(react[\"useCallback\"])(function(){var count=0;for(var i=0;i<records.length;i++){count++;// add room info row\ncount=count+records[i].chatlog.length;}return count;},[records]);var RoomInfo=function RoomInfo(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,alignItems:\"center\",justifyContent:\"between\",className:\"room-info bg-muted rounded p-1\",style:props.style,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:\"Room name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:props.roomName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return TryVisitRoom(props.roomId);},children:\"Visit Room\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return DispatchUiEvent_DispatchUiEvent(new ModToolsOpenRoomInfoEvent_ModToolsOpenRoomInfoEvent(props.roomId));},children:\"Room Tools\"})]})]},props.uniqueKey);};var cache=new es[\"c\" /* CellMeasurerCache */]({defaultHeight:25,fixedWidth:true});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[records&&records.length===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomInfo,{roomId:records[0].roomId,roomName:records[0].roomName,uniqueKey:null,style:{}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fit:true,gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-2\",children:\"Time\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-3\",children:\"User\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-7\",children:\"Message\"})]})}),records&&records.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AutoSizer */],{defaultWidth:400,defaultHeight:200,children:function children(_ref){var height=_ref.height,width=_ref.width;cache.clearAll();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* List */],{width:width,height:height,rowCount:records.length>1?getNumRowsForAdvanced():records[0].chatlog.length,rowHeight:cache.rowHeight,className:'log-entry-container',rowRenderer:records.length>1?advancedRowRenderer:rowRenderer,deferredMeasurementCache:cache});}})})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/room/ModToolsChatlogView.tsx\nvar ModToolsChatlogView_ModToolsChatlogView=function ModToolsChatlogView(props){var _props$roomId=props.roomId,roomId=_props$roomId===void 0?null:_props$roomId,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),roomChatlog=_useState2[0],setRoomChatlog=_useState2[1];var onModtoolRoomChatlogEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser||parser.data.roomId!==roomId)return;setRoomChatlog(parser.data);},[roomId]);UseMessageEventHook(nitro_renderer[\"Xf\" /* RoomChatlogEvent */],onModtoolRoomChatlogEvent);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"sc\" /* GetRoomChatlogMessageComposer */](roomId));},[roomId]);if(!roomChatlog)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"Room Chatlog \".concat(roomChatlog.roomName),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black h-100\",children:roomChatlog&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatlogView_ChatlogView,{records:[roomChatlog]})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/room/ModToolsRoomView.tsx\nvar ModToolsRoomView_ModToolsRoomView=function ModToolsRoomView(props){var _props$roomId=props.roomId,roomId=_props$roomId===void 0?null:_props$roomId,_props$onCloseClick=props.onCloseClick,_onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),infoRequested=_useState2[0],setInfoRequested=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loadedRoomId=_useState4[0],setLoadedRoomId=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),ownerId=_useState8[0],setOwnerId=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),ownerName=_useState10[0],setOwnerName=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),ownerInRoom=_useState12[0],setOwnerInRoom=_useState12[1];var _useState13=Object(react[\"useState\"])(0),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),usersInRoom=_useState14[0],setUsersInRoom=_useState14[1];//form data\nvar _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),kickUsers=_useState16[0],setKickUsers=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),lockRoom=_useState18[0],setLockRoom=_useState18[1];var _useState19=Object(react[\"useState\"])(false),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),changeRoomName=_useState20[0],setChangeRoomName=_useState20[1];var _useState21=Object(react[\"useState\"])(''),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),message=_useState22[0],setMessage=_useState22[1];var onModtoolRoomInfoEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser||parser.data.flatId!==roomId)return;setLoadedRoomId(parser.data.flatId);setName(parser.data.room.name);setOwnerId(parser.data.ownerId);setOwnerName(parser.data.ownerName);setOwnerInRoom(parser.data.ownerInRoom);setUsersInRoom(parser.data.userCount);},[roomId]);UseMessageEventHook(nitro_renderer[\"te\" /* ModeratorRoomInfoEvent */],onModtoolRoomInfoEvent);var handleClick=Object(react[\"useCallback\"])(function(action,value){if(!action)return;switch(action){case'alert_only':if(message.trim().length===0)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"oe\" /* ModeratorActionMessageComposer */](nitro_renderer[\"oe\" /* ModeratorActionMessageComposer */].ACTION_ALERT,message,''));SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ne\" /* ModerateRoomMessageComposer */](roomId,lockRoom?1:0,changeRoomName?1:0,kickUsers?1:0));return;case'send_message':if(message.trim().length===0)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"oe\" /* ModeratorActionMessageComposer */](nitro_renderer[\"oe\" /* ModeratorActionMessageComposer */].ACTION_MESSAGE,message,''));SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ne\" /* ModerateRoomMessageComposer */](roomId,lockRoom?1:0,changeRoomName?1:0,kickUsers?1:0));return;}},[changeRoomName,kickUsers,lockRoom,message,roomId]);Object(react[\"useEffect\"])(function(){if(infoRequested)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"nc\" /* GetModeratorRoomInfoMessageComposer */](roomId));setInfoRequested(true);},[roomId,infoRequested,setInfoRequested]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-room\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'Room Info'+(name?': '+name:''),onCloseClick:function onCloseClick(event){return _onCloseClick();}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"center\",grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,align:\"end\",className:\"col-7\",children:\"Room Owner:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{underline:true,pointer:true,truncate:true,children:ownerName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,align:\"end\",className:\"col-7\",children:\"Users in room:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:usersInRoom})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,align:\"end\",className:\"col-7\",children:\"Owner in room:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:ownerInRoom?'Yes':'No'})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return TryVisitRoom(roomId);},children:\"Visit Room\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return DispatchUiEvent_DispatchUiEvent(new ModToolsOpenRoomChatlogEvent_ModToolsOpenRoomChatlogEvent(roomId));},children:\"Chatlog\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"bg-muted rounded p-2\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:kickUsers,onChange:function onChange(event){return setKickUsers(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,children:\"Kick everyone out\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:lockRoom,onChange:function onChange(event){return setLockRoom(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,children:\"Enable the doorbell\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:changeRoomName,onChange:function onChange(event){return setChangeRoomName(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,children:\"Change room name\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control\",placeholder:\"Type a mandatory message to the users in this text box...\",value:message,onChange:function onChange(event){return setMessage(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(event){return handleClick('send_message');},children:\"Send Caution\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return handleClick('alert_only');},children:\"Send Alert only\"})]})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/common/IssueCategoryNames.ts\nvar getSourceName=function getSourceName(categoryId){switch(categoryId){case 1:case 2:return'Normal';case 3:return'Automatic';case 4:return'Automatic IM';case 5:return'Guide System';case 6:return'IM';case 7:return'Room';case 8:return'Panic';case 9:return'Guardian';case 10:return'Automatic Helper';case 11:return'Discussion';case 12:return'Selfie';case 14:return'Photo';case 15:return'Ambassador';default:return'Unknown';}};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/CfhChatlogView.tsx\nvar CfhChatlogView_CfhChatlogView=function CfhChatlogView(props){var _props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick,_props$issueId=props.issueId,issueId=_props$issueId===void 0?null:_props$issueId;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),chatlogData=_useState2[0],setChatlogData=_useState2[1];Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"dc\" /* GetCfhChatlogMessageComposer */](issueId));},[issueId]);var onCfhChatlogEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser||parser.data.issueId!==issueId)return;setChatlogData(parser.data);},[issueId]);UseMessageEventHook(nitro_renderer[\"Y\" /* CfhChatlogEvent */],onCfhChatlogEvent);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'Issue Chatlog',onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:chatlogData&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatlogView_ChatlogView,{records:[chatlogData.chatRecord]})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsIssueInfoView.tsx\nvar ModToolsIssueInfoView_ModToolsIssueInfoView=function ModToolsIssueInfoView(props){var _props$issueId=props.issueId,issueId=_props$issueId===void 0?null:_props$issueId,_props$onIssueInfoClo=props.onIssueInfoClosed,onIssueInfoClosed=_props$onIssueInfoClo===void 0?null:_props$onIssueInfoClo;var _useModToolsContext=ModToolsContext_useModToolsContext(),_useModToolsContext$m=_useModToolsContext.modToolsState,modToolsState=_useModToolsContext$m===void 0?null:_useModToolsContext$m;var _modToolsState$ticket=modToolsState.tickets,tickets=_modToolsState$ticket===void 0?null:_modToolsState$ticket;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),cfhChatlogOpen=_useState2[0],setcfhChatlogOpen=_useState2[1];var ticket=Object(react[\"useMemo\"])(function(){if(!tickets||!tickets.length)return null;return tickets.find(function(issue){return issue.issueId===issueId;});},[issueId,tickets]);var releaseIssue=function releaseIssue(issueId){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Hf\" /* ReleaseIssuesMessageComposer */]([issueId]));onIssueInfoClosed(issueId);};var closeIssue=function closeIssue(resolutionType){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"eb\" /* CloseIssuesMessageComposer */]([issueId],resolutionType));onIssueInfoClosed(issueId);};var openUserInfo=function openUserInfo(userId){return DispatchUiEvent_DispatchUiEvent(new ModToolsOpenUserInfoEvent_ModToolsOpenUserInfoEvent(userId));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-handle-issue\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'Resolving issue '+issueId,onCloseClick:function onCloseClick(){return onIssueInfoClosed(issueId);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",fontSize:4,children:\"Issue Information\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:8,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tbody\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Source\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{style:{color:\"var(--test-galaxytext)\"},children:getSourceName(ticket.categoryId)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Category\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-break\",children:LocalizeText('help.cfh.topic.'+ticket.reportedCategoryId)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Description\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-break\",children:ticket.message})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Caller\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,underline:true,pointer:true,onClick:function onClick(event){return openUserInfo(ticket.reporterUserId);},children:ticket.reporterUserName})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{style:{color:\"var(--test-galaxytext)\"},children:\"Reported User\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,underline:true,pointer:true,onClick:function onClick(event){return openUserInfo(ticket.reportedUserId);},children:ticket.reportedUserName})})]})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:4,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:function onClick(){return setcfhChatlogOpen(!cfhChatlogOpen);},children:\"Chatlog\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return closeIssue(nitro_renderer[\"eb\" /* CloseIssuesMessageComposer */].RESOLUTION_USELESS);},children:\"Close as useless\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(event){return closeIssue(nitro_renderer[\"eb\" /* CloseIssuesMessageComposer */].RESOLUTION_ABUSIVE);},children:\"Close as abusive\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return closeIssue(nitro_renderer[\"eb\" /* CloseIssuesMessageComposer */].RESOLUTION_RESOLVED);},children:\"Close as resolved\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"secondary\",onClick:function onClick(event){return releaseIssue(issueId);},children:\"Release\"})]})]})]})]}),cfhChatlogOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CfhChatlogView_CfhChatlogView,{issueId:issueId,onCloseClick:function onCloseClick(){return setcfhChatlogOpen(false);}})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsMyIssuesTabView.tsx\nvar ModToolsMyIssuesTabView_ModToolsMyIssuesTabView=function ModToolsMyIssuesTabView(props){var _props$myIssues=props.myIssues,myIssues=_props$myIssues===void 0?null:_props$myIssues,_props$onIssueHandleC=props.onIssueHandleClick,onIssueHandleClick=_props$onIssueHandleC===void 0?null:_props$onIssueHandleC;var onReleaseIssue=function onReleaseIssue(issueId){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Hf\" /* ReleaseIssuesMessageComposer */]([issueId]));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Type\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Room/Player\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Opened\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"auto\",className:\"striped-children\",gap:0,children:myIssues&&myIssues.length>0&&myIssues.map(function(issue){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:issue.categoryId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:issue.reportedUserName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:new Date(Date.now()-issue.issueAgeInMilliseconds).toLocaleTimeString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",onClick:function onClick(event){return onIssueHandleClick(issue.issueId);},children:\"Handle\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(event){return onReleaseIssue(issue.issueId);},children:\"Release\"})})]},issue.issueId);})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsOpenIssuesTabView.tsx\nvar ModToolsOpenIssuesTabView_ModToolsOpenIssuesTabView=function ModToolsOpenIssuesTabView(props){var _props$openIssues=props.openIssues,openIssues=_props$openIssues===void 0?null:_props$openIssues;var onPickIssue=function onPickIssue(issueId){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"rf\" /* PickIssuesMessageComposer */]([issueId],false,0,'pick issue button'));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Type\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Room/Player\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-4\",children:\"Opened\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"auto\",className:\"striped-children\",gap:0,children:openIssues&&openIssues.length>0&&openIssues.map(function(issue){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:issue.categoryId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:issue.reportedUserName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-4\",children:new Date(Date.now()-issue.issueAgeInMilliseconds).toLocaleTimeString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return onPickIssue(issue.issueId);},children:\"Pick Issue\"})})]},issue.issueId);})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsPickedIssuesTabView.tsx\nvar ModToolsPickedIssuesTabView_ModToolsPickedIssuesTabView=function ModToolsPickedIssuesTabView(props){var _props$pickedIssues=props.pickedIssues,pickedIssues=_props$pickedIssues===void 0?null:_props$pickedIssues;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Type\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Room/Player\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-4\",children:\"Opened\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Picker\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"auto\",className:\"striped-children\",gap:0,children:pickedIssues&&pickedIssues.length>0&&pickedIssues.map(function(issue){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,alignItems:\"center\",className:\"text-black py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:issue.categoryId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:issue.reportedUserName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-4\",children:new Date(Date.now()-issue.issueAgeInMilliseconds).toLocaleTimeString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:issue.pickerUserName})]},issue.issueId);})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/tickets/ModToolsTicketsView.tsx\nvar ModToolsTicketsView_TABS=['Open Issues','My Issues','Picked Issues'];var ModToolsTicketsView_ModToolsTicketsView=function ModToolsTicketsView(props){var _props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useModToolsContext=ModToolsContext_useModToolsContext(),_useModToolsContext$m=_useModToolsContext.modToolsState,modToolsState=_useModToolsContext$m===void 0?null:_useModToolsContext$m;var _modToolsState$ticket=modToolsState.tickets,tickets=_modToolsState$ticket===void 0?null:_modToolsState$ticket;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentTab=_useState2[0],setCurrentTab=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),issueInfoWindows=_useState4[0],setIssueInfoWindows=_useState4[1];var openIssues=Object(react[\"useMemo\"])(function(){if(!tickets)return[];return tickets.filter(function(issue){return issue.state===nitro_renderer[\"Nd\" /* IssueMessageData */].STATE_OPEN;});},[tickets]);var myIssues=Object(react[\"useMemo\"])(function(){if(!tickets)return[];return tickets.filter(function(issue){return issue.state===nitro_renderer[\"Nd\" /* IssueMessageData */].STATE_PICKED&&issue.pickerUserId===GetSessionDataManager().userId;});},[tickets]);var pickedIssues=Object(react[\"useMemo\"])(function(){if(!tickets)return[];return tickets.filter(function(issue){return issue.state===nitro_renderer[\"Nd\" /* IssueMessageData */].STATE_PICKED;});},[tickets]);var onIssueInfoClosed=Object(react[\"useCallback\"])(function(issueId){var indexOfValue=issueInfoWindows.indexOf(issueId);if(indexOfValue===-1)return;var newValues=Array.from(issueInfoWindows);newValues.splice(indexOfValue,1);setIssueInfoWindows(newValues);},[issueInfoWindows]);var onIssueHandleClicked=Object(react[\"useCallback\"])(function(issueId){if(issueInfoWindows.indexOf(issueId)===-1){var newValues=Array.from(issueInfoWindows);newValues.push(issueId);setIssueInfoWindows(newValues);}else{onIssueInfoClosed(issueId);}},[issueInfoWindows,onIssueInfoClosed]);var CurrentTabComponent=Object(react[\"useCallback\"])(function(){switch(currentTab){case 0:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsOpenIssuesTabView_ModToolsOpenIssuesTabView,{openIssues:openIssues});case 1:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsMyIssuesTabView_ModToolsMyIssuesTabView,{myIssues:myIssues,onIssueHandleClick:onIssueHandleClicked});case 2:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsPickedIssuesTabView_ModToolsPickedIssuesTabView,{pickedIssues:pickedIssues});default:return null;}},[currentTab,myIssues,onIssueHandleClicked,openIssues,pickedIssues]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-tickets\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'Tickets',onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView_NitroCardTabsView,{children:ModToolsTicketsView_TABS.map(function(tab,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView_NitroCardTabsItemView,{isActive:currentTab===index,onClick:function onClick(event){return setCurrentTab(index);},children:tab},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrentTabComponent,{})})]}),issueInfoWindows&&issueInfoWindows.length>0&&issueInfoWindows.map(function(issueId){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsIssueInfoView_ModToolsIssueInfoView,{issueId:issueId,onIssueInfoClosed:onIssueInfoClosed},issueId);})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserChatlogView.tsx\nvar ModToolsUserChatlogView_ModToolsUserChatlogView=function ModToolsUserChatlogView(props){var _props$userId=props.userId,userId=_props$userId===void 0?null:_props$userId,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userChatlog=_useState2[0],setUserChatlog=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var onModtoolUserChatlogEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser||parser.data.userId!==userId)return;setUsername(parser.data.username);setUserChatlog(parser.data.roomChatlogs);},[userId]);UseMessageEventHook(nitro_renderer[\"ri\" /* UserChatlogEvent */],onModtoolUserChatlogEvent);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"wc\" /* GetUserChatlogMessageComposer */](userId));},[userId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-chatlog\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"User Chatlog: \".concat(username||''),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"h-100\",children:userChatlog&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatlogView_ChatlogView,{records:userChatlog})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/common/ModActionDefinition.ts\nvar ModActionDefinition_ModActionDefinition=/*#__PURE__*/function(){function ModActionDefinition(actionId,actionName,actionType,sanctionTypeId,actionLengthHours){Object(classCallCheck[\"a\" /* default */])(this,ModActionDefinition);this._actionId=void 0;this._name=void 0;this._actionType=void 0;this._sanctionTypeId=void 0;this._actionLengthHours=void 0;this._actionId=actionId;this._name=actionName;this._actionType=actionType;this._sanctionTypeId=sanctionTypeId;this._actionLengthHours=actionLengthHours;}Object(createClass[\"a\" /* default */])(ModActionDefinition,[{key:\"actionId\",get:function get(){return this._actionId;}},{key:\"name\",get:function get(){return this._name;}},{key:\"actionType\",get:function get(){return this._actionType;}},{key:\"sanctionTypeId\",get:function get(){return this._sanctionTypeId;}},{key:\"actionLengthHours\",get:function get(){return this._actionLengthHours;}}]);return ModActionDefinition;}();ModActionDefinition_ModActionDefinition.ALERT=1;ModActionDefinition_ModActionDefinition.MUTE=2;ModActionDefinition_ModActionDefinition.BAN=3;ModActionDefinition_ModActionDefinition.KICK=4;ModActionDefinition_ModActionDefinition.TRADE_LOCK=5;ModActionDefinition_ModActionDefinition.MESSAGE=6;\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserModActionView.tsx\nvar MOD_ACTION_DEFINITIONS=[new ModActionDefinition_ModActionDefinition(1,'Alert',ModActionDefinition_ModActionDefinition.ALERT,1,0),new ModActionDefinition_ModActionDefinition(2,'Mute 1h',ModActionDefinition_ModActionDefinition.MUTE,2,0),new ModActionDefinition_ModActionDefinition(3,'Ban 18h',ModActionDefinition_ModActionDefinition.BAN,3,0),new ModActionDefinition_ModActionDefinition(4,'Ban 7 days',ModActionDefinition_ModActionDefinition.BAN,4,0),new ModActionDefinition_ModActionDefinition(5,'Ban 30 days (step 1)',ModActionDefinition_ModActionDefinition.BAN,5,0),new ModActionDefinition_ModActionDefinition(7,'Ban 30 days (step 2)',ModActionDefinition_ModActionDefinition.BAN,7,0),new ModActionDefinition_ModActionDefinition(6,'Ban 100 years',ModActionDefinition_ModActionDefinition.BAN,6,0),new ModActionDefinition_ModActionDefinition(106,'Ban avatar-only 100 years',ModActionDefinition_ModActionDefinition.BAN,6,0),new ModActionDefinition_ModActionDefinition(101,'Kick',ModActionDefinition_ModActionDefinition.KICK,0,0),new ModActionDefinition_ModActionDefinition(102,'Lock trade 1 week',ModActionDefinition_ModActionDefinition.TRADE_LOCK,0,168),new ModActionDefinition_ModActionDefinition(104,'Lock trade permanent',ModActionDefinition_ModActionDefinition.TRADE_LOCK,0,876000),new ModActionDefinition_ModActionDefinition(105,'Message',ModActionDefinition_ModActionDefinition.MESSAGE,0,0)];var ModToolsUserModActionView_ModToolsUserModActionView=function ModToolsUserModActionView(props){var _props$user=props.user,user=_props$user===void 0?null:_props$user,_props$onCloseClick=props.onCloseClick,_onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedTopic=_useState2[0],setSelectedTopic=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedAction=_useState4[0],setSelectedAction=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useModToolsContext=ModToolsContext_useModToolsContext(),_useModToolsContext$m=_useModToolsContext.modToolsState,modToolsState=_useModToolsContext$m===void 0?null:_useModToolsContext$m;var _modToolsState$cfhCat=modToolsState.cfhCategories,cfhCategories=_modToolsState$cfhCat===void 0?null:_modToolsState$cfhCat,_modToolsState$settin=modToolsState.settings,settings=_modToolsState$settin===void 0?null:_modToolsState$settin;var topics=Object(react[\"useMemo\"])(function(){var values=[];if(cfhCategories&&cfhCategories.length){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(cfhCategories),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var category=_step.value;var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(category.topics),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var topic=_step2.value;values.push(topic);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return values;},[cfhCategories]);var sendAlert=function sendAlert(message){NotificationUtilities_NotificationUtilities.simpleAlert(message,NotificationAlertType_NotificationAlertType.DEFAULT,null,null,'Error');};var sendDefaultSanction=function sendDefaultSanction(){var errorMessage=null;var category=topics[selectedTopic];if(selectedTopic===-1)errorMessage='You must select a CFH topic';if(errorMessage)return sendAlert(errorMessage);var messageOrDefault=message.trim().length===0?LocalizeText(\"help.cfh.topic.\".concat(category.id)):message;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"pb\" /* DefaultSanctionMessageComposer */](user.userId,selectedTopic,messageOrDefault));_onCloseClick();};var sendSanction=function sendSanction(){var errorMessage=null;var category=topics[selectedTopic];var sanction=MOD_ACTION_DEFINITIONS[selectedAction];if(selectedTopic===-1||selectedAction===-1)errorMessage='You must select a CFH topic and Sanction';else if(!settings||!settings.cfhPermission)errorMessage='You do not have permission to do this';else if(!category)errorMessage='You must select a CFH topic';else if(!sanction)errorMessage='You must select a sanction';if(errorMessage){sendAlert(errorMessage);return;}var messageOrDefault=message.trim().length===0?LocalizeText(\"help.cfh.topic.\".concat(category.id)):message;switch(sanction.actionType){case ModActionDefinition_ModActionDefinition.ALERT:{if(!settings.alertPermission){sendAlert('You have insufficient permissions');return;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"he\" /* ModAlertMessageComposer */](user.userId,messageOrDefault,category.id));break;}case ModActionDefinition_ModActionDefinition.MUTE:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"le\" /* ModMuteMessageComposer */](user.userId,messageOrDefault,category.id));break;case ModActionDefinition_ModActionDefinition.BAN:{if(!settings.banPermission){sendAlert('You have insufficient permissions');return;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ie\" /* ModBanMessageComposer */](user.userId,messageOrDefault,category.id,selectedAction,sanction.actionId===106));break;}case ModActionDefinition_ModActionDefinition.KICK:{if(!settings.kickPermission){sendAlert('You have insufficient permissions');return;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"je\" /* ModKickMessageComposer */](user.userId,messageOrDefault,category.id));break;}case ModActionDefinition_ModActionDefinition.TRADE_LOCK:{var numSeconds=sanction.actionLengthHours*60;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"me\" /* ModTradingLockMessageComposer */](user.userId,messageOrDefault,numSeconds,category.id));break;}case ModActionDefinition_ModActionDefinition.MESSAGE:{if(message.trim().length===0){sendAlert('Please write a message to user');return;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ke\" /* ModMessageMessageComposer */](user.userId,message,category.id));break;}}_onCloseClick();};if(!user)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-user-action\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'Mod Action: '+(user?user.username:''),onCloseClick:function onCloseClick(){return _onCloseClick();}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:selectedTopic,onChange:function onChange(event){return setSelectedTopic(parseInt(event.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:-1,disabled:true,children:\"CFH Topic\"}),topics.map(function(topic,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:index,children:LocalizeText('help.cfh.topic.'+topic.id)},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:selectedAction,onChange:function onChange(event){return setSelectedAction(parseInt(event.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:-1,disabled:true,children:\"Sanction Type\"}),MOD_ACTION_DEFINITIONS.map(function(action,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:index,children:action.name},index);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:\"Optional message type, overrides default\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control\",value:message,onChange:function onChange(event){return setMessage(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"primary\",onClick:sendDefaultSanction,children:\"Default Sanction\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:sendSanction,children:\"Sanction\"})]})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserRoomVisitsView.tsx\nvar ModToolsUserRoomVisitsView_ModToolsUserRoomVisitsView=function ModToolsUserRoomVisitsView(props){var _props$userId=props.userId,userId=_props$userId===void 0?null:_props$userId,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),roomVisitData=_useState2[0],setRoomVisitData=_useState2[1];var onModtoolReceivedRoomsUserEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser||parser.data.userId!==userId)return;setRoomVisitData(parser.data);},[userId]);UseMessageEventHook(nitro_renderer[\"qh\" /* RoomVisitsEvent */],onModtoolReceivedRoomsUserEvent);var RowRenderer=function RowRenderer(props){var item=roomVisitData.rooms[props.index];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{fullHeight:false,style:props.style,gap:1,alignItems:\"center\",className:\"py-1 border-bottom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-2\",children:[item.enterHour.toString().padStart(2,'0'),\": \",item.enterMinute.toString().padStart(2,'0')]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-7\",children:item.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,underline:true,pointer:true,variant:\"primary\",className:\"g-col-3\",onClick:function onClick(event){return TryVisitRoom(item.roomId);},children:\"Visit Room\"})]},props.key);};Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"uc\" /* GetRoomVisitsMessageComposer */](userId));},[userId]);if(!userId)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-user-visits\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'User Visits',onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"\",gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullHeight:true,gap:0,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Time\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-7\",children:\"Room name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Visit\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:roomVisitData&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AutoSizer */],{defaultWidth:400,defaultHeight:200,children:function children(_ref){var height=_ref.height,width=_ref.width;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* List */],{width:width,height:height,rowCount:roomVisitData.rooms.length,rowHeight:25,className:'log-entry-container',rowRenderer:RowRenderer,style:{color:\"var(--test-galaxytext)\"}});}})})]})})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserSendMessageView.tsx\nvar ModToolsUserSendMessageView_ModToolsUserSendMessageView=function ModToolsUserSendMessageView(props){var _props$user=props.user,user=_props$user===void 0?null:_props$user,_props$onCloseClick=props.onCloseClick,_onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var sendMessage=Object(react[\"useCallback\"])(function(){if(message.trim().length===0){DispatchUiEvent_DispatchUiEvent(new NotificationAlertEvent_NotificationAlertEvent(['Please write a message to user.'],null,null,null,'Error',null));return;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ke\" /* ModMessageMessageComposer */](user.userId,message,-999));_onCloseClick();},[message,user,_onCloseClick]);if(!user)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-user-message\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'Send Message',onCloseClick:function onCloseClick(){return _onCloseClick();}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:[\"Message To: \",user.username]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control\",value:message,onChange:function onChange(event){return setMessage(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:sendMessage,children:\"Send message\"})]})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/views/user/ModToolsUserView.tsx\nvar ModToolsUserView_ModToolsUserView=function ModToolsUserView(props){var _props$onCloseClick=props.onCloseClick,_onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick,_props$userId=props.userId,userId=_props$userId===void 0?null:_props$userId;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),sendMessageVisible=_useState4[0],setSendMessageVisible=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),modActionVisible=_useState6[0],setModActionVisible=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),roomVisitsVisible=_useState8[0],setRoomVisitsVisible=_useState8[1];var onModtoolUserInfoEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser||parser.data.userId!==userId)return;setUserInfo(parser.data);},[userId]);UseMessageEventHook(nitro_renderer[\"ve\" /* ModeratorUserInfoEvent */],onModtoolUserInfoEvent);var userProperties=Object(react[\"useMemo\"])(function(){if(!userInfo)return null;return[{localeKey:'modtools.userinfo.userName',value:userInfo.userName,showOnline:true},{localeKey:'modtools.userinfo.cfhCount',value:userInfo.cfhCount.toString()},{localeKey:'modtools.userinfo.abusiveCfhCount',value:userInfo.abusiveCfhCount.toString()},{localeKey:'modtools.userinfo.cautionCount',value:userInfo.cautionCount.toString()},{localeKey:'modtools.userinfo.banCount',value:userInfo.banCount.toString()},{localeKey:'modtools.userinfo.lastSanctionTime',value:userInfo.lastSanctionTime},{localeKey:'modtools.userinfo.tradingLockCount',value:userInfo.tradingLockCount.toString()},{localeKey:'modtools.userinfo.tradingExpiryDate',value:userInfo.tradingExpiryDate},{localeKey:'modtools.userinfo.minutesSinceLastLogin',value:nitro_renderer[\"Ib\" /* FriendlyTime */].format(userInfo.minutesSinceLastLogin*60,'.ago',2)},{localeKey:'modtools.userinfo.lastPurchaseDate',value:userInfo.lastPurchaseDate},{localeKey:'modtools.userinfo.primaryEmailAddress',value:userInfo.primaryEmailAddress},{localeKey:'modtools.userinfo.identityRelatedBanCount',value:userInfo.identityRelatedBanCount.toString()},{localeKey:'modtools.userinfo.registrationAgeInMinutes',value:nitro_renderer[\"Ib\" /* FriendlyTime */].format(userInfo.registrationAgeInMinutes*60,'.ago',2)},{localeKey:'modtools.userinfo.userClassification',value:userInfo.userClassification}];},[userInfo]);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"oc\" /* GetModeratorUserInfoMessageComposer */](userId));},[userId]);if(!userInfo)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mod-tools-user\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('modtools.userinfo.title',['username'],[userInfo.userName]),onCloseClick:function onCloseClick(){return _onCloseClick();}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:8,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:userProperties.map(function(property,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{style:{color:\"var(--test-galaxytext)\"},scope:\"row\",children:LocalizeText(property.localeKey)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{style:{color:\"var(--test-galaxytext)\"},children:[property.value,property.showOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-pf-\".concat(userInfo.online?'online':'offline',\" ms-2\")})]})]},index);})})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:4,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return DispatchUiEvent_DispatchUiEvent(new ModToolsOpenUserChatlogEvent_ModToolsOpenUserChatlogEvent(userId));},children:\"Room Chat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return setSendMessageVisible(!sendMessageVisible);},children:\"Send Message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return setRoomVisitsVisible(!roomVisitsVisible);},children:\"Room Visits\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return setModActionVisible(!modActionVisible);},children:\"Mod Action\"})]})]})})]}),sendMessageVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserSendMessageView_ModToolsUserSendMessageView,{user:{userId:userId,username:userInfo.userName},onCloseClick:function onCloseClick(){return setSendMessageVisible(false);}}),modActionVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserModActionView_ModToolsUserModActionView,{user:{userId:userId,username:userInfo.userName},onCloseClick:function onCloseClick(){return setModActionVisible(false);}}),roomVisitsVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserRoomVisitsView_ModToolsUserRoomVisitsView,{userId:userId,onCloseClick:function onCloseClick(){return setRoomVisitsVisible(false);}})]});};\n// CONCATENATED MODULE: ./src/components/mod-tools/ModToolsView.tsx\nvar ModToolsView_ModToolsView=function ModToolsView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedUser=_useState4[0],setSelectedUser=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isTicketsVisible=_useState6[0],setIsTicketsVisible=_useState6[1];var _useReducer=Object(react[\"useReducer\"])(ModToolsReducer_ModToolsReducer,initialModTools),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),modToolsState=_useReducer2[0],dispatchModToolsState=_useReducer2[1];var _modToolsState$curren=modToolsState.currentRoomId,currentRoomId=_modToolsState$curren===void 0?null:_modToolsState$curren,_modToolsState$openRo=modToolsState.openRooms,openRooms=_modToolsState$openRo===void 0?null:_modToolsState$openRo,_modToolsState$openRo2=modToolsState.openRoomChatlogs,openRoomChatlogs=_modToolsState$openRo2===void 0?null:_modToolsState$openRo2,_modToolsState$openUs=modToolsState.openUserChatlogs,openUserChatlogs=_modToolsState$openUs===void 0?null:_modToolsState$openUs,_modToolsState$openUs2=modToolsState.openUserInfo,openUserInfo=_modToolsState$openUs2===void 0?null:_modToolsState$openUs2;var elementRef=Object(react[\"useRef\"])(null);var onModToolsEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case ModToolsEvent_ModToolsEvent.SHOW_MOD_TOOLS:setIsVisible(true);return;case ModToolsEvent_ModToolsEvent.HIDE_MOD_TOOLS:setIsVisible(false);return;case ModToolsEvent_ModToolsEvent.TOGGLE_MOD_TOOLS:setIsVisible(function(value){return!value;});return;}},[]);UseUiEvent_UseUiEvent(ModToolsEvent_ModToolsEvent.SHOW_MOD_TOOLS,onModToolsEvent);UseUiEvent_UseUiEvent(ModToolsEvent_ModToolsEvent.HIDE_MOD_TOOLS,onModToolsEvent);UseUiEvent_UseUiEvent(ModToolsEvent_ModToolsEvent.TOGGLE_MOD_TOOLS,onModToolsEvent);var onRoomEngineObjectEvent=Object(react[\"useCallback\"])(function(event){if(event.category!==nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT)return;var roomSession=GetRoomSession();if(!roomSession)return;var userData=roomSession.userDataManager.getUserDataByIndex(event.objectId);if(!userData||userData.type!==nitro_renderer[\"Gg\" /* RoomObjectType */].USER)return;setSelectedUser({userId:userData.webID,username:userData.name});},[]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].SELECTED,onRoomEngineObjectEvent);var handleClick=Object(react[\"useCallback\"])(function(action,value){if(!action)return;switch(action){case'toggle_room':{if(!openRooms){DispatchUiEvent_DispatchUiEvent(new ModToolsOpenRoomInfoEvent_ModToolsOpenRoomInfoEvent(currentRoomId));return;}if(openRooms.indexOf(currentRoomId)>-1){handleClick('close_room',currentRoomId.toString());}else{DispatchUiEvent_DispatchUiEvent(new ModToolsOpenRoomInfoEvent_ModToolsOpenRoomInfoEvent(currentRoomId));}return;}case'close_room':{var itemIndex=openRooms.indexOf(Number(value));var clone=Array.from(openRooms);clone.splice(itemIndex,1);dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_OPEN_ROOMS,payload:{openRooms:clone}});return;}case'toggle_room_chatlog':{if(!openRoomChatlogs){DispatchUiEvent_DispatchUiEvent(new ModToolsOpenRoomChatlogEvent_ModToolsOpenRoomChatlogEvent(currentRoomId));return;}if(openRoomChatlogs.indexOf(currentRoomId)>-1){handleClick('close_room_chatlog',currentRoomId.toString());}else{DispatchUiEvent_DispatchUiEvent(new ModToolsOpenRoomChatlogEvent_ModToolsOpenRoomChatlogEvent(currentRoomId));}return;}case'close_room_chatlog':{var _itemIndex=openRoomChatlogs.indexOf(Number(value));var _clone=Array.from(openRoomChatlogs);_clone.splice(_itemIndex,1);dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_OPEN_ROOM_CHATLOGS,payload:{openRoomChatlogs:_clone}});return;}case'toggle_user_info':{if(!selectedUser)return;var userId=selectedUser.userId;if(!openUserInfo){DispatchUiEvent_DispatchUiEvent(new ModToolsOpenUserInfoEvent_ModToolsOpenUserInfoEvent(userId));return;}if(openUserInfo.indexOf(userId)>-1){handleClick('close_user_info',userId.toString());}else{DispatchUiEvent_DispatchUiEvent(new ModToolsOpenUserInfoEvent_ModToolsOpenUserInfoEvent(userId));}return;}case'close_user_info':{var _itemIndex2=openUserInfo.indexOf(Number(value));var _clone2=Array.from(openUserInfo);_clone2.splice(_itemIndex2,1);dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_OPEN_USERINFO,payload:{openUserInfo:_clone2}});return;}case'close_user_chatlog':{var _itemIndex3=openUserChatlogs.indexOf(Number(value));var _clone3=Array.from(openUserChatlogs);_clone3.splice(_itemIndex3,1);dispatchModToolsState({type:ModToolsReducer_ModToolsActions.SET_OPEN_USER_CHATLOGS,payload:{openUserChatlogs:_clone3}});return;}}},[openRooms,currentRoomId,openRoomChatlogs,selectedUser,openUserInfo,openUserChatlogs]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ModToolsContext_ModToolsContextProvider,{value:{modToolsState:modToolsState,dispatchModToolsState:dispatchModToolsState},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsMessageHandler_ModToolsMessageHandler,{}),isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"mod-tools\",className:\"nitro-mod-tools\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.TOP_LEFT,theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'Mod Tools',onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button_Button,{gap:1,onClick:function onClick(event){return handleClick('toggle_room');},disabled:!currentRoomId,className:\"position-relative\",style:{backgroundColor:\"var(--test-galaxytwo)\"},variant:\"none\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"icon icon-small-room position-absolute start-1\"}),\" Room Tool\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button_Button,{innerRef:elementRef,gap:1,onClick:function onClick(event){return handleClick('toggle_room_chatlog');},disabled:!currentRoomId,className:\"position-relative\",style:{backgroundColor:\"var(--test-galaxytwo)\"},variant:\"none\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"icon icon-chat-history position-absolute start-1\"}),\" Chatlog Tool\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button_Button,{gap:1,onClick:function onClick(){return handleClick('toggle_user_info');},disabled:!selectedUser,className:\"position-relative\",style:{backgroundColor:\"var(--test-galaxytwo)\"},variant:\"none\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"icon icon-user position-absolute start-1\"}),\" User: \",selectedUser?selectedUser.username:'']}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button_Button,{gap:1,onClick:function onClick(){return setIsTicketsVisible(function(value){return!value;});},className:\"position-relative\",style:{backgroundColor:\"var(--test-galaxytwo)\"},variant:\"none\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"icon icon-tickets position-absolute start-1\"}),\" Report Tool\"]})]})]}),openRooms&&openRooms.map(function(roomId){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsRoomView_ModToolsRoomView,{roomId:roomId,onCloseClick:function onCloseClick(){return handleClick('close_room',roomId.toString());}},roomId);}),openRoomChatlogs&&openRoomChatlogs.map(function(roomId){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsChatlogView_ModToolsChatlogView,{roomId:roomId,onCloseClick:function onCloseClick(){return handleClick('close_room_chatlog',roomId.toString());}},roomId);}),openUserInfo&&openUserInfo.map(function(userId){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserView_ModToolsUserView,{userId:userId,onCloseClick:function onCloseClick(){return handleClick('close_user_info',userId.toString());}},userId);}),openUserChatlogs&&openUserChatlogs.map(function(userId){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsUserChatlogView_ModToolsUserChatlogView,{userId:userId,onCloseClick:function onCloseClick(){return handleClick('close_user_chatlog',userId.toString());}},userId);}),isTicketsVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsTicketsView_ModToolsTicketsView,{onCloseClick:function onCloseClick(){return setIsTicketsVisible(false);}})]});};\n// CONCATENATED MODULE: ./src/components/navigator/NavigatorContext.tsx\nvar NavigatorContext=/*#__PURE__*/Object(react[\"createContext\"])({categories:null,setCategories:null,topLevelContext:null,setTopLevelContext:null,topLevelContexts:null,setTopLevelContexts:null,navigatorData:null,setNavigatorData:null,doorData:null,setDoorData:null,searchResult:null,setSearchResult:null});var NavigatorContext_NavigatorContextProvider=function NavigatorContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorContext.Provider,{value:props.value,children:props.children});};var NavigatorContext_useNavigatorContext=function useNavigatorContext(){return Object(react[\"useContext\"])(NavigatorContext);};\n// CONCATENATED MODULE: ./src/components/navigator/NavigatorMessageHandler.tsx\nvar NavigatorMessageHandler_NavigatorMessageHandler=function NavigatorMessageHandler(props){var _useNavigatorContext=NavigatorContext_useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.setCategories,setCategories=_useNavigatorContext$===void 0?null:_useNavigatorContext$,_useNavigatorContext$2=_useNavigatorContext.setTopLevelContext,setTopLevelContext=_useNavigatorContext$2===void 0?null:_useNavigatorContext$2,_useNavigatorContext$3=_useNavigatorContext.topLevelContexts,topLevelContexts=_useNavigatorContext$3===void 0?null:_useNavigatorContext$3,_useNavigatorContext$4=_useNavigatorContext.setTopLevelContexts,setTopLevelContexts=_useNavigatorContext$4===void 0?null:_useNavigatorContext$4,_useNavigatorContext$5=_useNavigatorContext.setNavigatorData,setNavigatorData=_useNavigatorContext$5===void 0?null:_useNavigatorContext$5,_useNavigatorContext$6=_useNavigatorContext.setDoorData,setDoorData=_useNavigatorContext$6===void 0?null:_useNavigatorContext$6,_useNavigatorContext$7=_useNavigatorContext.setSearchResult,setSearchResult=_useNavigatorContext$7===void 0?null:_useNavigatorContext$7;var onRoomSettingsUpdatedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();SendMessageComposer_SendMessageComposer(new nitro_renderer[\"wg\" /* RoomInfoComposer */](parser.roomId,false,false));},[]);UseMessageEventHook(nitro_renderer[\"eh\" /* RoomSettingsUpdatedEvent */],onRoomSettingsUpdatedEvent);var onCanCreateRoomEventEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(parser.canCreate){// show room event cvreate\nreturn;}NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText(\"navigator.cannotcreateevent.error.\".concat(parser.errorCode)),null,null,null,LocalizeText('navigator.cannotcreateevent.title'));},[]);UseMessageEventHook(nitro_renderer[\"Q\" /* CanCreateRoomEventEvent */],onCanCreateRoomEventEvent);var onUserInfoEvent=Object(react[\"useCallback\"])(function(event){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ye\" /* NavigatorCategoriesComposer */]());SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ge\" /* NavigatorSettingsComposer */]());},[]);var onUserPermissionsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setNavigatorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.eventMod=parser.securityLevel>=nitro_renderer[\"Bh\" /* SecurityLevel */].MODERATOR;newValue.roomPicker=parser.securityLevel>=nitro_renderer[\"Bh\" /* SecurityLevel */].COMMUNITY;return newValue;});},[setNavigatorData]);var onRoomForwardEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();TryVisitRoom(parser.roomId);},[]);var onRoomEntryInfoMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setNavigatorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.enteredGuestRoom=null;newValue.currentRoomOwner=parser.isOwner;newValue.currentRoomId=parser.roomId;return newValue;});// close room info\n// close room settings\n// close room filter\nSendMessageComposer_SendMessageComposer(new nitro_renderer[\"wg\" /* RoomInfoComposer */](parser.roomId,true,false));if(nitro_renderer[\"Rd\" /* LegacyExternalInterface */].available)nitro_renderer[\"Rd\" /* LegacyExternalInterface */].call('legacyTrack','navigator','private',[parser.roomId]);},[setNavigatorData]);var onGetGuestRoomResultEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(parser.roomEnter){setDoorData({roomInfo:null,state:DoorStateType_DoorStateType.NONE});setNavigatorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.enteredGuestRoom=parser.data;newValue.currentRoomIsStaffPick=parser.staffPick;var isCreated=newValue.createdFlatId===parser.data.roomId;if(!isCreated&&parser.data.displayRoomEntryAd){if(GetConfiguration('roomenterad.habblet.enabled',false))nitro_renderer[\"Ed\" /* HabboWebTools */].openRoomEnterAd();}newValue.createdFlatId=0;if(newValue.enteredGuestRoom&&newValue.enteredGuestRoom.habboGroupId>0){// close event info\n}return newValue;});}else if(parser.roomForward){if(parser.data.ownerName!==GetSessionDataManager().userName&&!parser.isGroupMember){switch(parser.data.doorMode){case nitro_renderer[\"bg\" /* RoomDataParser */].DOORBELL_STATE:setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.roomInfo=parser.data;newValue.state=DoorStateType_DoorStateType.START_DOORBELL;return newValue;});return;case nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE:setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.roomInfo=parser.data;newValue.state=DoorStateType_DoorStateType.START_PASSWORD;return newValue;});return;}}if(parser.data.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].NOOB_STATE&&!GetSessionDataManager().isAmbassador&&!GetSessionDataManager().isRealNoob&&!GetSessionDataManager().isModerator)return;CreateRoomSession(parser.data.roomId);}else{setNavigatorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.enteredGuestRoom=parser.data;newValue.currentRoomIsStaffPick=parser.staffPick;return newValue;});}},[setNavigatorData,setDoorData]);var onRoomScoreEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setNavigatorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.currentRoomRating=parser.totalLikes;newValue.canRate=parser.canLike;return newValue;});},[setNavigatorData]);var onRoomDoorbellEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser.userName||parser.userName.length===0){setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.state=DoorStateType_DoorStateType.STATE_WAITING;return newValue;});}},[setDoorData]);var onRoomDoorbellAcceptedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser.userName||parser.userName.length===0){setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.state=DoorStateType_DoorStateType.STATE_ACCEPTED;return newValue;});}},[setDoorData]);var onRoomDoorbellRejectedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser.userName||parser.userName.length===0){setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.state=DoorStateType_DoorStateType.STATE_NO_ANSWER;return newValue;});}},[setDoorData]);var onGenericErrorEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();switch(parser.errorCode){case-100002:setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.state=DoorStateType_DoorStateType.STATE_WRONG_PASSWORD;return newValue;});return;case 4009:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('navigator.alert.need.to.be.vip'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('generic.alert.title'));return;case 4010:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('navigator.alert.invalid_room_name'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('generic.alert.title'));return;case 4011:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('navigator.alert.cannot_perm_ban'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('generic.alert.title'));return;case 4013:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('navigator.alert.room_in_maintenance'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('generic.alert.title'));return;}},[setDoorData]);var onNavigatorMetadataEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setTopLevelContexts(parser.topLevelContexts);setTopLevelContext(parser.topLevelContexts.length?parser.topLevelContexts[0]:null);},[setTopLevelContexts,setTopLevelContext]);var onNavigatorSearchEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setTopLevelContext(function(prevValue){var newValue=prevValue;if(!newValue)newValue=topLevelContexts&&topLevelContexts.length&&topLevelContexts[0]||null;if(!newValue)return null;if(parser.result.code!==newValue.code&&topLevelContexts&&topLevelContexts.length){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(topLevelContexts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var context=_step.value;if(context.code!==parser.result.code)continue;newValue=context;}}catch(err){_iterator.e(err);}finally{_iterator.f();}}var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(topLevelContexts),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _context=_step2.value;if(_context.code!==parser.result.code)continue;newValue=_context;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return newValue;});setSearchResult(parser.result);},[topLevelContexts,setTopLevelContext,setSearchResult]);var onNavigatorCategoriesEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setCategories(parser.categories);},[setCategories]);var onRoomCreatedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();CreateRoomSession(parser.roomId);},[]);var onNavigatorHomeRoomEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var prevSettingsReceived=false;setNavigatorData(function(prevValue){prevSettingsReceived=prevValue.settingsReceived;var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.homeRoomId=parser.homeRoomId;newValue.settingsReceived=true;return newValue;});if(prevSettingsReceived){// refresh room info window\nreturn;}var forwardType=-1;var forwardId=-1;if(GetConfiguration('friend.id')!==undefined&&parseInt(GetConfiguration('friend.id'))>0){forwardType=0;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Db\" /* FollowFriendMessageComposer */](parseInt(GetConfiguration('friend.id'))));}if(GetConfiguration('forward.type')!==undefined&&GetConfiguration('forward.id')!==undefined){forwardType=parseInt(GetConfiguration('forward.type'));forwardId=parseInt(GetConfiguration('forward.id'));}if(forwardType===2){TryVisitRoom(forwardId);}else if(forwardType===-1&&parser.roomIdToEnter>0){CreateLinkEvent('navigator/close');if(parser.roomIdToEnter!==parser.homeRoomId){CreateRoomSession(parser.roomIdToEnter);}else{CreateRoomSession(parser.homeRoomId);}}},[setNavigatorData]);var onRoomEnterErrorEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();switch(parser.reason){case nitro_renderer[\"S\" /* CantConnectMessageParser */].REASON_FULL:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('navigator.guestroomfull.text'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('navigator.guestroomfull.title'));break;case nitro_renderer[\"S\" /* CantConnectMessageParser */].REASON_QUEUE_ERROR:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText(\"room.queue.error.\".concat(parser.parameter)),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('room.queue.error.title'));break;case nitro_renderer[\"S\" /* CantConnectMessageParser */].REASON_BANNED:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('navigator.banned.text'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('navigator.banned.title'));break;default:NotificationUtilities_NotificationUtilities.simpleAlert(LocalizeText('room.queue.error.title'),NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('room.queue.error.title'));break;}VisitDesktop_VisitDesktop();},[]);var onRoomCreatorEvent=Object(react[\"useCallback\"])(function(event){CreateLinkEvent('navigator/show');},[]);UseMessageEventHook(nitro_renderer[\"zi\" /* UserInfoEvent */],onUserInfoEvent);UseMessageEventHook(nitro_renderer[\"Bi\" /* UserPermissionsEvent */],onUserPermissionsEvent);UseMessageEventHook(nitro_renderer[\"tg\" /* RoomForwardEvent */],onRoomForwardEvent);UseMessageEventHook(nitro_renderer[\"rg\" /* RoomEntryInfoMessageEvent */],onRoomEntryInfoMessageEvent);UseMessageEventHook(nitro_renderer[\"jc\" /* GetGuestRoomResultEvent */],onGetGuestRoomResultEvent);UseMessageEventHook(nitro_renderer[\"Mg\" /* RoomScoreEvent */],onRoomScoreEvent);UseMessageEventHook(nitro_renderer[\"eg\" /* RoomDoorbellEvent */],onRoomDoorbellEvent);UseMessageEventHook(nitro_renderer[\"dg\" /* RoomDoorbellAcceptedEvent */],onRoomDoorbellAcceptedEvent);UseMessageEventHook(nitro_renderer[\"fg\" /* RoomDoorbellRejectedEvent */],onRoomDoorbellRejectedEvent);UseMessageEventHook(nitro_renderer[\"Zb\" /* GenericErrorEvent */],onGenericErrorEvent);UseMessageEventHook(nitro_renderer[\"Ce\" /* NavigatorMetadataEvent */],onNavigatorMetadataEvent);UseMessageEventHook(nitro_renderer[\"Fe\" /* NavigatorSearchEvent */],onNavigatorSearchEvent);UseMessageEventHook(nitro_renderer[\"ze\" /* NavigatorCategoriesEvent */],onNavigatorCategoriesEvent);UseMessageEventHook(nitro_renderer[\"ag\" /* RoomCreatedEvent */],onRoomCreatedEvent);UseMessageEventHook(nitro_renderer[\"Ae\" /* NavigatorHomeRoomEvent */],onNavigatorHomeRoomEvent);UseMessageEventHook(nitro_renderer[\"pg\" /* RoomEnterErrorEvent */],onRoomEnterErrorEvent);UseMessageEventHook(nitro_renderer[\"De\" /* NavigatorOpenRoomCreatorEvent */],onRoomCreatorEvent);return null;};\n// CONCATENATED MODULE: ./src/components/navigator/views/NavigatorDoorStateView.tsx\nvar VISIBLE_STATES=[DoorStateType_DoorStateType.START_DOORBELL,DoorStateType_DoorStateType.STATE_WAITING,DoorStateType_DoorStateType.STATE_NO_ANSWER,DoorStateType_DoorStateType.START_PASSWORD,DoorStateType_DoorStateType.STATE_WRONG_PASSWORD];var DOORBELL_STATES=[DoorStateType_DoorStateType.START_DOORBELL,DoorStateType_DoorStateType.STATE_WAITING,DoorStateType_DoorStateType.STATE_NO_ANSWER];var PASSWORD_STATES=[DoorStateType_DoorStateType.START_PASSWORD,DoorStateType_DoorStateType.STATE_WRONG_PASSWORD];var NavigatorDoorStateView_NavigatorDoorStateView=function NavigatorDoorStateView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useNavigatorContext=NavigatorContext_useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.doorData,doorData=_useNavigatorContext$===void 0?null:_useNavigatorContext$,_useNavigatorContext$2=_useNavigatorContext.setDoorData,setDoorData=_useNavigatorContext$2===void 0?null:_useNavigatorContext$2;var close=function close(){if(doorData&&doorData.state===DoorStateType_DoorStateType.STATE_WAITING)GoToDesktop();setDoorData(null);};var ring=function ring(){if(!doorData||!doorData.roomInfo)return;CreateRoomSession(doorData.roomInfo.roomId);setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.state=DoorStateType_DoorStateType.STATE_PENDING_SERVER;return newValue;});};var tryEntering=function tryEntering(){if(!doorData||!doorData.roomInfo)return;CreateRoomSession(doorData.roomInfo.roomId,password);setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.state=DoorStateType_DoorStateType.STATE_PENDING_SERVER;return newValue;});};Object(react[\"useEffect\"])(function(){if(!doorData||doorData.state!==DoorStateType_DoorStateType.STATE_NO_ANSWER)return;GoToDesktop();},[doorData]);if(!doorData||doorData.state===DoorStateType_DoorStateType.NONE||VISIBLE_STATES.indexOf(doorData.state)===-1)return null;var isDoorbell=DOORBELL_STATES.indexOf(doorData.state)>=0;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-navigator-doorbell\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText(isDoorbell?'navigator.doorbell.title':'navigator.password.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:doorData&&doorData.roomInfo&&doorData.roomInfo.roomName}),doorData.state===DoorStateType_DoorStateType.START_DOORBELL&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.doorbell.info')}),doorData.state===DoorStateType_DoorStateType.STATE_WAITING&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.doorbell.waiting')}),doorData.state===DoorStateType_DoorStateType.STATE_NO_ANSWER&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.doorbell.no.answer')}),doorData.state===DoorStateType_DoorStateType.START_PASSWORD&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.password.info')}),doorData.state===DoorStateType_DoorStateType.STATE_WRONG_PASSWORD&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.password.retryinfo')})]}),isDoorbell&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[doorData.state===DoorStateType_DoorStateType.START_DOORBELL&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:ring,children:LocalizeText('navigator.doorbell.button.ring')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:close,children:LocalizeText('generic.cancel')})]}),!isDoorbell&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.password.enter')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control form-control-sm\",onChange:function onChange(event){return setPassword(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:tryEntering,children:LocalizeText('navigator.password.button.try')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:close,children:LocalizeText('generic.cancel')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/NavigatorRoomCreatorView.tsx\n/* eslint-disable no-template-curly-in-string */var NavigatorRoomCreatorView_NavigatorRoomCreatorView=function NavigatorRoomCreatorView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),maxVisitorsList=_useState2[0],setMaxVisitorsList=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),visitorsCount=_useState10[0],setVisitorsCount=_useState10[1];var _useState11=Object(react[\"useState\"])(0),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),tradesSetting=_useState12[0],setTradesSetting=_useState12[1];var _useState13=Object(react[\"useState\"])([]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),roomModels=_useState14[0],setRoomModels=_useState14[1];var _useState15=Object(react[\"useState\"])(''),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),selectedModelName=_useState16[0],setSelectedModelName=_useState16[1];var _useNavigatorContext=NavigatorContext_useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.categories,categories=_useNavigatorContext$===void 0?null:_useNavigatorContext$;var hcDisabled=GetConfiguration('hc.disabled',false);var getRoomModelImage=function getRoomModelImage(name){return GetConfiguration('images.url')+\"/navigator/models/model_\".concat(name,\".png\");};var selectModel=function selectModel(model,index){if(!model||model.clubLevel>GetClubMemberLevel())return;setSelectedModelName(roomModels[index].name);};var createRoom=function createRoom(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Zf\" /* RoomCreateComposer */](name,description,'model_'+selectedModelName,Number(category),Number(visitorsCount),tradesSetting));};Object(react[\"useEffect\"])(function(){if(!maxVisitorsList){var list=[];for(var i=10;i<=100;i=i+10){list.push(i);}setMaxVisitorsList(list);setVisitorsCount(list[0]);}},[maxVisitorsList]);Object(react[\"useEffect\"])(function(){if(categories&&categories.length)setCategory(categories[0].id);},[categories]);Object(react[\"useEffect\"])(function(){var models=GetConfiguration('navigator.room.models');if(models&&models.length){setRoomModels(models);setSelectedModelName(models[0].name);}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,gap:1,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.createroom.roomnameinfo')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:60,onChange:function onChange(event){return setName(event.target.value);},placeholder:LocalizeText('navigator.createroom.roomnameinfo')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.createroom.roomdescinfo')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"flex-grow-1 form-control form-control-sm w-100\",maxLength:255,onChange:function onChange(event){return setDescription(event.target.value);},placeholder:LocalizeText('navigator.createroom.roomdescinfo')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.category')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",onChange:function onChange(event){return setCategory(Number(event.target.value));},children:categories&&categories.length>0&&categories.map(function(category){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:category.id,children:LocalizeText(category.name)},category.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.maxvisitors')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",onChange:function onChange(event){return setVisitorsCount(Number(event.target.value));},children:maxVisitorsList&&maxVisitorsList.map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:value,children:value},value);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.tradesettings')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",onChange:function onChange(event){return setTradesSetting(Number(event.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.trade_not_allowed')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.trade_not_with_Controller')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:LocalizeText('navigator.roomsettings.trade_allowed')})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:6,gap:1,overflow:\"auto\",children:roomModels.map(function(model,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{fullHeight:true,onClick:function onClick(){return selectModel(model,index);},itemActive:selectedModelName===model.name,overflow:\"unset\",gap:0,className:\"p-1\",disabled:GetClubMemberLevel()<model.clubLevel,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{fullHeight:true,center:true,overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"\",src:getRoomModelImage(model.name)})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:[model.tileSize,\" \",LocalizeText('navigator.createroom.tilesize')]}),!hcDisabled&&model.clubLevel>nitro_renderer[\"zd\" /* HabboClubLevelEnum */].NO_CLUB&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{position:\"absolute\",className:\"top-1 end-1\",type:\"hc\"})]},model.name);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:!name||name.length<3?'danger':'success',onClick:createRoom,disabled:!name||name.length<3,children:LocalizeText('navigator.createroom.create')})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/NavigatorRoomInfoView.tsx\nvar NavigatorRoomInfoView_NavigatorRoomInfoViewProps=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function NavigatorRoomInfoViewProps(){Object(classCallCheck[\"a\" /* default */])(this,NavigatorRoomInfoViewProps);this.onCloseClick=void 0;});var NavigatorRoomInfoView_NavigatorRoomInfoView=function NavigatorRoomInfoView(props){var _props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isRoomPicked=_useState2[0],setIsRoomPicked=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isRoomMuted=_useState4[0],setIsRoomMuted=_useState4[1];var _useNavigatorContext=NavigatorContext_useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.navigatorData,navigatorData=_useNavigatorContext$===void 0?null:_useNavigatorContext$;var hasPermission=function hasPermission(permission){switch(permission){case'settings':return GetSessionDataManager().userId===navigatorData.enteredGuestRoom.ownerId||GetSessionDataManager().isModerator;case'staff_pick':return GetSessionDataManager().securityLevel>=nitro_renderer[\"Bh\" /* SecurityLevel */].COMMUNITY;default:return false;}};var processAction=function processAction(action,value){if(!navigatorData||!navigatorData.enteredGuestRoom)return;switch(action){case'set_home_room':var newRoomId=-1;if(navigatorData.homeRoomId!==navigatorData.enteredGuestRoom.roomId){newRoomId=navigatorData.enteredGuestRoom.roomId;}if(newRoomId>0)SendMessageComposer_SendMessageComposer(new nitro_renderer[\"yi\" /* UserHomeRoomComposer */](newRoomId));return;case'navigator_search_tag':return;case'open_room_thumbnail_camera':DispatchUiEvent_DispatchUiEvent(new RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent(RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL));return;case'open_group_info':GetGroupInformation(navigatorData.enteredGuestRoom.habboGroupId);return;case'toggle_room_link':CreateLinkEvent('navigator/toggle-room-link');return;case'open_room_settings':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ch\" /* RoomSettingsComposer */](navigatorData.enteredGuestRoom.roomId));return;case'toggle_pick':setIsRoomPicked(function(value){return!value;});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"gh\" /* RoomStaffPickComposer */](navigatorData.enteredGuestRoom.roomId));return;case'toggle_mute':setIsRoomMuted(function(value){return!value;});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Bg\" /* RoomMuteComposer */]());return;case'open_floorplan_editor':CreateLinkEvent('floor-editor/toggle');return;case'close':onCloseClick();return;}};Object(react[\"useEffect\"])(function(){if(!navigatorData)return;setIsRoomPicked(navigatorData.currentRoomIsStaffPick);if(navigatorData.enteredGuestRoom)setIsRoomMuted(navigatorData.enteredGuestRoom.allInRoomMuted);},[navigatorData]);if(!navigatorData.enteredGuestRoom)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-room-info\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('navigator.roomsettings.roominfo'),onCloseClick:function onCloseClick(){return processAction('close');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:navigatorData.enteredGuestRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomThumbnailView_LayoutRoomThumbnailView,{roomId:navigatorData.enteredGuestRoom.roomId,customUrl:navigatorData.enteredGuestRoom.officialRoomPicRef,children:hasPermission('settings')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-camera-small position-absolute b-0 r-0 m-1 cursor-pointer top-0\",onClick:function onClick(){return processAction('open_room_thumbnail_camera');}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{onClick:function onClick(){return processAction('set_home_room');},className:'flex-shrink-0 icon icon-house-small cursor-pointer'+classnames_default()({' gray':navigatorData.homeRoomId!==navigatorData.enteredGuestRoom.roomId})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:navigatorData.enteredGuestRoom.roomName})]}),navigatorData.enteredGuestRoom.showOwner&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"muted\",children:LocalizeText('navigator.roomownercaption')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:navigatorData.enteredGuestRoom.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:navigatorData.enteredGuestRoom.ownerName})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"muted\",children:LocalizeText('navigator.roomrating')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:navigatorData.currentRoomRating})]}),navigatorData.enteredGuestRoom.tags.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:navigatorData.enteredGuestRoom.tags.map(function(tag){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{pointer:true,className:\"bg-muted rounded p-1\",onClick:function onClick(event){return processAction('navigator_search_tag',tag);},children:[\"#\",tag]},tag);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",gap:1,children:[hasPermission('settings')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-cog cursor-pointer\",title:LocalizeText('navigator.room.popup.info.room.settings'),onClick:function onClick(event){return processAction('open_room_settings');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"link\",title:LocalizeText('navigator.embed.caption'),className:\"cursor-pointer\",onClick:function onClick(event){return CreateLinkEvent('navigator/toggle-room-link');}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{overflow:\"auto\",style:{maxHeight:50},children:navigatorData.enteredGuestRoom.description}),navigatorData.enteredGuestRoom.habboGroupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{pointer:true,alignItems:\"center\",gap:1,onClick:function onClick(){return processAction('open_group_info');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{className:\"flex-none\",badgeCode:navigatorData.enteredGuestRoom.groupBadgeCode,isGroup:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},underline:true,children:LocalizeText('navigator.guildbase',['groupName'],[navigatorData.enteredGuestRoom.groupName])})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[hasPermission('staff_pick')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(){return processAction('toggle_pick');},children:LocalizeText(isRoomPicked?'navigator.staffpicks.unpick':'navigator.staffpicks.pick')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",disabled:true,children:LocalizeText('help.emergency.main.report.room')}),hasPermission('settings')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(){return processAction('toggle_mute');},children:LocalizeText(isRoomMuted?'navigator.muteall_on':'navigator.muteall_off')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(){return processAction('open_floorplan_editor');},children:LocalizeText('open.floor.plan.editor')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/NavigatorRoomLinkView.tsx\nvar NavigatorRoomLinkView_NavigatorRoomLinkViewProps=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function NavigatorRoomLinkViewProps(){Object(classCallCheck[\"a\" /* default */])(this,NavigatorRoomLinkViewProps);this.onCloseClick=void 0;});var NavigatorRoomLinkView_NavigatorRoomLinkView=function NavigatorRoomLinkView(props){var _props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useNavigatorContext=NavigatorContext_useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.navigatorData,navigatorData=_useNavigatorContext$===void 0?null:_useNavigatorContext$;if(!navigatorData.enteredGuestRoom)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-room-link\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('navigator.embed.title'),onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black d-flex align-items-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRoomThumbnailView_LayoutRoomThumbnailView,{roomId:navigatorData.enteredGuestRoom.roomId,customUrl:navigatorData.enteredGuestRoom.officialRoomPicRef}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,fontSize:5,children:LocalizeText('navigator.embed.headline')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('navigator.embed.info')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",readOnly:true,className:\"form-control form-control-sm\",value:LocalizeText('navigator.embed.src',['roomId'],[navigatorData.enteredGuestRoom.roomId.toString()])})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsAccessTabView.tsx\nvar NavigatorRoomSettingsAccessTabView_NavigatorRoomSettingsAccessTabView=function NavigatorRoomSettingsAccessTabView(props){var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData,_props$handleChange=props.handleChange,handleChange=_props$handleChange===void 0?null:_props$handleChange;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),confirmPassword=_useState4[0],setConfirmPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isTryingPassword=_useState6[0],setIsTryingPassword=_useState6[1];var saveRoomPassword=function saveRoomPassword(){if(!isTryingPassword||password.length<=0||confirmPassword.length<=0||password!==confirmPassword)return;handleChange('password',password);};Object(react[\"useEffect\"])(function(){setPassword('');setConfirmPassword('');setIsTryingPassword(false);},[roomData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.roomaccess.caption')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.roomaccess.info')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.doormode')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===nitro_renderer[\"bg\" /* RoomDataParser */].OPEN_STATE&&!isTryingPassword,onChange:function onChange(event){return handleChange('lock_state',nitro_renderer[\"bg\" /* RoomDataParser */].OPEN_STATE);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.doormode.open')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===nitro_renderer[\"bg\" /* RoomDataParser */].DOORBELL_STATE&&!isTryingPassword,onChange:function onChange(event){return handleChange('lock_state',nitro_renderer[\"bg\" /* RoomDataParser */].DOORBELL_STATE);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.doormode.doorbell')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===nitro_renderer[\"bg\" /* RoomDataParser */].INVISIBLE_STATE&&!isTryingPassword,onChange:function onChange(event){return handleChange('lock_state',nitro_renderer[\"bg\" /* RoomDataParser */].INVISIBLE_STATE);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.doormode.invisible')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"lockState\",checked:roomData.lockState===nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE||isTryingPassword,onChange:function onChange(event){return setIsTryingPassword(event.target.checked);}}),!isTryingPassword&&roomData.lockState!==nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.doormode.password')}),(isTryingPassword||roomData.lockState===nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.doormode.password')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:password,onChange:function onChange(event){return setPassword(event.target.value);},placeholder:LocalizeText('navigator.roomsettings.password'),onFocus:function onFocus(event){return setIsTryingPassword(true);}}),isTryingPassword&&password.length<=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.passwordismandatory')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control form-control-sm col-4\",value:confirmPassword,onChange:function onChange(event){return setConfirmPassword(event.target.value);},onBlur:saveRoomPassword,placeholder:LocalizeText('navigator.roomsettings.passwordconfirm')}),isTryingPassword&&password.length>0&&password!==confirmPassword&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.invalidconfirm')})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.pets')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowPets,onChange:function onChange(event){return handleChange('allow_pets',event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.allowpets')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowPetsEat,onChange:function onChange(event){return handleChange('allow_pets_eat',event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.allowfoodconsume')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsBasicTabView.tsx\nvar ROOM_NAME_MIN_LENGTH=3;var ROOM_NAME_MAX_LENGTH=60;var DESC_MAX_LENGTH=255;var NavigatorRoomSettingsBasicTabView_NavigatorRoomSettingsBasicTabView=function NavigatorRoomSettingsBasicTabView(props){var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData,_props$handleChange=props.handleChange,handleChange=_props$handleChange===void 0?null:_props$handleChange,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),roomName=_useState2[0],setRoomName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),roomDescription=_useState4[0],setRoomDescription=_useState4[1];var _useNavigatorContext=NavigatorContext_useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.categories,categories=_useNavigatorContext$===void 0?null:_useNavigatorContext$;var deleteRoom=function deleteRoom(){NotificationUtilities_NotificationUtilities.confirm(LocalizeText('navigator.roomsettings.deleteroom.confirm.message',['room_name'],[roomData.roomName]),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"cg\" /* RoomDeleteComposer */](roomData.roomId));if(close)close();CreateLinkEvent('navigator/search/myworld_view');},null,null,null,LocalizeText('navigator.roomsettings.deleteroom.confirm.title'));};var saveRoomName=function saveRoomName(){if(roomName===roomData.roomName||roomName.length<ROOM_NAME_MIN_LENGTH||roomName.length>ROOM_NAME_MAX_LENGTH)return;handleChange('name',roomName);};var saveRoomDescription=function saveRoomDescription(){if(roomDescription===roomData.roomDescription||roomDescription.length>DESC_MAX_LENGTH)return;handleChange('description',roomDescription);};Object(react[\"useEffect\"])(function(){setRoomName(roomData.roomName);setRoomDescription(roomData.roomDescription);},[roomData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.roomname')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullWidth:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-sm\",value:roomName,maxLength:ROOM_NAME_MAX_LENGTH,onChange:function onChange(event){return setRoomName(event.target.value);},onBlur:saveRoomName}),roomName.length<ROOM_NAME_MIN_LENGTH&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.roomnameismandatory')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.roomsettings.desc')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control form-control-sm\",value:roomDescription,maxLength:DESC_MAX_LENGTH,onChange:function onChange(event){return setRoomDescription(event.target.value);},onBlur:saveRoomDescription})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.category')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.categoryId,onChange:function onChange(event){return handleChange('category',event.target.value);},children:categories&&categories.map(function(category){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:category.id,children:LocalizeText(category.name)},category.id);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.maxvisitors')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.userCount,onChange:function onChange(event){return handleChange('max_visitors',event.target.value);},children:GetMaxVisitorsList&&GetMaxVisitorsList.map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:value,children:value},value);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.tradesettings')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.tradeState,onChange:function onChange(event){return handleChange('trade_state',event.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.trade_not_allowed')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.trade_not_with_Controller')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"2\",children:LocalizeText('navigator.roomsettings.trade_allowed')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"col-3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowWalkthrough,onChange:function onChange(event){return handleChange('allow_walkthrough',event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.allow_walk_through')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{variant:\"danger\",underline:true,bold:true,pointer:true,className:\"d-flex justify-content-center align-items-center gap-1\",onClick:deleteRoom,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"}),LocalizeText('navigator.roomsettings.delete')]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsModTabView.tsx\nvar NavigatorRoomSettingsModTabView_NavigatorRoomSettingsModTabView=function NavigatorRoomSettingsModTabView(props){var _bannedUsers$find;var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData,_props$handleChange=props.handleChange,handleChange=_props$handleChange===void 0?null:_props$handleChange;var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedUserId=_useState2[0],setSelectedUserId=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),bannedUsers=_useState4[0],setBannedUsers=_useState4[1];var onBannedUsersFromRoomEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setBannedUsers(parser.bannedUsers);},[roomData]);UseMessageEventHook(nitro_renderer[\"w\" /* BannedUsersFromRoomEvent */],onBannedUsersFromRoomEvent);var unBanUser=Object(react[\"useCallback\"])(function(userId){setBannedUsers(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newValue.findIndex(function(value){return value.userId===userId;});if(index>=0)newValue.splice(index,1);return newValue;});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"jh\" /* RoomUnbanUserComposer */](userId,roomData.roomId));setSelectedUserId(-1);},[roomData]);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Sf\" /* RoomBannedUsersComposer */](roomData.roomId));},[roomData.roomId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:[LocalizeText('navigator.roomsettings.moderation.banned.users'),\" (\",bannedUsers.length,\")\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullWidth:true,overflow:\"auto\",gap:1,children:bannedUsers&&bannedUsers.length>0&&bannedUsers.map(function(user,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{shrink:true,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userName:user.userName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{pointer:true,grow:true,onClick:function onClick(event){return setSelectedUserId(user.userId);},children:[\" \",user.userName]})]},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button_Button,{disabled:selectedUserId<=0,onClick:function onClick(event){return unBanUser(selectedUserId);},children:[LocalizeText('navigator.roomsettings.moderation.unban'),\" \",selectedUserId>0&&((_bannedUsers$find=bannedUsers.find(function(user){return user.userId===selectedUserId;}))===null||_bannedUsers$find===void 0?void 0:_bannedUsers$find.userName)]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.moderation.mute.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowMute===1,onChange:function onChange(event){return handleChange('moderation_mute',event.target.checked?1:0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.moderation.kick.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowKick===0,onChange:function onChange(event){return handleChange('moderation_kick',event.target.checked?0:2);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.moderation.all')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowKick===1||roomData.moderationSettings.allowKick===0,disabled:roomData.moderationSettings.allowKick===0,onChange:function onChange(event){return handleChange('moderation_kick',event.target.checked?1:2);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.moderation.ban.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowBan===1,onChange:function onChange(event){return handleChange('moderation_ban',event.target.checked?1:0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsRightsTabView.tsx\nvar NavigatorRoomSettingsRightsTabView_NavigatorRoomSettingsRightsTabView=function NavigatorRoomSettingsRightsTabView(props){var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData;var _useState=Object(react[\"useState\"])(new Map()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),usersWithRights=_useState2[0],setUsersWithRights=_useState2[1];var onFlatControllersEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setUsersWithRights(parser.users);},[roomData]);UseMessageEventHook(nitro_renderer[\"Bb\" /* FlatControllersEvent */],onFlatControllersEvent);var onFlatControllerAddedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setUsersWithRights(function(prevValue){var newValue=new Map(prevValue);newValue.set(parser.data.userId,parser.data.userName);return newValue;});},[roomData]);UseMessageEventHook(nitro_renderer[\"zb\" /* FlatControllerAddedEvent */],onFlatControllerAddedEvent);var onFlatControllerRemovedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setUsersWithRights(function(prevValue){var newValue=new Map(prevValue);newValue.delete(parser.userId);return newValue;});},[roomData]);UseMessageEventHook(nitro_renderer[\"Ab\" /* FlatControllerRemovedEvent */],onFlatControllerRemovedEvent);Object(react[\"useEffect\"])(function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"oh\" /* RoomUsersWithRightsComposer */](roomData.roomId));},[roomData.roomId]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.flatctrls.userswithrights',['displayed','total'],[usersWithRights.size.toString(),usersWithRights.size.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullWidth:true,overflow:\"auto\",gap:1,children:Array.from(usersWithRights.entries()).map(function(_ref,index){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),id=_ref2[0],name=_ref2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{shrink:true,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userName:name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{pointer:true,grow:true,onClick:function onClick(event){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"hh\" /* RoomTakeRightsComposer */](id));},children:[\" \",name]})]},index);})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:6,justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",disabled:!usersWithRights.size,onClick:function onClick(event){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"If\" /* RemoveAllRightsMessageComposer */](roomData.roomId));},children:LocalizeText('navigator.flatctrls.clear')})})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsVipChatTabView.tsx\nvar NavigatorRoomSettingsVipChatTabView_NavigatorRoomSettingsVipChatTabView=function NavigatorRoomSettingsVipChatTabView(props){var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData,_props$handleChange=props.handleChange,handleChange=_props$handleChange===void 0?null:_props$handleChange;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),chatDistance=_useState2[0],setChatDistance=_useState2[1];Object(react[\"useEffect\"])(function(){setChatDistance(roomData.chatSettings.distance);},[roomData.chatSettings]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.vip.caption')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.vip.info')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.chat_settings')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.chat_settings.info')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.chatSettings.mode,onChange:function onChange(event){return handleChange('bubble_mode',event.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_MODE_FREE_FLOW,children:LocalizeText('navigator.roomsettings.chat.mode.free.flow')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_MODE_LINE_BY_LINE,children:LocalizeText('navigator.roomsettings.chat.mode.line.by.line')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.chatSettings.weight,onChange:function onChange(event){return handleChange('chat_weight',event.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_NORMAL,children:LocalizeText('navigator.roomsettings.chat.bubbles.width.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_THIN,children:LocalizeText('navigator.roomsettings.chat.bubbles.width.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_WIDE,children:LocalizeText('navigator.roomsettings.chat.bubbles.width.wide')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.chatSettings.speed,onChange:function onChange(event){return handleChange('bubble_speed',event.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_FAST,children:LocalizeText('navigator.roomsettings.chat.speed.fast')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_NORMAL,children:LocalizeText('navigator.roomsettings.chat.speed.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_SLOW,children:LocalizeText('navigator.roomsettings.chat.speed.slow')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.chatSettings.protection,onChange:function onChange(event){return handleChange('flood_protection',event.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].FLOOD_FILTER_LOOSE,children:LocalizeText('navigator.roomsettings.chat.flood.loose')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].FLOOD_FILTER_NORMAL,children:LocalizeText('navigator.roomsettings.chat.flood.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:nitro_renderer[\"Vf\" /* RoomChatSettings */].FLOOD_FILTER_STRICT,children:LocalizeText('navigator.roomsettings.chat.flood.strict')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.chat_settings.hearing.distance')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",min:\"0\",className:\"form-control form-control-sm\",value:chatDistance,onChange:function onChange(event){return setChatDistance(event.target.valueAsNumber);},onBlur:function onBlur(event){return handleChange('chat_distance',chatDistance);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:6,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.vip_settings')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.hideWalls,onChange:function onChange(event){return handleChange('hide_walls',event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.hide_walls')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.wallThickness,onChange:function onChange(event){return handleChange('wall_thickness',event.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.wall_thickness.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.wall_thickness.thick')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"-1\",children:LocalizeText('navigator.roomsettings.wall_thickness.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"-2\",children:LocalizeText('navigator.roomsettings.wall_thickness.thinnest')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:roomData.floorThickness,onChange:function onChange(event){return handleChange('floor_thickness',event.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.floor_thickness.normal')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.floor_thickness.thick')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"-1\",children:LocalizeText('navigator.roomsettings.floor_thickness.thin')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"-2\",children:LocalizeText('navigator.roomsettings.floor_thickness.thinnest')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/room-settings/NavigatorRoomSettingsView.tsx\nvar NavigatorRoomSettingsView_TABS=['navigator.roomsettings.tab.1','navigator.roomsettings.tab.2','navigator.roomsettings.tab.3','navigator.roomsettings.tab.4','navigator.roomsettings.tab.5'];var NavigatorRoomSettingsView_NavigatorRoomSettingsView=function NavigatorRoomSettingsView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),roomData=_useState2[0],setRoomData=_useState2[1];var _useState3=Object(react[\"useState\"])(NavigatorRoomSettingsView_TABS[0]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),currentTab=_useState4[0],setCurrentTab=_useState4[1];var onRoomSettingsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser)return;setRoomData({roomId:parser.roomId,roomName:parser.name,roomDescription:parser.description,categoryId:parser.categoryId,userCount:parser.userCount,tags:parser.tags,tradeState:parser.tradeMode,allowWalkthrough:parser.allowWalkthrough,lockState:parser.state,password:null,allowPets:parser.allowPets,allowPetsEat:parser.allowPetsEat,hideWalls:parser.hideWalls,wallThickness:parser.thicknessWall,floorThickness:parser.thicknessFloor,chatSettings:{mode:parser.chatSettings.mode,weight:parser.chatSettings.weight,speed:parser.chatSettings.speed,distance:parser.chatSettings.distance,protection:parser.chatSettings.protection},moderationSettings:{allowMute:parser.moderationSettings.allowMute,allowKick:parser.moderationSettings.allowKick,allowBan:parser.moderationSettings.allowBan}});SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Sf\" /* RoomBannedUsersComposer */](parser.roomId));},[]);UseMessageEventHook(nitro_renderer[\"dh\" /* RoomSettingsEvent */],onRoomSettingsEvent);var close=function close(){setRoomData(null);setCurrentTab(NavigatorRoomSettingsView_TABS[0]);};var handleChange=function handleChange(field,value){setRoomData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);switch(field){case'name':newValue.roomName=String(value);break;case'description':newValue.roomDescription=String(value);break;case'category':newValue.categoryId=Number(value);break;case'max_visitors':newValue.userCount=Number(value);break;case'trade_state':newValue.tradeState=Number(value);break;case'allow_walkthrough':newValue.allowWalkthrough=Boolean(value);break;case'allow_pets':newValue.allowPets=Boolean(value);break;case'allow_pets_eat':newValue.allowPetsEat=Boolean(value);break;case'hide_walls':newValue.hideWalls=Boolean(value);break;case'wall_thickness':newValue.wallThickness=Number(value);break;case'floor_thickness':newValue.floorThickness=Number(value);break;case'lock_state':newValue.lockState=Number(value);break;case'password':newValue.lockState=nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE;newValue.password=String(value);break;case'moderation_mute':newValue.moderationSettings.allowMute=Number(value);break;case'moderation_kick':newValue.moderationSettings.allowKick=Number(value);break;case'moderation_ban':newValue.moderationSettings.allowBan=Number(value);break;case'bubble_mode':newValue.chatSettings.mode=Number(value);break;case'chat_weight':newValue.chatSettings.weight=Number(value);break;case'bubble_speed':newValue.chatSettings.speed=Number(value);break;case'flood_protection':newValue.chatSettings.protection=Number(value);break;case'chat_distance':newValue.chatSettings.distance=Number(value);break;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"xh\" /* SaveRoomSettingsComposer */](newValue.roomId,newValue.roomName,newValue.roomDescription,newValue.lockState,newValue.password,newValue.userCount,newValue.categoryId,newValue.tags.length,newValue.tags,newValue.tradeState,newValue.allowPets,newValue.allowPetsEat,newValue.allowWalkthrough,newValue.hideWalls,newValue.wallThickness,newValue.floorThickness,newValue.moderationSettings.allowMute,newValue.moderationSettings.allowKick,newValue.moderationSettings.allowBan,newValue.chatSettings.mode,newValue.chatSettings.weight,newValue.chatSettings.speed,newValue.chatSettings.distance,newValue.chatSettings.protection));return newValue;});};if(!roomData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"nitro-room-settings\",className:\"nitro-room-settings\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('navigator.roomsettings'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView_NitroCardTabsView,{children:NavigatorRoomSettingsView_TABS.map(function(tab){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView_NitroCardTabsItemView,{isActive:currentTab===tab,onClick:function onClick(event){return setCurrentTab(tab);},children:LocalizeText(tab)},tab);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[currentTab===NavigatorRoomSettingsView_TABS[0]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsBasicTabView_NavigatorRoomSettingsBasicTabView,{roomData:roomData,handleChange:handleChange,close:close}),currentTab===NavigatorRoomSettingsView_TABS[1]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsAccessTabView_NavigatorRoomSettingsAccessTabView,{roomData:roomData,handleChange:handleChange}),currentTab===NavigatorRoomSettingsView_TABS[2]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsRightsTabView_NavigatorRoomSettingsRightsTabView,{roomData:roomData,handleChange:handleChange}),currentTab===NavigatorRoomSettingsView_TABS[3]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsVipChatTabView_NavigatorRoomSettingsVipChatTabView,{roomData:roomData,handleChange:handleChange}),currentTab===NavigatorRoomSettingsView_TABS[4]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsModTabView_NavigatorRoomSettingsModTabView,{roomData:roomData,handleChange:handleChange})]})]});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Overlay.js + 61 modules\nvar Overlay = __webpack_require__(130);\n\n// CONCATENATED MODULE: ./src/components/navigator/views/search/NavigatorSearchResultItemInfoView.tsx\nvar NavigatorSearchResultItemInfoView_NavigatorSearchResultItemInfoView=function NavigatorSearchResultItemInfoView(props){var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var elementRef=Object(react[\"useRef\"])();var getUserCounterColor=function getUserCounterColor(){var num=100*(roomData.userCount/roomData.maxUserCount);var bg='bg-primary';if(num>=92){bg='bg-danger';}else if(num>=50){bg='bg-warning';}else if(num>0){bg='bg-success';}return bg;};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,innerRef:elementRef,className:\"icon icon-navigator-info\",onMouseOver:function onMouseOver(event){return setIsVisible(true);},onMouseLeave:function onMouseLeave(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Overlay[\"a\" /* default */],{show:isVisible,target:elementRef.current,placement:\"right\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",className:\"room-info image-rendering-pixelated bg-transparent\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutRoomThumbnailView_LayoutRoomThumbnailView,{roomId:roomData.roomId,customUrl:roomData.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[roomData.habboGroupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:roomData.groupBadgeCode,isGroup:true,className:'position-absolute top-0 start-0 m-1 '}),roomData.doorMode!==nitro_renderer[\"bg\" /* RoomDataParser */].OPEN_STATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'position-absolute end-0 mb-1 me-1 icon icon-navigator-room-'+(roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].DOORBELL_STATE?'locked':roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE?'password':roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].INVISIBLE_STATE?'invisible':'')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,truncate:true,className:\"flex-grow-1\",style:{maxHeight:13},children:roomData.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{italics:true,variant:\"muted\",children:LocalizeText('navigator.roomownercaption')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:roomData.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{italics:true,children:roomData.ownerName})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{className:\"flex-grow-1\",children:roomData.description}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:'badge p-1 position-absolute m-1 bottom-0 end-0 m-2 '+getUserCounterColor(),gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"user\"}),roomData.userCount]})]})]})})})})]});};\n// CONCATENATED MODULE: ./src/components/navigator/views/search/NavigatorSearchResultItemView.tsx\nvar NavigatorSearchResultItemView_excluded=[\"roomData\",\"children\",\"thumbnail\"];var NavigatorSearchResultItemView_NavigatorSearchResultItemView=function NavigatorSearchResultItemView(props){var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData,_props$children=props.children,children=_props$children===void 0?null:_props$children,_props$thumbnail=props.thumbnail,thumbnail=_props$thumbnail===void 0?false:_props$thumbnail,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NavigatorSearchResultItemView_excluded);var _useNavigatorContext=NavigatorContext_useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.setDoorData,setDoorData=_useNavigatorContext$===void 0?null:_useNavigatorContext$;var getUserCounterColor=function getUserCounterColor(){var num=100*(roomData.userCount/roomData.maxUserCount);var bg='bg-primary';if(num>=92){bg='bg-danger';}else if(num>=50){bg='bg-warning';}else if(num>0){bg='bg-success';}return bg;};var visitRoom=function visitRoom(event){if(roomData.ownerId!==GetSessionDataManager().userId){if(roomData.habboGroupId!==0){TryVisitRoom(roomData.roomId);return;}switch(roomData.doorMode){case nitro_renderer[\"bg\" /* RoomDataParser */].DOORBELL_STATE:setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.roomInfo=roomData;newValue.state=DoorStateType_DoorStateType.START_DOORBELL;return newValue;});return;case nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE:setDoorData(function(prevValue){var newValue=Object(objectSpread2[\"a\" /* default */])({},prevValue);newValue.roomInfo=roomData;newValue.state=DoorStateType_DoorStateType.START_PASSWORD;return newValue;});return;}}CreateRoomSession(roomData.roomId);};if(thumbnail)return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({pointer:true,overflow:\"hidden\",alignItems:\"center\",onClick:visitRoom,gap:0,className:\"navigator-item rounded-3 small mb-1 flex-column\"},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"w-100\",style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"3px\",borderRadius:\"3px\",position:\"relative\",top:\"10px\",zIndex:\"100\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",truncate:true,className:\"flex-grow-1\",children:roomData.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{reverse:true,alignItems:\"center\",gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultItemInfoView_NavigatorSearchResultItemInfoView,{roomData:roomData})}),children]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutRoomThumbnailView_LayoutRoomThumbnailView,{roomId:roomData.roomId,customUrl:roomData.officialRoomPicRef,className:\"d-flex flex-column align-items-center justify-content-end mb-1\",children:[roomData.habboGroupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:roomData.groupBadgeCode,isGroup:true,className:'position-absolute top-0 start-0 m-1'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,className:'badge p-1 position-absolute m-1 '+getUserCounterColor(),gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"user\"}),roomData.userCount]}),roomData.doorMode!==nitro_renderer[\"bg\" /* RoomDataParser */].OPEN_STATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'position-absolute end-0 mb-1 me-1 icon icon-navigator-room-'+(roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].DOORBELL_STATE?'locked':roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE?'password':roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].INVISIBLE_STATE?'invisible':'')})]})]}));return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({pointer:true,overflow:\"hidden\",alignItems:\"center\",onClick:visitRoom,gap:2,className:\"navigator-item px-2 py-2 small\"},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,className:'badge p-1 '+getUserCounterColor(),gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"user\"}),roomData.userCount]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{truncate:true,grow:true,children:roomData.roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{reverse:true,alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultItemInfoView_NavigatorSearchResultItemInfoView,{roomData:roomData}),roomData.habboGroupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-navigator-room-group\"}),roomData.doorMode!==nitro_renderer[\"bg\" /* RoomDataParser */].OPEN_STATE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'icon icon-navigator-room-'+(roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].DOORBELL_STATE?'locked':roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].PASSWORD_STATE?'password':roomData.doorMode===nitro_renderer[\"bg\" /* RoomDataParser */].INVISIBLE_STATE?'invisible':'')})]}),children]}));};\n// CONCATENATED MODULE: ./src/components/navigator/views/search/NavigatorSearchResultView.tsx\nvar NavigatorSearchResultView_excluded=[\"searchResult\"];var NavigatorSearchResultView_NavigatorSearchResultView=function NavigatorSearchResultView(props){var _props$searchResult=props.searchResult,searchResult=_props$searchResult===void 0?null:_props$searchResult,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NavigatorSearchResultView_excluded);var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isExtended=_useState2[0],setIsExtended=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),displayMode=_useState4[0],setDisplayMode=_useState4[1];var getResultTitle=function getResultTitle(){var name=searchResult.code;if(!name||!name.length)return searchResult.data;if(name.startsWith('${'))return name.slice(2,name.length-1);return'navigator.searchcode.title.'+name;};var toggleDisplayMode=function toggleDisplayMode(){setDisplayMode(function(prevValue){if(prevValue===NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.LIST)return NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.THUMBNAILS;return NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.LIST;});};Object(react[\"useEffect\"])(function(){if(!searchResult)return;//setIsExtended(searchResult.closed);\nsetDisplayMode(searchResult.mode);},[searchResult,props]);var gridHasTwoColumns=displayMode>=NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.THUMBNAILS;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"rounded\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,alignItems:\"center\",justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{style:{marginTop:\"5px\"},grow:true,pointer:true,alignItems:\"center\",gap:1,onClick:function onClick(event){return setIsExtended(function(prevValue){return!prevValue;});},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"2px\",borderRadius:\"3px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{color:\"#fff\"},icon:isExtended?'minus':'plus'})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\",fontSize:\"16px\",fontWeight:\"bold\"},children:LocalizeText(getResultTitle())})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundColor:\"var(--test-galaxytwo)\",padding:\"2px\",borderRadius:\"3px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:displayMode===NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.LIST?'th':displayMode>=NavigatorSearchResultViewDisplayMode_NavigatorSearchResultViewDisplayMode.THUMBNAILS?'bars':null,className:\"text-white\",onClick:toggleDisplayMode})})]}),\" \",isExtended&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:gridHasTwoColumns?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({columnCount:3},rest),{},{columnMinWidth:110,columnMinHeight:130,className:\"mx-2\",children:searchResult.rooms.length>0&&searchResult.rooms.map(function(room,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultItemView_NavigatorSearchResultItemView,{roomData:room,thumbnail:true},index);})})):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{columnCount:1,className:\"navigator-grid\",gap:0,children:searchResult.rooms.length>0&&searchResult.rooms.map(function(room,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultItemView_NavigatorSearchResultItemView,{roomData:room},index);})})})]})// <div className=\"nitro-navigator-search-result bg-white rounded mb-2 overflow-hidden\">\n//     <div className=\"d-flex flex-column\">\n//         <div className=\"d-flex align-items-center px-2 py-1 text-black\">\n//             <i className={ 'text-secondary fas ' + (isExtended ? 'fa-minus' : 'fa-plus') } onClick={ toggleExtended }></i>\n//             <div className=\"ms-2 flex-grow-1\">{ LocalizeText(getResultTitle()) }</div>\n//             <i className={ 'text-secondary fas ' + classNames({ 'fa-bars': (displayMode === NavigatorSearchResultViewDisplayMode.LIST), 'fa-th': displayMode >= NavigatorSearchResultViewDisplayMode.THUMBNAILS })}></i>\n//         </div>\n//         { isExtended &&\n//             <div className={ 'nitro-navigator-result-list row row-cols-' + classNames({ '1': (displayMode === NavigatorSearchResultViewDisplayMode.LIST), '2': (displayMode >= NavigatorSearchResultViewDisplayMode.THUMBNAILS) }) }>\n//                 { searchResult.rooms.length > 0 && searchResult.rooms.map((room, index) =>\n//                     {\n//                         return <NavigatorSearchResultItemView key={ index } roomData={ room } />\n//                     }) }\n//             </div> }\n//     </div>\n// </div>\n// <div className=\"nitro-navigator-result-list p-2\">\n//     <div className=\"d-flex mb-2 small cursor-pointer\" onClick={ toggleList }>\n//         <i className={ \"fas \" + classNames({ 'fa-plus': !isExtended, 'fa-minus': isExtended })}></i>\n//         <div className=\"align-self-center w-100 ml-2\">{ LocalizeText(getListCode()) }</div>\n//         <i className={ \"fas \" + classNames({ 'fa-bars': displayMode === NavigatorResultListViewDisplayMode.LIST, 'fa-th': displayMode >= NavigatorResultListViewDisplayMode.THUMBNAILS })} onClick={ toggleDisplayMode }></i>\n//     </div>\n//     <div className={ 'row mr-n2 row-cols-' + classNames({ '1': displayMode === NavigatorResultListViewDisplayMode.LIST, '2': displayMode >= NavigatorResultListViewDisplayMode.THUMBNAILS }) }>\n//         { isExtended && resultList && resultList.rooms.map((room, index) =>\n//             {\n//                 return <NavigatorResultView key={ index } result={ room } />\n//             })\n//         }\n//     </div>\n// </div>\n;};\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toArray.js\nvar toArray = __webpack_require__(123);\n\n// CONCATENATED MODULE: ./src/components/navigator/views/search/NavigatorSearchView.tsx\nvar NavigatorSearchView_NavigatorSearchView=function NavigatorSearchView(props){var _props$sendSearch=props.sendSearch,sendSearch=_props$sendSearch===void 0?null:_props$sendSearch;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchFilterIndex=_useState2[0],setSearchFilterIndex=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useNavigatorContext=NavigatorContext_useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.topLevelContext,topLevelContext=_useNavigatorContext$===void 0?null:_useNavigatorContext$,_useNavigatorContext$2=_useNavigatorContext.searchResult,searchResult=_useNavigatorContext$2===void 0?null:_useNavigatorContext$2;var processSearch=function processSearch(){if(!topLevelContext)return;var searchFilter=SearchFilterOptions[searchFilterIndex];if(!searchFilter)searchFilter=SearchFilterOptions[0];var searchQuery=(searchFilter.query?searchFilter.query+':':'')+searchValue;sendSearch(searchQuery||'',topLevelContext.code);};var handleKeyDown=function handleKeyDown(event){if(event.key!=='Enter')return;processSearch();};Object(react[\"useEffect\"])(function(){if(!searchResult)return;var split=searchResult.data.split(':');var filter=null;var value='';if(split.length>=2){var _split=Object(toArray[\"a\" /* default */])(split),query=_split[0],rest=_split.slice(1);filter=SearchFilterOptions.find(function(option){return option.query===query;});value=rest.join(':');}else{value=searchResult.data;}if(!filter)filter=SearchFilterOptions[0];setSearchFilterIndex(SearchFilterOptions.findIndex(function(option){return option===filter;}));setSearchValue(value);},[searchResult]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{shrink:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:searchFilterIndex,onChange:function onChange(event){return setSearchFilterIndex(parseInt(event.target.value));},children:SearchFilterOptions.map(function(filter,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:index,children:LocalizeText('navigator.filter.'+filter.name)},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('navigator.filter.input.placeholder'),value:searchValue,onChange:function onChange(event){return setSearchValue(event.target.value);},onKeyDown:function onKeyDown(event){return handleKeyDown(event);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"none\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:processSearch,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-searchroom\"})})]})]});};\n// CONCATENATED MODULE: ./src/components/navigator/NavigatorView.tsx\nvar NavigatorView_NavigatorView=function NavigatorView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isReady=_useState4[0],setIsReady=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isCreatorOpen=_useState6[0],setCreatorOpen=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isRoomInfoOpen=_useState8[0],setRoomInfoOpen=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isRoomLinkOpen=_useState10[0],setRoomLinkOpen=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isLoading=_useState12[0],setIsLoading=_useState12[1];var _useState13=Object(react[\"useState\"])(true),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),needsInit=_useState14[0],setNeedsInit=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),needsSearch=_useState16[0],setNeedsSearch=_useState16[1];var _useState17=Object(react[\"useState\"])(null),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),categories=_useState18[0],setCategories=_useState18[1];var _useState19=Object(react[\"useState\"])(null),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),topLevelContext=_useState20[0],setTopLevelContext=_useState20[1];var _useState21=Object(react[\"useState\"])(null),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),topLevelContexts=_useState22[0],setTopLevelContexts=_useState22[1];var _useSharedNavigatorDa=useSharedNavigatorData_useSharedNavigatorData(),_useSharedNavigatorDa2=Object(slicedToArray[\"a\" /* default */])(_useSharedNavigatorDa,2),navigatorData=_useSharedNavigatorDa2[0],setNavigatorData=_useSharedNavigatorDa2[1];var _useState23=Object(react[\"useState\"])({roomInfo:null,state:DoorStateType_DoorStateType.NONE}),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),doorData=_useState24[0],setDoorData=_useState24[1];var _useState25=Object(react[\"useState\"])(null),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),searchResult=_useState26[0],setSearchResult=_useState26[1];var pendingSearch=Object(react[\"useRef\"])(null);var onRoomSessionEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED:setIsVisible(false);setCreatorOpen(false);return;}},[]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED,onRoomSessionEvent);var sendSearch=Object(react[\"useCallback\"])(function(searchValue,contextCode){setCreatorOpen(false);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ee\" /* NavigatorSearchComposer */](contextCode,searchValue));setIsLoading(true);},[]);var reloadCurrentSearch=Object(react[\"useCallback\"])(function(){if(!isReady){setNeedsSearch(true);return;}if(pendingSearch.current){sendSearch(pendingSearch.current.value,pendingSearch.current.code);pendingSearch.current=null;return;}if(searchResult){sendSearch(searchResult.data,searchResult.code);return;}if(!topLevelContext)return;sendSearch('',topLevelContext.code);},[isReady,searchResult,topLevelContext,sendSearch]);var linkReceived=Object(react[\"useCallback\"])(function(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':{setIsVisible(true);setNeedsSearch(true);return;}case'hide':setIsVisible(false);return;case'toggle':{if(isVisible){setIsVisible(false);return;}setIsVisible(true);setNeedsSearch(true);return;}case'toggle-room-info':setRoomInfoOpen(function(value){return!value;});return;case'toggle-room-link':setRoomLinkOpen(function(value){return!value;});return;case'goto':if(parts.length<=2)return;switch(parts[2]){case'home':if(navigatorData.homeRoomId<=0)return;TryVisitRoom(navigatorData.homeRoomId);break;default:{var roomId=parseInt(parts[2]);TryVisitRoom(roomId);}}return;case'create':setIsVisible(true);setCreatorOpen(true);return;case'search':if(parts.length>2){var topLevelContextCode=parts[2];var searchValue='';if(parts.length>3)searchValue=parts[3];pendingSearch.current={value:searchValue,code:topLevelContextCode};setIsVisible(true);setNeedsSearch(true);}return;}},[isVisible,navigatorData]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:linkReceived,eventUrlPrefix:'navigator/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[linkReceived]);Object(react[\"useEffect\"])(function(){if(!searchResult)return;setIsLoading(false);},[searchResult]);Object(react[\"useEffect\"])(function(){if(!isVisible||!isReady||!needsSearch)return;reloadCurrentSearch();setNeedsSearch(false);},[isVisible,isReady,needsSearch,reloadCurrentSearch]);Object(react[\"useEffect\"])(function(){if(isReady||!topLevelContext)return;setIsReady(true);},[isReady,topLevelContext]);Object(react[\"useEffect\"])(function(){if(!isVisible||!needsInit)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Be\" /* NavigatorInitComposer */]());setNeedsInit(false);},[isVisible,needsInit]);Object(react[\"useEffect\"])(function(){nitro_renderer[\"Rd\" /* LegacyExternalInterface */].addCallback(nitro_renderer[\"Ed\" /* HabboWebTools */].OPENROOM,function(k){var _arg_2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var _arg_3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"nb\" /* ConvertGlobalRoomIdMessageComposer */](k));});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NavigatorContext_NavigatorContextProvider,{value:{categories:categories,setCategories:setCategories,topLevelContext:topLevelContext,setTopLevelContext:setTopLevelContext,topLevelContexts:topLevelContexts,setTopLevelContexts:setTopLevelContexts,navigatorData:navigatorData,setNavigatorData:setNavigatorData,doorData:doorData,setDoorData:setDoorData,searchResult:searchResult,setSearchResult:setSearchResult},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorMessageHandler_NavigatorMessageHandler,{}),isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"navigator\",className:\"nitro-navigator\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{padding:\"10px\",fontSize:\"21px\",fontWeight:\"bold\",color:\"var(--test-galaxytext)\",display:\"inline-block\"},children:\"Navegador\"}),topLevelContexts&&topLevelContexts.length>0&&topLevelContexts.map(function(context,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:\"inline-block\",backgroundColor:\"var(--test-galaxytwo)\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"5px\",cursor:\"pointer\"},onClick:function onClick(event){return sendSearch('',context.code);},children:LocalizeText('navigator.toplevelview.'+context.code)});}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"inline-block\",float:\"right\",padding:\"13px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:function onClick(){return setCreatorOpen(true);},style:{display:\"inline-block\",backgroundColor:\"#1dbf4a\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"2px\",cursor:\"pointer\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"plus\"}),\" Crear sala\"]}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:\"inline-block\",backgroundColor:\"#a61c1c\",padding:\"4px\",borderRadius:\"4px\",marginRight:\"2px\",cursor:\"pointer\"},onClick:function onClick(){return setIsVisible(!isVisible);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{position:\"relative\",children:[isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fit:true,position:\"absolute\",className:\"top-0 start-0 z-index-1 bg-muted opacity-0-5\"}),!isCreatorOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchView_NavigatorSearchView,{sendSearch:sendSearch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"auto\",children:searchResult&&searchResult.results.map(function(result,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorSearchResultView_NavigatorSearchResultView,{searchResult:result},index);})})]}),isCreatorOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomCreatorView_NavigatorRoomCreatorView,{})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorDoorStateView_NavigatorDoorStateView,{}),isRoomInfoOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomInfoView_NavigatorRoomInfoView,{onCloseClick:function onCloseClick(){return setRoomInfoOpen(false);}}),isRoomLinkOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomLinkView_NavigatorRoomLinkView,{onCloseClick:function onCloseClick(){return setRoomLinkOpen(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorRoomSettingsView_NavigatorRoomSettingsView,{})]});};\n// CONCATENATED MODULE: ./src/components/nitropedia/NitropediaView.tsx\nvar NEW_LINE_REGEX=/\\n\\r|\\n|\\r/mg;var NitropediaView_NitropediaView=function NitropediaView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),header=_useState4[0],setHeader=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),dimensions=_useState6[0],setDimensions=_useState6[1];var elementRef=Object(react[\"useRef\"])(null);var openPage=Object(react[\"useCallback\"])(/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(link){var response,text,splitData,line;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(link);case 3:response=_context.sent;if(response){_context.next=6;break;}return _context.abrupt(\"return\");case 6:_context.next=8;return response.text();case 8:text=_context.sent;splitData=text.split(NEW_LINE_REGEX);line=splitData.shift().split('|');setHeader(line[0]);setDimensions(function(prevValue){if(line[1]&&line[1].split(';').length===2){return{width:parseInt(line[1].split(';')[0]),height:parseInt(line[1].split(';')[1])};}return null;});setContent(splitData.join(''));_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);nitro_renderer[\"Re\" /* NitroLogger */].error(\"Failed to fetch \".concat(link));case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,16]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);var onLinkReceived=Object(react[\"useCallback\"])(function(link){var value=link.split('/');if(value.length<2)return;value.shift();openPage(GetConfiguration('habbopages.url')+value.join('/'));},[openPage]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:onLinkReceived,eventUrlPrefix:'habbopages/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[onLinkReceived]);Object(react[\"useEffect\"])(function(){var handle=function handle(event){if(!(event.target instanceof HTMLAnchorElement))return;event.preventDefault();var link=event.target.href;if(!link||!link.length)return;NotificationUtilities_NotificationUtilities.openUrl(link);};document.addEventListener('click',handle);return function(){document.removeEventListener('click',handle);};},[]);if(!content)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitropedia\",theme:\"primary-slim\",style:dimensions?{width:dimensions.width,height:dimensions.height}:{},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:header,onCloseClick:function onCloseClick(){return setContent(null);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fit:true,innerRef:elementRef,className:\"text-black\",dangerouslySetInnerHTML:{__html:content}})})]});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tabs.js + 23 modules\nvar Tabs = __webpack_require__(195);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tab.js + 1 modules\nvar Tab = __webpack_require__(197);\n\n// CONCATENATED MODULE: ./src/components/rare-catalog/RareCatalogView.tsx\nvar RareCatalogView_RareCatalogView=function RareCatalogView(props){var sso=new URLSearchParams(window.location.search).get('sso');var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),lastRares=_useState4[0],setLastRares=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),custom=_useState6[0],setCustom=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),rares=_useState8[0],setRares=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),megas=_useState10[0],setMegas=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),ultras=_useState12[0],setUltras=_useState12[1];var _useState13=Object(react[\"useState\"])(null),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),busqueda=_useState14[0],setBusqueda=_useState14[1];var _useState15=Object(react[\"useState\"])(\"\"),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),busquedaString=_useState16[0],setBusquedaString=_useState16[1];function searchItem(){fetch(\"https://hgalaxy.net/system/controllers/eha.php?getItemsByName=\"+busquedaString).then(function(response){return response.json();}).then(function(response){setBusqueda(response);});}Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItems=true\").then(function(response){return response.json();}).then(function(response){setLastRares(response);});fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItemsCategory=1\").then(function(response){return response.json();}).then(function(response){setCustom(response);});fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItemsCategory=2\").then(function(response){return response.json();}).then(function(response){setRares(response);});fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItemsCategory=3\").then(function(response){return response.json();}).then(function(response){setMegas(response);});fetch(\"https://hgalaxy.net/system/controllers/eha.php?getLastItemsCategory=4\").then(function(response){return response.json();}).then(function(response){setUltras(response);});setIsVisible(true);return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'ratecatalog/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{style:{width:\"750px\",height:\"550px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"Cat\\xE1logo de rares\",onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"text-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tabs[\"a\" /* default */],{defaultActiveKey:\"home\",id:\"uncontrolled-tab-example\",className:\"mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"home\",title:\"\\xDAltimos rares\",style:{color:\"var(--test-galaxytext)\"},children:lastRares!=null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:lastRares.map(function(rare){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:rare.image,style:{height:\"120px\",objectFit:\"contain\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{style:{color:\"#000\"},children:rare.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-dark\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",rare.price_diamonds]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",rare.price_th]})]})});})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"custom\",title:\"Custom\",style:{color:\"var(--test-galaxytext)\"},children:custom!=null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:custom.map(function(rare){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:rare.image,style:{height:\"120px\",objectFit:\"contain\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{style:{color:\"#000\"},children:rare.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-dark\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",rare.price_diamonds]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",rare.price_th]})]})});})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"rares\",title:\"Rares\",style:{color:\"var(--test-galaxytext)\"},children:rares!=null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:rares.map(function(rare){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:rare.image,style:{height:\"120px\",objectFit:\"contain\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{style:{color:\"#000\"},children:rare.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-dark\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",rare.price_diamonds]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",rare.price_th]})]})});})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"megas\",title:\"Megas\",style:{color:\"var(--test-galaxytext)\"},children:megas!=null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:megas.map(function(rare){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:rare.image,style:{height:\"120px\",objectFit:\"contain\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{style:{color:\"#000\"},children:rare.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-dark\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",rare.price_diamonds]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",rare.price_th]})]})});})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"ultras\",title:\"Ultras\",style:{color:\"var(--test-galaxytext)\"},children:ultras!=null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:ultras.map(function(rare){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:rare.image,style:{height:\"120px\",objectFit:\"contain\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{style:{color:\"#000\"},children:rare.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-dark\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",rare.price_diamonds]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",rare.price_th]})]})});})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */],{eventKey:\"buscar\",title:\"Buscar\",style:{color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",style:{marginBottom:\"20px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-10\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",onChange:function onChange(e){return setBusquedaString(e.target.value);},className:\"form-control\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return searchItem();},className:\"btn btn-primary w-100\",children:\"Buscar\"})})]}),busqueda!=null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:busqueda.map(function(rare){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/bg_colour_07.gif)\",padding:\"10px\",borderRadius:\"3px\",marginBottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:rare.image,style:{height:\"120px\",objectFit:\"contain\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{style:{color:\"#000\"},children:rare.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-dark\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/0.png\"}),\" \",rare.price_diamonds]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"badge bg-primary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/monedas/5.png\"}),\" \",rare.price_th]})]})});})})]})]})})]})});};\n// CONCATENATED MODULE: ./src/components/groups/views/GroupRoomInformationView.tsx\nvar GroupRoomInformationView_GroupRoomInformationView=function GroupRoomInformationView(props){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),expectedGroupId=_useState2[0],setExpectedGroupId=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),groupInformation=_useState4[0],setGroupInformation=_useState4[1];var _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isOpen=_useState6[0],setIsOpen=_useState6[1];var onDesktopViewEvent=Object(react[\"useCallback\"])(function(event){setExpectedGroupId(0);setGroupInformation(null);},[]);UseMessageEventHook(nitro_renderer[\"rb\" /* DesktopViewEvent */],onDesktopViewEvent);var onRoomEntryInfoMessageEvent=Object(react[\"useCallback\"])(function(event){setExpectedGroupId(0);setGroupInformation(null);},[]);UseMessageEventHook(nitro_renderer[\"rg\" /* RoomEntryInfoMessageEvent */],onRoomEntryInfoMessageEvent);var onGetGuestRoomResultEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser.roomEnter)return;if(parser.data.habboGroupId>0){setExpectedGroupId(parser.data.habboGroupId);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Oc\" /* GroupInformationComposer */](parser.data.habboGroupId,false));}else{setExpectedGroupId(0);setGroupInformation(null);}},[]);UseMessageEventHook(nitro_renderer[\"jc\" /* GetGuestRoomResultEvent */],onGetGuestRoomResultEvent);var onHabboGroupDeactivatedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!groupInformation||parser.groupId!==groupInformation.id&&parser.groupId!==expectedGroupId)return;setExpectedGroupId(0);setGroupInformation(null);},[expectedGroupId,groupInformation]);UseMessageEventHook(nitro_renderer[\"Bd\" /* HabboGroupDeactivatedMessageEvent */],onHabboGroupDeactivatedMessageEvent);var onGroupInformationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(parser.id!==expectedGroupId)return;setGroupInformation(parser);},[expectedGroupId]);UseMessageEventHook(nitro_renderer[\"Pc\" /* GroupInformationEvent */],onGroupInformationEvent);var leaveGroup=function leaveGroup(){NotificationUtilities_NotificationUtilities.confirm(LocalizeText('group.leaveconfirm.desc'),function(){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Xc\" /* GroupRemoveMemberComposer */](groupInformation.id,GetSessionDataManager().userId));},null);};var isRealOwner=groupInformation&&groupInformation.ownerName===GetSessionDataManager().userName;var getButtonText=function getButtonText(){if(isRealOwner)return'group.manage';if(groupInformation.type===common_GroupType_GroupType.PRIVATE)return'';if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.MEMBER)return'group.leave';if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.NOT_MEMBER&&groupInformation.type===common_GroupType_GroupType.REGULAR)return'group.join';if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.REQUEST_PENDING)return'group.membershippending';if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.NOT_MEMBER&&groupInformation.type===common_GroupType_GroupType.EXCLUSIVE)return'group.requestmembership';};var handleButtonClick=function handleButtonClick(){if(isRealOwner)return GetGroupManager(groupInformation.id);if(groupInformation.type===common_GroupType_GroupType.PRIVATE&&groupInformation.membershipType===GroupMembershipType_GroupMembershipType.NOT_MEMBER)return;if(groupInformation.membershipType===GroupMembershipType_GroupMembershipType.MEMBER){leaveGroup();return;}TryJoinGroup_TryJoinGroup(groupInformation.id);};if(!groupInformation)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-notification-bubble rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",pointer:true,onClick:function onClick(event){return setIsOpen(function(value){return!value;});},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('group.homeroominfo.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:isOpen?'chevron-up':'chevron-down'})]}),isOpen&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{pointer:true,alignItems:\"center\",gap:2,onClick:function onClick(event){return GetGroupInformation(groupInformation.id);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"group-badge\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:groupInformation.badge,isGroup:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},children:groupInformation.title})]}),(groupInformation.type!==common_GroupType_GroupType.PRIVATE||isRealOwner)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",disabled:groupInformation.membershipType===GroupMembershipType_GroupMembershipType.REQUEST_PENDING,onClick:handleButtonClick,children:LocalizeText(getButtonText())})]})]})});};\n// CONCATENATED MODULE: ./src/components/notification-center/NotificationCenterMessageHandler.tsx\nvar NotificationCenterMessageHandler_NotificationCenterMessageHandler=function NotificationCenterMessageHandler(props){var onRespectReceivedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(parser.userId!==GetSessionDataManager().userId)return;var text1=LocalizeText('notifications.text.respect.1');var text2=LocalizeText('notifications.text.respect.2',['count'],[parser.respectsReceived.toString()]);NotificationUtilities_NotificationUtilities.showSingleBubble(text1,NotificationBubbleType_NotificationBubbleType.RESPECT);NotificationUtilities_NotificationUtilities.showSingleBubble(text2,NotificationBubbleType_NotificationBubbleType.RESPECT);},[]);UseMessageEventHook(nitro_renderer[\"Qf\" /* RespectReceivedEvent */],onRespectReceivedEvent);var onHabboBroadcastMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.simpleAlert(parser.message.replace(/\\\\r/g,'\\r'),null,null,LocalizeText('notifications.broadcast.title'));},[]);UseMessageEventHook(nitro_renderer[\"yd\" /* HabboBroadcastMessageEvent */],onHabboBroadcastMessageEvent);var onAchievementNotificationMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var text1=LocalizeText('achievements.levelup.desc');var badgeName=LocalizeBageName_LocalizeBadgeName(parser.data.badgeCode);var badgeImage=GetSessionDataManager().getBadgeUrl(parser.data.badgeCode);var internalLink='questengine/achievements/'+parser.data.category;NotificationUtilities_NotificationUtilities.showSingleBubble(text1+' '+badgeName,NotificationBubbleType_NotificationBubbleType.ACHIEVEMENT,badgeImage,internalLink);},[]);UseMessageEventHook(nitro_renderer[\"c\" /* AchievementNotificationMessageEvent */],onAchievementNotificationMessageEvent);var onClubGiftNotificationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.showClubGiftNotification(parser.numGifts);},[]);UseMessageEventHook(nitro_renderer[\"gb\" /* ClubGiftNotificationEvent */],onClubGiftNotificationEvent);var onModeratorMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.handleModeratorMessage(parser.message,parser.url);},[]);UseMessageEventHook(nitro_renderer[\"se\" /* ModeratorMessageEvent */],onModeratorMessageEvent);var onActivityPointNotificationMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(parser.amountChanged<=0||parser.type!==5)return;var imageUrl=GetConfiguration('currency.asset.icon.url','').replace('%type%',parser.type.toString());NotificationUtilities_NotificationUtilities.showSingleBubble(LocalizeText('notifications.text.loyalty.received',['AMOUNT'],[parser.amountChanged.toString()]),NotificationBubbleType_NotificationBubbleType.INFO,imageUrl);},[]);UseMessageEventHook(nitro_renderer[\"f\" /* ActivityPointNotificationMessageEvent */],onActivityPointNotificationMessageEvent);var onUserBannedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.handleUserBannedMessage(parser.message);},[]);UseMessageEventHook(nitro_renderer[\"qi\" /* UserBannedMessageEvent */],onUserBannedMessageEvent);var onHotelClosesAndWillOpenAtEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.handleHotelClosedMessage(parser.openHour,parser.openMinute,parser.userThrowOutAtClose);},[]);UseMessageEventHook(nitro_renderer[\"Gd\" /* HotelClosesAndWillOpenAtEvent */],onHotelClosesAndWillOpenAtEvent);var onPetReceivedMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var text=LocalizeText('notifications.text.'+(parser.boughtAsGift?'petbought':'petreceived'));var imageUrl=null;var imageResult=GetRoomEngine().getRoomObjectPetImage(parser.pet.typeId,parser.pet.paletteId,parseInt(parser.pet.color,16),new nitro_renderer[\"Oi\" /* Vector3d */](45*3),64,null,true);if(imageResult)imageUrl=imageResult.getImage().src;NotificationUtilities_NotificationUtilities.showSingleBubble(text,NotificationBubbleType_NotificationBubbleType.PETLEVEL,imageUrl);},[]);UseMessageEventHook(nitro_renderer[\"mf\" /* PetReceivedMessageEvent */],onPetReceivedMessageEvent);var onRoomEnterEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.showModerationDisclaimer();},[]);UseMessageEventHook(nitro_renderer[\"qg\" /* RoomEnterEvent */],onRoomEnterEvent);var onMOTDNotificationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.handleMOTD(parser.messages);},[]);UseMessageEventHook(nitro_renderer[\"Wd\" /* MOTDNotificationEvent */],onMOTDNotificationEvent);var onPetLevelNotificationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var imageUrl=null;var imageResult=GetRoomEngine().getRoomObjectPetImage(parser.figureData.typeId,parser.figureData.paletteId,parseInt(parser.figureData.color,16),new nitro_renderer[\"Oi\" /* Vector3d */](45*3),64,null,true);if(imageResult)imageUrl=imageResult.getImage().src;NotificationUtilities_NotificationUtilities.showSingleBubble(LocalizeText('notifications.text.petlevel',['pet_name','level'],[parser.petName,parser.level.toString()]),NotificationBubbleType_NotificationBubbleType.PETLEVEL,imageUrl);},[]);UseMessageEventHook(nitro_renderer[\"lf\" /* PetLevelNotificationEvent */],onPetLevelNotificationEvent);var onInfoFeedEnableMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.BUBBLES_DISABLED=!parser.enabled;},[]);UseMessageEventHook(nitro_renderer[\"Id\" /* InfoFeedEnableMessageEvent */],onInfoFeedEnableMessageEvent);var onClubGiftSelectedEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser.products||!parser.products.length)return;var productData=parser.products[0];if(!productData)return;NotificationUtilities_NotificationUtilities.showSingleBubble(LocalizeText('notifications.text.club_gift.selected'),NotificationBubbleType_NotificationBubbleType.INFO,ProductImageUtility_ProductImageUtility.getProductImageUrl(productData.productType,productData.furniClassId,productData.extraParam));},[]);UseMessageEventHook(nitro_renderer[\"hb\" /* ClubGiftSelectedEvent */],onClubGiftSelectedEvent);var onMaintenanceStatusMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.handleHotelMaintenanceMessage(parser.minutesUntilMaintenance,parser.duration);},[]);UseMessageEventHook(nitro_renderer[\"Xd\" /* MaintenanceStatusMessageEvent */],onMaintenanceStatusMessageEvent);var onModeratorCautionEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.handleModeratorCaution(parser.message,parser.url);},[]);UseMessageEventHook(nitro_renderer[\"qe\" /* ModeratorCautionEvent */],onModeratorCautionEvent);var onNotificationDialogMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.showNotification(parser.type,parser.parameters);},[]);UseMessageEventHook(nitro_renderer[\"af\" /* NotificationDialogMessageEvent */],onNotificationDialogMessageEvent);var onHotelWillCloseInMinutesEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.handleHotelClosingMessage(parser.openMinute);},[]);UseMessageEventHook(nitro_renderer[\"Hd\" /* HotelWillCloseInMinutesEvent */],onHotelWillCloseInMinutesEvent);var onHotelClosedAndOpensEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.handleLoginFailedHotelClosedMessage(parser.openHour,parser.openMinute);},[]);UseMessageEventHook(nitro_renderer[\"Fd\" /* HotelClosedAndOpensEvent */],onHotelClosedAndOpensEvent);return null;};\n// CONCATENATED MODULE: ./src/components/notification-center/views/alert-layouts/NitroSystemAlertView.tsx\nvar NitroSystemAlertView_excluded=[\"title\",\"close\"];var NitroSystemAlertView_NitroSystemAlertView=function NitroSystemAlertView(props){var _props$title=props.title,title=_props$title===void 0?'Nitro':_props$title,_props$close=props.close,close=_props$close===void 0?null:_props$close,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NitroSystemAlertView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutNotificationAlertView_LayoutNotificationAlertView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({title:title,close:close},rest),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,size:5,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"object\",{data:\"https://assets.nitrodev.co/logos/nitro-n-dark.svg\",width:\"100\",height:\"100\",children:\"\\xA0\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,fontSize:4,children:\"Nitro React\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{children:[\"v\",GetUIVersion()]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Renderer:\"}),\" v\",GetRendererVersion_GetRendererVersion()]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:function onClick(event){return window.open('https://discord.nitrodev.co');},children:\"Discord\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:function onClick(event){return window.open('https://git.krews.org/nitro/nitro-react');},children:\"Git\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:function onClick(event){return window.open('https://git.krews.org/nitro/nitro-react/-/issues');},children:\"Bug Report\"})]})]})]})]})]})}));};\n// CONCATENATED MODULE: ./src/components/notification-center/views/alert-layouts/NotificationDefaultAlertView.tsx\nvar NotificationDefaultAlertView_excluded=[\"item\",\"title\",\"close\"];var NotificationDefaultAlertView_NotificationDefaultAlertView=function NotificationDefaultAlertView(props){var _props$item=props.item,item=_props$item===void 0?null:_props$item,_props$title=props.title,title=_props$title===void 0?props.item&&props.item.title||'':_props$title,_props$close=props.close,close=_props$close===void 0?null:_props$close,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NotificationDefaultAlertView_excluded);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageFailed=_useState2[0],setImageFailed=_useState2[1];var visitUrl=Object(react[\"useCallback\"])(function(){NotificationUtilities_NotificationUtilities.openUrl(item.clickUrl);close();},[item,close]);var hasFrank=item.alertType===NotificationAlertType_NotificationAlertType.DEFAULT;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationAlertView_LayoutNotificationAlertView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({className:\"animate__animated animate__jackInTheBox\",title:title,close:close},rest),{},{type:hasFrank?NotificationAlertType_NotificationAlertType.DEFAULT:item.alertType,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullHeight:true,overflow:\"auto\",gap:hasFrank||item.imageUrl&&!imageFailed?2:0,children:[hasFrank&&!item.imageUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"notification-frank flex-shrink-0\"}),item.imageUrl&&!imageFailed&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:item.imageUrl,alt:item.title,onError:function onError(){setImageFailed(true);},className:\"align-self-baseline\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{classNames:['notification-text overflow-y-auto d-flex flex-column w-100',item.clickUrl&&!hasFrank?'justify-content-center':''],children:[item.messages.length>0&&item.messages.map(function(message,index){var htmlText=message.replace(/\\r\\n|\\r|\\n/g,'<br />');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{dangerouslySetInnerHTML:{__html:htmlText}},index);}),item.clickUrl&&item.clickUrl.length>0&&item.imageUrl&&!imageFailed&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"my-2 w-100\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:visitUrl,className:\"align-self-center px-3\",children:LocalizeText(item.clickUrlText)})]})]})]}),(!item.imageUrl||item.imageUrl&&imageFailed)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",center:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"my-2 w-100\"}),!item.clickUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:close,children:LocalizeText('generic.close')}),item.clickUrl&&item.clickUrl.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:visitUrl,children:LocalizeText(item.clickUrlText)})]})})]}));};\n// CONCATENATED MODULE: ./src/components/notification-center/views/alert-layouts/NotificationSearchAlertView.tsx\nvar NotificationSearchAlertView_excluded=[\"item\",\"title\",\"close\"];var NotificationSearchAlertView_NotificationSeachAlertView=function NotificationSeachAlertView(props){var _props$item=props.item,item=_props$item===void 0?null:_props$item,_props$title=props.title,title=_props$title===void 0?props.item&&props.item.title||'':_props$title,_props$close=props.close,close=_props$close===void 0?null:_props$close,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NotificationSearchAlertView_excluded);var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),results=_useState4[0],setResults=_useState4[1];var visitUrl=Object(react[\"useCallback\"])(function(){NotificationUtilities_NotificationUtilities.openUrl(item.clickUrl);close();},[item,close]);Object(react[\"useEffect\"])(function(){setResults(JSON.parse(item.messages[0]));},[item]);var updateSearchValue=Object(react[\"useCallback\"])(function(value){var res=JSON.parse(item.messages[0]);setResults(res.filter(function(val){return val.includes(value);}));setSearchValue(value);},[item]);var isAction=item.clickUrl&&item.clickUrl.startsWith('event:');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationAlertView_LayoutNotificationAlertView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({title:title,close:close},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{fullWidth:true,alignItems:\"center\",position:\"relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:function onChange(event){return updateSearchValue(event.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullHeight:true,className:\"py-1\",overflow:\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{gap:1,columnCount:1,children:results&&results.map(function(n,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:n},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"my-2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",center:true,gap:1,children:[!isAction&&!item.clickUrl&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:close,children:LocalizeText('generic.close')}),item.clickUrl&&item.clickUrl.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:visitUrl,children:LocalizeText(item.clickUrlText)})]})]}));};\n// CONCATENATED MODULE: ./src/components/notification-center/views/alert-layouts/GetAlertLayout.tsx\nvar GetAlertLayout_GetAlertLayout=function GetAlertLayout(item,close){if(!item)return null;var props={key:item.id,item:item,close:close};switch(item.alertType){case NotificationAlertType_NotificationAlertType.NITRO:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroSystemAlertView_NitroSystemAlertView,Object(objectSpread2[\"a\" /* default */])({},props));case NotificationAlertType_NotificationAlertType.SEARCH:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationSearchAlertView_NotificationSeachAlertView,Object(objectSpread2[\"a\" /* default */])({},props));default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationDefaultAlertView_NotificationDefaultAlertView,Object(objectSpread2[\"a\" /* default */])({},props));}};\n// CONCATENATED MODULE: ./src/components/notification-center/views/bubble-layouts/NotificationClubGiftBubbleView.tsx\nvar NotificationClubGiftBubbleView_excluded=[\"item\",\"close\"];var NotificationClubGiftBubbleView_NotificationClubGiftBubbleView=function NotificationClubGiftBubbleView(props){var _props$item=props.item,item=_props$item===void 0?null:_props$item,_props$close=props.close,close=_props$close===void 0?null:_props$close,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NotificationClubGiftBubbleView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationBubbleView_LayoutNotificationBubbleView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({fadesOut:false,className:\"flex-column club-gift\",close:close},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center gap-2 mb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:\"hc\",className:\"flex-shrink-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"ms-1\",children:LocalizeText('notifications.text.club_gift')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center justify-content-end gap-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-success w-100 btn-sm\",onClick:function onClick(){return NotificationUtilities_NotificationUtilities.openUrl(item.linkUrl);},children:LocalizeText('notifications.button.show_gift_list')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"text-decoration-underline cursor-pointer text-nowrap\",onClick:close,children:LocalizeText('notifications.button.later')})]})]}));};\n// CONCATENATED MODULE: ./src/components/notification-center/views/bubble-layouts/NotificationDefaultBubbleView.tsx\nvar NotificationDefaultBubbleView_excluded=[\"item\",\"close\"];var NotificationDefaultBubbleView_NotificationDefaultBubbleView=function NotificationDefaultBubbleView(props){var _props$item=props.item,item=_props$item===void 0?null:_props$item,_props$close=props.close,close=_props$close===void 0?null:_props$close,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NotificationDefaultBubbleView_excluded);var htmlText=item.message.replace(/\\r\\n|\\r|\\n/g,'<br />');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationBubbleView_LayoutNotificationBubbleView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({close:close,gap:2,alignItems:\"center\",onClick:function onClick(event){return item.linkUrl&&item.linkUrl.length&&NotificationUtilities_NotificationUtilities.openUrl(item.linkUrl);}},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"bubble-image-container\",children:item.iconUrl&&item.iconUrl.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"no-select\",src:item.iconUrl,alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{wrap:true,variant:\"none\",style:{color:\"var(--test-galaxytext)\"},dangerouslySetInnerHTML:{__html:htmlText}})]}));};\n// CONCATENATED MODULE: ./src/components/notification-center/views/bubble-layouts/GetBubbleLayout.tsx\nvar GetBubbleLayout_GetBubbleLayout=function GetBubbleLayout(item,close){if(!item)return null;var props={key:item.id,item:item,close:close};switch(item.notificationType){case NotificationBubbleType_NotificationBubbleType.CLUBGIFT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationClubGiftBubbleView_NotificationClubGiftBubbleView,Object(objectSpread2[\"a\" /* default */])({},props));default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationDefaultBubbleView_NotificationDefaultBubbleView,Object(objectSpread2[\"a\" /* default */])({},props));}};\n// CONCATENATED MODULE: ./src/components/notification-center/views/confirm-layouts/NotificationDefaultConfirmView.tsx\nvar NotificationDefaultConfirmView_excluded=[\"item\",\"close\"];var NotificationDefaultConfirmView_NotificationDefaultConfirmView=function NotificationDefaultConfirmView(props){var _props$item=props.item,item=_props$item===void 0?null:_props$item,_props$close=props.close,close=_props$close===void 0?null:_props$close,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,NotificationDefaultConfirmView_excluded);var _item$message=item.message,message=_item$message===void 0?null:_item$message,_item$onConfirm=item.onConfirm,onConfirm=_item$onConfirm===void 0?null:_item$onConfirm,_item$onCancel=item.onCancel,onCancel=_item$onCancel===void 0?null:_item$onCancel,_item$confirmText=item.confirmText,confirmText=_item$confirmText===void 0?null:_item$confirmText,_item$cancelText=item.cancelText,cancelText=_item$cancelText===void 0?null:_item$cancelText,_item$title=item.title,title=_item$title===void 0?null:_item$title;var confirm=function confirm(){if(onConfirm)onConfirm();close();};var cancel=function cancel(){if(onCancel)onCancel();close();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutNotificationAlertView_LayoutNotificationAlertView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({title:title,close:close},rest),{},{type:NotificationAlertType_NotificationAlertType.ALERT,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{grow:true,center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:message})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"danger\",onClick:cancel,children:cancelText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:confirm,children:confirmText})]})]}));};\n// CONCATENATED MODULE: ./src/components/notification-center/views/confirm-layouts/GetConfirmLayout.tsx\nvar GetConfirmLayout_GetConfirmLayout=function GetConfirmLayout(item,close){if(!item)return null;var props={key:item.id,item:item,close:close};switch(item.confirmType){default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationDefaultConfirmView_NotificationDefaultConfirmView,Object(objectSpread2[\"a\" /* default */])({},props));}};\n// CONCATENATED MODULE: ./src/components/notification-center/NotificationCenterView.tsx\nvar NotificationCenterView_NotificationCenterView=function NotificationCenterView(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),alerts=_useState2[0],setAlerts=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),bubbleAlerts=_useState4[0],setBubbleAlerts=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),confirms=_useState6[0],setConfirms=_useState6[1];var onNotificationAlertEvent=Object(react[\"useCallback\"])(function(event){var alertItem=new NotificationAlertItem_NotificationAlertItem(event.messages,event.alertType,event.clickUrl,event.clickUrlText,event.title,event.imageUrl);setAlerts(function(prevValue){return[alertItem].concat(Object(toConsumableArray[\"a\" /* default */])(prevValue));});},[]);UseUiEvent_UseUiEvent(NotificationAlertEvent_NotificationAlertEvent.ALERT,onNotificationAlertEvent);var onNotificationBubbleEvent=Object(react[\"useCallback\"])(function(event){var notificationItem=new NotificationBubbleItem_NotificationBubbleItem(event.message,event.notificationType,event.imageUrl,event.linkUrl);setBubbleAlerts(function(prevValue){return[notificationItem].concat(Object(toConsumableArray[\"a\" /* default */])(prevValue));});},[]);UseUiEvent_UseUiEvent(NotificationBubbleEvent_NotificationBubbleEvent.NEW_BUBBLE,onNotificationBubbleEvent);var onNotificationConfirmEvent=Object(react[\"useCallback\"])(function(event){var confirmItem=new NotificationConfirmItem_NotificationConfirmItem(event.type,event.message,event.onConfirm,event.onCancel,event.confirmText,event.cancelText,event.title);setConfirms(function(prevValue){return[confirmItem].concat(Object(toConsumableArray[\"a\" /* default */])(prevValue));});},[]);UseUiEvent_UseUiEvent(NotificationConfirmEvent_NotificationConfirmEvent.CONFIRM,onNotificationConfirmEvent);var closeAlert=Object(react[\"useCallback\"])(function(alert){setAlerts(function(prevValue){var newAlerts=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newAlerts.findIndex(function(value){return alert===value;});if(index>=0)newAlerts.splice(index,1);return newAlerts;});},[]);var closeBubbleAlert=Object(react[\"useCallback\"])(function(item){setBubbleAlerts(function(prevValue){var newAlerts=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newAlerts.findIndex(function(value){return item===value;});if(index>=0)newAlerts.splice(index,1);return newAlerts;});},[]);var closeConfirm=Object(react[\"useCallback\"])(function(item){setConfirms(function(prevValue){var newConfirms=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=newConfirms.findIndex(function(value){return item===value;});if(index>=0)newConfirms.splice(index,1);return newConfirms;});},[]);var getAlerts=Object(react[\"useMemo\"])(function(){if(!alerts||!alerts.length)return null;var elements=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(alerts),_step;try{var _loop=function _loop(){var alert=_step.value;var element=GetAlertLayout_GetAlertLayout(alert,function(){return closeAlert(alert);});elements.push(element);};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}return elements;},[alerts,closeAlert]);var getBubbleAlerts=Object(react[\"useMemo\"])(function(){if(!bubbleAlerts||!bubbleAlerts.length)return null;var elements=[];var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(bubbleAlerts),_step2;try{var _loop2=function _loop2(){var alert=_step2.value;var element=GetBubbleLayout_GetBubbleLayout(alert,function(){return closeBubbleAlert(alert);});if(alert.notificationType===NotificationBubbleType_NotificationBubbleType.CLUBGIFT){elements.unshift(element);return\"continue\";}elements.push(element);};for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ret=_loop2();if(_ret===\"continue\")continue;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return elements;},[bubbleAlerts,closeBubbleAlert]);var getConfirms=Object(react[\"useMemo\"])(function(){if(!confirms||!confirms.length)return null;var elements=[];var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(confirms),_step3;try{var _loop3=function _loop3(){var confirm=_step3.value;var element=GetConfirmLayout_GetConfirmLayout(confirm,function(){return closeConfirm(confirm);});elements.push(element);};for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop3();}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return elements;},[confirms,closeConfirm]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationCenterMessageHandler_NotificationCenterMessageHandler,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:getBubbleAlerts}),getConfirms,getAlerts]});};\n// CONCATENATED MODULE: ./src/components/purse/PurseView.tsx\nvar PurseView_PurseView=function PurseView(props){var _usePurse=usePurse_usePurse(),_usePurse$purse=_usePurse.purse,purse=_usePurse$purse===void 0?null:_usePurse$purse,_usePurse$hcDisabled=_usePurse.hcDisabled,hcDisabled=_usePurse$hcDisabled===void 0?false:_usePurse$hcDisabled;var displayedCurrencies=Object(react[\"useMemo\"])(function(){return GetConfiguration('system.currency.types',[]);},[]);var currencyDisplayNumberShort=Object(react[\"useMemo\"])(function(){return GetConfiguration('currency.display.number.short',false);},[]);var getClubText=Object(react[\"useMemo\"])(function(){if(!purse)return null;var totalDays=purse.clubPeriods*31+purse.clubDays;var minutesUntilExpiration=purse.minutesUntilExpiration;if(purse.clubLevel===nitro_renderer[\"zd\" /* HabboClubLevelEnum */].NO_CLUB)return LocalizeText('purse.clubdays.zero.amount.text');else if(minutesUntilExpiration>-1&&minutesUntilExpiration<60*24)return nitro_renderer[\"Ib\" /* FriendlyTime */].shortFormat(minutesUntilExpiration*60);else return nitro_renderer[\"Ib\" /* FriendlyTime */].shortFormat(totalDays*86400);},[purse]);function getUrlCurrency(type){return\"https://swfs.hgalaxy.net/monedas/\"+type+\".png\";}var getCurrencyElements=Object(react[\"useCallback\"])(function(offset){var limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;var seasonal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!purse||!purse.activityPoints||!purse.activityPoints.size)return null;var types=Array.from(purse.activityPoints.keys()).filter(function(type){return displayedCurrencies.indexOf(type)>=0;});var count=0;while(count<offset){types.shift();count++;}count=0;var elements=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(types),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var type=_step.value;if(limit>-1&&count===limit)break;if(seasonal)elements.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"currency-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-dark\",children:purse.activityPoints.get(type)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:getUrlCurrency(type)})})]})}));else elements.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"currency-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-dark\",children:purse.activityPoints.get(type)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:getUrlCurrency(type)})})]})}));count++;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return elements;},[purse,displayedCurrencies,currencyDisplayNumberShort]);if(!purse)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"end\",className:\"nitro-purse-container animate__animated animate__backInDown\",gap:1,style:{marginTop:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://i.ibb.co/c8gV8Jm/HGALAXY-ICON-BY-JEWEL.png\",style:{objectFit:\"contain\",height:\"45px\"},className:\"text-center\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{className:\"text-white\",children:\"HGalaxy.net | Versi\\xF3n Beta\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"currency-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-dark\",children:purse.credits}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swf.kubbo.city/images/wallet/-1.png\"})})]})}),getCurrencyElements(0,2),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"currency-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{target:\"_blank\",href:\"https://hgalaxy.net/community/shop\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-dark\",children:\"Tienda\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_69.png\"})})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(event){return CreateLinkEvent('help/show');},className:\"btn btn-sm currency-container-button\",style:{width:\"62px\",display:\"inline-block\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-help\",style:{marginTop:\"5px\"}})}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(event){return CreateLinkEvent('user-settings/toggle');},className:\"btn btn-sm currency-container-button\",style:{width:\"62px\",display:\"inline-block\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-cog\",style:{marginTop:\"5px\",marginBottom:\"2px\"}})})]})]});};\n// CONCATENATED MODULE: ./src/components/right-side/RightSideView.tsx\nvar RightSideView_RightSideView=function RightSideView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-right-side\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{position:\"relative\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PurseView_PurseView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupRoomInformationView_GroupRoomInformationView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationCenterView_NotificationCenterView,{})]})});};\n// CONCATENATED MODULE: ./src/components/room/RoomContext.tsx\nvar RoomContext=/*#__PURE__*/Object(react[\"createContext\"])({roomSession:null,eventDispatcher:null,widgetHandler:null});var RoomContext_RoomContextProvider=function RoomContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomContext.Provider,{value:props.value,children:props.children});};var RoomContext_useRoomContext=function useRoomContext(){return Object(react[\"useContext\"])(RoomContext);};\n// CONCATENATED MODULE: ./src/components/room/RoomColorView.tsx\nvar RoomColorView_RoomColorView=function RoomColorView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),roomBackground=_useState2[0],setRoomBackground=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),roomFilter=_useState4[0],setRoomFilter=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),originalRoomBackgroundColor=_useState6[0],setOriginalRoomBackgroundColor=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var updateRoomBackgroundColor=Object(react[\"useCallback\"])(function(hue,saturation,lightness){var original=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!roomBackground)return;var newColor=nitro_renderer[\"ib\" /* ColorConverter */].hslToRGB(((hue&0xFF)<<16)+((saturation&0xFF)<<8)+(lightness&0xFF));if(original)setOriginalRoomBackgroundColor(newColor);if(!hue&&!saturation&&!lightness){roomBackground.tint=0;}else{roomBackground.tint=newColor;}},[roomBackground]);var updateRoomFilter=Object(react[\"useCallback\"])(function(color){if(!roomFilter)return;var r=color>>16&0xFF;var g=color>>8&0xFF;var b=color&0xFF;roomFilter.red=r/255;roomFilter.green=g/255;roomFilter.blue=b/255;},[roomFilter]);var onRoomEngineEvent=Object(react[\"useCallback\"])(function(event){if(nitro_renderer[\"vg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;switch(event.type){case nitro_renderer[\"Dg\" /* RoomObjectHSLColorEnabledEvent */].ROOM_BACKGROUND_COLOR:{var hslColorEvent=event;if(hslColorEvent.enable)updateRoomBackgroundColor(hslColorEvent.hue,hslColorEvent.saturation,hslColorEvent.lightness,true);else updateRoomBackgroundColor(0,0,0,true);return;}case nitro_renderer[\"Rf\" /* RoomBackgroundColorEvent */].ROOM_COLOR:{var colorEvent=event;var color=0x000000;var brightness=0xFF;if(!colorEvent.bgOnly){color=colorEvent.color;brightness=colorEvent.brightness;}updateRoomFilter(nitro_renderer[\"ib\" /* ColorConverter */].hslToRGB((nitro_renderer[\"ib\" /* ColorConverter */].rgbToHSL(color)&0xFFFF00)+brightness));return;}case nitro_renderer[\"hg\" /* RoomEngineDimmerStateEvent */].ROOM_COLOR:{widgetHandler.processEvent(event);}}},[widgetHandler,updateRoomBackgroundColor,updateRoomFilter]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"Dg\" /* RoomObjectHSLColorEnabledEvent */].ROOM_BACKGROUND_COLOR,onRoomEngineEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"Rf\" /* RoomBackgroundColorEvent */].ROOM_COLOR,onRoomEngineEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"hg\" /* RoomEngineDimmerStateEvent */].ROOM_COLOR,onRoomEngineEvent);var onRoomWidgetUpdateBackgroundColorPreviewEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.PREVIEW:{updateRoomBackgroundColor(event.hue,event.saturation,event.lightness);return;}case RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.CLEAR_PREVIEW:{if(!roomBackground)return;roomBackground.tint=originalRoomBackgroundColor;return;}}},[roomBackground,originalRoomBackgroundColor,updateRoomBackgroundColor]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.PREVIEW,eventDispatcher,onRoomWidgetUpdateBackgroundColorPreviewEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.CLEAR_PREVIEW,eventDispatcher,onRoomWidgetUpdateBackgroundColorPreviewEvent);Object(react[\"useEffect\"])(function(){if(!roomSession)return;var canvas=GetRoomEngine().getRoomInstanceRenderingCanvas(roomSession.roomId,1);if(!canvas)return;var background=new nitro_renderer[\"Ve\" /* NitroSprite */](nitro_renderer[\"We\" /* NitroTexture */].WHITE);var filter=new nitro_renderer[\"Ke\" /* NitroAdjustmentFilter */]();var master=canvas.master;background.tint=0;background.width=GetNitroInstance().width;background.height=GetNitroInstance().height;master.addChildAt(background,0);master.filters=[filter];setRoomBackground(background);setRoomFilter(filter);var resize=function resize(event){background.width=GetNitroInstance().width;background.height=GetNitroInstance().height;};window.addEventListener('resize',resize);return function(){setRoomBackground(function(prevValue){if(prevValue)prevValue.destroy();return null;});setRoomFilter(function(prevValue){if(prevValue)prevValue.destroy();return null;});setOriginalRoomBackgroundColor(0);window.removeEventListener('resize',resize);};},[roomSession]);return null;};\n// CONCATENATED MODULE: ./src/components/room/spectator/RoomSpectatorView.tsx\nvar RoomSpectatorView_RoomSpectatorView=function RoomSpectatorView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"room-spectator\"});};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuHeaderView.tsx\nvar ContextMenuHeaderView_excluded=[\"justifyContent\",\"alignItems\",\"classNames\"];var ContextMenuHeaderView_ContextMenuHeaderView=function ContextMenuHeaderView(props){var _props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?'center':_props$justifyContent,_props$alignItems=props.alignItems,alignItems=_props$alignItems===void 0?'center':_props$alignItems,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,ContextMenuHeaderView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['menu-header','p-1'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])({justifyContent:justifyContent,alignItems:alignItems,classNames:getClassNames},rest));};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/common/BotSkillsEnum.ts\nvar BotSkillsEnum_BotSkillsEnum=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function BotSkillsEnum(){Object(classCallCheck[\"a\" /* default */])(this,BotSkillsEnum);});BotSkillsEnum_BotSkillsEnum.GENERIC_SKILL=0;BotSkillsEnum_BotSkillsEnum.DRESS_UP=1;BotSkillsEnum_BotSkillsEnum.SETUP_CHAT=2;BotSkillsEnum_BotSkillsEnum.RANDOM_WALK=3;BotSkillsEnum_BotSkillsEnum.DANCE=4;BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_NAME=5;BotSkillsEnum_BotSkillsEnum.SERVE_BEVERAGE=6;BotSkillsEnum_BotSkillsEnum.INCLIENT_LINK=7;BotSkillsEnum_BotSkillsEnum.NUX_PROCEED=8;BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_MOTTO=9;BotSkillsEnum_BotSkillsEnum.NUX_TAKE_TOUR=10;BotSkillsEnum_BotSkillsEnum.NO_PICK_UP=12;BotSkillsEnum_BotSkillsEnum.NAVIGATOR_SEARCH=14;BotSkillsEnum_BotSkillsEnum.DONATE_TO_USER=24;BotSkillsEnum_BotSkillsEnum.DONATE_TO_ALL=25;\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoRentableBotChatView.tsx\nvar AvatarInfoRentableBotChatView_AvatarInfoRentableBotChatView=function AvatarInfoRentableBotChatView(props){var _props$chatEvent=props.chatEvent,chatEvent=_props$chatEvent===void 0?null:_props$chatEvent,_props$close=props.close,close=_props$close===void 0?null:_props$close;// eslint-disable-next-line no-template-curly-in-string\nvar _useState=Object(react[\"useState\"])(chatEvent.chat==='${bot.skill.chatter.configuration.text.placeholder}'?'':chatEvent.chat),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newText=_useState2[0],setNewText=_useState2[1];var _useState3=Object(react[\"useState\"])(chatEvent.automaticChat),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),automaticChat=_useState4[0],setAutomaticChat=_useState4[1];var _useState5=Object(react[\"useState\"])(chatEvent.mixSentences),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),mixSentences=_useState6[0],setMixSentences=_useState6[1];var _useState7=Object(react[\"useState\"])(chatEvent.chatDelay),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),chatDelay=_useState8[0],setChatDelay=_useState8[1];var getObjectLocation=Object(react[\"useMemo\"])(function(){return GetRoomObjectBounds_GetRoomObjectBounds(GetRoomSession().roomId,chatEvent.objectId,chatEvent.category,1);},[chatEvent]);var formatChatString=function formatChatString(value){return value.replace(/;#;/g,' ').replace(/\\r\\n|\\r|\\n/g,'\\r');};var save=function save(){var chatConfiguration=formatChatString(newText)+';#;'+automaticChat+';#;'+chatDelay+';#;'+mixSentences;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](chatEvent.botId,BotSkillsEnum_BotSkillsEnum.SETUP_CHAT,chatConfiguration));close();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow_DraggableWindow,{windowPosition:DraggableWindowPosition_DraggableWindowPosition.NOTHING,handleSelector:\".drag-handler\",dragStyle:{top:getObjectLocation.y,left:getObjectLocation.x},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:\"nitro-context-menu bot-chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{className:\"drag-handler\",children:LocalizeText('bot.skill.chatter.configuration.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.chat.text')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"form-control form-control-sm\",placeholder:LocalizeText('bot.skill.chatter.configuration.text.placeholder'),value:newText,rows:7,onChange:function onChange(e){return setNewText(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.automatic.chat')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:automaticChat,onChange:function onChange(event){return setAutomaticChat(event.target.checked);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.markov')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",className:\"form-check-input\",checked:mixSentences,onChange:function onChange(event){return setMixSentences(event.target.checked);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fullWidth:true,variant:\"white\",children:LocalizeText('bot.skill.chatter.configuration.chat.delay')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:chatDelay,onChange:function onChange(event){return setChatDelay(event.target.valueAsNumber);}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"primary\",onClick:close,children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:save,children:LocalizeText('save')})]})]})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoUseProductConfirmView.tsx\nvar _Str_5091=-1;var _Str_11906=0;var _Str_11214=1;var _Str_11733=2;var _Str_11369=3;var _Str_8759=4;var _Str_8432=5;var _Str_9653=6;var AvatarInfoUseProductConfirmView_AvatarInfoUseProductConfirmView=function AvatarInfoUseProductConfirmView(props){var _props$item=props.item,item=_props$item===void 0?null:_props$item,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(_Str_5091),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),petData=_useState4[0],setPetData=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),furniData=_useState6[0],setFurniData=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var selectRoomObject=Object(react[\"useCallback\"])(function(){if(!petData)return;GetRoomEngine().selectRoomObject(roomSession.roomId,petData.roomIndex,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);},[roomSession,petData]);var useProduct=Object(react[\"useCallback\"])(function(){widgetHandler.processWidgetMessage(new RoomWidgetUseProductMessage_RoomWidgetUseProductMessage(RoomWidgetUseProductMessage_RoomWidgetUseProductMessage.PET_PRODUCT,item.requestRoomObjectId,petData.webID));close();},[widgetHandler,item,petData,close]);var getPetImage=Object(react[\"useMemo\"])(function(){if(!petData||!furniData)return null;var petFigureData=new nitro_renderer[\"jf\" /* PetFigureData */](petData.figure);var customParts=furniData.customParams.split(' ');var petIndex=parseInt(customParts[0]);switch(furniData.specialType){case FurniCategory_FurniCategory.PET_SHAMPOO:{if(customParts.length<2)return null;var currentPalette=GetRoomEngine().getPetColorResult(petIndex,petFigureData.paletteId);var possiblePalettes=GetRoomEngine().getPetColorResultsForTag(petIndex,customParts[1]);var paletteId=-1;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(possiblePalettes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var result=_step.value;if(result.breed===currentPalette.breed){paletteId=parseInt(result.id);break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView_LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:paletteId,petColor:petFigureData.color,customParts:petFigureData.customParts,direction:2});}case FurniCategory_FurniCategory.PET_CUSTOM_PART:{if(customParts.length<4)return null;var newCustomParts=[];var _local_6=customParts[1].split(',').map(function(piece){return parseInt(piece);});var _local_7=customParts[2].split(',').map(function(piece){return parseInt(piece);});var _local_8=customParts[3].split(',').map(function(piece){return parseInt(piece);});var _local_10=0;while(_local_10<_local_6.length){var _local_13=_local_6[_local_10];var _local_15=petFigureData.getCustomPart(_local_13);var _local_12=_local_8[_local_10];if(_local_15!=null)_local_12=_local_15.paletteId;newCustomParts.push(new nitro_renderer[\"if\" /* PetCustomPart */](_local_13,_local_7[_local_10],_local_12));_local_10++;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView_LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:petFigureData.paletteId,petColor:petFigureData.color,customParts:newCustomParts,direction:2});}case FurniCategory_FurniCategory.PET_CUSTOM_PART_SHAMPOO:{if(customParts.length<3)return null;var _newCustomParts=[];var _local_=customParts[1].split(',').map(function(piece){return parseInt(piece);});var _local_2=customParts[2].split(',').map(function(piece){return parseInt(piece);});var _local_3=0;while(_local_3<_local_.length){var _local_4=_local_[_local_3];var _local_5=petFigureData.getCustomPart(_local_4);var _local_14=-1;if(_local_5!=null)_local_14=_local_5.partId;_newCustomParts.push(new nitro_renderer[\"if\" /* PetCustomPart */](_local_[_local_3],_local_14,_local_2[_local_3]));_local_3++;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView_LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:petFigureData.paletteId,petColor:petFigureData.color,customParts:_newCustomParts,direction:2});}case FurniCategory_FurniCategory.PET_SADDLE:{if(customParts.length<4)return null;var _newCustomParts2=[];var _local_9=customParts[1].split(',').map(function(piece){return parseInt(piece);});var _local_11=customParts[2].split(',').map(function(piece){return parseInt(piece);});var _local_16=customParts[3].split(',').map(function(piece){return parseInt(piece);});var _local_17=0;while(_local_17<_local_9.length){_newCustomParts2.push(new nitro_renderer[\"if\" /* PetCustomPart */](_local_9[_local_17],_local_11[_local_17],_local_16[_local_17]));_local_17++;}var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(petFigureData.customParts),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _local_21=_step2.value;if(_local_9.indexOf(_local_21.layerId)===-1){_newCustomParts2.push(_local_21);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView_LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:petFigureData.paletteId,petColor:petFigureData.color,customParts:_newCustomParts2,direction:2});}case FurniCategory_FurniCategory.MONSTERPLANT_REBREED:case FurniCategory_FurniCategory.MONSTERPLANT_REVIVAL:case FurniCategory_FurniCategory.MONSTERPLANT_FERTILIZE:{var posture='rip';var roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,petData.roomIndex,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);if(roomObject){posture=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_POSTURE);if(posture==='rip'){var level=petData.petLevel;if(level<7)posture=\"grw\".concat(level);else posture='std';}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView_LayoutPetImageView,{typeId:petFigureData.typeId,paletteId:petFigureData.paletteId,petColor:petFigureData.color,customParts:petFigureData.customParts,posture:posture,direction:2});}}},[petData,furniData,roomSession]);Object(react[\"useEffect\"])(function(){var userData=roomSession.userDataManager.getUserDataByIndex(item.id);setPetData(userData);var furniData=GetFurnitureDataForRoomObject(roomSession.roomId,item.requestRoomObjectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(!furniData)return;setFurniData(furniData);var mode=_Str_5091;switch(furniData.specialType){case FurniCategory_FurniCategory.PET_SHAMPOO:mode=_Str_11906;break;case FurniCategory_FurniCategory.PET_CUSTOM_PART:mode=_Str_11214;break;case FurniCategory_FurniCategory.PET_CUSTOM_PART_SHAMPOO:mode=_Str_11733;break;case FurniCategory_FurniCategory.PET_SADDLE:mode=_Str_11369;break;case FurniCategory_FurniCategory.MONSTERPLANT_REVIVAL:mode=_Str_8759;break;case FurniCategory_FurniCategory.MONSTERPLANT_REBREED:mode=_Str_8432;break;case FurniCategory_FurniCategory.MONSTERPLANT_FERTILIZE:mode=_Str_9653;break;}setMode(mode);},[roomSession,item]);if(!petData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('useproduct.widget.title',['name'],[petData.name]),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"product-preview\",onClick:selectRoomObject,children:getPetImage})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:2,children:[mode===_Str_11906&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.shampoo',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.shampoo')})]}),mode===_Str_11214&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.custompart',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.custompart')})]}),mode===_Str_11733&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.custompartshampoo',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.custompartshampoo')})]}),mode===_Str_11369&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.saddle',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.saddle')})]}),mode===_Str_8759&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.revive_monsterplant',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.revive_monsterplant')})]}),mode===_Str_8432&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.rebreed_monsterplant',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.rebreed_monsterplant')})]}),mode===_Str_9653&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.fertilize_monsterplant',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.fertilize_monsterplant')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:close,children:LocalizeText('useproduct.widget.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('useproduct.widget.use')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuListItemView.tsx\nvar ContextMenuListItemView_excluded=[\"disabled\",\"fullWidth\",\"justifyContent\",\"alignItems\",\"classNames\",\"onClick\"];var ContextMenuListItemView_ContextMenuListItemView=function ContextMenuListItemView(props){var _props$disabled=props.disabled,disabled=_props$disabled===void 0?false:_props$disabled,_props$fullWidth=props.fullWidth,fullWidth=_props$fullWidth===void 0?true:_props$fullWidth,_props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?'center':_props$justifyContent,_props$alignItems=props.alignItems,alignItems=_props$alignItems===void 0?'center':_props$alignItems,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$onClick=props.onClick,onClick=_props$onClick===void 0?null:_props$onClick,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,ContextMenuListItemView_excluded);var handleClick=function handleClick(event){if(disabled)return;if(onClick)onClick(event);};var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['menu-item','list-item'];if(disabled)newClassNames.push('disabled');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[disabled,classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])({fullWidth:fullWidth,justifyContent:justifyContent,alignItems:alignItems,classNames:getClassNames,onClick:handleClick},rest));};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuCaretView.tsx\nvar ContextMenuCaretView_excluded=[\"justifyContent\",\"alignItems\",\"classNames\",\"collapsed\"];var ContextMenuCaretView_ContextMenuCaretView=function ContextMenuCaretView(props){var _props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?'center':_props$justifyContent,_props$alignItems=props.alignItems,alignItems=_props$alignItems===void 0?'center':_props$alignItems,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$collapsed=props.collapsed,collapsed=_props$collapsed===void 0?true:_props$collapsed,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,ContextMenuCaretView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['menu-footer'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({justifyContent:justifyContent,alignItems:alignItems,classNames:getClassNames},rest),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:!collapsed?'caret-down':'caret-up',className:\"align-self-center text-dark\"})}));};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuView.tsx\nvar ContextMenuView_excluded=[\"objectId\",\"category\",\"userType\",\"fades\",\"close\",\"position\",\"classNames\",\"style\",\"children\",\"collapsable\"];var LOCATION_STACK_SIZE=25;var BUBBLE_DROP_SPEED=3;var fadeDelay=3000;var fadeLength=75;var SPACE_AROUND_EDGES=10;var COLLAPSED=false;var ContextMenuView_ContextMenuView=function ContextMenuView(props){var _props$objectId=props.objectId,objectId=_props$objectId===void 0?-1:_props$objectId,_props$category=props.category,category=_props$category===void 0?-1:_props$category,_props$userType=props.userType,userType=_props$userType===void 0?-1:_props$userType,_props$fades=props.fades,fades=_props$fades===void 0?false:_props$fades,_props$close=props.close,close=_props$close===void 0?null:_props$close,_props$position=props.position,position=_props$position===void 0?'absolute':_props$position,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$style=props.style,style=_props$style===void 0?{}:_props$style,_props$children=props.children,children=_props$children===void 0?null:_props$children,_props$collapsable=props.collapsable,collapsable=_props$collapsable===void 0?false:_props$collapsable,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,ContextMenuView_excluded);var _useState=Object(react[\"useState\"])({x:null,y:null}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),pos=_useState2[0],setPos=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),deltaYStack=_useState4[0],setDeltaYStack=_useState4[1];var _useState5=Object(react[\"useState\"])(-1000000),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),currentDeltaY=_useState6[0],setCurrentDeltaY=_useState6[1];var _useState7=Object(react[\"useState\"])(1),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),opacity=_useState8[0],setOpacity=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isFading=_useState10[0],setIsFading=_useState10[1];var _useState11=Object(react[\"useState\"])(0),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),fadeTime=_useState12[0],setFadeTime=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),isFrozen=_useState14[0],setIsFrozen=_useState14[1];var elementRef=Object(react[\"useRef\"])();var _useState15=Object(react[\"useState\"])(COLLAPSED),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),collapsed=_useState16[0],setCollapsed=_useState16[1];var getOffset=Object(react[\"useCallback\"])(function(bounds){var height=-elementRef.current.offsetHeight;if(userType>-1&&(userType===nitro_renderer[\"Gg\" /* RoomObjectType */].USER||userType===nitro_renderer[\"Gg\" /* RoomObjectType */].BOT||userType===nitro_renderer[\"Gg\" /* RoomObjectType */].RENTABLE_BOT)){height=height+(bounds.height>50?15:0);}else{height=height-14;}return height;},[userType]);var updateFade=Object(react[\"useCallback\"])(function(time){var newFadeTime=time;var newOpacity=1;if(isFading){setFadeTime(function(prevValue){newFadeTime+=prevValue;return newFadeTime;});newOpacity=(1-newFadeTime/fadeLength)*1;if(newOpacity<=0){close();return false;}setOpacity(newOpacity);}return true;},[isFading,close]);var updatePosition=Object(react[\"useCallback\"])(function(bounds,location){if(!bounds||!location||!deltaYStack)return;var offset=getOffset(bounds);deltaYStack.addValue(location.y-bounds.top);var maxStack=deltaYStack.getMax();if(maxStack<currentDeltaY-BUBBLE_DROP_SPEED)maxStack=currentDeltaY-BUBBLE_DROP_SPEED;var deltaY=location.y-maxStack;var x=~~(location.x-elementRef.current.offsetWidth/2);var y=~~(deltaY+offset);var maxLeft=GetNitroInstance().width-elementRef.current.offsetWidth-SPACE_AROUND_EDGES;var maxTop=GetNitroInstance().height-elementRef.current.offsetHeight-SPACE_AROUND_EDGES;if(x<SPACE_AROUND_EDGES)x=SPACE_AROUND_EDGES;else if(x>maxLeft)x=maxLeft;if(y<SPACE_AROUND_EDGES)y=SPACE_AROUND_EDGES;else if(y>maxTop)y=maxTop;setCurrentDeltaY(maxStack);setPos({x:x,y:y});},[deltaYStack,currentDeltaY,getOffset]);var update=Object(react[\"useCallback\"])(function(time){if(!elementRef.current||!updateFade(time))return;var bounds=GetRoomObjectBounds_GetRoomObjectBounds(GetRoomSession().roomId,objectId,category);var location=GetRoomObjectScreenLocation_GetRoomObjectScreenLocation(GetRoomSession().roomId,objectId,category);updatePosition(bounds,location);},[objectId,category,updateFade,updatePosition]);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['nitro-context-menu animate__animated animate__pulse animate__slow animate__infinite'];if(collapsed)newClassNames.push('menu-hidden');newClassNames.push(pos.x!==null?'visible':'invisible');if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[pos,classNames,collapsed]);var getStyle=Object(react[\"useMemo\"])(function(){var newStyle={};newStyle.left=pos.x||0;newStyle.top=pos.y||0;newStyle.opacity=opacity;if(Object.keys(style).length)newStyle=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newStyle),style);return newStyle;},[pos,opacity,style]);Object(react[\"useEffect\"])(function(){setDeltaYStack(new nitro_renderer[\"yb\" /* FixedSizeStack */](LOCATION_STACK_SIZE));setCurrentDeltaY(-1000000);},[]);Object(react[\"useEffect\"])(function(){var added=false;if(!isFrozen){added=true;GetTicker().add(update);}return function(){if(added)GetTicker().remove(update);};},[isFrozen,update]);Object(react[\"useEffect\"])(function(){if(!fades)return;var timeout=setTimeout(function(){return setIsFading(true);},fadeDelay);return function(){return clearTimeout(timeout);};},[fades]);var toggleCollapse=function toggleCollapse(){COLLAPSED=!COLLAPSED;setCollapsed(COLLAPSED);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({innerRef:elementRef,position:position,classNames:getClassNames,style:getStyle,onMouseOver:function onMouseOver(event){return setIsFrozen(true);},onMouseOut:function onMouseOut(event){return setIsFrozen(false);}},rest),{},{children:[!(collapsable&&COLLAPSED)&&children,collapsable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuCaretView_ContextMenuCaretView,{onClick:function onClick(){return toggleCollapse();},collapsed:collapsed})]}));};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoUseProductView.tsx\nvar PRODUCT_PAGE_UKNOWN=0;var PRODUCT_PAGE_SHAMPOO=1;var PRODUCT_PAGE_CUSTOM_PART=2;var PRODUCT_PAGE_CUSTOM_PART_SHAMPOO=3;var PRODUCT_PAGE_SADDLE=4;var PRODUCT_PAGE_REVIVE=5;var PRODUCT_PAGE_REBREED=6;var PRODUCT_PAGE_FERTILIZE=7;var AvatarInfoUseProductView_AvatarInfoUseProductView=function AvatarInfoUseProductView(props){var _props$item=props.item,item=_props$item===void 0?null:_props$item,_props$updateConfirmi=props.updateConfirmingProduct,updateConfirmingProduct=_props$updateConfirmi===void 0?null:_props$updateConfirmi,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS;Object(react[\"useEffect\"])(function(){if(!item)return;var furniData=GetFurnitureDataForRoomObject(roomSession.roomId,item.requestRoomObjectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(!furniData)return;var mode=PRODUCT_PAGE_UKNOWN;switch(furniData.specialType){case FurniCategory_FurniCategory.PET_SHAMPOO:mode=PRODUCT_PAGE_SHAMPOO;break;case FurniCategory_FurniCategory.PET_CUSTOM_PART:mode=PRODUCT_PAGE_CUSTOM_PART;break;case FurniCategory_FurniCategory.PET_CUSTOM_PART_SHAMPOO:mode=PRODUCT_PAGE_CUSTOM_PART_SHAMPOO;break;case FurniCategory_FurniCategory.PET_SADDLE:mode=PRODUCT_PAGE_SADDLE;break;case FurniCategory_FurniCategory.MONSTERPLANT_REVIVAL:mode=PRODUCT_PAGE_REVIVE;break;case FurniCategory_FurniCategory.MONSTERPLANT_REBREED:mode=PRODUCT_PAGE_REBREED;break;case FurniCategory_FurniCategory.MONSTERPLANT_FERTILIZE:mode=PRODUCT_PAGE_FERTILIZE;break;}setMode(mode);},[roomSession,item]);var processAction=Object(react[\"useCallback\"])(function(name){if(!name)return;switch(name){case'use_product':case'use_product_shampoo':case'use_product_custom_part':case'use_product_custom_part_shampoo':case'use_product_saddle':case'replace_product_saddle':case'revive_monsterplant':case'rebreed_monsterplant':case'fertilize_monsterplant':updateConfirmingProduct(item);break;}},[item,updateConfirmingProduct]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView_ContextMenuView,{objectId:item.id,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userType:nitro_renderer[\"Gg\" /* RoomObjectType */].PET,close:close,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:item.name}),mode===PRODUCT_PAGE_UKNOWN&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_product');},children:LocalizeText('infostand.button.useproduct')}),mode===PRODUCT_PAGE_SHAMPOO&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_product_shampoo');},children:LocalizeText('infostand.button.useproduct_shampoo')}),mode===PRODUCT_PAGE_CUSTOM_PART&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_product_custom_part');},children:LocalizeText('infostand.button.useproduct_custom_part')}),mode===PRODUCT_PAGE_CUSTOM_PART_SHAMPOO&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_product_custom_part_shampoo');},children:LocalizeText('infostand.button.useproduct_custom_part_shampoo')}),mode===PRODUCT_PAGE_SADDLE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[item.replace&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('replace_product_saddle');},children:LocalizeText('infostand.button.replaceproduct_saddle')}),!item.replace&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_product_saddle');},children:LocalizeText('infostand.button.useproduct_saddle')})]}),mode===PRODUCT_PAGE_REVIVE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('revive_monsterplant');},children:LocalizeText('infostand.button.revive_monsterplant')}),mode===PRODUCT_PAGE_REBREED&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('rebreed_monsterplant');},children:LocalizeText('infostand.button.rebreed_monsterplant')}),mode===PRODUCT_PAGE_FERTILIZE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('fertilize_monsterplant');},children:LocalizeText('infostand.button.fertilize_monsterplant')})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetAvatarView.tsx\nvar MODE_NORMAL=0;var MODE_MODERATE=1;var MODE_MODERATE_BAN=2;var MODE_MODERATE_MUTE=3;var MODE_AMBASSADOR=4;var MODE_AMBASSADOR_MUTE=5;var MODE_RELATIONSHIP=6;var AvatarInfoWidgetAvatarView_AvatarInfoWidgetAvatarView=function AvatarInfoWidgetAvatarView(props){var _props$userData=props.userData,userData=_props$userData===void 0?null:_props$userData,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(MODE_NORMAL),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),respectsLeft=_useState4[0],setRespectsLeft=_useState4[1];var _useFriends=useFriends_useFriends(),_useFriends$canReques=_useFriends.canRequestFriend,canRequestFriend=_useFriends$canReques===void 0?null:_useFriends$canReques;var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var isShowGiveRights=Object(react[\"useMemo\"])(function(){return userData.amIOwner&&userData.targetRoomControllerLevel<nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST&&!userData.isGuildRoom;},[userData]);var isShowRemoveRights=Object(react[\"useMemo\"])(function(){return userData.amIOwner&&userData.targetRoomControllerLevel===nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST&&!userData.isGuildRoom;},[userData]);var moderateMenuHasContent=Object(react[\"useMemo\"])(function(){return userData.canBeKicked||userData.canBeBanned||userData.canBeMuted||isShowGiveRights||isShowRemoveRights;},[isShowGiveRights,isShowRemoveRights,userData]);var canGiveHandItem=Object(react[\"useMemo\"])(function(){var flag=false;var roomObject=GetOwnRoomObject();if(roomObject){var carryId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT);if(carryId>0&&carryId<999999)flag=true;}return flag;},[]);var processAction=Object(react[\"useCallback\"])(function(name){var messageType=null;var message=null;var hideMenu=true;if(name){switch(name){case'moderate':hideMenu=false;setMode(MODE_MODERATE);break;case'ban':hideMenu=false;setMode(MODE_MODERATE_BAN);break;case'mute':hideMenu=false;setMode(MODE_MODERATE_MUTE);break;case'ambassador':hideMenu=false;setMode(MODE_AMBASSADOR);break;case'ambassador_mute':hideMenu=false;setMode(MODE_AMBASSADOR_MUTE);break;case'back_moderate':hideMenu=false;setMode(MODE_MODERATE);break;case'back_ambassador':hideMenu=false;setMode(MODE_AMBASSADOR);break;case'back':hideMenu=false;setMode(MODE_NORMAL);break;case'whisper':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.WHISPER_USER;break;case'friend':CreateLinkEvent(\"friends/request/\".concat(userData.webID,\"/\").concat(userData.name));break;case'relationship':hideMenu=false;setMode(MODE_RELATIONSHIP);break;case'respect':{var newRespectsLeft=respectsLeft-1;setRespectsLeft(newRespectsLeft);messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_USER;if(newRespectsLeft>0)hideMenu=false;break;}case'ignore':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.IGNORE_USER;break;case'unignore':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.UNIGNORE_USER;break;case'kick':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.KICK_USER;break;case'ban_hour':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_HOUR;break;case'ban_day':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_DAY;break;case'perm_ban':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.BAN_USER_PERM;break;case'mute_2min':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_2MIN;break;case'mute_5min':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_5MIN;break;case'mute_10min':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_10MIN;break;case'give_rights':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_RIGHTS;break;case'remove_rights':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TAKE_RIGHTS;break;case'trade':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.START_TRADING;break;case'report':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REPORT_CFH_OTHER;break;case'pass_hand_item':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PASS_CARRY_ITEM;break;case'ambassador_alert':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_ALERT_USER;break;case'ambassador_kick':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_KICK_USER;break;case'ambassador_mute_2min':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MUTE_USER_2MIN;break;case'ambassador_mute_10min':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_10MIN;break;case'ambassador_mute_60min':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_60MIN;break;case'ambassador_mute_18hour':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_18HOUR;break;case'rship_heart':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_HEART;break;case'rship_smile':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_SMILE;break;case'rship_bobba':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_BOBBA;break;case'rship_none':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RELATIONSHIP_NONE;break;}if(messageType)message=new RoomWidgetUserActionMessage_RoomWidgetUserActionMessage(messageType,userData.webID);if(message)widgetHandler.processWidgetMessage(message);}if(hideMenu)close();},[userData,respectsLeft,widgetHandler,close]);Object(react[\"useEffect\"])(function(){setMode(MODE_NORMAL);setRespectsLeft(userData.respectLeft);},[userData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView_ContextMenuView,{objectId:userData.roomIndex,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userType:userData.userType,close:close,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{className:\"cursor-pointer\",onClick:function onClick(event){return GetUserProfile(userData.webID);},children:userData.name}),mode===MODE_NORMAL&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[canRequestFriend(userData.webID)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('friend');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-agregar\"}),LocalizeText('infostand.button.friend')]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('trade');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-cambiar\"}),LocalizeText('infostand.button.trade')]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('whisper');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-susurrar\"}),LocalizeText('infostand.button.whisper')]}),respectsLeft>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('respect');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-respetos\"}),LocalizeText('infostand.button.respect',['count'],[respectsLeft.toString()])]}),!canRequestFriend(userData.webID)&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('relationship');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-relacion\"}),LocalizeText('infostand.link.relationship'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"})]}),!userData.isIgnored&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ignore');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-ignorar\"}),LocalizeText('infostand.button.ignore')]}),userData.isIgnored&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('unignore');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-ignorar\"}),LocalizeText('infostand.button.unignore')]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('report');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-reportar\"}),LocalizeText('infostand.button.report')]}),moderateMenuHasContent&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('moderate');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-moderar\"}),LocalizeText('infostand.link.moderate')]}),userData.isAmbassador&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ambassador');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-embajador\"}),LocalizeText('infostand.link.ambassador')]}),canGiveHandItem&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('pass_hand_item');},children:LocalizeText('avatar.widget.pass_hand_item')})]}),mode===MODE_MODERATE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('kick');},children:LocalizeText('infostand.button.kick')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('mute');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.button.mute')]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ban');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.button.ban')]}),isShowGiveRights&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('give_rights');},children:LocalizeText('infostand.button.giverights')}),isShowRemoveRights&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('remove_rights');},children:LocalizeText('infostand.button.removerights')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_MODERATE_BAN&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ban_hour');},children:LocalizeText('infostand.button.ban_hour')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ban_day');},children:LocalizeText('infostand.button.ban_day')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ban_perm');},children:LocalizeText('infostand.button.perm_ban')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back_moderate');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_MODERATE_MUTE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('mute_2min');},children:LocalizeText('infostand.button.mute_2min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('mute_5min');},children:LocalizeText('infostand.button.mute_5min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('mute_10min');},children:LocalizeText('infostand.button.mute_10min')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back_moderate');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_AMBASSADOR&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ambassador_alert');},children:LocalizeText('infostand.button.alert')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ambassador_kick');},children:LocalizeText('infostand.button.kick')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ambassador_mute');},children:[LocalizeText('infostand.button.mute'),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_AMBASSADOR_MUTE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ambassador_mute_2min');},children:LocalizeText('infostand.button.mute_2min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ambassador_mute_10min');},children:LocalizeText('infostand.button.mute_10min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ambassador_mute_60min');},children:LocalizeText('infostand.button.mute_60min')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('ambassador_mute_18hr');},children:LocalizeText('infostand.button.mute_18hour')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back_ambassador');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_RELATIONSHIP&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('rship_heart');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-heart\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('rship_smile');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-smile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('rship_bobba');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"nitro-friends-spritesheet icon-bobba\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('rship_none');},children:LocalizeText('avatar.widget.clear_relationship')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/context-menu/ContextMenuListView.tsx\nvar ContextMenuListView_excluded=[\"classNames\"];var ContextMenuListView_ContextMenuListView=function ContextMenuListView(props){var _props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,ContextMenuListView_excluded);var getClassNames=Object(react[\"useMemo\"])(function(){var newClassNames=['menu-list'];if(classNames.length)newClassNames.push.apply(newClassNames,Object(toConsumableArray[\"a\" /* default */])(classNames));return newClassNames;},[classNames]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,Object(objectSpread2[\"a\" /* default */])({classNames:getClassNames},rest));};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetDecorateView.tsx\nvar AvatarInfoWidgetDecorateView_AvatarInfoWidgetDecorateView=function AvatarInfoWidgetDecorateView(props){var _props$userId=props.userId,userId=_props$userId===void 0?-1:_props$userId,_props$userName=props.userName,userName=_props$userName===void 0?'':_props$userName,_props$roomIndex=props.roomIndex,roomIndex=_props$roomIndex===void 0?-1:_props$roomIndex;var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var stopDecorating=function stopDecorating(){return eventDispatcher.dispatchEvent(new RoomWidgetUpdateDecorateModeEvent_RoomWidgetUpdateDecorateModeEvent(false));};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuView_ContextMenuView,{objectId:roomIndex,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,close:null,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListView_ContextMenuListView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:stopDecorating,children:LocalizeText('widget.avatar.stop_decorating')})})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetNameView.tsx\nvar AvatarInfoWidgetNameView_AvatarInfoWidgetNameView=function AvatarInfoWidgetNameView(props){var _props$nameData=props.nameData,nameData=_props$nameData===void 0?null:_props$nameData,_props$close=props.close,close=_props$close===void 0?null:_props$close;var fades=Object(react[\"useMemo\"])(function(){return nameData.id!==GetSessionDataManager().userId;},[nameData]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuView_ContextMenuView,{objectId:nameData.roomIndex,category:nameData.category,userType:nameData.userType,fades:fades,className:\"name-only\",close:close,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-shadow\",children:nameData.name})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetOwnAvatarView.tsx\nvar AvatarInfoWidgetOwnAvatarView_MODE_NORMAL=0;var MODE_CLUB_DANCES=1;var MODE_NAME_CHANGE=2;var MODE_EXPRESSIONS=3;var MODE_SIGNS=4;var AvatarInfoWidgetOwnAvatarView_AvatarInfoWidgetOwnAvatarView=function AvatarInfoWidgetOwnAvatarView(props){var _props$userData=props.userData,userData=_props$userData===void 0?null:_props$userData,_props$isDancing=props.isDancing,isDancing=_props$isDancing===void 0?false:_props$isDancing,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(isDancing&&HasHabboClub()?MODE_CLUB_DANCES:AvatarInfoWidgetOwnAvatarView_MODE_NORMAL),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var processAction=Object(react[\"useCallback\"])(function(name){var message=null;var hideMenu=true;if(name){if(name.startsWith('sign_')){var sign=parseInt(name.split('_')[1]);roomSession.sendSignMessage(sign);}else{switch(name){case'decorate':eventDispatcher.dispatchEvent(new RoomWidgetUpdateDecorateModeEvent_RoomWidgetUpdateDecorateModeEvent(true));break;case'change_name':DispatchUiEvent_DispatchUiEvent(new HelpNameChangeEvent_HelpNameChangeEvent(HelpNameChangeEvent_HelpNameChangeEvent.INIT));break;case'change_looks':CreateLinkEvent('avatar-editor/show');break;case'expressions':hideMenu=false;setMode(MODE_EXPRESSIONS);break;case'sit':message=new RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage(RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage.POSTURE_SIT);break;case'stand':message=new RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage(RoomWidgetChangePostureMessage_RoomWidgetChangePostureMessage.POSTURE_STAND);break;case'wave':message=new RoomWidgetAvatarExpressionMessage_RoomWidgetAvatarExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].WAVE);break;case'blow':message=new RoomWidgetAvatarExpressionMessage_RoomWidgetAvatarExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].BLOW);break;case'laugh':message=new RoomWidgetAvatarExpressionMessage_RoomWidgetAvatarExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].LAUGH);break;case'idle':message=new RoomWidgetAvatarExpressionMessage_RoomWidgetAvatarExpressionMessage(nitro_renderer[\"n\" /* AvatarExpressionEnum */].IDLE);break;case'dance_menu':hideMenu=false;setMode(MODE_CLUB_DANCES);break;case'dance':message=new RoomWidgetDanceMessage_RoomWidgetDanceMessage(1);break;case'dance_stop':message=new RoomWidgetDanceMessage_RoomWidgetDanceMessage(0);break;case'dance_1':case'dance_2':case'dance_3':case'dance_4':message=new RoomWidgetDanceMessage_RoomWidgetDanceMessage(parseInt(name.charAt(name.length-1)));break;case'signs':hideMenu=false;setMode(MODE_SIGNS);break;case'back':hideMenu=false;setMode(AvatarInfoWidgetOwnAvatarView_MODE_NORMAL);break;case'drop_carry_item':message=new RoomWidgetUserActionMessage_RoomWidgetUserActionMessage(RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DROP_CARRY_ITEM,userData.webID);break;}}if(message)widgetHandler.processWidgetMessage(message);}if(hideMenu)close();},[roomSession,eventDispatcher,widgetHandler,userData,close]);var isShowDecorate=Object(react[\"useMemo\"])(function(){return userData.amIOwner||userData.amIAnyRoomController||userData.roomControllerLevel>nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST;},[userData]);var isRidingHorse=IsRidingHorse();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView_ContextMenuView,{objectId:userData.roomIndex,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userType:userData.userType,close:close,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{className:\"cursor-pointer\",onClick:function onClick(event){return GetUserProfile(userData.webID);},children:userData.name}),mode===AvatarInfoWidgetOwnAvatarView_MODE_NORMAL&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[userData.allowNameChange&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('change_name');},children:LocalizeText('widget.avatar.change_name')}),isShowDecorate&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('decorate');},children:LocalizeText('widget.avatar.decorate')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('change_looks');},children:LocalizeText('widget.memenu.myclothes')}),HasHabboClub()&&!isRidingHorse&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance_menu');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('widget.memenu.dance')]}),!isDancing&&!HasHabboClub()&&!isRidingHorse&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance');},children:LocalizeText('widget.memenu.dance')}),isDancing&&!HasHabboClub()&&!isRidingHorse&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance_stop');},children:LocalizeText('widget.memenu.dance.stop')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('expressions');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.link.expressions')]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('signs');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-right\",className:\"right\"}),LocalizeText('infostand.show.signs')]}),userData.carryItem>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('drop_carry_item');},children:LocalizeText('avatar.widget.drop_hand_item')})]}),mode===MODE_CLUB_DANCES&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[isDancing&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance_stop');},children:LocalizeText('widget.memenu.dance.stop')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance_1');},children:LocalizeText('widget.memenu.dance1')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance_2');},children:LocalizeText('widget.memenu.dance2')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance_3');},children:LocalizeText('widget.memenu.dance3')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance_4');},children:LocalizeText('widget.memenu.dance4')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_EXPRESSIONS&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[GetOwnPosture()===nitro_renderer[\"k\" /* AvatarAction */].POSTURE_STAND&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sit');},children:LocalizeText('widget.memenu.sit')}),GetCanStandUp()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('stand');},children:LocalizeText('widget.memenu.stand')}),GetCanUseExpression()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('wave');},children:LocalizeText('widget.memenu.wave')}),GetCanUseExpression()&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{disabled:!HasHabboVip(),onClick:function onClick(event){return processAction('laugh');},children:[!HasHabboVip()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:\"hc\"}),LocalizeText('widget.memenu.laugh')]}),GetCanUseExpression()&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{disabled:!HasHabboVip(),onClick:function onClick(event){return processAction('blow');},children:[!HasHabboVip()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{type:\"hc\"}),LocalizeText('widget.memenu.blow')]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('idle');},children:LocalizeText('widget.memenu.idle')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]}),mode===MODE_SIGNS&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_1');},children:\"1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_2');},children:\"2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_3');},children:\"3\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_4');},children:\"4\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_5');},children:\"5\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_6');},children:\"6\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_7');},children:\"7\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_8');},children:\"8\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_9');},children:\"9\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_10');},children:\"10\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_11');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-heart\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_12');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-skull\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_0');},children:\"0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_13');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-exclamation\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_15');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-smile\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"menu-list-split-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_14');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-soccer\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_17');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-yellow\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('sign_16');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-sign-red\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('back');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"chevron-left\",className:\"left\"}),LocalizeText('generic.back')]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetOwnPetView.tsx\nvar _Str_2906=0;var _Str_5818=1;var _Str_5938=2;var _Str_10946=3;var AvatarInfoWidgetOwnPetView_AvatarInfoWidgetOwnPetView=function AvatarInfoWidgetOwnPetView(props){var _props$petData=props.petData,petData=_props$petData===void 0?null:_props$petData,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(_Str_2906),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),respectsLeft=_useState4[0],setRespectsLeft=_useState4[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var canGiveHandItem=Object(react[\"useMemo\"])(function(){var flag=false;var roomObject=GetOwnRoomObject();if(roomObject){var carryId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT);if(carryId>0&&carryId<999999)flag=true;}return flag;},[]);var processAction=function processAction(name){var messageType=null;var message=null;var hideMenu=true;if(name){switch(name){case'respect':var newRespectsLeft=0;setRespectsLeft(function(prevValue){newRespectsLeft=prevValue-1;return newRespectsLeft;});messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_PET;if(newRespectsLeft>0)hideMenu=false;break;case'treat':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TREAT_PET;break;case'pass_handitem':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_CARRY_ITEM_TO_PET;break;case'train'://this.widget._Str_23877();\nbreak;case'pick_up':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PICKUP_PET;break;case'mount':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MOUNT_PET;break;case'toggle_riding_permission':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_RIDING_PERMISSION;break;case'toggle_breeding_permission':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TOGGLE_PET_BREEDING_PERMISSION;break;case'dismount':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DISMOUNT_PET;break;case'saddle_off':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.SADDLE_OFF;break;case'breed':if(mode===_Str_2906){// _local_7 = RoomWidgetPetCommandMessage._Str_16282;\n// _local_8 = (\"pet.command.\" + _local_7);\n// _local_9 = _Str_2268.catalog.localization.getLocalization(_local_8);\n// _local_4 = new RoomWidgetPetCommandMessage(RoomWidgetPetCommandMessage.RWPCM_PET_COMMAND, this._Str_594.id, ((this._Str_594.name + \" \") + _local_9));\n}else if(mode===_Str_10946){messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REQUEST_BREED_PET;}break;case'harvest':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.HARVEST_PET;break;case'revive':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.REVIVE_PET;break;case'compost':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.COMPOST_PLANT;break;case'buy_saddle':CreateLinkEvent('catalog/open/'+GetConfiguration('catalog.links')['pets.buy_saddle']);break;}if(messageType)message=new RoomWidgetUserActionMessage_RoomWidgetUserActionMessage(messageType,petData.id);if(message)widgetHandler.processWidgetMessage(message);}if(hideMenu)close();};Object(react[\"useEffect\"])(function(){setMode(function(prevValue){if(petData.petType===nitro_renderer[\"qf\" /* PetType */].MONSTERPLANT)return _Str_10946;else if(petData.saddle&&!petData.rider)return _Str_5818;else if(petData.rider)return _Str_5938;return _Str_2906;});setRespectsLeft(petData.respectsPetLeft);},[petData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView_ContextMenuView,{objectId:petData.roomIndex,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userType:nitro_renderer[\"Gg\" /* RoomObjectType */].PET,close:close,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:petData.name}),mode===_Str_2906&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[respectsLeft>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('respect');},children:LocalizeText('infostand.button.petrespect',['count'],[respectsLeft.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('train');},children:LocalizeText('infostand.button.train')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('pick_up');},children:LocalizeText('infostand.button.pickup')}),petData.petType===nitro_renderer[\"qf\" /* PetType */].HORSE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('buy_saddle');},children:LocalizeText('infostand.button.buy_saddle')}),[nitro_renderer[\"qf\" /* PetType */].BEAR,nitro_renderer[\"qf\" /* PetType */].TERRIER,nitro_renderer[\"qf\" /* PetType */].CAT,nitro_renderer[\"qf\" /* PetType */].DOG,nitro_renderer[\"qf\" /* PetType */].PIG].indexOf(petData.petType)>-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('breed');},children:LocalizeText('infostand.button.breed')})]}),mode===_Str_5818&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('mount');},children:LocalizeText('infostand.button.mount')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('toggle_riding_permission');},gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",checked:!!petData.publiclyRideable,readOnly:true}),LocalizeText('infostand.button.toggle_riding_permission')]}),respectsLeft>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('respect');},children:LocalizeText('infostand.button.petrespect',['count'],[respectsLeft.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('train');},children:LocalizeText('infostand.button.train')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('pick_up');},children:LocalizeText('infostand.button.pickup')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('saddle_off');},children:LocalizeText('infostand.button.saddleoff')})]}),mode===_Str_5938&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dismount');},children:LocalizeText('infostand.button.dismount')}),respectsLeft>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('respect');},children:LocalizeText('infostand.button.petrespect',['count'],[respectsLeft.toString()])})]}),mode===_Str_10946&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('pick_up');},children:LocalizeText('infostand.button.pickup')}),petData.dead&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('revive');},children:LocalizeText('infostand.button.revive')}),roomSession.isRoomOwner&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('compost');},children:LocalizeText('infostand.button.compost')}),!petData.dead&&petData.energy/petData.maximumEnergy<0.98&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('treat');},children:LocalizeText('infostand.button.treat')}),!petData.dead&&petData.level===petData.maximumLevel&&petData.breedable&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('toggle_breeding_permission');},gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",checked:petData.publiclyBreedable,readOnly:true}),LocalizeText('infostand.button.toggle_breeding_permission')]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('breed');},children:LocalizeText('infostand.button.breed')})]})]}),canGiveHandItem&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('pass_hand_item');},children:LocalizeText('infostand.button.pass_hand_item')})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetPetView.tsx\nvar AvatarInfoWidgetPetView_Str_2906=0;var AvatarInfoWidgetPetView_Str_5818=1;var AvatarInfoWidgetPetView_Str_5938=2;var _Str_13388=3;var AvatarInfoWidgetPetView_AvatarInfoWidgetPetView=function AvatarInfoWidgetPetView(props){var _props$petData=props.petData,petData=_props$petData===void 0?null:_props$petData,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(AvatarInfoWidgetPetView_Str_2906),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),respectsLeft=_useState4[0],setRespectsLeft=_useState4[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var canPickUp=Object(react[\"useMemo\"])(function(){return roomSession.isRoomOwner||roomSession.controllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator;},[roomSession]);var canGiveHandItem=Object(react[\"useMemo\"])(function(){var flag=false;var roomObject=GetOwnRoomObject();if(roomObject){var carryId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FIGURE_CARRY_OBJECT);if(carryId>0&&carryId<999999)flag=true;}return flag;},[]);var processAction=function processAction(name){var messageType=null;var message=null;var hideMenu=true;if(name){switch(name){case'respect':var newRespectsLeft=0;setRespectsLeft(function(prevValue){newRespectsLeft=prevValue-1;return newRespectsLeft;});messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.RESPECT_PET;if(newRespectsLeft>0)hideMenu=false;break;case'treat':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.TREAT_PET;break;case'pass_handitem':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.GIVE_CARRY_ITEM_TO_PET;break;case'pick_up':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.PICKUP_PET;break;case'mount':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.MOUNT_PET;break;case'dismount':messageType=RoomWidgetUserActionMessage_RoomWidgetUserActionMessage.DISMOUNT_PET;break;}if(messageType)message=new RoomWidgetUserActionMessage_RoomWidgetUserActionMessage(messageType,petData.id);if(message)widgetHandler.processWidgetMessage(message);}if(hideMenu)close();};Object(react[\"useEffect\"])(function(){setMode(function(prevValue){if(petData.petType===nitro_renderer[\"qf\" /* PetType */].MONSTERPLANT)return _Str_13388;else if(petData.saddle&&!petData.rider)return AvatarInfoWidgetPetView_Str_5818;else if(petData.rider)return AvatarInfoWidgetPetView_Str_5938;return AvatarInfoWidgetPetView_Str_2906;});setRespectsLeft(petData.respectsPetLeft);},[petData]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView_ContextMenuView,{objectId:petData.roomIndex,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userType:nitro_renderer[\"Gg\" /* RoomObjectType */].PET,close:close,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:petData.name}),mode===AvatarInfoWidgetPetView_Str_2906&&respectsLeft>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('respect');},children:LocalizeText('infostand.button.petrespect',['count'],[respectsLeft.toString()])}),mode===AvatarInfoWidgetPetView_Str_5818&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!!petData.publiclyRideable&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('mount');},children:LocalizeText('infostand.button.mount')}),respectsLeft>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('respect');},children:LocalizeText('infostand.button.petrespect',['count'],[respectsLeft.toString()])})]}),mode===AvatarInfoWidgetPetView_Str_5938&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dismount');},children:LocalizeText('infostand.button.dismount')}),respectsLeft>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('respect');},children:LocalizeText('infostand.button.petrespect',['count'],[respectsLeft.toString()])})]}),mode===_Str_13388&&!petData.dead&&petData.energy/petData.maximumEnergy<0.98&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('treat');},children:LocalizeText('infostand.button.treat')}),canPickUp&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('pick_up');},children:LocalizeText('infostand.button.pickup')}),canGiveHandItem&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('pass_hand_item');},children:LocalizeText('infostand.button.pass_hand_item')})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetRentableBotView.tsx\nvar AvatarInfoWidgetRentableBotView_MODE_NORMAL=0;var MODE_CHANGE_NAME=1;var MODE_CHANGE_MOTTO=2;var AvatarInfoWidgetRentableBotView_AvatarInfoWidgetRentableBotView=function AvatarInfoWidgetRentableBotView(props){var _props$rentableBotDat=props.rentableBotData,rentableBotData=_props$rentableBotDat===void 0?null:_props$rentableBotDat,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(AvatarInfoWidgetRentableBotView_MODE_NORMAL),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newMotto=_useState6[0],setNewMotto=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var onBotCommandConfigurationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(parser.botId!==rentableBotData.webID)return;switch(parser.commandId){case BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_NAME:setNewName(parser.data);setMode(MODE_CHANGE_NAME);return;case BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_MOTTO:setNewMotto(parser.data);setMode(MODE_CHANGE_MOTTO);return;case BotSkillsEnum_BotSkillsEnum.SETUP_CHAT:{var data=parser.data;var pieces=data.split(data.indexOf(';#;')===-1?';':';#;');if(pieces.length===3||pieces.length===4){eventDispatcher.dispatchEvent(new RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent(rentableBotData.roomIndex,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,rentableBotData.webID,pieces[0],pieces[1].toLowerCase()==='true'||pieces[1]==='1',parseInt(pieces[2]),pieces[3]?pieces[3].toLowerCase()==='true'||pieces[3]==='1':false));close();}return;}}},[rentableBotData,eventDispatcher,close]);UseMessageEventHook(nitro_renderer[\"y\" /* BotCommandConfigurationEvent */],onBotCommandConfigurationEvent);var requestBotCommandConfiguration=function requestBotCommandConfiguration(skillType){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Mf\" /* RequestBotCommandConfigurationComposer */](rentableBotData.webID,skillType));};var processAction=function processAction(name){var hideMenu=true;if(name){switch(name){case'donate_to_all':requestBotCommandConfiguration(BotSkillsEnum_BotSkillsEnum.DONATE_TO_ALL);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](rentableBotData.webID,BotSkillsEnum_BotSkillsEnum.DONATE_TO_ALL,''));break;case'donate_to_user':requestBotCommandConfiguration(BotSkillsEnum_BotSkillsEnum.DONATE_TO_USER);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](rentableBotData.webID,BotSkillsEnum_BotSkillsEnum.DONATE_TO_USER,''));break;case'change_bot_name':requestBotCommandConfiguration(BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_NAME);hideMenu=false;break;case'save_bot_name':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](rentableBotData.webID,BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_NAME,newName));break;case'change_bot_motto':requestBotCommandConfiguration(BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_MOTTO);hideMenu=false;break;case'save_bot_motto':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](rentableBotData.webID,BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_MOTTO,newMotto));break;case'dress_up':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](rentableBotData.webID,BotSkillsEnum_BotSkillsEnum.DRESS_UP,''));break;case'random_walk':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](rentableBotData.webID,BotSkillsEnum_BotSkillsEnum.RANDOM_WALK,''));break;case'setup_chat':requestBotCommandConfiguration(BotSkillsEnum_BotSkillsEnum.SETUP_CHAT);hideMenu=false;break;case'dance':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](rentableBotData.webID,BotSkillsEnum_BotSkillsEnum.DANCE,''));break;case'nux_take_tour':GetNitroInstance().createLinkEvent('help/tour');SendMessageComposer_SendMessageComposer(new nitro_renderer[\"C\" /* BotSkillSaveComposer */](rentableBotData.webID,BotSkillsEnum_BotSkillsEnum.NUX_TAKE_TOUR,''));break;case'pick':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"A\" /* BotRemoveComposer */](rentableBotData.webID));break;default:break;}}if(hideMenu)close();};Object(react[\"useEffect\"])(function(){setMode(AvatarInfoWidgetRentableBotView_MODE_NORMAL);},[rentableBotData]);var canControl=rentableBotData.amIOwner||rentableBotData.amIAnyRoomController;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView_ContextMenuView,{objectId:rentableBotData.roomIndex,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,userType:nitro_renderer[\"Gg\" /* RoomObjectType */].RENTABLE_BOT,close:close,collapsable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:rentableBotData.name}),mode===AvatarInfoWidgetRentableBotView_MODE_NORMAL&&canControl&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.DONATE_TO_ALL)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('donate_to_all');},children:LocalizeText('avatar.widget.donate_to_all')}),rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.DONATE_TO_USER)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('donate_to_user');},children:LocalizeText('avatar.widget.donate_to_user')}),rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_NAME)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('change_bot_name');},children:LocalizeText('avatar.widget.change_bot_name')}),rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.CHANGE_BOT_MOTTO)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('change_bot_motto');},children:LocalizeText('avatar.widget.change_bot_motto')}),rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.DRESS_UP)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dress_up');},children:LocalizeText('avatar.widget.dress_up')}),rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.RANDOM_WALK)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('random_walk');},children:LocalizeText('avatar.widget.random_walk')}),rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.SETUP_CHAT)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('setup_chat');},children:LocalizeText('avatar.widget.setup_chat')}),rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.DANCE)>=0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('dance');},children:LocalizeText('avatar.widget.dance')}),rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.NO_PICK_UP)===-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('pick');},children:LocalizeText('avatar.widget.pick_up')})]}),mode===MODE_CHANGE_NAME&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"menu-item\",onClick:null,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",children:LocalizeText('bot.skill.name.configuration.new.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:newName,maxLength:GetConfiguration('bot.name.max.length',15),onChange:function onChange(event){return setNewName(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"secondary\",onClick:function onClick(event){return processAction(null);},children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:function onClick(event){return processAction('save_bot_name');},children:LocalizeText('save')})]})]}),mode===MODE_CHANGE_MOTTO&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"menu-item\",onClick:null,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",children:LocalizeText('bot.skill.name.configuration.new.motto')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:newMotto,maxLength:GetConfiguration('motto.max.length',38),onChange:function onChange(event){return setNewMotto(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"secondary\",onClick:function onClick(event){return processAction(null);},children:LocalizeText('cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:function onClick(event){return processAction('save_bot_motto');},children:LocalizeText('save')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/avatar-info/AvatarInfoWidgetView.tsx\nvar AvatarInfoWidgetView_AvatarInfoWidgetView=function AvatarInfoWidgetView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),nameBubbles=_useState4[0],setNameBubbles=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),productBubbles=_useState6[0],setProductBubbles=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),confirmingProduct=_useState8[0],setConfirmingProduct=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),infoStandEvent=_useState10[0],setInfoStandEvent=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isGameMode=_useState12[0],setGameMode=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),isDancing=_useState14[0],setIsDancing=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),isDecorating=_useState16[0],setIsDecorating=_useState16[1];var _useState17=Object(react[\"useState\"])(null),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),rentableBotChatEvent=_useState18[0],setRentableBotChatEvent=_useState18[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var removeNameBubble=Object(react[\"useCallback\"])(function(index){setNameBubbles(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);newValue.splice(index,1);return newValue;});},[]);var removeProductBubble=Object(react[\"useCallback\"])(function(index){setProductBubbles(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);var item=newValue.splice(index,1)[0];if(confirmingProduct===item)setConfirmingProduct(null);return newValue;});},[confirmingProduct]);var clearProductBubbles=Object(react[\"useCallback\"])(function(){setProductBubbles([]);},[]);var clearInfoStandEvent=Object(react[\"useCallback\"])(function(){setInfoStandEvent(null);},[]);var clearName=Object(react[\"useCallback\"])(function(){setName(null);},[]);var updateConfirmingProduct=Object(react[\"useCallback\"])(function(product){setConfirmingProduct(product);setProductBubbles([]);},[]);var onRoomWidgetRoomEngineUpdateEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent.NORMAL_MODE:{if(isGameMode)setGameMode(false);return;}case RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent.GAME_MODE:{if(!isGameMode)setGameMode(true);return;}}},[isGameMode]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent.NORMAL_MODE,eventDispatcher,onRoomWidgetRoomEngineUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent.GAME_MODE,eventDispatcher,onRoomWidgetRoomEngineUpdateEvent);var onRoomObjectRemoved=Object(react[\"useCallback\"])(function(event){if(name){if(event.id===name.id)setName(null);}if(event.category===nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT){var nameBubbleIndex=nameBubbles.findIndex(function(bubble){return bubble.roomIndex===event.id;});if(nameBubbleIndex>-1)removeNameBubble(nameBubbleIndex);if(productBubbles.length){setProductBubbles(function(prevValue){return prevValue.filter(function(bubble){return bubble.id!==event.id;});});}}else if(event.category===nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR){if(productBubbles.length){setProductBubbles(function(prevValue){return prevValue.filter(function(bubble){return bubble.requestRoomObjectId!==event.id;});});}}if(infoStandEvent){if(infoStandEvent instanceof RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent){if(infoStandEvent.id===event.id)clearInfoStandEvent();}else if(infoStandEvent instanceof RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent||infoStandEvent instanceof RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent){if(infoStandEvent.roomIndex===event.id)clearInfoStandEvent();}else if(infoStandEvent instanceof RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent){if(infoStandEvent.roomIndex===event.id)clearInfoStandEvent();}}},[name,infoStandEvent,nameBubbles,productBubbles,removeNameBubble,clearInfoStandEvent]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED,eventDispatcher,onRoomObjectRemoved);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,eventDispatcher,onRoomObjectRemoved);var onObjectRolled=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OVER:{var roomObjectEvent=event;if(infoStandEvent)return;widgetHandler.processWidgetMessage(new RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage(RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_NAME,roomObjectEvent.id,roomObjectEvent.category));return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OUT:{var _roomObjectEvent=event;if(!name||name.roomIndex!==_roomObjectEvent.id)return;setName(null);return;}}},[infoStandEvent,name,widgetHandler]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OVER,eventDispatcher,onObjectRolled);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OUT,eventDispatcher,onObjectRolled);var onObjectDeselected=Object(react[\"useCallback\"])(function(event){if(infoStandEvent)clearInfoStandEvent();if(productBubbles.length)setProductBubbles([]);},[infoStandEvent,productBubbles,clearInfoStandEvent]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED,eventDispatcher,onObjectDeselected);var onRoomWidgetObjectNameEvent=Object(react[\"useCallback\"])(function(event){if(event.category!==nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT)return;setName(event);clearProductBubbles();},[clearProductBubbles]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetObjectNameEvent_RoomWidgetObjectNameEvent.TYPE,eventDispatcher,onRoomWidgetObjectNameEvent);var onRoomWidgetUpdateInfostandEvent=Object(react[\"useCallback\"])(function(event){if(name)setName(null);if(event.type===RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent.FURNI)clearInfoStandEvent();else setInfoStandEvent(event);clearProductBubbles();},[name,clearInfoStandEvent,clearProductBubbles]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent.FURNI,eventDispatcher,onRoomWidgetUpdateInfostandEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER,eventDispatcher,onRoomWidgetUpdateInfostandEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER,eventDispatcher,onRoomWidgetUpdateInfostandEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.BOT,eventDispatcher,onRoomWidgetUpdateInfostandEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent.RENTABLE_BOT,eventDispatcher,onRoomWidgetUpdateInfostandEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent.PET_INFO,eventDispatcher,onRoomWidgetUpdateInfostandEvent);var onRoomWidgetUpdateDanceStatusEvent=Object(react[\"useCallback\"])(function(event){setIsDancing(event.isDancing);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateDanceStatusEvent_RoomWidgetUpdateDanceStatusEvent.UPDATE_DANCE,eventDispatcher,onRoomWidgetUpdateDanceStatusEvent);var onRoomWidgetUpdateRentableBotChatEvent=Object(react[\"useCallback\"])(function(event){setRentableBotChatEvent(event);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRentableBotChatEvent_RoomWidgetUpdateRentableBotChatEvent.UPDATE_CHAT,eventDispatcher,onRoomWidgetUpdateRentableBotChatEvent);var onRoomWidgetUseProductBubbleEvent=Object(react[\"useCallback\"])(function(event){setConfirmingProduct(null);setProductBubbles(function(prevValue){var newBubbles=Object(toConsumableArray[\"a\" /* default */])(prevValue);var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(event.items),_step;try{var _loop=function _loop(){var item=_step.value;var index=newBubbles.findIndex(function(bubble){return bubble.id===item.id;});if(index>-1)newBubbles.splice(index,1);newBubbles.push(item);};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}return newBubbles;});},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUseProductBubbleEvent_RoomWidgetUseProductBubbleEvent.USE_PRODUCT_BUBBLES,eventDispatcher,onRoomWidgetUseProductBubbleEvent);// const onFriendEnteredRoomEvent = useCallback((event: FriendEnteredRoomEvent) =>\n// {\n//     setNameBubbles(prevValue =>\n//         {\n//             return [ ...prevValue, event  ];\n//         })\n// }, []);\n// useUiEvent(FriendEnteredRoomEvent.ENTERED, onFriendEnteredRoomEvent);\nvar onRoomWidgetUpdateDecorateModeEvent=Object(react[\"useCallback\"])(function(event){setIsDecorating(event.isDecorating);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateDecorateModeEvent_RoomWidgetUpdateDecorateModeEvent.UPDATE_DECORATE,eventDispatcher,onRoomWidgetUpdateDecorateModeEvent);var decorateView=Object(react[\"useMemo\"])(function(){GetRoomSession().isDecorating=isDecorating;if(!isDecorating)return null;var userId=GetSessionDataManager().userId;var userName=GetSessionDataManager().userName;var roomIndex=GetRoomSession().ownRoomIndex;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetDecorateView_AvatarInfoWidgetDecorateView,{userId:userId,userName:userName,roomIndex:roomIndex});},[isDecorating]);var currentView=Object(react[\"useMemo\"])(function(){if(isGameMode)return null;if(decorateView)return decorateView;if(name){var nameBubbleIndex=nameBubbles.findIndex(function(bubble){return bubble.roomIndex===name.roomIndex;});if(nameBubbleIndex>-1)removeNameBubble(nameBubbleIndex);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetNameView_AvatarInfoWidgetNameView,{nameData:name,close:clearName});}if(infoStandEvent){switch(infoStandEvent.type){case RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER:case RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER:{var event=infoStandEvent;if(event.isSpectatorMode)return null;var _nameBubbleIndex=nameBubbles.findIndex(function(bubble){return bubble.roomIndex===event.roomIndex;});if(_nameBubbleIndex>-1)removeNameBubble(_nameBubbleIndex);if(event.isOwnUser){if(nitro_renderer[\"og\" /* RoomEnterEffect */].isRunning())return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetOwnAvatarView_AvatarInfoWidgetOwnAvatarView,{userData:event,isDancing:isDancing,close:clearInfoStandEvent});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetAvatarView_AvatarInfoWidgetAvatarView,{userData:event,close:clearInfoStandEvent});}case RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent.PET_INFO:{var _event=infoStandEvent;if(_event.isOwner){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetOwnPetView_AvatarInfoWidgetOwnPetView,{petData:_event,close:clearInfoStandEvent});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetPetView_AvatarInfoWidgetPetView,{petData:_event,close:clearInfoStandEvent});}case RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent.RENTABLE_BOT:{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetRentableBotView_AvatarInfoWidgetRentableBotView,{rentableBotData:infoStandEvent,close:clearInfoStandEvent});}case RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent.FURNI:{return null;}}}return null;},[isGameMode,decorateView,name,nameBubbles,isDancing,infoStandEvent,clearName,clearInfoStandEvent,removeNameBubble]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[currentView,nameBubbles.length>0&&nameBubbles.map(function(name,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetNameView_AvatarInfoWidgetNameView,{nameData:name,close:function close(){return removeNameBubble(index);}},index);}),productBubbles.length>0&&productBubbles.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoUseProductView_AvatarInfoUseProductView,{item:item,updateConfirmingProduct:updateConfirmingProduct,close:function close(){return removeProductBubble(index);}},item.id);}),rentableBotChatEvent&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoRentableBotChatView_AvatarInfoRentableBotChatView,{chatEvent:rentableBotChatEvent,close:function close(){return setRentableBotChatEvent(null);}}),confirmingProduct&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoUseProductConfirmView_AvatarInfoUseProductConfirmView,{item:confirmingProduct,close:function close(){return setConfirmingProduct(null);}})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat-input/ChatInputEmojisSelectorView.tsx\nvar ChatInputEmojisSelectorView_ChatInputEmojisSelectorView=function ChatInputEmojisSelectorView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),target=_useState2[0],setTarget=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectorVisible=_useState4[0],setSelectorVisible=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),emojis=_useState6[0],setEmojis=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;Object(react[\"useEffect\"])(function(){fetch(\"https://int.ultrahabbo.fun/?type=getEmojis\").then(function(response){return response.json();}).then(function(response){setEmojis(response);});},[]);function getEmojiImage(id){return\"https://swfs.hgalaxy.net/c_images/emojis/emoji\"+id+\".png\";}var sendEmoji=function sendEmoji(event,key){sendChat(key,RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_DEFAULT,'',0);var visible=true;setSelectorVisible(function(prevValue){visible=!prevValue;return visible;});console.log(\"xdd\");if(visible)setTarget(event.target);};var sendChat=Object(react[\"useCallback\"])(function(text,chatType){var recipientName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var styleId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;widgetHandler.processWidgetMessage(new RoomWidgetChatMessage_RoomWidgetChatMessage(RoomWidgetChatMessage_RoomWidgetChatMessage.MESSAGE_CHAT,text,chatType,recipientName,styleId));setSelectorVisible(false);},[widgetHandler]);var toggleSelector=function toggleSelector(event){var visible=true;setSelectorVisible(function(prevValue){visible=!prevValue;return visible;});console.log(\"xdd\");if(visible)setTarget(event.target);};Object(react[\"useEffect\"])(function(){if(selectorVisible)return;setTarget(null);},[selectorVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"icon chatemojis-icon\",onClick:toggleSelector,style:{marginLeft:\"13px\",display:\"inline-block\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Overlay[\"a\" /* default */],{show:selectorVisible,target:target,placement:\"top\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],{className:\"nitro-chat-sticker-selector-container image-rendering-pixelated\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",className:\"bg-transparent\",children:emojis!=null?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{columnCount:4,overflow:\"auto\",children:emojis.map(function(emoji){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{className:\"text-center\",onClick:function onClick(e){return sendEmoji(e,emoji.key);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{style:{height:\"22px\",width:\"22px\"},src:getEmojiImage(emoji.id)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-dark\",children:emoji.key})]},emoji.id)});})})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{})})})})})});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar esm_Button = __webpack_require__(194);\n\n// CONCATENATED MODULE: ./src/components/room/widgets/chat-input/ChatInputStickersSelectorView.tsx\nvar ChatInputStickersSelectorView_ChatInputStickersSelectorView=function ChatInputStickersSelectorView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),target=_useState2[0],setTarget=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectorVisible=_useState4[0],setSelectorVisible=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),stickers=_useState6[0],setStickers=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),stickersGiphy=_useState8[0],setStickersGiphy=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),showNativeStickers=_useState10[0],setShowNativeStickers=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),showGiphyStickers=_useState12[0],setShowGiphyStickers=_useState12[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var evadeClosing=false;function searchStickers(strSearch){evadeClosing=true;if(strSearch.length==0){setShowGiphyStickers(false);setShowNativeStickers(true);return;}fetch('https://api.giphy.com/v1/gifs/search?api_key=4qwMrfzYMYVl1lhhl3wDaVxDNWAzAv6s&q='+strSearch+'&limit=25&offset=0&rating=g&lang=en').then(function(response){return response.json();}).then(function(result){setStickersGiphy(result);setShowNativeStickers(false);setShowGiphyStickers(true);});}function sendSticker(sticker){var stickerArgs=sticker.split(\".gif\");sendChat(stickerArgs[0],RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_DEFAULT,'',2);}function NativeStickers(){if(stickers==null)return null;else return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{});}function GiphyStickers(){if(stickersGiphy==null)return null;else return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{columnCount:4,overflow:\"auto\",id:\"giphyStickers\",children:stickersGiphy.data.map(function(sticker){return/*#__PURE__*/ (// eslint-disable-next-line react/jsx-key\nObject(jsx_runtime[\"jsx\"])(Base_Base,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:sticker.images.downsized_medium.url,width:50,height:50,className:\"sticker-img\",onClick:function onClick(e){return sendSticker(sticker.images.fixed_height_small.url);}})},sticker.images.downsized_medium.url));})});}var sendChat=Object(react[\"useCallback\"])(function(text,chatType){var recipientName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var styleId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;widgetHandler.processWidgetMessage(new RoomWidgetChatMessage_RoomWidgetChatMessage(RoomWidgetChatMessage_RoomWidgetChatMessage.MESSAGE_CHAT,text,chatType,recipientName,styleId));setSelectorVisible(false);},[widgetHandler]);var toggleSelector=function toggleSelector(event){if(evadeClosing)return;var visible=true;setSelectorVisible(function(prevValue){visible=!prevValue;return visible;});if(visible)setTarget(event.target);evadeClosing=false;};function handleClose(){evadeClosing=true;}var inputText=\"\";function onChangeInput(value){inputText=value;}Object(react[\"useEffect\"])(function(){if(selectorVisible)return;setTarget(null);},[selectorVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"icon chatstickers-icon\",onClick:toggleSelector,style:{marginLeft:\"13px\",display:\"inline-block\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Overlay[\"a\" /* default */],{show:selectorVisible,target:target,placement:\"top\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],{className:\"nitro-chat-sticker-selector-container image-rendering-pixelated\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",className:\"bg-transparent\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onClick:function onClick(e){return handleClose();},onChange:function onChange(e){return onChangeInput(e.target.value);},type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm_Button[\"a\" /* default */],{variant:\"primary\",className:\"stickers-search-button\",onClick:function onClick(e){return searchStickers(inputText);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"search\"})})]}),showNativeStickers?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NativeStickers,{}):null,showGiphyStickers?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GiphyStickers,{}):null]})})})})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat-input/ChatInputStyleSelectorView.tsx\nvar ChatInputStyleSelectorView_ChatInputStyleSelectorView=function ChatInputStyleSelectorView(props){var _props$chatStyleId=props.chatStyleId,chatStyleId=_props$chatStyleId===void 0?0:_props$chatStyleId,_props$chatStyleIds=props.chatStyleIds,chatStyleIds=_props$chatStyleIds===void 0?null:_props$chatStyleIds,_props$selectChatStyl=props.selectChatStyleId,selectChatStyleId=_props$selectChatStyl===void 0?null:_props$selectChatStyl;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),target=_useState2[0],setTarget=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectorVisible=_useState4[0],setSelectorVisible=_useState4[1];var selectStyle=function selectStyle(styleId){selectChatStyleId(styleId);setSelectorVisible(false);};var toggleSelector=function toggleSelector(event){var visible=false;setSelectorVisible(function(prevValue){visible=!prevValue;return visible;});if(visible)setTarget(event.target);};Object(react[\"useEffect\"])(function(){if(selectorVisible)return;setTarget(null);},[selectorVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"icon chatstyles-icon\",onClick:toggleSelector}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Overlay[\"a\" /* default */],{show:selectorVisible,target:target,placement:\"top\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Popover[\"a\" /* default */],{className:\"nitro-chat-style-selector-container image-rendering-pixelated\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",className:\"bg-transparent\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{columnCount:3,overflow:\"auto\",children:chatStyleIds&&chatStyleIds.length>0&&chatStyleIds.map(function(styleId){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"bubble-parent-container\",onClick:function onClick(event){return selectStyle(styleId);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"bubble-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"chat-bubble bubble-\".concat(styleId),children:\"\\xA0\"})},styleId)},styleId);})})})})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat-input/ChatInputView.tsx\nvar ChatInputView_ChatInputView=function ChatInputView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),chatValue=_useState2[0],setChatValue=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedUsername=_useState4[0],setSelectedUsername=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isTyping=_useState6[0],setIsTyping=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),typingStartedSent=_useState8[0],setTypingStartedSent=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isIdle=_useState10[0],setIsIdle=_useState10[1];var _useState11=Object(react[\"useState\"])(GetSessionDataManager().chatStyle),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),chatStyleId=_useState12[0],setChatStyleId=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),needsChatStyleUpdate=_useState14[0],setNeedsChatStyleUpdate=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),floodBlocked=_useState16[0],setFloodBlocked=_useState16[1];var _useState17=Object(react[\"useState\"])(0),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),floodBlockedSeconds=_useState18[0],setFloodBlockedSeconds=_useState18[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var inputRef=Object(react[\"useRef\"])();var mediaRecorder;var audioChunks=[];var deletedAudio=false;function startRecording(){var microphoneOn=document.getElementById(\"microphoneOn\");var microphoneOff=document.getElementById(\"microphoneOff\");var deleteAudio=document.getElementById(\"deleteAudio\");microphoneOn.style.display=\"none\";microphoneOff.style.display=\"inline-block\";deleteAudio.style.display=\"inline-block\";navigator.mediaDevices.getUserMedia({audio:true}).then(function(stream){mediaRecorder=new MediaRecorder(stream);mediaRecorder.start();mediaRecorder.addEventListener(\"dataavailable\",function(event){audioChunks.push(event.data);});mediaRecorder.addEventListener(\"stop\",function(){microphoneOn.style.display=\"inline-block\";microphoneOff.style.display=\"none\";deleteAudio.style.display=\"none\";if(!deletedAudio){var audioBlob=new Blob(audioChunks);if(audioBlob.size<378461){var fd=new FormData();fd.append(\"audio\",audioBlob);fetch(\"https://int.kubbo.city/audio\",{method:\"POST\",body:fd}).then(function(response){return response.text();}).then(function(resp){sendMessage(\"https://int.kubbo.city/audios/\"+resp+\".mp3\",RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_DEFAULT,'',0);});}else sendMessage(\"No puedes subir un audio tan largo.\",RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_DEFAULT,'',0);}deletedAudio=false;audioChunks=[];});});}function stopRecording(){mediaRecorder.stop();}function deleteRecording(){deletedAudio=true;mediaRecorder.stop();}function showSubMenu(){if(document.getElementById(\"submenuChat\").style.display==\"block\")document.getElementById(\"submenuChat\").style.display=\"none\";else document.getElementById(\"submenuChat\").style.display=\"block\";}function hideSubMenu(){document.getElementById(\"submenuChat\").style.display=\"none\";}var chatModeIdWhisper=Object(react[\"useMemo\"])(function(){return LocalizeText('widgets.chatinput.mode.whisper');},[]);var chatModeIdShout=Object(react[\"useMemo\"])(function(){return LocalizeText('widgets.chatinput.mode.shout');},[]);var chatModeIdSpeak=Object(react[\"useMemo\"])(function(){return LocalizeText('widgets.chatinput.mode.speak');},[]);var maxChatLength=Object(react[\"useMemo\"])(function(){return GetConfiguration('chat.input.maxlength',100);},[]);var anotherInputHasFocus=Object(react[\"useCallback\"])(function(){var activeElement=document.activeElement;if(!activeElement)return false;if(inputRef&&inputRef.current===activeElement)return false;if(!(activeElement instanceof HTMLInputElement)&&!(activeElement instanceof HTMLTextAreaElement))return false;return true;},[inputRef]);var sendMessage=Object(react[\"useCallback\"])(function(text,chatType){var recipientName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var styleId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;widgetHandler.processWidgetMessage(new RoomWidgetChatMessage_RoomWidgetChatMessage(RoomWidgetChatMessage_RoomWidgetChatMessage.MESSAGE_CHAT,text,chatType,recipientName,styleId));},[widgetHandler]);var setInputFocus=Object(react[\"useCallback\"])(function(){inputRef.current.focus();inputRef.current.setSelectionRange(inputRef.current.value.length*2,inputRef.current.value.length*2);},[inputRef]);var checkSpecialKeywordForInput=Object(react[\"useCallback\"])(function(){setChatValue(function(prevValue){if(prevValue!==chatModeIdWhisper||!selectedUsername.length)return prevValue;return\"\".concat(prevValue,\" \").concat(selectedUsername);});},[selectedUsername,chatModeIdWhisper]);var sendChat=Object(react[\"useCallback\"])(function(text,chatType){var recipientName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var styleId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;setChatValue('');widgetHandler.processWidgetMessage(new RoomWidgetChatMessage_RoomWidgetChatMessage(RoomWidgetChatMessage_RoomWidgetChatMessage.MESSAGE_CHAT,text,chatType,recipientName,styleId));},[widgetHandler]);var sendChatValue=Object(react[\"useCallback\"])(function(value){var shiftKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!value||value==='')return;var chatType=shiftKey?RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_SHOUT:RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_DEFAULT;var text=value;var parts=text.split(' ');var recipientName='';var append='';switch(parts[0]){case chatModeIdWhisper:chatType=RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_WHISPER;recipientName=parts[1];append=chatModeIdWhisper+' '+recipientName+' ';parts.shift();parts.shift();break;case chatModeIdShout:chatType=RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_SHOUT;parts.shift();break;case chatModeIdSpeak:chatType=RoomWidgetChatMessage_RoomWidgetChatMessage.CHAT_DEFAULT;parts.shift();break;}text=parts.join(' ');setIsTyping(false);setIsIdle(false);if(text.length<=maxChatLength){if(needsChatStyleUpdate){GetSessionDataManager().sendChatStyleUpdate(chatStyleId);setNeedsChatStyleUpdate(false);}sendChat(text,chatType,recipientName,chatStyleId);}setChatValue(append);},[chatModeIdWhisper,chatModeIdShout,chatModeIdSpeak,maxChatLength,chatStyleId,needsChatStyleUpdate,sendChat]);var updateChatInput=Object(react[\"useCallback\"])(function(value){if(!value||!value.length){setIsTyping(false);}else{setIsTyping(true);setIsIdle(true);}setChatValue(value);},[]);var onKeyDownEvent=Object(react[\"useCallback\"])(function(event){if(floodBlocked||!inputRef.current||anotherInputHasFocus())return;if(document.activeElement!==inputRef.current)setInputFocus();var value=event.target.value;switch(event.key){case' ':case'Space':checkSpecialKeywordForInput();return;case'NumpadEnter':case'Enter':sendChatValue(value,event.shiftKey);return;case'Backspace':if(value){var parts=value.split(' ');if(parts[0]===chatModeIdWhisper&&parts.length===3&&parts[2]===''){setChatValue('');}}return;}},[floodBlocked,inputRef,chatModeIdWhisper,anotherInputHasFocus,setInputFocus,checkSpecialKeywordForInput,sendChatValue]);var onRoomWidgetRoomObjectUpdateEvent=Object(react[\"useCallback\"])(function(event){setSelectedUsername('');},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);var onRoomWidgetUpdateInfostandUserEvent=Object(react[\"useCallback\"])(function(event){setSelectedUsername(event.name);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER,eventDispatcher,onRoomWidgetUpdateInfostandUserEvent);var onRoomWidgetChatInputContentUpdateEvent=Object(react[\"useCallback\"])(function(event){switch(event.chatMode){case RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.WHISPER:{setChatValue(\"\".concat(chatModeIdWhisper,\" \").concat(event.userName,\" \"));return;}case RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.SHOUT:return;}},[chatModeIdWhisper]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateChatInputContentEvent_RoomWidgetUpdateChatInputContentEvent.CHAT_INPUT_CONTENT,eventDispatcher,onRoomWidgetChatInputContentUpdateEvent);var onRoomWidgetFloodControlEvent=Object(react[\"useCallback\"])(function(event){setFloodBlocked(true);setFloodBlockedSeconds(event.seconds);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetFloodControlEvent_RoomWidgetFloodControlEvent.FLOOD_CONTROL,eventDispatcher,onRoomWidgetFloodControlEvent);var selectChatStyleId=Object(react[\"useCallback\"])(function(styleId){setChatStyleId(styleId);setNeedsChatStyleUpdate(true);},[]);var chatStyleIds=Object(react[\"useMemo\"])(function(){var styleIds=[];var styles=GetConfiguration('chat.styles');var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(styles),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var style=_step.value;if(!style)continue;if(style.minRank>0){if(GetSessionDataManager().hasSecurity(style.minRank))styleIds.push(style.styleId);continue;}if(style.isSystemStyle){if(GetSessionDataManager().hasSecurity(nitro_renderer[\"Yf\" /* RoomControllerLevel */].MODERATOR)){styleIds.push(style.styleId);continue;}}if(GetConfiguration('chat.styles.disabled').indexOf(style.styleId)>=0)continue;if(style.isHcOnly&&GetClubMemberLevel()>=nitro_renderer[\"zd\" /* HabboClubLevelEnum */].CLUB){styleIds.push(style.styleId);continue;}if(style.isAmbassadorOnly&&GetSessionDataManager().isAmbassador){styleIds.push(style.styleId);continue;}if(!style.isHcOnly&&!style.isAmbassadorOnly)styleIds.push(style.styleId);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return styleIds;},[]);Object(react[\"useEffect\"])(function(){if(isTyping){if(!typingStartedSent){setTypingStartedSent(true);widgetHandler.processWidgetMessage(new RoomWidgetChatTypingMessage_RoomWidgetChatTypingMessage(isTyping));}}else{if(typingStartedSent){setTypingStartedSent(false);widgetHandler.processWidgetMessage(new RoomWidgetChatTypingMessage_RoomWidgetChatTypingMessage(isTyping));}}},[widgetHandler,isTyping,typingStartedSent]);Object(react[\"useEffect\"])(function(){if(!isIdle)return;var timeout=null;if(isIdle){timeout=setTimeout(function(){setIsIdle(false);setIsTyping(false);},10000);}return function(){return clearTimeout(timeout);};},[isIdle]);Object(react[\"useEffect\"])(function(){if(!floodBlocked)return;var seconds=0;var interval=setInterval(function(){setFloodBlockedSeconds(function(prevValue){seconds=(prevValue||0)-1;return seconds;});if(seconds<0){clearInterval(interval);setFloodBlocked(false);}},1000);return function(){return clearInterval(interval);};},[floodBlocked]);Object(react[\"useEffect\"])(function(){document.body.addEventListener('keydown',onKeyDownEvent);return function(){document.body.removeEventListener('keydown',onKeyDownEvent);};},[onKeyDownEvent]);Object(react[\"useEffect\"])(function(){if(!inputRef.current)return;inputRef.current.parentElement.dataset.value=chatValue;},[chatValue]);if(GetRoomSession().isSpectator)return null;/*\n    <ChatInputStyleSelectorView chatStyleId={ chatStyleId } chatStyleIds={ chatStyleIds } selectChatStyleId={ selectChatStyleId } />\n                <ChatInputStickersSelectorView /> \n                <div id=\"microphoneOn\" onClick={e => startRecording()} style={{marginLeft: \"10px\"}} className=\"icon chatmicrophone-on-icon\" />\n                <div id=\"microphoneOff\" onClick={e => stopRecording()} style={{marginLeft: \"10px\", display: \"none\"}} className=\"icon chatmicrophone-off-icon\" />\n                <div id=\"deleteAudio\" onClick={e => deleteRecording()} style={{marginLeft: \"10px\", display: \"none\"}} className=\"icon chatdeleteaudio-icon\" />*/return/*#__PURE__*/Object(react_dom[\"createPortal\"])(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"submenuChat\",className:\"animate__animated animate__fadeInUp\",style:{paddingLeft:\"16px\",paddingRight:\"13px\",paddingTop:\"11px\",paddingBottom:\"7px\",position:\"absolute\",backgroundColor:\"rgba(43, 43, 43, 0.8)\",top:\"-48px\",borderRadius:\"7px\",display:\"none\",border:\"1px #fff solid\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatInputStyleSelectorView_ChatInputStyleSelectorView,{chatStyleId:chatStyleId,chatStyleIds:chatStyleIds,selectChatStyleId:selectChatStyleId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatInputStickersSelectorView_ChatInputStickersSelectorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatInputEmojisSelectorView_ChatInputEmojisSelectorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"microphoneOn\",onClick:function onClick(e){return startRecording();},style:{marginLeft:\"10px\",display:\"inline-block\"},className:\"icon chatmicrophone-on-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"microphoneOff\",onClick:function onClick(e){return stopRecording();},style:{marginLeft:\"10px\",display:\"none\"},className:\"icon chatmicrophone-off-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"deleteAudio\",onClick:function onClick(e){return deleteRecording();},style:{marginLeft:\"10px\",display:\"none\"},className:\"icon chatdeleteaudio-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:function onClick(){return hideSubMenu();},className:\"icon chatequis-icon\",style:{marginLeft:\"10px\",display:\"inline-block\"}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-chat-input-container\",style:{height:\"49px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-size input-sizer align-items-center\",style:{justifyContent:\"start\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:function onClick(){return showSubMenu();},className:\"icon chatmas-icon\",style:{marginRight:\"3px\"}}),!floodBlocked&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{marginLeft:\"5px\"},ref:inputRef,type:\"text\",className:\"chat-input\",placeholder:LocalizeText('widgets.chatinput.default'),value:chatValue,maxLength:maxChatLength,onChange:function onChange(event){return updateChatInput(event.target.value);},onMouseDown:function onMouseDown(event){return setInputFocus();}}),floodBlocked&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{variant:\"danger\",children:[LocalizeText('chat.input.alert.flood',['time'],[floodBlockedSeconds.toString()]),\" \"]})]})})]}),document.getElementById('toolbar-chat-input-container'));};function ChatInputView_setSelectorVisible(arg0){throw new Error('Function not implemented.');}\n// CONCATENATED MODULE: ./src/components/room/widgets/chat/ChatWidgetMessageView.tsx\nvar ChatWidgetMessageView_ChatWidgetMessageView=function ChatWidgetMessageView(props){var _props$chat=props.chat,chat=_props$chat===void 0?null:_props$chat,_props$makeRoom=props.makeRoom,makeRoom=_props$makeRoom===void 0?null:_props$makeRoom,_props$onChatClicked=props.onChatClicked,onChatClicked=_props$onChatClicked===void 0?null:_props$onChatClicked,_props$bubbleWidth=props.bubbleWidth,bubbleWidth=_props$bubbleWidth===void 0?nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_NORMAL:_props$bubbleWidth;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var elementRef=Object(react[\"useRef\"])();var getBubbleWidth=Object(react[\"useMemo\"])(function(){switch(bubbleWidth){case nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_NORMAL:return 350;case nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_THIN:return 240;case nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_WIDE:return 2000;}},[bubbleWidth]);Object(react[\"useEffect\"])(function(){var element=elementRef.current;if(!element)return;var width=element.offsetWidth;var height=element.offsetHeight;chat.width=width;chat.height=height;chat.elementRef=element;var left=chat.left;var top=chat.top;if(!left&&!top){left=chat.location.x-width/2;top=element.parentElement.offsetHeight-height;chat.left=left;chat.top=top;}if(!chat.visible){makeRoom(chat);chat.visible=true;}return function(){chat.elementRef=null;};},[elementRef,chat,makeRoom]);Object(react[\"useEffect\"])(function(){return setIsVisible(chat.visible);},[chat.visible]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{ref:elementRef,className:\"bubble-container \".concat(isVisible?'visible':'invisible'),onClick:function onClick(event){return onChatClicked(chat);},children:[chat.styleId===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-container-bg\",style:{backgroundColor:chat.color}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-bubble bubble-\".concat(chat.styleId,\" type-\").concat(chat.type),style:{maxWidth:getBubbleWidth},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-container\",children:chat.imageUrl&&chat.imageUrl.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-image\",style:{backgroundImage:\"url(\".concat(chat.imageUrl,\")\")}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{className:\"username mr-1\",dangerouslySetInnerHTML:{__html:\"\".concat(chat.username,\": \")}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"message\",dangerouslySetInnerHTML:{__html:\"\".concat(chat.formattedText)}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"pointer\"})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat/common/ChatBubbleMessage.ts\nvar ChatBubbleMessage_ChatBubbleMessage=/*#__PURE__*/function(){function ChatBubbleMessage(){var senderId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;var senderCategory=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;var roomId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;var text=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';var formattedText=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';var username=arguments.length>5&&arguments[5]!==undefined?arguments[5]:'';var location=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var type=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var styleId=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;var imageUrl=arguments.length>9&&arguments[9]!==undefined?arguments[9]:null;var color=arguments.length>10&&arguments[10]!==undefined?arguments[10]:null;Object(classCallCheck[\"a\" /* default */])(this,ChatBubbleMessage);this.senderId=senderId;this.senderCategory=senderCategory;this.roomId=roomId;this.text=text;this.formattedText=formattedText;this.username=username;this.location=location;this.type=type;this.styleId=styleId;this.imageUrl=imageUrl;this.color=color;this.id=-1;this.width=0;this.height=0;this.elementRef=null;this.visible=false;this.skipMovement=false;this._top=0;this._left=0;this.id=++ChatBubbleMessage.BUBBLE_COUNTER;}Object(createClass[\"a\" /* default */])(ChatBubbleMessage,[{key:\"top\",get:function get(){return this._top;},set:function set(value){this._top=value;if(this.elementRef)this.elementRef.style.top=this._top+'px';}},{key:\"left\",get:function get(){return this._left;},set:function set(value){this._left=value;if(this.elementRef)this.elementRef.style.left=this._left+'px';}}]);return ChatBubbleMessage;}();ChatBubbleMessage_ChatBubbleMessage.BUBBLE_COUNTER=0;\n// CONCATENATED MODULE: ./src/components/room/widgets/chat/common/DoChatsOverlap.ts\nvar DoChatsOverlap=function DoChatsOverlap(a,b,additionalBTop){var padding=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;return!(a.left+padding+a.width<b.left+padding||a.left+padding>b.left+padding+b.width||a.top+a.height<b.top+additionalBTop||a.top>b.top+additionalBTop+b.height);};\n// CONCATENATED MODULE: ./src/components/room/widgets/chat/ChatWidgetView.tsx\nvar TIMER_TRACKER=0;var ChatWidgetView_ChatWidgetView=function ChatWidgetView(props){var _useState=Object(react[\"useState\"])({mode:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_MODE_FREE_FLOW,weight:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_BUBBLE_WIDTH_NORMAL,speed:nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_NORMAL,distance:50,protection:nitro_renderer[\"Vf\" /* RoomChatSettings */].FLOOD_FILTER_NORMAL}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),chatSettings=_useState2[0],setChatSettings=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),chatMessages=_useState4[0],setChatMessages=_useState4[1];var _useState5=Object(react[\"useState\"])(TIMER_TRACKER++),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),timerId=_useState6[0],setTimerId=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var elementRef=Object(react[\"useRef\"])();var removeHiddenChats=Object(react[\"useCallback\"])(function(){setChatMessages(function(prevValue){if(prevValue){var newMessages=prevValue.filter(function(chat){return chat.top>-chat.height*2;});if(newMessages.length!==prevValue.length)return newMessages;}return prevValue;});},[]);var moveAllChatsUp=Object(react[\"useCallback\"])(function(amount){setChatMessages(function(prevValue){if(prevValue){prevValue.forEach(function(chat){if(chat.skipMovement){chat.skipMovement=false;return;}chat.top-=amount;});}return prevValue;});removeHiddenChats();},[removeHiddenChats]);var checkOverlappingChats=Object(react[\"useCallback\"])(function(chat,moved,tempChats){var totalChats=chatMessages.length;if(!totalChats)return;for(var i=totalChats-1;i>=0;i--){var collides=chatMessages[i];if(!collides||chat===collides||tempChats.indexOf(collides)>=0||collides.top-moved>=chat.top+chat.height)continue;if(DoChatsOverlap(chat,collides,-moved,4)){var amount=Math.abs(collides.top+collides.height-chat.top);tempChats.push(collides);collides.top-=amount;collides.skipMovement=true;checkOverlappingChats(collides,amount,tempChats);}}},[chatMessages]);var makeRoom=Object(react[\"useCallback\"])(function(chat){if(chatSettings.mode===nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_MODE_FREE_FLOW){chat.skipMovement=true;checkOverlappingChats(chat,0,[chat]);removeHiddenChats();}else{var lowestPoint=chat.top+chat.height;var requiredSpace=chat.height;var spaceAvailable=elementRef.current.offsetHeight-lowestPoint;var amount=requiredSpace-spaceAvailable;if(spaceAvailable<requiredSpace){chatMessages.forEach(function(existingChat){if(existingChat===chat)return;existingChat.top-=amount;});removeHiddenChats();}}},[chatSettings,chatMessages,removeHiddenChats,checkOverlappingChats]);var onRoomWidgetUpdateChatEvent=Object(react[\"useCallback\"])(function(event){var chatMessage=new ChatBubbleMessage_ChatBubbleMessage(event.userId,event.userCategory,event.roomId,event.text,RoomChatFormatter(event.text,event.styleId),event.userName,new nitro_renderer[\"Se\" /* NitroPoint */](event.userX,event.userY),event.chatType,event.styleId,event.userImage,event.userColor&&('#'+event.userColor.toString(16).padStart(6,'0')||false));setChatMessages(function(prevValue){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prevValue),[chatMessage]);});},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateChatEvent_RoomWidgetUpdateChatEvent.CHAT_EVENT,eventDispatcher,onRoomWidgetUpdateChatEvent);var onRoomDragEvent=Object(react[\"useCallback\"])(function(event){if(!chatMessages.length||event.roomId!==roomSession.roomId)return;var offsetX=event.offsetX;chatMessages.forEach(function(chat){return chat.elementRef&&(chat.left+=offsetX);});},[roomSession,chatMessages]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"gg\" /* RoomDragEvent */].ROOM_DRAG,onRoomDragEvent);var onChatClicked=Object(react[\"useCallback\"])(function(chat){widgetHandler.processWidgetMessage(new RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage(RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_INFO,chat.senderId,chat.senderCategory));widgetHandler.processWidgetMessage(new RoomWidgetChatSelectAvatarMessage_RoomWidgetChatSelectAvatarMessage(RoomWidgetChatSelectAvatarMessage_RoomWidgetChatSelectAvatarMessage.MESSAGE_SELECT_AVATAR,chat.senderId,chat.username,chat.roomId));},[widgetHandler]);var getScrollSpeed=Object(react[\"useCallback\"])(function(){if(!chatSettings)return 6000;switch(chatSettings.speed){case nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_FAST:return 3000;case nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_NORMAL:return 6000;case nitro_renderer[\"Vf\" /* RoomChatSettings */].CHAT_SCROLL_SPEED_SLOW:return 12000;}},[chatSettings]);var onGetGuestRoomResultEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser.roomEnter)return;setChatSettings(parser.chat);},[]);UseMessageEventHook(nitro_renderer[\"jc\" /* GetGuestRoomResultEvent */],onGetGuestRoomResultEvent);var onRoomChatSettingsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setChatSettings(parser.chat);},[]);UseMessageEventHook(nitro_renderer[\"Wf\" /* RoomChatSettingsEvent */],onRoomChatSettingsEvent);Object(react[\"useEffect\"])(function(){var resize=function resize(event){if(!elementRef||!elementRef.current)return;var currentHeight=elementRef.current.offsetHeight;var newHeight=Math.round(document.body.offsetHeight*GetConfiguration('chat.viewer.height.percentage'));elementRef.current.style.height=\"\".concat(newHeight,\"px\");setChatMessages(function(prevValue){if(prevValue){prevValue.forEach(function(chat){return chat.top-=currentHeight-newHeight;});}return prevValue;});};window.addEventListener('resize',resize);resize(null);return function(){window.removeEventListener('resize',resize);};},[]);var workerMessageReceived=Object(react[\"useCallback\"])(function(message){switch(message.type){case'MOVE_CHATS':moveAllChatsUp(15);return;}},[moveAllChatsUp]);Object(react[\"useEffect\"])(function(){var workerTracker={workerMessageReceived:workerMessageReceived};AddWorkerEventTracker_AddWorkerEventTracker(workerTracker);SendWorkerEvent_SendWorkerEvent({type:'CREATE_INTERVAL',time:getScrollSpeed(),timerId:timerId,response:{type:'MOVE_CHATS'}});return function(){SendWorkerEvent_SendWorkerEvent({type:'REMOVE_INTERVAL',timerId:timerId});RemoveWorkerEventTracker_RemoveWorkerEventTracker(workerTracker);};},[timerId,workerMessageReceived,getScrollSpeed]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:elementRef,className:\"nitro-chat-widget\",children:chatMessages.map(function(chat){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatWidgetMessageView_ChatWidgetMessageView,{chat:chat,makeRoom:makeRoom,onChatClicked:onChatClicked,bubbleWidth:chatSettings.weight},chat.id);})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/choosers/ChooserWidgetView.tsx\nvar ChooserWidgetView_ChooserWidgetView=function ChooserWidgetView(props){var _props$title=props.title,title=_props$title===void 0?null:_props$title,_props$items=props.items,items=_props$items===void 0?null:_props$items,_props$displayItemId=props.displayItemId,displayItemId=_props$displayItemId===void 0?false:_props$displayItemId,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedItem=_useState2[0],setSelectedItem=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var filteredItems=Object(react[\"useMemo\"])(function(){if(!items)return[];if(!searchValue||!searchValue.length)return items;var value=searchValue.toLocaleLowerCase();return items.filter(function(item){return item.name.toLocaleLowerCase().includes(value);});},[items,searchValue]);var onItemClick=Object(react[\"useCallback\"])(function(item){setSelectedItem(item);widgetHandler.processWidgetMessage(new RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage(RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.SELECT_OBJECT,item.id,item.category));},[widgetHandler,setSelectedItem]);var rowRenderer=function rowRenderer(props){var item=filteredItems[props.index];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",position:\"absolute\",className:'rounded px-1'+(selectedItem===item?' bg-muted':''),pointer:true,style:props.style,onClick:function onClick(event){return onItemClick(item);},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{truncate:true,children:[item.name,\" \",displayItemId&&' - '+item.id]})},props.key);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-chooser-widget\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:title,onCloseClick:onCloseClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:function onChange(event){return setSearchValue(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullHeight:true,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AutoSizer */],{defaultWidth:0,defaultHeight:0,children:function children(_ref){var width=_ref.width,height=_ref.height;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"d\" /* List */],{width:width,height:height,rowCount:filteredItems.length,rowHeight:20,rowRenderer:rowRenderer});}})})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/choosers/FurniChooserWidgetView.tsx\nvar FurniChooserWidgetView_FurniChooserWidgetView=function FurniChooserWidgetView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),refreshTimeout=_useState6[0],setRefreshTimeout=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var refreshChooser=Object(react[\"useCallback\"])(function(){if(!isVisible)return;setRefreshTimeout(function(prevValue){if(prevValue)clearTimeout(prevValue);return setTimeout(function(){return widgetHandler.processWidgetMessage(new RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage(RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.FURNI_CHOOSER));},100);});},[isVisible,widgetHandler]);var onRoomWidgetChooserContentEvent=Object(react[\"useCallback\"])(function(event){setItems(event.items);setIsVisible(true);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent.FURNI_CHOOSER_CONTENT,eventDispatcher,onRoomWidgetChooserContentEvent);var onRoomWidgetRoomObjectUpdateEvent=Object(react[\"useCallback\"])(function(event){if(!isVisible)return;switch(event.type){case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_ADDED:case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:refreshChooser();return;}},[isVisible,refreshChooser]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_ADDED,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);var close=Object(react[\"useCallback\"])(function(){setIsVisible(false);setItems(null);},[]);if(!items)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChooserWidgetView_ChooserWidgetView,{title:LocalizeText('widget.chooser.furni.title'),displayItemId:GetSessionDataManager().hasSecurity(nitro_renderer[\"Bh\" /* SecurityLevel */].MODERATOR),items:items,onCloseClick:close});};\n// CONCATENATED MODULE: ./src/components/room/widgets/choosers/UserChooserWidgetView.tsx\nvar UserChooserWidgetView_UserChooserWidgetView=function UserChooserWidgetView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),refreshTimeout=_useState6[0],setRefreshTimeout=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var refreshChooser=Object(react[\"useCallback\"])(function(){if(!isVisible)return;setRefreshTimeout(function(prevValue){if(prevValue)clearTimeout(prevValue);return setTimeout(function(){return widgetHandler.processWidgetMessage(new RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage(RoomWidgetRequestWidgetMessage_RoomWidgetRequestWidgetMessage.USER_CHOOSER));},100);});},[isVisible,widgetHandler]);var onRoomWidgetChooserContentEvent=Object(react[\"useCallback\"])(function(event){setItems(event.items);setIsVisible(true);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetChooserContentEvent_RoomWidgetChooserContentEvent.USER_CHOOSER_CONTENT,eventDispatcher,onRoomWidgetChooserContentEvent);var onRoomWidgetRoomObjectUpdateEvent=Object(react[\"useCallback\"])(function(event){if(!isVisible)return;switch(event.type){case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED:case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED:refreshChooser();return;}},[isVisible,refreshChooser]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);var close=Object(react[\"useCallback\"])(function(){setIsVisible(false);setItems(null);},[]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChooserWidgetView_ChooserWidgetView,{title:LocalizeText('widget.chooser.user.title'),displayItemId:false,items:items,onCloseClick:close});};\n// CONCATENATED MODULE: ./src/components/room/widgets/doorbell/DoorbellWidgetView.tsx\nvar DoorbellWidgetView_DoorbellWidgetView=function DoorbellWidgetView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useDoorbellWidget=useDoorbellWidget(),_useDoorbellWidget$us=_useDoorbellWidget.users,users=_useDoorbellWidget$us===void 0?[]:_useDoorbellWidget$us,_useDoorbellWidget$an=_useDoorbellWidget.answer,answer=_useDoorbellWidget$an===void 0?null:_useDoorbellWidget$an;Object(react[\"useEffect\"])(function(){setIsVisible(!!users.length);},[users]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-widget-doorbell\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('navigator.doorbell.title'),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,className:\"text-black fw-bold border-bottom px-1 pb-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-6\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('generic.username')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-6\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"auto\",className:\"striped-children\",gap:0,children:users&&users.length>0&&users.map(function(userName){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{gap:1,alignItems:\"center\",className:\"text-black border-bottom p-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-6\",style:{color:\"var(--test-galaxytext)\"},children:userName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"g-col-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(){return answer(userName,true);},children:LocalizeText('generic.accept')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(){return answer(userName,false);},children:LocalizeText('generic.deny')})]})})]},userName);})})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/object-location/ObjectLocationView.tsx\nvar ObjectLocationView_excluded=[\"objectId\",\"category\",\"noFollow\",\"position\"];var ObjectLocationView_ObjectLocationView=function ObjectLocationView(props){var _props$objectId=props.objectId,objectId=_props$objectId===void 0?-1:_props$objectId,_props$category=props.category,category=_props$category===void 0?-1:_props$category,_props$noFollow=props.noFollow,noFollow=_props$noFollow===void 0?false:_props$noFollow,_props$position=props.position,position=_props$position===void 0?'absolute':_props$position,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,ObjectLocationView_excluded);var _useState=Object(react[\"useState\"])({x:-1,y:-1}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),pos=_useState2[0],setPos=_useState2[1];var elementRef=Object(react[\"useRef\"])();var getObjectLocation=Object(react[\"useCallback\"])(function(){var roomSession=GetRoomSession();var objectBounds=GetRoomObjectBounds_GetRoomObjectBounds(roomSession.roomId,objectId,category,1);return objectBounds;},[objectId,category]);var updatePosition=Object(react[\"useCallback\"])(function(){var bounds=getObjectLocation();if(!bounds||!elementRef.current)return;setPos({x:Math.round(bounds.left+bounds.width/2-elementRef.current.offsetWidth/2),y:Math.round(bounds.top-elementRef.current.offsetHeight+10)});},[getObjectLocation]);Object(react[\"useEffect\"])(function(){var remove=false;if(noFollow){updatePosition();}else{remove=true;GetNitroInstance().ticker.add(updatePosition);}return function(){if(remove)GetNitroInstance().ticker.remove(updatePosition);};},[updatePosition,noFollow]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,Object(objectSpread2[\"a\" /* default */])({innerRef:elementRef,position:position,visible:pos.x+(elementRef.current?elementRef.current.offsetWidth:0)>-1,className:\"object-location\",style:{left:pos.x,top:pos.y}},rest));};\n// CONCATENATED MODULE: ./src/components/room/widgets/friend-request/FriendRequestDialogView.tsx\nvar FriendRequestDialogView_FriendRequestDialogView=function FriendRequestDialogView(props){var _props$roomIndex=props.roomIndex,roomIndex=_props$roomIndex===void 0?-1:_props$roomIndex,_props$request=props.request,request=_props$request===void 0?null:_props$request,_props$hideFriendRequ=props.hideFriendRequest,hideFriendRequest=_props$hideFriendRequ===void 0?null:_props$hideFriendRequ;var _useFriends=useFriends_useFriends(),_useFriends$requestRe=_useFriends.requestResponse,requestResponse=_useFriends$requestRe===void 0?null:_useFriends$requestRe;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ObjectLocationView_ObjectLocationView,{objectId:roomIndex,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"nitro-friend-request-dialog nitro-context-menu p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},fontSize:6,children:LocalizeText('widget.friendrequest.from',['username'],[request.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:function onClick(event){return hideFriendRequest(request.requesterUserId);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"end\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(event){return requestResponse(request.requesterUserId,false);},children:LocalizeText('widget.friendrequest.decline')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return requestResponse(request.requesterUserId,true);},children:LocalizeText('widget.friendrequest.accept')})]})]})})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/friend-request/FriendRequestWidgetView.tsx\nvar FriendRequestWidgetView_FriendRequestWidgetView=function FriendRequestWidgetView(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),displayedRequests=_useState2[0],setDisplayedRequests=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),dismissedRequestIds=_useState4[0],setDismissedRequestIds=_useState4[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var _useFriends=useFriends_useFriends(),_useFriends$requests=_useFriends.requests,requests=_useFriends$requests===void 0?[]:_useFriends$requests;var hideFriendRequest=function hideFriendRequest(userId){setDismissedRequestIds(function(prevValue){if(prevValue.indexOf(userId)>=0)return prevValue;var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);newValue.push(userId);return newValue;});};var onRoomWidgetUpdateRoomObjectEvent=Object(react[\"useCallback\"])(function(event){if(event.category!==nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT)return;var userData=roomSession.userDataManager.getUserDataByIndex(event.id);if(userData&&userData.type===nitro_renderer[\"Hg\" /* RoomObjectUserType */].getTypeNumber(nitro_renderer[\"Hg\" /* RoomObjectUserType */].USER)){if(event.type===RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED){var request=requests.find(function(request){return request.requesterUserId===userData.webID;});if(!request||displayedRequests.find(function(request){return request.request.requesterUserId===userData.webID;}))return;var newValue=Object(toConsumableArray[\"a\" /* default */])(displayedRequests);newValue.push({roomIndex:userData.roomIndex,request:request});setDisplayedRequests(newValue);}return;}if(event.type===RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED){var index=displayedRequests.findIndex(function(request){return request.roomIndex===event.id;});if(index===-1)return;var _newValue=Object(toConsumableArray[\"a\" /* default */])(displayedRequests);_newValue.splice(index,1);setDisplayedRequests(_newValue);}},[roomSession,requests,displayedRequests]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED,eventDispatcher,onRoomWidgetUpdateRoomObjectEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED,eventDispatcher,onRoomWidgetUpdateRoomObjectEvent);Object(react[\"useEffect\"])(function(){if(!requests||!requests.length)return;var newDisplayedRequests=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(requests),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var request=_step.value;var userData=roomSession.userDataManager.getUserData(request.requesterUserId);if(!userData)continue;newDisplayedRequests.push({roomIndex:userData.roomIndex,request:request});}}catch(err){_iterator.e(err);}finally{_iterator.f();}setDisplayedRequests(newDisplayedRequests);},[roomSession,requests]);if(!requests.length)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:displayedRequests.map(function(request,index){if(dismissedRequestIds.indexOf(request.request.requesterUserId)>=0)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendRequestDialogView_FriendRequestDialogView,{roomIndex:request.roomIndex,request:request.request,hideFriendRequest:hideFriendRequest},index);})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/background-color/FurnitureBackgroundColorView.tsx\nvar FurnitureBackgroundColorView_FurnitureBackgroundColorView=function FurnitureBackgroundColorView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objectId=_useState2[0],setObjectId=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),hue=_useState4[0],setHue=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),saturation=_useState6[0],setSaturation=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),lightness=_useState8[0],setLightness=_useState8[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var close=Object(react[\"useCallback\"])(function(){eventDispatcher.dispatchEvent(new RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent(RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.CLEAR_PREVIEW));setObjectId(-1);},[eventDispatcher]);var canOpenBackgroundToner=Object(react[\"useCallback\"])(function(){return roomSession.isRoomOwner||roomSession.controllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator;},[roomSession]);var onRoomEngineObjectEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BACKGROUND_COLOR:{if(!canOpenBackgroundToner())return;var roomObject=GetRoomEngine().getRoomObject(event.roomId,event.objectId,event.category);var model=roomObject.model;setObjectId(roomObject.id);setHue(parseInt(model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_ROOM_BACKGROUND_COLOR_HUE)));setSaturation(parseInt(model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION)));setLightness(parseInt(model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS)));return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:{if(objectId!==event.objectId)return;close();return;}}},[objectId,canOpenBackgroundToner,close]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BACKGROUND_COLOR,onRoomEngineObjectEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,eventDispatcher,onRoomEngineObjectEvent);var processAction=Object(react[\"useCallback\"])(function(name){switch(name){case'apply':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"h\" /* ApplyTonerComposer */](objectId,hue,saturation,lightness));break;case'toggle':roomSession.useMultistateItem(objectId);break;}},[roomSession,objectId,hue,saturation,lightness]);Object(react[\"useEffect\"])(function(){if(objectId===-1)return;eventDispatcher.dispatchEvent(new RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent(RoomWidgetUpdateBackgroundColorPreviewEvent_RoomWidgetUpdateBackgroundColorPreviewEvent.PREVIEW,hue,saturation,lightness));},[eventDispatcher,objectId,hue,saturation,lightness]);if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{theme:\"primary-slim\",className:\"nitro-room-widget-toner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('widget.backgroundcolor.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"auto\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('widget.backgroundcolor.hue')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:360,value:hue,onChange:function onChange(event){return setHue(event);},thumbClassName:'thumb degree',renderThumb:function renderThumb(props,state){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:state.valueNow}));}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('widget.backgroundcolor.saturation')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:255,value:saturation,onChange:function onChange(event){return setSaturation(event);},thumbClassName:'thumb percent',renderThumb:function renderThumb(props,state){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:state.valueNow}));}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('widget.backgroundcolor.lightness')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:255,value:lightness,onChange:function onChange(event){return setLightness(event);},thumbClassName:'thumb percent',renderThumb:function renderThumb(props,state){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:state.valueNow}));}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"primary\",onClick:function onClick(event){return processAction('toggle');},children:LocalizeText('widget.backgroundcolor.button.on')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"primary\",onClick:function onClick(event){return processAction('apply');},children:LocalizeText('widget.backgroundcolor.button.apply')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/trophy/FurnitureTrophyData.ts\nvar FurnitureTrophyData_FurnitureTrophyData=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function FurnitureTrophyData(objectId,category,color,ownerName,date,message,customTitle){Object(classCallCheck[\"a\" /* default */])(this,FurnitureTrophyData);this.objectId=objectId;this.category=category;this.color=color;this.ownerName=ownerName;this.date=date;this.message=message;this.customTitle=customTitle;});\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/badge-display/FurnitureBadgeDisplayView.tsx\nvar FurnitureBadgeDisplayView_FurnitureBadgeDisplayView=function FurnitureBadgeDisplayView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),trophyData=_useState2[0],setTrophyData=_useState2[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var onNitroEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BADGE_DISPLAY_ENGRAVING:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;var stringStuff=new nitro_renderer[\"Kh\" /* StringDataType */]();stringStuff.initializeFromRoomObjectModel(roomObject.model);var badgeName=LocalizeBageName_LocalizeBadgeName(stringStuff.getValue(1));var badgeDesc=LocalizeBadgeDescription_LocalizeBadgeDescription(stringStuff.getValue(1));var date=stringStuff.getValue(2);var senderName=stringStuff.getValue(3);setTrophyData(new FurnitureTrophyData_FurnitureTrophyData(widgetEvent.objectId,widgetEvent.category,'1',senderName,date,badgeDesc,badgeName));return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:{var _widgetEvent=event;setTrophyData(function(prevState){if(!prevState||_widgetEvent.id!==prevState.objectId||_widgetEvent.category!==prevState.category)return prevState;return null;});return;}}},[]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BADGE_DISPLAY_ENGRAVING,onNitroEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,onNitroEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,widgetHandler.eventDispatcher,onNitroEvent);var processAction=Object(react[\"useCallback\"])(function(type){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close':setTrophyData(null);return;}},[]);if(!trophyData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutTrophyView_LayoutTrophyView,{color:trophyData.color,message:trophyData.message,date:trophyData.date,senderName:trophyData.ownerName,customTitle:trophyData.customTitle,onCloseClick:function onCloseClick(){return processAction('close');}});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/context-menu/EffectBoxConfirmView.tsx\nvar EffectBoxConfirmView_EffectBoxConfirmView=function EffectBoxConfirmView(props){var _props$objectId=props.objectId,objectId=_props$objectId===void 0?-1:_props$objectId,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS;var useProduct=function useProduct(){roomSession.useMultistateItem(objectId);close();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('effectbox.header.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{gap:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('effectbox.header.description')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:close,children:LocalizeText('generic.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('generic.ok')})]})]})})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/context-menu/MonsterPlantSeedConfirmView.tsx\nvar MODE_DEFAULT=-1;var MODE_MONSTERPLANT_SEED=0;var MonsterPlantSeedConfirmView_MonsterPlantSeedConfirmView=function MonsterPlantSeedConfirmView(props){var _props$objectId=props.objectId,objectId=_props$objectId===void 0?-1:_props$objectId,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),furniData=_useState2[0],setFurniData=_useState2[1];var _useState3=Object(react[\"useState\"])(MODE_DEFAULT),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),mode=_useState4[0],setMode=_useState4[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var useProduct=function useProduct(){widgetHandler.processWidgetMessage(new RoomWidgetUseProductMessage_RoomWidgetUseProductMessage(RoomWidgetUseProductMessage_RoomWidgetUseProductMessage.MONSTERPLANT_SEED,objectId));close();};Object(react[\"useEffect\"])(function(){if(!roomSession||objectId===-1)return;var furniData=GetFurnitureDataForRoomObject(roomSession.roomId,objectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(!furniData)return;setFurniData(furniData);var mode=MODE_DEFAULT;switch(furniData.specialType){case FurniCategory_FurniCategory.MONSTERPLANT_SEED:mode=MODE_MONSTERPLANT_SEED;break;}if(mode===MODE_DEFAULT){close();return;}setMode(mode);},[roomSession,objectId,close]);if(mode===MODE_DEFAULT)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('useproduct.widget.title.plant_seed',['name'],[furniData.name]),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"product-preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"monsterplant-image\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.plant_seed',['productName'],[furniData.name])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.plant_seed')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:close,children:LocalizeText('useproduct.widget.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('widget.monsterplant_seed.button.use')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/context-menu/PurchasableClothingConfirmView.tsx\nvar PurchasableClothingConfirmView_MODE_DEFAULT=-1;var MODE_PURCHASABLE_CLOTHING=0;var PurchasableClothingConfirmView_PurchasableClothingConfirmView=function PurchasableClothingConfirmView(props){var _props$objectId=props.objectId,objectId=_props$objectId===void 0?-1:_props$objectId,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(PurchasableClothingConfirmView_MODE_DEFAULT),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mode=_useState2[0],setMode=_useState2[1];var _useState3=Object(react[\"useState\"])(FigureData_FigureData.MALE),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),gender=_useState4[0],setGender=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newFigure=_useState6[0],setNewFigure=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS;var useProduct=function useProduct(){GetConnection().send(new nitro_renderer[\"Cf\" /* RedeemItemClothingComposer */](objectId));GetConnection().send(new nitro_renderer[\"xi\" /* UserFigureComposer */](gender,newFigure));close();};Object(react[\"useEffect\"])(function(){var mode=PurchasableClothingConfirmView_MODE_DEFAULT;var figure=GetSessionDataManager().figure;var gender=GetSessionDataManager().gender;var validSets=[];if(roomSession&&objectId>=0){var furniData=GetFurnitureDataForRoomObject(roomSession.roomId,objectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(furniData){switch(furniData.specialType){case FurniCategory_FurniCategory.FIGURE_PURCHASABLE_SET:mode=MODE_PURCHASABLE_CLOTHING;var setIds=furniData.customParams.split(',').map(function(part){return parseInt(part);});var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(setIds),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var setId=_step.value;if(GetAvatarRenderManager().isValidFigureSetForGender(setId,gender))validSets.push(setId);}}catch(err){_iterator.e(err);}finally{_iterator.f();}break;}}}if(mode===PurchasableClothingConfirmView_MODE_DEFAULT){close();return;}setGender(gender);setNewFigure(GetAvatarRenderManager().getFigureStringWithFigureIds(figure,gender,validSets));// if owns clothing, change to it\nsetMode(mode);},[roomSession,objectId,close]);if(mode===PurchasableClothingConfirmView_MODE_DEFAULT)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-use-product-confirmation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('useproduct.widget.title.bind_clothing'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"mannequin-preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:newFigure,direction:2})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.text.bind_clothing')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('useproduct.widget.info.bind_clothing')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:close,children:LocalizeText('useproduct.widget.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:useProduct,children:LocalizeText('useproduct.widget.bind_clothing')})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/context-menu/FurnitureContextMenuView.tsx\nvar MONSTERPLANT_SEED_CONFIRMATION='MONSTERPLANT_SEED_CONFIRMATION';var PURCHASABLE_CLOTHING_CONFIRMATION='PURCHASABLE_CLOTHING_CONFIRMATION';var GROUP_FURNITURE='GROUP_FURNITURE';var EFFECTBOX_OPEN='EFFECTBOX_OPEN';var FurnitureContextMenuView_FurnitureContextMenuView=function FurnitureContextMenuView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objectId=_useState2[0],setObjectId=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),mode=_useState4[0],setMode=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),confirmMode=_useState6[0],setConfirmMode=_useState6[1];var _useState7=Object(react[\"useState\"])(-1),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),confirmingObjectId=_useState8[0],setConfirmingObjectId=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),groupData=_useState10[0],setGroupData=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isGroupMember=_useState12[0],setIsGroupMember=_useState12[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var close=Object(react[\"useCallback\"])(function(){setObjectId(-1);setGroupData(null);setIsGroupMember(false);setMode(null);},[]);var closeConfirm=function closeConfirm(){setConfirmMode(null);setConfirmingObjectId(-1);};var onRoomEngineTriggerWidgetEvent=Object(react[\"useCallback\"])(function(event){var object=GetRoomEngine().getRoomObject(roomSession.roomId,event.objectId,event.category);if(!object)return;switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:if(!IsOwnerOfFurniture(object))return;setConfirmingObjectId(object.id);setConfirmMode(MONSTERPLANT_SEED_CONFIRMATION);close();return;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_EFFECTBOX_OPEN_DIALOG:if(!IsOwnerOfFurniture(object))return;setConfirmingObjectId(object.id);setConfirmMode(EFFECTBOX_OPEN);close();return;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:if(!IsOwnerOfFurniture(object))return;setConfirmingObjectId(object.id);setConfirmMode(PURCHASABLE_CLOTHING_CONFIRMATION);close();return;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_FURNI_CONTEXT_MENU:setObjectId(object.id);switch(event.contextMenu){case nitro_renderer[\"lb\" /* ContextMenuEnum */].FRIEND_FURNITURE:setMode(nitro_renderer[\"lb\" /* ContextMenuEnum */].FRIEND_FURNITURE);return;case nitro_renderer[\"lb\" /* ContextMenuEnum */].MONSTERPLANT_SEED:if(IsOwnerOfFurniture(object))setMode(nitro_renderer[\"lb\" /* ContextMenuEnum */].MONSTERPLANT_SEED);return;case nitro_renderer[\"lb\" /* ContextMenuEnum */].MYSTERY_BOX:return;case nitro_renderer[\"lb\" /* ContextMenuEnum */].RANDOM_TELEPORT:setMode(nitro_renderer[\"lb\" /* ContextMenuEnum */].RANDOM_TELEPORT);return;case nitro_renderer[\"lb\" /* ContextMenuEnum */].PURCHASABLE_CLOTHING:if(IsOwnerOfFurniture(object))setMode(nitro_renderer[\"lb\" /* ContextMenuEnum */].PURCHASABLE_CLOTHING);return;}return;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_FURNI_CONTEXT_MENU:if(object.id===objectId)close();return;}},[roomSession,objectId,close]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_FURNI_CONTEXT_MENU,onRoomEngineTriggerWidgetEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_FURNI_CONTEXT_MENU,onRoomEngineTriggerWidgetEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,onRoomEngineTriggerWidgetEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,onRoomEngineTriggerWidgetEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_EFFECTBOX_OPEN_DIALOG,onRoomEngineTriggerWidgetEvent);var onGroupFurniContextMenuInfoMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setObjectId(parser.objectId);setGroupData(parser);setIsGroupMember(parser.userIsMember);setMode(GROUP_FURNITURE);},[]);UseMessageEventHook(nitro_renderer[\"Nc\" /* GroupFurniContextMenuInfoMessageEvent */],onGroupFurniContextMenuInfoMessageEvent);var processAction=function processAction(name){if(name){switch(name){case'use_friend_furni':roomSession.useMultistateItem(objectId);break;case'use_monsterplant_seed':setConfirmMode(MONSTERPLANT_SEED_CONFIRMATION);setConfirmingObjectId(objectId);break;case'use_random_teleport':widgetHandler.processWidgetMessage(new RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage(RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.USE,objectId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR));break;case'use_purchaseable_clothing':setConfirmMode(PURCHASABLE_CLOTHING_CONFIRMATION);setConfirmingObjectId(objectId);break;case'join_group':TryJoinGroup_TryJoinGroup(groupData.guildId);setIsGroupMember(true);return;case'go_to_group_homeroom':if(groupData)TryVisitRoom(groupData.guildHomeRoomId);break;}}close();};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[confirmMode===MONSTERPLANT_SEED_CONFIRMATION&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MonsterPlantSeedConfirmView_MonsterPlantSeedConfirmView,{objectId:confirmingObjectId,close:closeConfirm}),confirmMode===PURCHASABLE_CLOTHING_CONFIRMATION&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PurchasableClothingConfirmView_PurchasableClothingConfirmView,{objectId:confirmingObjectId,close:closeConfirm}),confirmMode===EFFECTBOX_OPEN&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EffectBoxConfirmView_EffectBoxConfirmView,{objectId:confirmingObjectId,close:closeConfirm}),objectId>=0&&mode&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuView_ContextMenuView,{objectId:objectId,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR,close:close,fades:true,children:[mode===nitro_renderer[\"lb\" /* ContextMenuEnum */].FRIEND_FURNITURE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:LocalizeText('friendfurni.context.title')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_friend_furni');},children:LocalizeText('friendfurni.context.use')})]}),mode===nitro_renderer[\"lb\" /* ContextMenuEnum */].MONSTERPLANT_SEED&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:LocalizeText('furni.mnstr_seed.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_monsterplant_seed');},children:LocalizeText('widget.monsterplant_seed.button.use')})]}),mode===nitro_renderer[\"lb\" /* ContextMenuEnum */].RANDOM_TELEPORT&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:LocalizeText('furni.random_teleport.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_random_teleport');},children:LocalizeText('widget.random_teleport.button.use')})]}),mode===nitro_renderer[\"lb\" /* ContextMenuEnum */].PURCHASABLE_CLOTHING&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:LocalizeText('furni.generic_usable.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('use_purchaseable_clothing');},children:LocalizeText('widget.generic_usable.button.use')})]}),mode===GROUP_FURNITURE&&groupData&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{className:\"cursor-pointer text-truncate\",onClick:function onClick(){return GetGroupInformation(groupData.guildId);},children:groupData.guildName}),!isGroupMember&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('join_group');},children:LocalizeText('widget.furniture.button.join.group')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('go_to_group_homeroom');},children:LocalizeText('widget.furniture.button.go.to.group.home.room')}),groupData.guildHasReadableForum&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuListItemView_ContextMenuListItemView,{onClick:function onClick(event){return processAction('open_forum');},children:LocalizeText('widget.furniture.button.open_group_forum')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/custom-stack-height/FurnitureCustomStackHeightView.tsx\nvar MAX_HEIGHT=40;var FurnitureCustomStackHeightView_FurnitureCustomStackHeightView=function FurnitureCustomStackHeightView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objectId=_useState2[0],setObjectId=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),height=_useState4[0],setHeight=_useState4[1];var _useState5=Object(react[\"useState\"])(-1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),pendingHeight=_useState6[0],setPendingHeight=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var close=function close(){setObjectId(-1);setHeight(0);};var updateHeight=Object(react[\"useCallback\"])(function(height){var fromServer=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!height)height=0;height=Math.abs(height);if(!fromServer)height>MAX_HEIGHT&&(height=MAX_HEIGHT);setHeight(parseFloat(height.toFixed(2)));if(!fromServer)setPendingHeight(height*100);},[]);var onRoomWidgetUpdateCustomStackHeightEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateCustomStackHeightEvent_RoomWidgetUpdateCustomStackHeightEvent.UPDATE_CUSTOM_STACK_HEIGHT:{setObjectId(event.objectId);updateHeight(event.height,true);}}},[updateHeight]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateCustomStackHeightEvent_RoomWidgetUpdateCustomStackHeightEvent.UPDATE_CUSTOM_STACK_HEIGHT,eventDispatcher,onRoomWidgetUpdateCustomStackHeightEvent);var onFurnitureStackHeightEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(objectId!==parser.furniId)return;updateHeight(parser.height,true);},[objectId,updateHeight]);UseMessageEventHook(nitro_renderer[\"Xb\" /* FurnitureStackHeightEvent */],onFurnitureStackHeightEvent);var sendUpdate=Object(react[\"useCallback\"])(function(height){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Wb\" /* FurnitureStackHeightComposer */](objectId,~~height));},[objectId]);Object(react[\"useEffect\"])(function(){if(objectId===-1||pendingHeight===-1)return;var timeout=setTimeout(function(){return sendUpdate(~~pendingHeight);},10);return function(){return clearTimeout(timeout);};},[objectId,pendingHeight,sendUpdate]);if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-widget-custom-stack-height\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('widget.custom.stack.height.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('widget.custom.stack.height.text')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:\"nitro-slider\",min:0,max:MAX_HEIGHT,step:0.01,value:height,onChange:function onChange(event){return updateHeight(event);},renderThumb:function renderThumb(props,state){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:state.valueNow}));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",min:0,max:MAX_HEIGHT,value:height,onChange:function onChange(event){return updateHeight(parseFloat(event.target.value));}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return sendUpdate(-100);},children:LocalizeText('furniture.above.stack')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return sendUpdate(0);},children:LocalizeText('furniture.floor.level')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/dimmer/DimmerFurnitureWidgetPresetItem.ts\nvar DimmerFurnitureWidgetPresetItem_DimmerFurnitureWidgetPresetItem=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function DimmerFurnitureWidgetPresetItem(){var id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var color=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var light=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;Object(classCallCheck[\"a\" /* default */])(this,DimmerFurnitureWidgetPresetItem);this.id=id;this.type=type;this.color=color;this.light=light;});\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/dimmer/FurnitureDimmerView.tsx\nvar AVAILABLE_COLORS=[7665141,21495,15161822,15353138,15923281,8581961,0];var HTML_COLORS=['#74F5F5','#0053F7','#E759DE','#EA4532','#F2F851','#82F349','#000000'];var MIN_BRIGHTNESS=76;var MAX_BRIGHTNESS=255;var FurnitureDimmerView_FurnitureDimmerView=function FurnitureDimmerView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),presets=_useState4[0],setPresets=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedPresetId=_useState6[0],setSelectedPresetId=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),dimmerState=_useState8[0],setDimmerState=_useState8[1];var _useState9=Object(react[\"useState\"])(0),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),lastDimmerState=_useState10[0],setLastDimmerState=_useState10[1];var _useState11=Object(react[\"useState\"])(0),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),effectId=_useState12[0],setEffectId=_useState12[1];var _useState13=Object(react[\"useState\"])(0xFFFFFF),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),color=_useState14[0],setColor=_useState14[1];var _useState15=Object(react[\"useState\"])(0xFF),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),brightness=_useState16[0],setBrightness=_useState16[1];var _useState17=Object(react[\"useState\"])(0),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),selectedEffectId=_useState18[0],setSelectedEffectId=_useState18[1];var _useState19=Object(react[\"useState\"])(0),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),selectedColor=_useState20[0],setSelectedColor=_useState20[1];var _useState21=Object(react[\"useState\"])(0),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),selectedBrightness=_useState22[0],setSelectedBrightness=_useState22[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var onNitroEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent.PRESETS:{var widgetEvent=event;var _presets=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(widgetEvent.presets),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var preset=_step.value;_presets.push(new DimmerFurnitureWidgetPresetItem_DimmerFurnitureWidgetPresetItem(preset.id,preset.type,preset.color,preset.brightness));}}catch(err){_iterator.e(err);}finally{_iterator.f();}setPresets(_presets);setSelectedPresetId(widgetEvent.selectedPresetId);setIsVisible(true);return;}case RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent.HIDE:{setIsVisible(false);return;}case RoomWidgetUpdateDimmerStateEvent_RoomWidgetUpdateDimmerStateEvent.DIMMER_STATE:{var _widgetEvent=event;setLastDimmerState(dimmerState);setDimmerState(_widgetEvent.state);setSelectedPresetId(_widgetEvent.presetId);setEffectId(_widgetEvent.effectId);setSelectedEffectId(_widgetEvent.effectId);setColor(_widgetEvent.color);setSelectedColor(_widgetEvent.color);setBrightness(_widgetEvent.brightness);setSelectedBrightness(_widgetEvent.brightness);return;}}},[dimmerState]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent.PRESETS,eventDispatcher,onNitroEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateDimmerEvent_RoomWidgetUpdateDimmerEvent.HIDE,eventDispatcher,onNitroEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateDimmerStateEvent_RoomWidgetUpdateDimmerStateEvent.DIMMER_STATE,eventDispatcher,onNitroEvent);var selectPresetId=Object(react[\"useCallback\"])(function(id){var preset=presets[id-1];if(!preset)return;setSelectedPresetId(preset.id);setSelectedEffectId(preset.type);setSelectedColor(preset.color);setSelectedBrightness(preset.light);},[presets]);var close=Object(react[\"useCallback\"])(function(){widgetHandler.processWidgetMessage(new RoomWidgetDimmerPreviewMessage_RoomWidgetDimmerPreviewMessage(color,brightness,effectId===2));setIsVisible(false);},[widgetHandler,color,brightness,effectId]);var toggleState=Object(react[\"useCallback\"])(function(){widgetHandler.processWidgetMessage(new RoomWidgetDimmerChangeStateMessage_RoomWidgetDimmerChangeStateMessage());},[widgetHandler]);var applyChanges=Object(react[\"useCallback\"])(function(){if(dimmerState===0)return;var selectedPresetIndex=selectedPresetId-1;if(selectedPresetId<1||selectedPresetId>presets.length)return;var preset=presets[selectedPresetIndex];if(!preset||selectedEffectId===preset.type&&selectedColor===preset.color&&selectedBrightness===preset.light)return;setPresets(function(prevValue){var newValue=Object(toConsumableArray[\"a\" /* default */])(prevValue);newValue[selectedPresetIndex]=new DimmerFurnitureWidgetPresetItem_DimmerFurnitureWidgetPresetItem(preset.id,selectedEffectId,selectedColor,selectedBrightness);return newValue;});widgetHandler.processWidgetMessage(new RoomWidgetDimmerSavePresetMessage_RoomWidgetDimmerSavePresetMessage(preset.id,selectedEffectId,selectedColor,selectedBrightness,true));},[widgetHandler,dimmerState,selectedPresetId,presets,selectedEffectId,selectedColor,selectedBrightness]);var scaledBrightness=Object(react[\"useCallback\"])(function(value){return~~((value-MIN_BRIGHTNESS)*(100-0)/(MAX_BRIGHTNESS-MIN_BRIGHTNESS)+0);},[]);var isFreeColorMode=Object(react[\"useMemo\"])(function(){return GetConfiguration('widget.dimmer.colorwheel',false);},[]);Object(react[\"useEffect\"])(function(){if(dimmerState===0&&lastDimmerState===0)return;widgetHandler.processWidgetMessage(new RoomWidgetDimmerPreviewMessage_RoomWidgetDimmerPreviewMessage(selectedColor,selectedBrightness,selectedEffectId===2));},[widgetHandler,dimmerState,lastDimmerState,selectedColor,selectedBrightness,selectedEffectId]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-room-widget-dimmer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('widget.dimmer.title'),onCloseClick:close}),dimmerState===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsView_NitroCardTabsView,{children:presets.map(function(preset){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardTabsItemView_NitroCardTabsItemView,{isActive:selectedPresetId===preset.id,onClick:function onClick(event){return selectPresetId(preset.id);},children:LocalizeText(\"widget.dimmer.tab.\".concat(preset.id))},preset.id);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[dimmerState===0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"dimmer-banner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,className:\"bg-muted rounded p-1\",children:LocalizeText('widget.dimmer.info.off')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:toggleState,children:LocalizeText('widget.dimmer.button.on')})]}),dimmerState===1&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontWeight:\"bold\",children:LocalizeText('widget.backgroundcolor.hue')}),isFreeColorMode&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"color\",className:\"form-control\",value:ColorUtils_ColorUtils.makeColorNumberHex(selectedColor),onChange:function onChange(event){return setSelectedColor(ColorUtils_ColorUtils.convertFromHex(event.target.value));}}),!isFreeColorMode&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{gap:1,columnCount:7,children:AVAILABLE_COLORS.map(function(color,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullWidth:true,pointer:true,className:'color-swatch rounded'+classnames_default()({' active':color===selectedColor}),onClick:function onClick(){return setSelectedColor(color);},style:{backgroundColor:HTML_COLORS[index]}},index);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontWeight:\"bold\",children:LocalizeText('widget.backgroundcolor.lightness')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:\"nitro-slider\",min:MIN_BRIGHTNESS,max:MAX_BRIGHTNESS,value:selectedBrightness,onChange:function onChange(value){return setSelectedBrightness(value);},thumbClassName:'thumb percent',renderThumb:function renderThumb(props,state){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:scaledBrightness(state.valueNow)}));}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:selectedEffectId===2,onChange:function onChange(event){return setSelectedEffectId(event.target.checked?2:1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('widget.dimmer.type.checkbox')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"danger\",onClick:toggleState,children:LocalizeText('widget.dimmer.button.off')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:applyChanges,children:LocalizeText('widget.dimmer.button.apply')})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/exchange-credit/FurnitureExchangeCreditView.tsx\nvar FurnitureExchangeCreditView_FurnitureExchangeCreditView=function FurnitureExchangeCreditView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objectId=_useState2[0],setObjectId=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),value=_useState4[0],setValue=_useState4[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var onRoomWidgetUpdateCreditFurniEvent=Object(react[\"useCallback\"])(function(event){setObjectId(event.objectId);setValue(event.value);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateCreditFurniEvent_RoomWidgetUpdateCreditFurniEvent.CREDIT_FURNI_UPDATE,eventDispatcher,onRoomWidgetUpdateCreditFurniEvent);var close=function close(){setObjectId(-1);setValue(0);};var redeem=function redeem(){widgetHandler.processWidgetMessage(new RoomWidgetCreditFurniRedeemMessage_RoomWidgetCreditFurniRedeemMessage(RoomWidgetCreditFurniRedeemMessage_RoomWidgetCreditFurniRedeemMessage.REDEEM,objectId));close();};if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-widget-exchange-credit\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('catalog.redeem.dialog.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{overflow:\"hidden\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"exchange-image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,justifyContent:\"between\",overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,overflow:\"auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fontWeight:\"bold\",children:LocalizeText('creditfurni.description',['credits'],[value.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('creditfurni.prompt')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:redeem,children:LocalizeText('catalog.redeem.dialog.button.exchange')})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/external-image/FurnitureExternalImageView.tsx\nvar FurnitureExternalImageView_FurnitureExternalImageView=function FurnitureExternalImageView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objectId=_useState2[0],setObjectId=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),photoData=_useState4[0],setPhotoData=_useState4[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var close=function close(){setObjectId(-1);setPhotoData(null);};var onRoomWidgetUpdateExternalImageEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateExternalImageEvent_RoomWidgetUpdateExternalImageEvent.UPDATE_EXTERNAL_IMAGE:setObjectId(event.objectId);setPhotoData(event.photoData);return;}},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateExternalImageEvent_RoomWidgetUpdateExternalImageEvent.UPDATE_EXTERNAL_IMAGE,eventDispatcher,onRoomWidgetUpdateExternalImageEvent);if(objectId===-1||!photoData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-external-image-widget\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'',onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"picture-preview border border-black\",style:photoData.w?{backgroundImage:'url('+photoData.w+')'}:{},children:!photoData.w&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('camera.loading')})}),photoData.m&&photoData.m.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,children:photoData.m}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:photoData.n||''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:new Date(photoData.t*1000).toLocaleDateString()})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/friend-furni/FriendFurniLockData.ts\nvar FriendFurniLockData_FurnitureEngravingLockData=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function FurnitureEngravingLockData(objectId){var category=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var usernames=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var figures=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];var date=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;Object(classCallCheck[\"a\" /* default */])(this,FurnitureEngravingLockData);this.objectId=objectId;this.category=category;this.type=type;this.usernames=usernames;this.figures=figures;this.date=date;});\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/friend-furni/FurnitureFriendFurniView.tsx\nvar FurnitureFriendFurniView_FurnitureFriendFurniView=function FurnitureFriendFurniView(props){var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),engravingLockData=_useState2[0],setEngravingLockData=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),engravingStage=_useState4[0],setEngravingStage=_useState4[1];var onNitroEvent=function onNitroEvent(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_FRIEND_FURNITURE_ENGRAVING:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;var data=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA);var type=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_FRIENDFURNI_ENGRAVING);if(data[0]==='1'){if(data.length!==6)return;setEngravingLockData(new FriendFurniLockData_FurnitureEngravingLockData(widgetEvent.objectId,widgetEvent.category,type,[data[1],data[2]],[data[3],data[4]],data[5]));setEngravingStage(0);}return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:{var _widgetEvent=event;setEngravingLockData(function(prevState){if(!prevState||_widgetEvent.id!==prevState.objectId||_widgetEvent.category!==prevState.category)return prevState;return null;});return;}}};UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_FRIEND_FURNITURE_ENGRAVING,onNitroEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,eventDispatcher,onNitroEvent);var onLoveLockFurniStartEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setEngravingLockData(new FriendFurniLockData_FurnitureEngravingLockData(parser.furniId));setEngravingStage(parser.start?1:2);},[]);UseMessageEventHook(nitro_renderer[\"Vd\" /* LoveLockFurniStartEvent */],onLoveLockFurniStartEvent);var processAction=Object(react[\"useCallback\"])(function(type){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close_view':setEngravingLockData(null);return;case'accept_request':GetRoomSession().connection.send(new nitro_renderer[\"Eb\" /* FriendFurniConfirmLockMessageComposer */](engravingLockData.objectId,true));processAction('close_request');return;case'reject_request':GetRoomSession().connection.send(new nitro_renderer[\"Eb\" /* FriendFurniConfirmLockMessageComposer */](engravingLockData.objectId,false));processAction('close_request');return;case'close_request':setEngravingStage(0);setEngravingLockData(null);return;}},[engravingLockData]);var onLoveLockDoneEvent=Object(react[\"useCallback\"])(function(event){processAction('close_request');},[processAction]);UseMessageEventHook(nitro_renderer[\"Td\" /* LoveLockFurniFinishedEvent */],onLoveLockDoneEvent);UseMessageEventHook(nitro_renderer[\"Ud\" /* LoveLockFurniFriendConfirmedEvent */],onLoveLockDoneEvent);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[engravingStage>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-engraving-lock\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('friend.furniture.confirm.lock.caption'),onCloseClick:function onCloseClick(event){return processAction('close_request');}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"text-black text-center fw-bold mt-2 mb-2\",children:LocalizeText('friend.furniture.confirm.lock.subtitle')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex justify-content-center mb-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'engraving-lock-stage-'+engravingStage})}),engravingStage===2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-small text-black text-center mb-2\",children:LocalizeText('friend.furniture.confirm.lock.other.locked')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100 me-2\",onClick:function onClick(event){return processAction('reject_request');},children:LocalizeText('friend.furniture.confirm.lock.button.cancel')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(event){return processAction('accept_request');},children:LocalizeText('friend.furniture.confirm.lock.button.confirm')})]})]})]}),engravingLockData&&engravingLockData.usernames.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow_DraggableWindow,{handleSelector:\".nitro-engraving-lock-view\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:'nitro-engraving-lock-view engraving-lock-'+engravingLockData.type,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"engraving-lock-close\",onClick:function onClick(event){return processAction('close_view');}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex justify-content-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"engraving-lock-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:engravingLockData.figures[0],direction:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"engraving-lock-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:engravingLockData.figures[1],direction:4})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center mt-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[engravingLockData.type===0&&LocalizeText('lovelock.engraving.caption'),engravingLockData.type===3&&LocalizeText('wildwest.engraving.caption')]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:engravingLockData.date}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex justify-content-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"me-4\",children:engravingLockData.usernames[0]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:engravingLockData.usernames[1]})]})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/gift-opening/FurnitureGiftOpeningView.tsx\nvar FLOOR='floor';var WALLPAPER='wallpaper';var LANDSCAPE='landscape';var ACTION_GIVE_GIFT=0;var ACTION_OPEN=1;var ACTION_PLACE=2;var ACTION_INVENTORY=3;var FurnitureGiftOpeningView_FurnitureGiftOpeningView=function FurnitureGiftOpeningView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objectId=_useState2[0],setObjectId=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),classId=_useState4[0],setClassId=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),itemType=_useState6[0],setItemType=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),text=_useState8[0],setText=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),isOwnerOfFurniture=_useState10[0],setIsOwnerOfFurniture=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),senderName=_useState12[0],setSenderName=_useState12[1];var _useState13=Object(react[\"useState\"])(null),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),senderFigure=_useState14[0],setSenderFigure=_useState14[1];var _useState15=Object(react[\"useState\"])(-1),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),placedItemId=_useState16[0],setPlacedItemId=_useState16[1];var _useState17=Object(react[\"useState\"])(null),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),placedItemType=_useState18[0],setPlacedItemType=_useState18[1];var _useState19=Object(react[\"useState\"])(false),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),placedInRoom=_useState20[0],setPlacedInRoom=_useState20[1];var _useState21=Object(react[\"useState\"])(null),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),imageUrl=_useState22[0],setImageUrl=_useState22[1];var _useState23=Object(react[\"useState\"])(false),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),openRequested=_useState24[0],setOpenRequested=_useState24[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var clearGift=Object(react[\"useCallback\"])(function(){if(!openRequested)setObjectId(-1);setText(null);setIsOwnerOfFurniture(false);},[openRequested]);var getGiftImageUrl=Object(react[\"useCallback\"])(function(name){return'';},[]);var onRoomWidgetUpdatePresentDataEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.PACKAGEINFO:{setOpenRequested(false);setObjectId(event.objectId);setText(event.giftMessage);setIsOwnerOfFurniture(event.isController);setSenderName(event.purchaserName);setSenderFigure(event.purchaserFigure);setImageUrl(event.imageUrl);return;}case RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_FLOOR:case RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_LANDSCAPE:case RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_WALLPAPER:{var imageType=null;if(event.type===RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_FLOOR)imageType='packagecard_icon_floor';else if(event.type===RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_LANDSCAPE)imageType='packagecard_icon_landscape';else if(event.type===RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_WALLPAPER)imageType='packagecard_icon_wallpaper';setObjectId(event.objectId);setClassId(event.classId);setItemType(event.itemType);setText(event.giftMessage);setIsOwnerOfFurniture(event.isController);setPlacedItemId(event.placedItemId);setPlacedItemType(event.placedItemType);setPlacedInRoom(event.placedInRoom);setImageUrl(getGiftImageUrl(imageType));return;}case RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_CLUB:{setObjectId(event.objectId);setClassId(event.classId);setItemType(event.itemType);setText(event.giftMessage);setIsOwnerOfFurniture(event.isController);setImageUrl(getGiftImageUrl('packagecard_icon_hc'));return;}case RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS:{if(!openRequested)return;setObjectId(event.objectId);setClassId(event.classId);setItemType(event.itemType);setText(event.giftMessage);setIsOwnerOfFurniture(event.isController);setPlacedItemId(event.placedItemId);setPlacedItemType(event.placedItemType);setPlacedInRoom(event.placedInRoom);setImageUrl(event.imageUrl);return;}case RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_IMAGE:{if(!openRequested)return;setImageUrl(event.imageUrl);}}},[openRequested,getGiftImageUrl]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.PACKAGEINFO,eventDispatcher,onRoomWidgetUpdatePresentDataEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS,eventDispatcher,onRoomWidgetUpdatePresentDataEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_FLOOR,eventDispatcher,onRoomWidgetUpdatePresentDataEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_LANDSCAPE,eventDispatcher,onRoomWidgetUpdatePresentDataEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_WALLPAPER,eventDispatcher,onRoomWidgetUpdatePresentDataEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_CLUB,eventDispatcher,onRoomWidgetUpdatePresentDataEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdatePresentDataEvent_RoomWidgetUpdatePresentDataEvent.CONTENTS_IMAGE,eventDispatcher,onRoomWidgetUpdatePresentDataEvent);var onRoomWidgetRoomObjectUpdateEvent=Object(react[\"useCallback\"])(function(event){if(event.id===objectId)clearGift();if(event.id===placedItemId){if(placedInRoom)setPlacedInRoom(false);}},[objectId,placedItemId,placedInRoom,clearGift]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);var close=Object(react[\"useCallback\"])(function(){setObjectId(-1);setOpenRequested(false);setPlacedItemId(-1);setPlacedInRoom(false);setText(null);setIsOwnerOfFurniture(false);},[]);var isSpaces=Object(react[\"useMemo\"])(function(){if(itemType!==ProductTypeEnum_ProductTypeEnum.WALL)return false;var furniData=GetSessionDataManager().getWallItemData(classId);if(!furniData)return false;var className=furniData.className;return className===FLOOR||className===LANDSCAPE||className===WALLPAPER;},[classId,itemType]);var productName=Object(react[\"useMemo\"])(function(){if(objectId===-1)return'';if(isSpaces)return'widget.furni.present.spaces.message_opened';return'widget.furni.present.message_opened';},[objectId,isSpaces]);var handleAction=Object(react[\"useCallback\"])(function(action){switch(action){case ACTION_GIVE_GIFT:CreateLinkEvent('catalog/open');return;case ACTION_OPEN:setOpenRequested(true);widgetHandler.processWidgetMessage(new RoomWidgetPresentOpenMessage_RoomWidgetPresentOpenMessage(RoomWidgetPresentOpenMessage_RoomWidgetPresentOpenMessage.OPEN_PRESENT,objectId));return;case ACTION_PLACE:return;case ACTION_INVENTORY:if(placedItemId>0&&placedInRoom){if(placedItemType===ProductTypeEnum_ProductTypeEnum.PET){roomSession.pickupPet(placedItemId);}else{var roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,placedItemId,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(roomObject)GetRoomEngine().processRoomObjectOperation(roomObject.id,nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_PICKUP);}}close();return;}},[roomSession,widgetHandler,objectId,placedInRoom,placedItemId,placedItemType,close]);if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-gift-opening\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText(senderName?'widget.furni.present.window.title_from':'widget.furni.present.window.title',['name'],[senderName]),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{center:true,children:[placedItemId===-1&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutGiftTagView_LayoutGiftTagView,{userName:senderName,figure:senderFigure,message:text})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[senderName&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:function onClick(event){return handleAction(ACTION_GIVE_GIFT);},children:LocalizeText('widget.furni.present.give_gift',['name'],[senderName])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:function onClick(event){return handleAction(ACTION_OPEN);},children:LocalizeText('widget.furni.present.open_gift')})]})]}),placedItemId>-1&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,overflow:\"auto\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,className:\"no-select\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{wrap:true,children:LocalizeText(productName,['product'],[text])})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:function onClick(event){return handleAction(ACTION_INVENTORY);},children:LocalizeText('widget.furni.present.put_in_inventory')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:function onClick(event){return handleAction(ACTION_PLACE);},children:LocalizeText(placedInRoom?'widget.furni.present.keep_in_room':'widget.furni.present.place_in_room')})]}),senderName&&senderName.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,onClick:function onClick(event){return handleAction(ACTION_GIVE_GIFT);},children:LocalizeText('widget.furni.present.give_gift',['name'],[senderName])})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/high-score/FurnitureHighScoreView.tsx\nvar SCORE_TYPES=['perteam','mostwins','classic'];var CLEAR_TYPES=['alltime','daily','weekly','monthly'];var FurnitureHighScoreView_FurnitureHighScoreView=function FurnitureHighScoreView(props){var _useState=Object(react[\"useState\"])(new Map()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),stuffDatas=_useState2[0],setStuffDatas=_useState2[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS;var onRoomEngineTriggerWidgetEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIGH_SCORE_DISPLAY:{var object=GetRoomEngine().getRoomObject(roomSession.roomId,event.objectId,event.category);if(!object)return;var formatKey=object.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA_FORMAT);var stuffData=nitro_renderer[\"bf\" /* ObjectDataFactory */].getData(formatKey);stuffData.initializeFromRoomObjectModel(object.model);setStuffDatas(function(prevValue){var newValue=new Map(prevValue);newValue.set(object.id,stuffData);return newValue;});return;}case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIDE_HIGH_SCORE_DISPLAY:if(event.roomId!==roomSession.roomId)return;setStuffDatas(function(prevValue){var newValue=new Map(prevValue);newValue.delete(event.objectId);return newValue;});return;}},[roomSession]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIGH_SCORE_DISPLAY,onRoomEngineTriggerWidgetEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIDE_HIGH_SCORE_DISPLAY,onRoomEngineTriggerWidgetEvent);if(!stuffDatas.size)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:Array.from(stuffDatas.entries()).map(function(_ref,index){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),objectId=_ref2[0],stuffData=_ref2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ObjectLocationView_ObjectLocationView,{objectId:objectId,category:nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"nitro-widget-high-score nitro-context-menu\",gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContextMenuHeaderView_ContextMenuHeaderView,{children:LocalizeText('high.score.display.caption',['scoretype','cleartype'],[LocalizeText(\"high.score.display.scoretype.\".concat(SCORE_TYPES[stuffData.scoreType])),LocalizeText(\"high.score.display.cleartype.\".concat(CLEAR_TYPES[stuffData.clearType]))])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContextMenuListView_ContextMenuListView,{overflow:\"hidden\",gap:1,className:\"h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,bold:true,variant:\"white\",className:\"col-8\",children:LocalizeText('high.score.display.users.header')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,bold:true,variant:\"white\",className:\"col-4\",children:LocalizeText('high.score.display.score.header')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{overflow:\"auto\",gap:1,className:\"overflow-y-scroll\",children:stuffData.entries.map(function(entry,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,variant:\"white\",className:\"col-8\",children:entry.users.join(', ')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,variant:\"white\",className:\"col-4\",children:entry.score})]},index);})})]})]})},index);})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/manipulation-menu/FurnitureManipulationMenuView.tsx\nvar FurnitureManipulationMenuView_FurnitureManipulationMenuView=function FurnitureManipulationMenuView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),objectId=_useState4[0],setObjectId=_useState4[1];var _useState5=Object(react[\"useState\"])(-1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),objectType=_useState6[0],setObjectType=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var rotateFurniture=Object(react[\"useCallback\"])(function(){ProcessRoomObjectOperation(objectId,objectType,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_ROTATE_POSITIVE);},[objectId,objectType]);var moveFurniture=Object(react[\"useCallback\"])(function(){ProcessRoomObjectOperation(objectId,objectType,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_MOVE);},[objectId,objectType]);var pickupFurniture=Object(react[\"useCallback\"])(function(){ProcessRoomObjectOperation(objectId,objectType,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_PICKUP);},[objectId,objectType]);var onRoomWidgetRoomObjectUpdateEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_REQUEST_MANIPULATION:{setIsVisible(true);setObjectId(event.id);setObjectType(event.category);return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:{if(event.id===objectId){setIsVisible(false);setObjectId(-1);setObjectType(-1);}return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED:{setIsVisible(false);setObjectId(-1);setObjectType(-1);return;}}},[objectId]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_REQUEST_MANIPULATION,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);var onRoomWidgetUpdateDecorateModeEvent=Object(react[\"useCallback\"])(function(event){if(event.isDecorating)return;moveFurniture();setIsVisible(false);setObjectId(-1);setObjectType(-1);},[moveFurniture]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateDecorateModeEvent_RoomWidgetUpdateDecorateModeEvent.UPDATE_DECORATE,eventDispatcher,onRoomWidgetUpdateDecorateModeEvent);Object(react[\"useEffect\"])(function(){if(!isVisible){eventDispatcher.dispatchEvent(new RoomWidgetUpdateDecorateModeEvent_RoomWidgetUpdateDecorateModeEvent(false));return;}eventDispatcher.dispatchEvent(new RoomWidgetUpdateDecorateModeEvent_RoomWidgetUpdateDecorateModeEvent(true));moveFurniture();},[eventDispatcher,isVisible,moveFurniture]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ObjectLocationView_ObjectLocationView,{objectId:objectId,category:objectType,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",onClick:pickupFurniture,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",onClick:rotateFurniture,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"undo\"})})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/mannequin/FurnitureMannequinView.tsx\nvar FurnitureMannequinView_MODE_NONE=-1;var MODE_CONTROLLER=0;var MODE_UPDATE=1;var MODE_PEER=2;var MODE_NO_CLUB=3;var MODE_WRONG_GENDER=4;var ACTION_SET_NAME=1;var ACTION_WEAR=2;var ACTION_SAVE=3;var MANNEQUIN_FIGURE=['hd',99999,[99998]];var MANNEQUIN_CLOTHING_PART_TYPES=[nitro_renderer[\"p\" /* AvatarFigurePartType */].CHEST_ACCESSORY,nitro_renderer[\"p\" /* AvatarFigurePartType */].COAT_CHEST,nitro_renderer[\"p\" /* AvatarFigurePartType */].CHEST,nitro_renderer[\"p\" /* AvatarFigurePartType */].LEGS,nitro_renderer[\"p\" /* AvatarFigurePartType */].SHOES,nitro_renderer[\"p\" /* AvatarFigurePartType */].WAIST_ACCESSORY];var FurnitureMannequinView_FurnitureMannequinView=function FurnitureMannequinView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objectId=_useState2[0],setObjectId=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),figure=_useState4[0],setFigure=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),gender=_useState6[0],setGender=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=Object(react[\"useState\"])(nitro_renderer[\"zd\" /* HabboClubLevelEnum */].NO_CLUB),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),clubLevel=_useState10[0],setClubLevel=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),renderedFigure=_useState12[0],setRenderedFigure=_useState12[1];var _useState13=Object(react[\"useState\"])(nitro_renderer[\"zd\" /* HabboClubLevelEnum */].NO_CLUB),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),renderedClubLevel=_useState14[0],setRenderedClubLevel=_useState14[1];var _useState15=Object(react[\"useState\"])(FurnitureMannequinView_MODE_NONE),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),mode=_useState16[0],setMode=_useState16[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var onRoomWidgetUpdateMannequinEvent=Object(react[\"useCallback\"])(function(event){var figureContainer=GetAvatarRenderManager().createFigureContainer(event.figure);var figureClubLevel=GetAvatarRenderManager().getFigureClubLevel(figureContainer,event.gender,MANNEQUIN_CLOTHING_PART_TYPES);setObjectId(event.objectId);setFigure(event.figure);setGender(event.gender);setName(event.name);setClubLevel(figureClubLevel);if(roomSession.isRoomOwner||roomSession.controllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST||GetSessionDataManager().isModerator){setMode(MODE_CONTROLLER);}else if(GetSessionDataManager().gender.toLowerCase()!==event.gender.toLowerCase()){setMode(MODE_WRONG_GENDER);}else if(GetClubMemberLevel()<figureClubLevel){setMode(MODE_NO_CLUB);}else{setMode(MODE_PEER);}},[roomSession]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateMannequinEvent_RoomWidgetUpdateMannequinEvent.MANNEQUIN_UPDATE,eventDispatcher,onRoomWidgetUpdateMannequinEvent);var getMergedFigureContainer=function getMergedFigureContainer(figure,targetFigure){var figureContainer=GetAvatarRenderManager().createFigureContainer(figure);var targetFigureContainer=GetAvatarRenderManager().createFigureContainer(targetFigure);var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(MANNEQUIN_CLOTHING_PART_TYPES),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;figureContainer.removePart(part);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(targetFigureContainer.getPartTypeIds()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _part=_step2.value;figureContainer.updatePart(_part,targetFigureContainer.getPartSetId(_part),targetFigureContainer.getPartColorIds(_part));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return figureContainer;};var transformAsMannequinFigure=function transformAsMannequinFigure(figureContainer){var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(figureContainer.getPartTypeIds()),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var part=_step3.value;if(MANNEQUIN_CLOTHING_PART_TYPES.indexOf(part)>=0)continue;figureContainer.removePart(part);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}figureContainer.updatePart(MANNEQUIN_FIGURE[0],MANNEQUIN_FIGURE[1],MANNEQUIN_FIGURE[2]);};var processAction=Object(react[\"useCallback\"])(function(action){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(action){case ACTION_SAVE:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Qb\" /* FurnitureMannequinSaveLookComposer */](objectId));break;case ACTION_WEAR:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Sb\" /* FurnitureMultiStateComposer */](objectId));break;case ACTION_SET_NAME:SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Rb\" /* FurnitureMannequinSaveNameComposer */](objectId,name));return;}setMode(FurnitureMannequinView_MODE_NONE);},[objectId,name]);var handleKeyDown=function handleKeyDown(event){if(event.key!=='Enter')return;processAction(ACTION_SET_NAME);};Object(react[\"useEffect\"])(function(){switch(mode){case MODE_CONTROLLER:case MODE_WRONG_GENDER:{var figureContainer=GetAvatarRenderManager().createFigureContainer(figure);transformAsMannequinFigure(figureContainer);setRenderedFigure(figureContainer.getFigureString());setRenderedClubLevel(clubLevel);break;}case MODE_UPDATE:{var _figureContainer=GetAvatarRenderManager().createFigureContainer(GetSessionDataManager().figure);transformAsMannequinFigure(_figureContainer);setRenderedFigure(_figureContainer.getFigureString());setRenderedClubLevel(GetAvatarRenderManager().getFigureClubLevel(_figureContainer,GetSessionDataManager().gender,MANNEQUIN_CLOTHING_PART_TYPES));break;}case MODE_PEER:case MODE_NO_CLUB:{var _figureContainer2=getMergedFigureContainer(GetSessionDataManager().figure,figure);setRenderedFigure(_figureContainer2.getFigureString());setRenderedClubLevel(clubLevel);break;}}},[mode,figure,clubLevel]);if(mode===FurnitureMannequinView_MODE_NONE)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"nitro-mannequin\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('mannequin.widget.title'),onCloseClick:function onCloseClick(event){return setMode(FurnitureMannequinView_MODE_NONE);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{position:\"relative\",className:\"mannequin-preview\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:renderedFigure,direction:2}),clubLevel>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutCurrencyIcon_LayoutCurrencyIcon,{className:\"position-absolute end-2 bottom-2\",type:\"hc\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{justifyContent:\"between\",overflow:\"auto\",children:[mode===MODE_CONTROLLER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control\",value:name,onChange:function onChange(event){return setName(event.target.value);},onKeyDown:function onKeyDown(event){return handleKeyDown(event);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return setMode(MODE_UPDATE);},children:LocalizeText('mannequin.widget.style')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return processAction(ACTION_WEAR);},children:LocalizeText('mannequin.widget.wear')})]})]}),mode===MODE_UPDATE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{wrap:true,children:LocalizeText('mannequin.widget.savetext')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{underline:true,pointer:true,onClick:function onClick(event){return setMode(MODE_CONTROLLER);},children:LocalizeText('mannequin.widget.back')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return processAction(ACTION_SAVE);},children:LocalizeText('mannequin.widget.save')})]})]}),mode===MODE_PEER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('mannequin.widget.weartext')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:function onClick(event){return processAction(ACTION_WEAR);},children:LocalizeText('mannequin.widget.wear')})]}),mode===MODE_NO_CLUB&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('mannequin.widget.clubnotification')}),mode===MODE_WRONG_GENDER&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('mannequin.widget.wronggender')})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/stickie/FurnitureStickieData.ts\nvar FurnitureStickieData_FurnitureStickieData=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function FurnitureStickieData(objectId,category,color,text){var canModify=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var isEditing=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;Object(classCallCheck[\"a\" /* default */])(this,FurnitureStickieData);this.objectId=objectId;this.category=category;this.color=color;this.text=text;this.canModify=canModify;this.isEditing=isEditing;});\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/stickie/FurnitureStickieUtils.ts\nvar STICKIE_COLORS=['9CCEFF','FF9CFF','9CFF9C','FFFF33'];var STICKIE_COLOR_NAMES=['blue','pink','green','yellow'];function getStickieColorName(color){var index=STICKIE_COLORS.indexOf(color);if(index===-1)index=0;return STICKIE_COLOR_NAMES[index];}\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/stickie/FurnitureStickieView.tsx\nvar FurnitureStickieView_FurnitureStickieView=function FurnitureStickieView(props){var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),stickieData=_useState2[0],setStickieData=_useState2[1];var onNitroEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_STICKIE:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;var data=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_ITEMDATA);if(data.length<6)return;var color=null;var text=null;if(data.indexOf(' ')>0){color=data.slice(0,data.indexOf(' '));text=data.slice(data.indexOf(' ')+1,data.length);}else{color=data;}setStickieData(new FurnitureStickieData_FurnitureStickieData(widgetEvent.objectId,widgetEvent.category,color,text,GetRoomSession().isRoomOwner||GetSessionDataManager().isModerator,false));return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:{var _widgetEvent=event;setStickieData(function(prevState){if(!prevState||_widgetEvent.id!==prevState.objectId||_widgetEvent.category!==prevState.category)return prevState;return null;});return;}}},[]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_STICKIE,onNitroEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,eventDispatcher,onNitroEvent);var processAction=Object(react[\"useCallback\"])(function(type){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close':setStickieData(null);return;case'trash':setStickieData(function(prevState){if(!prevState)return null;GetRoomEngine().deleteRoomObject(prevState.objectId,prevState.category);return null;});return;case'changeColor':setStickieData(function(prevState){var newStickieData=new FurnitureStickieData_FurnitureStickieData(prevState.objectId,prevState.category,value,prevState.text,prevState.canModify);GetRoomEngine().modifyRoomObjectData(newStickieData.objectId,newStickieData.category,newStickieData.color,newStickieData.text);return newStickieData;});return;case'changeText':setStickieData(function(prevState){var newStickieData=new FurnitureStickieData_FurnitureStickieData(prevState.objectId,prevState.category,prevState.color,value,prevState.canModify);GetRoomEngine().modifyRoomObjectData(newStickieData.objectId,newStickieData.category,newStickieData.color,newStickieData.text);return newStickieData;});return;case'editMode':setStickieData(function(prevValue){if(!prevValue.canModify)return prevValue;return new FurnitureStickieData_FurnitureStickieData(prevValue.objectId,prevValue.category,prevValue.color,prevValue.text,prevValue.canModify,true);});return;}},[]);if(!stickieData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DraggableWindow_DraggableWindow,{handleSelector:\".drag-handler\",windowPosition:DraggableWindowPosition_DraggableWindowPosition.NOTHING,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:'nitro-stickie nitro-stickie-image stickie-'+getStickieColorName(stickieData.color),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex align-items-center stickie-header drag-handler\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex align-items-center flex-grow-1 h-100\",children:stickieData.canModify&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-stickie-image stickie-trash header-trash\",onClick:function onClick(event){return processAction('trash');}}),STICKIE_COLORS.map(function(color){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stickie-color ms-1\",onClick:function onClick(event){return processAction('changeColor',color);},style:{backgroundColor:ColorUtils_ColorUtils.makeColorHex(color)}},color);})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"d-flex align-items-center nitro-stickie-image stickie-close header-close\",onClick:function onClick(event){return processAction('close');}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stickie-context\",children:!stickieData.isEditing?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"context-text\",onClick:function onClick(event){return processAction('editMode');},children:stickieData.text}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{className:\"context-text\",defaultValue:stickieData.text||'',tabIndex:0,onBlur:function onBlur(event){return processAction('changeText',event.target.value);},autoFocus:true})})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/trophy/FurnitureTrophyView.tsx\nvar FurnitureTrophyView_FurnitureTrophyView=function FurnitureTrophyView(props){var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),trophyData=_useState2[0],setTrophyData=_useState2[1];var onNitroEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TROPHY:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;var data=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA);var extra=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_EXTRAS);if(!extra)extra='0';var color=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_COLOR);var ownerName=data.substring(0,data.indexOf('\\t'));data=data.substring(ownerName.length+1,data.length);var trophyDate=data.substring(0,data.indexOf('\\t'));var trophyText=data.substr(trophyDate.length+1,data.length);setTrophyData(new FurnitureTrophyData_FurnitureTrophyData(widgetEvent.objectId,widgetEvent.category,color,ownerName,trophyDate,trophyText));return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:{var _widgetEvent=event;setTrophyData(function(prevState){if(!prevState||_widgetEvent.id!==prevState.objectId||_widgetEvent.category!==prevState.category)return prevState;return null;});return;}}},[]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TROPHY,onNitroEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,widgetHandler.eventDispatcher,onNitroEvent);var processAction=Object(react[\"useCallback\"])(function(type){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close':setTrophyData(null);return;}},[]);if(!trophyData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutTrophyView_LayoutTrophyView,{color:trophyData.color,message:trophyData.message,date:trophyData.date,senderName:trophyData.ownerName,onCloseClick:function onCloseClick(){return processAction('close');}});};\n// EXTERNAL MODULE: ./node_modules/react-youtube/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(125);\n\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/youtube-tv/utils/YoutubeVideoPlaybackStateEnum.ts\nvar YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum=/*#__PURE__*/Object(createClass[\"a\" /* default */])(function YoutubeVideoPlaybackStateEnum(){Object(classCallCheck[\"a\" /* default */])(this,YoutubeVideoPlaybackStateEnum);});YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.UNSTARTED=-1;YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.ENDED=0;YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.PLAYING=1;YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.PAUSED=2;YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.BUFFERING=3;YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.CUED=5;\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/youtube-tv/FurnitureYoutubeDisplayView.tsx\nvar FurnitureYoutubeDisplayView_FurnitureYoutubeDisplayView=function FurnitureYoutubeDisplayView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objectId=_useState2[0],setObjectId=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),videoId=_useState4[0],setVideoId=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),videoStart=_useState6[0],setVideoStart=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),videoEnd=_useState8[0],setVideoEnd=_useState8[1];var _useState9=Object(react[\"useState\"])(-1),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),currentVideoState=_useState10[0],setCurrentVideoState=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),selectedItem=_useState12[0],setSelectedItem=_useState12[1];var _useState13=Object(react[\"useState\"])(null),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),playlists=_useState14[0],setPlaylists=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),hasControl=_useState16[0],setHasControl=_useState16[1];var _useState17=Object(react[\"useState\"])(null),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),player=_useState18[0],setPlayer=_useState18[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event;var onRoomWidgetUpdateYoutubeDisplayEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateYoutubeDisplayEvent_RoomWidgetUpdateYoutubeDisplayEvent.UPDATE_YOUTUBE_DISPLAY:{setObjectId(event.objectId);setHasControl(event.hasControl);}}},[]);var close=Object(react[\"useCallback\"])(function(){setObjectId(-1);setSelectedItem(null);setPlaylists(null);setHasControl(false);setVideoId(null);setVideoEnd(null);setVideoStart(null);setCurrentVideoState(-1);},[]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateYoutubeDisplayEvent_RoomWidgetUpdateYoutubeDisplayEvent.UPDATE_YOUTUBE_DISPLAY,eventDispatcher,onRoomWidgetUpdateYoutubeDisplayEvent);var onVideo=Object(react[\"useCallback\"])(function(event){if(objectId===-1)return;var parser=event.getParser();if(objectId!==parser.furniId)return;setVideoId(parser.videoId);setVideoStart(parser.startAtSeconds);setVideoEnd(parser.endAtSeconds);setCurrentVideoState(parser.state);},[objectId]);var onPlaylists=Object(react[\"useCallback\"])(function(event){if(objectId===-1)return;var parser=event.getParser();if(objectId!==parser.furniId)return;setPlaylists(parser.playlists);setSelectedItem(parser.selectedPlaylistId);setVideoId(null);setCurrentVideoState(-1);setVideoEnd(null);setVideoStart(null);},[objectId]);var onControlVideo=Object(react[\"useCallback\"])(function(event){if(objectId===-1)return;var parser=event.getParser();if(objectId!==parser.furniId)return;switch(parser.commandId){case 1:setCurrentVideoState(YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.PLAYING);if(player.getPlayerState()!==YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.PLAYING)player.playVideo();break;case 2:setCurrentVideoState(YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.PAUSED);if(player.getPlayerState()!==YoutubeVideoPlaybackStateEnum_YoutubeVideoPlaybackStateEnum.PAUSED)player.pauseVideo();break;}},[objectId,player]);UseMessageEventHook(nitro_renderer[\"dj\" /* YoutubeDisplayVideoMessageEvent */],onVideo);UseMessageEventHook(nitro_renderer[\"cj\" /* YoutubeDisplayPlaylistsEvent */],onPlaylists);UseMessageEventHook(nitro_renderer[\"bj\" /* YoutubeControlVideoMessageEvent */],onControlVideo);var processAction=Object(react[\"useCallback\"])(function(action){switch(action){case'playlist_prev':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"mb\" /* ControlYoutubeDisplayPlaybackMessageComposer */](objectId,FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_PREVIOUS_VIDEO));break;case'playlist_next':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"mb\" /* ControlYoutubeDisplayPlaybackMessageComposer */](objectId,FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_NEXT_VIDEO));break;case'video_pause':if(hasControl&&videoId&&videoId.length){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"mb\" /* ControlYoutubeDisplayPlaybackMessageComposer */](objectId,FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_PAUSE_VIDEO));}break;case'video_play':if(hasControl&&videoId&&videoId.length){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"mb\" /* ControlYoutubeDisplayPlaybackMessageComposer */](objectId,FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler.CONTROL_COMMAND_CONTINUE_VIDEO));}break;default:if(selectedItem===action){setSelectedItem(null);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Jh\" /* SetYoutubeDisplayPlaylistMessageComposer */](objectId,''));return;}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Jh\" /* SetYoutubeDisplayPlaylistMessageComposer */](objectId,action));setSelectedItem(action);}},[hasControl,objectId,selectedItem,videoId]);var onReady=Object(react[\"useCallback\"])(function(event){setPlayer(event.target);},[]);var onStateChange=Object(react[\"useCallback\"])(function(event){setPlayer(event.target);if(objectId){switch(event.target.getPlayerState()){case-1:case 1:if(currentVideoState===2){//event.target.pauseVideo();\n}if(currentVideoState!==1){processAction('video_play');}return;case 2:if(currentVideoState!==2){processAction('video_pause');}}}},[currentVideoState,objectId,processAction]);var getYoutubeOpts=Object(react[\"useMemo\"])(function(){if(!videoStart&&!videoEnd){return{height:'375',width:'500',playerVars:{autoplay:1,disablekb:1,controls:0,origin:window.origin,modestbranding:1}};}return{height:'375',width:'500',playerVars:{autoplay:1,disablekb:1,controls:0,origin:window.origin,modestbranding:1,start:videoStart,end:videoEnd}};},[videoEnd,videoStart]);if(objectId===-1)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{className:\"youtube-tv-widget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:'',onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row w-100 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"youtube-video-container col-9\",children:[videoId&&videoId.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_index_esm[\"a\" /* default */],{videoId:videoId,opts:getYoutubeOpts,onReady:onReady,onStateChange:onStateChange,containerClassName:'youtubeContainer'}),(!videoId||videoId.length===0)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"empty-video w-100 h-100 justify-content-center align-items-center d-flex\",children:LocalizeText('widget.furni.video_viewer.no_videos')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"playlist-container col-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"playlist-controls justify-content-center d-flex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-youtube-prev cursor-pointer\",onClick:function onClick(){return processAction('playlist_prev');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-youtube-next cursor-pointer\",onClick:function onClick(){return processAction('playlist_next');}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mb-1\",children:LocalizeText('widget.furni.video_viewer.playlists')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{columnCount:1,className:\"playlist-grid\",children:playlists&&playlists.map(function(entry,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{onClick:function onClick(){return processAction(entry.video);},itemActive:entry.video===selectedItem,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:entry.title}),\" - \",entry.description]},index);})})]})]})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/furniture/FurnitureWidgetsView.tsx\nvar FurnitureWidgetsView_FurnitureWidgetsView=function FurnitureWidgetsView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"position-absolute nitro-room-widgets top-0 start-0 w-100 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureBackgroundColorView_FurnitureBackgroundColorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureContextMenuView_FurnitureContextMenuView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureCustomStackHeightView_FurnitureCustomStackHeightView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureDimmerView_FurnitureDimmerView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureFriendFurniView_FurnitureFriendFurniView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureGiftOpeningView_FurnitureGiftOpeningView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureExchangeCreditView_FurnitureExchangeCreditView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureHighScoreView_FurnitureHighScoreView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureManipulationMenuView_FurnitureManipulationMenuView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureMannequinView_FurnitureMannequinView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureStickieView_FurnitureStickieView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureTrophyView_FurnitureTrophyView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureBadgeDisplayView_FurnitureBadgeDisplayView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureExternalImageView_FurnitureExternalImageView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureYoutubeDisplayView_FurnitureYoutubeDisplayView,{})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/infostand/InfoStandWidgetBotView.tsx\nvar InfoStandWidgetBotView_InfoStandWidgetBotView=function InfoStandWidgetBotView(props){var _props$botData=props.botData,botData=_props$botData===void 0?null:_props$botData,_props$close=props.close,close=_props$close===void 0?null:_props$close;if(!botData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"nitro-infostand rounded\",style:{backgroundColor:\"var(--test-galaxy)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-infostand-title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},small:true,wrap:true,children:botData.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:close})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullWidth:true,className:\"body-image bot\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:botData.figure,direction:4})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{grow:true,center:true,gap:0,children:botData.badges.length>0&&botData.badges.map(function(result){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:result,showInfo:true},result);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",className:\"bg-light-dark rounded py-1 px-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fullWidth:true,wrap:true,textBreak:true,variant:\"white\",small:true,className:\"motto-content\",children:botData.motto})}),botData.carryItem>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.handitem',['item'],[LocalizeText('handitem'+botData.carryItem)])})]})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/infostand/InfoStandWidgetFurniView.tsx\nvar PICKUP_MODE_NONE=0;var PICKUP_MODE_EJECT=1;var PICKUP_MODE_FULL=2;var InfoStandWidgetFurniView_InfoStandWidgetFurniView=function InfoStandWidgetFurniView(props){var _props$furniData=props.furniData,furniData=_props$furniData===void 0?null:_props$furniData,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),pickupMode=_useState2[0],setPickupMode=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),canMove=_useState4[0],setCanMove=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),canRotate=_useState6[0],setCanRotate=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),canUse=_useState8[0],setCanUse=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),furniKeys=_useState10[0],setFurniKeys=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),furniValues=_useState12[0],setFurniValues=_useState12[1];var _useState13=Object(react[\"useState\"])([]),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),customKeys=_useState14[0],setCustomKeys=_useState14[1];var _useState15=Object(react[\"useState\"])([]),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),customValues=_useState16[0],setCustomValues=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),isCrackable=_useState18[0],setIsCrackable=_useState18[1];var _useState19=Object(react[\"useState\"])(0),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),crackableHits=_useState20[0],setCrackableHits=_useState20[1];var _useState21=Object(react[\"useState\"])(0),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),crackableTarget=_useState22[0],setCrackableTarget=_useState22[1];var _useState23=Object(react[\"useState\"])(false),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),godMode=_useState24[0],setGodMode=_useState24[1];var _useState25=Object(react[\"useState\"])(false),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),canSeeFurniId=_useState26[0],setCanSeeFurniId=_useState26[1];var _useState27=Object(react[\"useState\"])(null),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),groupName=_useState28[0],setGroupName=_useState28[1];Object(react[\"useEffect\"])(function(){var pickupMode=PICKUP_MODE_NONE;var canMove=false;var canRotate=false;var canUse=false;var furniKeyss=[];var furniValuess=[];var customKeyss=[];var customValuess=[];var isCrackable=false;var crackableHits=0;var crackableTarget=0;var godMode=false;var canSeeFurniId=false;var isValidController=furniData.roomControllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUEST;if(isValidController||furniData.isOwner||furniData.isRoomOwner||furniData.isAnyRoomController){canMove=true;canRotate=!furniData.isWallItem;if(furniData.roomControllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].MODERATOR)godMode=true;}if(furniData.isAnyRoomController){canSeeFurniId=true;}if(furniData.usagePolicy===nitro_renderer[\"uh\" /* RoomWidgetFurniInfoUsagePolicyEnum */].EVERYBODY||furniData.usagePolicy===nitro_renderer[\"uh\" /* RoomWidgetFurniInfoUsagePolicyEnum */].CONTROLLER&&isValidController||furniData.extraParam===nitro_renderer[\"th\" /* RoomWidgetEnumItemExtradataParameter */].JUKEBOX&&isValidController||furniData.extraParam===nitro_renderer[\"th\" /* RoomWidgetEnumItemExtradataParameter */].USABLE_PRODUCT&&isValidController)canUse=true;if(furniData.extraParam){if(furniData.extraParam===nitro_renderer[\"th\" /* RoomWidgetEnumItemExtradataParameter */].CRACKABLE_FURNI){var stuffData=furniData.stuffData;canUse=true;isCrackable=true;crackableHits=stuffData.hits;crackableTarget=stuffData.target;}if(godMode){var extraParam=furniData.extraParam.substr(nitro_renderer[\"th\" /* RoomWidgetEnumItemExtradataParameter */].BRANDING_OPTIONS.length);if(extraParam){var parts=extraParam.split('\\t');var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(parts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;var value=part.split('=');if(value&&value.length===2){furniKeyss.push(value[0]);furniValuess.push(value[1]);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}}}if(godMode){var roomObject=GetRoomEngine().getRoomObject(roomSession.roomId,furniData.id,furniData.isWallItem?nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR);if(roomObject){var customVariables=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_CUSTOM_VARIABLES);var furnitureData=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_DATA);if(customVariables&&customVariables.length){var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(customVariables),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var customVariable=_step2.value;customKeyss.push(customVariable);customValuess.push(furnitureData[customVariable]||'');}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}}if(furniData.isOwner||furniData.isAnyRoomController)pickupMode=PICKUP_MODE_FULL;else if(furniData.isRoomOwner||furniData.roomControllerLevel>=nitro_renderer[\"Yf\" /* RoomControllerLevel */].GUILD_ADMIN)pickupMode=PICKUP_MODE_EJECT;if(furniData.isStickie)pickupMode=PICKUP_MODE_NONE;setPickupMode(pickupMode);setCanMove(canMove);setCanRotate(canRotate);setCanUse(canUse);setFurniKeys(furniKeyss);setFurniValues(furniValuess);setCustomKeys(customKeyss);setCustomValues(customValuess);setIsCrackable(isCrackable);setCrackableHits(crackableHits);setCrackableTarget(crackableTarget);setGodMode(godMode);setCanSeeFurniId(canSeeFurniId);setGroupName(null);if(furniData.groupId)SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Oc\" /* GroupInformationComposer */](furniData.groupId,false));},[roomSession,furniData]);var onGroupInformationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!furniData||furniData.groupId!==parser.id||parser.flag)return;if(groupName)setGroupName(null);setGroupName(parser.title);},[furniData,groupName]);UseMessageEventHook(nitro_renderer[\"Pc\" /* GroupInformationEvent */],onGroupInformationEvent);var onFurniSettingChange=Object(react[\"useCallback\"])(function(index,value){var clone=Array.from(furniValues);clone[index]=value;setFurniValues(clone);},[furniValues]);var onCustomVariableChange=Object(react[\"useCallback\"])(function(index,value){var clone=Array.from(customValues);clone[index]=value;setCustomValues(clone);},[customValues]);var getFurniSettingsAsString=Object(react[\"useCallback\"])(function(){if(furniKeys.length===0||furniValues.length===0)return'';var data='';var i=0;while(i<furniKeys.length){var key=furniKeys[i];var value=furniValues[i];data=data+(key+'='+value+'\\t');i++;}return data;},[furniKeys,furniValues]);var processButtonAction=Object(react[\"useCallback\"])(function(action){if(!action||action==='')return;var messageType=null;var objectData=null;switch(action){case'buy_one':CreateLinkEvent(\"catalog/open/offerId/\".concat(furniData.purchaseOfferId));return;case'move':messageType=RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.MOVE;break;case'rotate':messageType=RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.ROTATE;break;case'pickup':if(pickupMode===PICKUP_MODE_FULL)messageType=RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.PICKUP;else messageType=RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.EJECT;break;case'use':messageType=RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.USE;break;case'save_branding_configuration':messageType=RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage.SAVE_STUFF_DATA;objectData=getFurniSettingsAsString();break;case'save_custom_variables':var map=new Map();for(var i=0;i<customKeys.length;i++){var key=customKeys[i];var value=customValues[i];if(key&&key.length&&value&&value.length)map.set(key,value);}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Hh\" /* SetObjectDataMessageComposer */](furniData.id,map));break;}if(!messageType)return;widgetHandler.processWidgetMessage(new RoomWidgetFurniActionMessage_RoomWidgetFurniActionMessage(messageType,furniData.id,furniData.category,furniData.purchaseOfferId,objectData));},[widgetHandler,furniData,pickupMode,customKeys,customValues,getFurniSettingsAsString]);var getGroupBadgeCode=Object(react[\"useCallback\"])(function(){var stringDataType=furniData.stuffData;if(!stringDataType||!(stringDataType instanceof nitro_renderer[\"Kh\" /* StringDataType */]))return null;return stringDataType.getValue(2);},[furniData]);if(!furniData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,alignItems:\"end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"nitro-infostand rounded\",style:{backgroundColor:\"var(--test-galaxy)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-infostand-title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},small:true,wrap:true,children:furniData.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:close})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{position:\"relative\",gap:1,children:[furniData.stuffData.isUnique&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute end-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutLimitedEditionCompactPlateView_LayoutLimitedEditionCompactPlateView,{uniqueNumber:furniData.stuffData.uniqueNumber,uniqueSeries:furniData.stuffData.uniqueSeries})}),furniData.stuffData.rarityLevel>-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute end-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutRarityLevelView_LayoutRarityLevelView,{level:furniData.stuffData.rarityLevel})}),furniData.image&&furniData.image.src.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"d-block mx-auto\",src:furniData.image.src,alt:\"\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",className:\"bg-primary rounded py-1 px-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://4.bp.blogspot.com/-SG4h-ciWPJY/WWf0spNEazI/AAAAAAAA7jA/VRKVjhzjmAId1nvNeG1hlneobpeeOjVtACKgBGAs/s1600/katalogi_ikoni_special_offers.gif\"}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fullWidth:true,wrap:true,textBreak:true,variant:\"white\",small:true,children:furniData.description})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(53, 196, 96)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:furniData.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('furni.owner',['name'],[furniData.ownerName])})]})}),furniData.purchaseOfferId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(209, 82, 84)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://1.bp.blogspot.com/-4OnX3Id1PBA/WV-zzM-fUYI/AAAAAAAA6uo/T9IdzwyELNEKFi4FcY956S73uErSQ0nwQCKgBGAs/s1600/1904049800.png\"}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,pointer:true,onClick:function onClick(event){return processButtonAction('buy_one');},children:LocalizeText('infostand.button.buy')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[isCrackable&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.crackable_furni.hits_remaining',['hits','target'],[crackableHits.toString(),crackableTarget.toString()])})]}),furniData.groupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{pointer:true,alignItems:\"center\",gap:2,onClick:function onClick(){return GetGroupInformation(furniData.groupId);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:getGroupBadgeCode(),isGroup:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",underline:true,children:groupName})]})]}),godMode&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[canSeeFurniId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(64, 64, 64)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{small:true,wrap:true,variant:\"white\",children:[\"ID: \",furniData.id]})}),furniKeys.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:furniKeys.map(function(key,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,wrap:true,align:\"end\",variant:\"white\",className:\"col-4\",children:key}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:furniValues[index],onChange:function onChange(event){return onFurniSettingChange(index,event.target.value);}})]},index);})})]})]}),customKeys.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 my-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:customKeys.map(function(key,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,wrap:true,align:\"end\",variant:\"white\",className:\"col-4\",children:key}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:customValues[index],onChange:function onChange(event){return onCustomVariableChange(index,event.target.value);}})]},index);})})]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,justifyContent:\"end\",children:[canMove&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function onClick(event){return processButtonAction('move');},children:LocalizeText('infostand.button.move')}),canRotate&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function onClick(event){return processButtonAction('rotate');},children:LocalizeText('infostand.button.rotate')}),pickupMode!==PICKUP_MODE_NONE&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function onClick(event){return processButtonAction('pickup');},children:LocalizeText(pickupMode===PICKUP_MODE_EJECT?'infostand.button.eject':'infostand.button.pickup')}),canUse&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function onClick(event){return processButtonAction('use');},children:LocalizeText('infostand.button.use')}),furniKeys.length>0&&furniValues.length>0&&furniKeys.length===furniValues.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function onClick(){return processButtonAction('save_branding_configuration');},children:LocalizeText('save')}),customKeys.length>0&&customValues.length>0&&customKeys.length===customValues.length&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:function onClick(){return processButtonAction('save_custom_variables');},children:LocalizeText('save')})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/infostand/InfoStandWidgetPetView.tsx\nvar InfoStandWidgetPetView_InfoStandWidgetPetView=function InfoStandWidgetPetView(props){var _props$petData=props.petData,petData=_props$petData===void 0?null:_props$petData,_props$close=props.close,close=_props$close===void 0?null:_props$close;if(!petData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{className:\"nitro-infostand rounded\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:petData.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:close})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText(\"pet.breed.\".concat(petData.petType,\".\").concat(petData.petBreed))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullWidth:true,overflow:\"hidden\",className:\"body-image pet p-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutPetImageView_LayoutPetImageView,{figure:petData.petFigure,posture:petData.posture,direction:4})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",center:true,small:true,wrap:true,children:LocalizeText('pet.level',['level','maxlevel'],[petData.level.toString(),petData.maximumLevel.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.happiness')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{fullWidth:true,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{fit:true,center:true,position:\"absolute\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,children:petData.happyness+'/'+petData.maximumHappyness})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"bg-info rounded pet-stats\",style:{width:petData.happyness/petData.maximumHappyness*100+'%'}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.experience')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{fullWidth:true,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{fit:true,center:true,position:\"absolute\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,children:petData.experience+'/'+petData.levelExperienceGoal})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"bg-purple rounded pet-stats\",style:{width:petData.experience/petData.levelExperienceGoal*100+'%'}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,truncate:true,children:LocalizeText('infostand.pet.text.energy')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{fullWidth:true,overflow:\"hidden\",position:\"relative\",className:\"bg-light-dark rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{fit:true,center:true,position:\"absolute\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,children:petData.energy+'/'+petData.maximumEnergy})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"bg-success rounded pet-stats\",style:{width:petData.energy/petData.maximumEnergy*100+'%'}})]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.petrespect',['count'],[petData.respect.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('pet.age',['age'],[petData.age.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:petData.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.petowner',['name'],[petData.ownerName])})]})})]})});};\n// CONCATENATED MODULE: ./src/components/room/widgets/infostand/InfoStandWidgetRentableBotView.tsx\nvar InfoStandWidgetRentableBotView_InfoStandWidgetRentableBotView=function InfoStandWidgetRentableBotView(props){var _props$rentableBotDat=props.rentableBotData,rentableBotData=_props$rentableBotDat===void 0?null:_props$rentableBotDat,_props$close=props.close,close=_props$close===void 0?null:_props$close;var canPickup=Object(react[\"useMemo\"])(function(){if(rentableBotData.botSkills.indexOf(BotSkillsEnum_BotSkillsEnum.NO_PICK_UP)>=0)return false;if(!rentableBotData.amIOwner&&!rentableBotData.amIAnyRoomController)return false;return true;},[rentableBotData]);var pickupBot=function pickupBot(){return SendMessageComposer_SendMessageComposer(new nitro_renderer[\"A\" /* BotRemoveComposer */](rentableBotData.webID));};if(!rentableBotData)return;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"nitro-infostand rounded\",style:{backgroundColor:\"var(--test-galaxy)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-infostand-title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},small:true,wrap:true,children:rentableBotData.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:close})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullWidth:true,className:\"body-image bot\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:rentableBotData.figure,direction:4})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{grow:true,center:true,gap:0,children:rentableBotData.badges.length>0&&rentableBotData.badges.map(function(result){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:result,showInfo:true},result);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",className:\"bg-primary rounded py-1 px-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"pencil-alt\",className:\"small\",style:{marginLeft:\"1px\"}}),\" \\xA0\\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fullWidth:true,wrap:true,textBreak:true,variant:\"white\",small:true,className:\"motto-content\",children:rentableBotData.motto})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(53, 196, 96)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:rentableBotData.ownerId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.botowner',['name'],[rentableBotData.ownerName])})]})}),rentableBotData.carryItem>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"rgb(209, 82, 84)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_70.png\"}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.handitem',['item'],[LocalizeText('handitem'+rentableBotData.carryItem)])})]})})]})]})]}),canPickup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{justifyContent:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"none\",className:\"text-white\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:pickupBot,children:LocalizeText('infostand.button.pickup')})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/infostand/InfoStandWidgetUserRelationshipsView.tsx\nvar InfoStandWidgetUserRelationshipsView_InfoStandWidgetUserRelationshipsView=function InfoStandWidgetUserRelationshipsView(props){var _props$relationships=props.relationships,relationships=_props$relationships===void 0?null:_props$relationships;var RelationshipComponent=function RelationshipComponent(_ref){var type=_ref.type;var relationshipInfo=relationships&&relationships.relationshipStatusMap.hasKey(type)?relationships.relationshipStatusMap.getValue(type):null;if(!relationshipInfo||!relationshipInfo.friendCount)return null;var relationshipName=nitro_renderer[\"Ff\" /* RelationshipStatusEnum */].RELATIONSHIP_NAMES[type].toLocaleLowerCase();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,style:{backgroundColor:\"#7d7d7d\",padding:5},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"nitro-friends-spritesheet icon-\".concat(relationshipName)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{small:true,variant:\"none\",style:{color:\"var(--test-galaxytext)\"},onClick:function onClick(event){return GetUserProfile(relationshipInfo.randomFriendId);},children:[relationshipInfo.randomFriendName,relationshipInfo.friendCount>1&&' '+LocalizeText(\"extendedprofile.relstatus.others.\".concat(relationshipName),['count'],[(relationshipInfo.friendCount-1).toString()])]})]});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"Ff\" /* RelationshipStatusEnum */].HEART}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"Ff\" /* RelationshipStatusEnum */].SMILE}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"Ff\" /* RelationshipStatusEnum */].BOBBA})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/infostand/InfoStandWidgetUserView.tsx\nvar InfoStandWidgetUserView_InfoStandWidgetUserView=function InfoStandWidgetUserView(props){var _props$userData=props.userData,userData=_props$userData===void 0?null:_props$userData,_props$setUserData=props.setUserData,setUserData=_props$setUserData===void 0?null:_props$setUserData,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),motto=_useState2[0],setMotto=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isEditingMotto=_useState4[0],setIsEditingMotto=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),relationships=_useState6[0],setRelationships=_useState6[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var maxBadgeCount=GetConfiguration('user.badges.max.slots',5);var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),bannerUrl=_useState8[0],setBannerUrl=_useState8[1];var sso=new URLSearchParams(window.location.search).get('sso');var saveMotto=function saveMotto(motto){if(!isEditingMotto||motto.length>GetConfiguration('motto.max.length',38))return;widgetHandler.processWidgetMessage(new RoomWidgetChangeMottoMessage_RoomWidgetChangeMottoMessage(motto));setIsEditingMotto(false);};var onMottoBlur=function onMottoBlur(event){return saveMotto(event.target.value);};var onMottoKeyDown=function onMottoKeyDown(event){event.stopPropagation();switch(event.key){case'Enter':saveMotto(event.target.value);return;}};var onRoomSessionUserBadgesEvent=Object(react[\"useCallback\"])(function(event){if(!userData||userData.webID!==event.userId)return;setUserData(function(prevValue){var newValue=CloneObject(prevValue);newValue.badges=event.badges;return newValue;});},[userData,setUserData]);UseEventDispatcherHook_UseEventDispatcherHook(nitro_renderer[\"Yg\" /* RoomSessionUserBadgesEvent */].RSUBE_BADGES,eventDispatcher,onRoomSessionUserBadgesEvent);var onRoomSessionUserFigureUpdateEvent=Object(react[\"useCallback\"])(function(event){if(!userData||userData.roomIndex!==event.roomIndex)return;setUserData(function(prevValue){var newValue=CloneObject(prevValue);newValue.figure=event.figure;newValue.motto=event.customInfo;newValue.achievementScore=event.activityPoints;return newValue;});},[userData,setUserData]);UseEventDispatcherHook_UseEventDispatcherHook(nitro_renderer[\"ah\" /* RoomSessionUserFigureUpdateEvent */].USER_FIGURE,eventDispatcher,onRoomSessionUserFigureUpdateEvent);var onRoomSessionFavoriteGroupUpdateEvent=Object(react[\"useCallback\"])(function(event){if(!userData||userData.roomIndex!==event.roomIndex)return;setUserData(function(prevValue){var newValue=CloneObject(prevValue);var clearGroup=event.status===-1||event.habboGroupId<=0;newValue.groupId=clearGroup?-1:event.habboGroupId;newValue.groupName=clearGroup?null:event.habboGroupName;newValue.groupBadgeId=clearGroup?null:GetSessionDataManager().getGroupBadge(event.habboGroupId);return newValue;});},[userData,setUserData]);UseEventDispatcherHook_UseEventDispatcherHook(nitro_renderer[\"Tg\" /* RoomSessionFavoriteGroupUpdateEvent */].FAVOURITE_GROUP_UPDATE,eventDispatcher,onRoomSessionFavoriteGroupUpdateEvent);var onUserRelationshipsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!userData||userData.webID!==parser.userId)return;setRelationships(parser);},[userData]);UseMessageEventHook(nitro_renderer[\"Gf\" /* RelationshipStatusInfoEvent */],onUserRelationshipsEvent);Object(react[\"useEffect\"])(function(){setIsEditingMotto(false);setMotto(userData.motto);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ei\" /* UserRelationshipsComposer */](userData.webID));fetch(\"https://int.ultrahabbo.fun/?type=getbanner&sso=\"+sso+\"&username=\"+userData.name).then(function(response){return response.text();}).then(function(result){if(result==null||result==\"ERROR\")setBannerUrl(\"https://swfs.hgalaxy.net/banners/banner1.png\");else setBannerUrl(\"https://swfs.hgalaxy.net/banners/banner\"+result.replace(/\\n/g,\"\")+\".png\");});return function(){setIsEditingMotto(false);setMotto(null);setRelationships(null);};},[userData]);if(!userData)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"nitro-infostand rounded\",style:{backgroundColor:\"var(--test-galaxy)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nitro-infostand-title\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileIconView_UserProfileIconView,{userId:userData.webID}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},small:true,wrap:true,children:userData.name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"times\",className:\"cursor-pointer\",onClick:close})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{overflow:\"visible\",className:\"container-fluid content-area\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{fullWidth:true,className:\"body-image\",onClick:function onClick(event){return GetUserProfile(userData.webID);},style:{backgroundImage:\"url(\"+bannerUrl+\")\",borderRadius:\"10px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:userData.figure,direction:4})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"badge-image\",children:userData.badges[0]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:userData.badges[0],showInfo:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:userData.groupId>0,className:\"badge-image\",onClick:function onClick(event){return GetGroupInformation(userData.groupId);},children:userData.groupId>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:userData.groupBadgeId,isGroup:true,showInfo:true,customTitle:userData.groupName})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"badge-image\",children:userData.badges[1]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:userData.badges[1],showInfo:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"badge-image\",children:userData.badges[2]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:userData.badges[2],showInfo:true})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"badge-image\",children:userData.badges[3]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:userData.badges[3],showInfo:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"badge-image\",children:userData.badges[4]&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:userData.badges[4],showInfo:true})})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",className:\"bg-primary rounded py-1 px-2\",children:[userData.type!==RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{grow:true,alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"pencil-alt\",className:\"small\",style:{marginLeft:\"1px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{grow:true,alignItems:\"center\",className:\"motto-content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{fullWidth:true,pointer:true,wrap:true,textBreak:true,small:true,variant:\"white\",children:motto})})]}),userData.type===RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{grow:true,alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"pencil-alt\",className:\"small\",style:{marginLeft:\"1px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{grow:true,alignItems:\"center\",className:\"motto-content\",children:[!isEditingMotto&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{fullWidth:true,pointer:true,wrap:true,textBreak:true,small:true,variant:\"white\",onClick:function onClick(event){return setIsEditingMotto(true);},children:[motto,\"\\xA0\"]}),isEditingMotto&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"motto-input\",maxLength:GetConfiguration('motto.max.length',38),value:motto,onChange:function onChange(event){return setMotto(event.target.value);},onBlur:onMottoBlur,onKeyDown:onMottoKeyDown,autoFocus:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"#35c460\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_256.png\"}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.achievement_score')+' '+userData.achievementScore})]}),userData.carryItem>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",className:\"rounded py-1 px-2\",style:{backgroundColor:\"#d15254\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_70.png\"}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",small:true,wrap:true,children:LocalizeText('infostand.text.handitem',['item'],[LocalizeText('handitem'+userData.carryItem)])})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetUserRelationshipsView_InfoStandWidgetUserRelationshipsView,{relationships:relationships})})]})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/infostand/InfoStandWidgetView.tsx\nvar InfoStandWidgetView_InfoStandWidgetView=function InfoStandWidgetView(props){var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),infoStandEvent=_useState2[0],setInfoStandEvent=_useState2[1];var closeInfostand=Object(react[\"useCallback\"])(function(){setInfoStandEvent(null);},[]);var onRoomWidgetUpdateEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_SELECTED:{var roomObjectEvent=event;widgetHandler.processWidgetMessage(new RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage(RoomWidgetRoomObjectMessage_RoomWidgetRoomObjectMessage.GET_OBJECT_INFO,roomObjectEvent.id,roomObjectEvent.category));return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED:{var _roomObjectEvent=event;closeInfostand();return;}case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED:{var _roomObjectEvent2=event;setInfoStandEvent(function(prevValue){switch(event.type){case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:if(prevValue instanceof RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent){if(prevValue.id===_roomObjectEvent2.id)return null;}break;case RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED:if(prevValue instanceof RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent||prevValue instanceof RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent){if(prevValue.roomIndex===_roomObjectEvent2.id)return null;}else if(prevValue instanceof RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent){if(prevValue.roomIndex===_roomObjectEvent2.id)return null;}break;}return prevValue;});return;}case RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent.FURNI:case RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER:case RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER:case RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.BOT:case RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent.RENTABLE_BOT:case RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent.PET_INFO:{setInfoStandEvent(event);return;}default:console.log(event);return;}},[widgetHandler,closeInfostand]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_SELECTED,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent.FURNI,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.BOT,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent.RENTABLE_BOT,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent.PET_INFO,eventDispatcher,onRoomWidgetUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent.PET_INFO,eventDispatcher,onRoomWidgetUpdateEvent);var getInfostandView=Object(react[\"useCallback\"])(function(){if(!infoStandEvent)return null;switch(infoStandEvent.type){case RoomWidgetUpdateInfostandFurniEvent_RoomWidgetUpdateInfostandFurniEvent.FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetFurniView_InfoStandWidgetFurniView,{furniData:infoStandEvent,close:closeInfostand});case RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.OWN_USER:case RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.PEER:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetUserView_InfoStandWidgetUserView,{userData:infoStandEvent,setUserData:setInfoStandEvent,close:closeInfostand});case RoomWidgetUpdateInfostandUserEvent_RoomWidgetUpdateInfostandUserEvent.BOT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetBotView_InfoStandWidgetBotView,{botData:infoStandEvent,close:closeInfostand});case RoomWidgetUpdateInfostandRentableBotEvent_RoomWidgetUpdateInfostandRentableBotEvent.RENTABLE_BOT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetRentableBotView_InfoStandWidgetRentableBotView,{rentableBotData:infoStandEvent,close:closeInfostand});case RoomWidgetUpdateInfostandPetEvent_RoomWidgetUpdateInfostandPetEvent.PET_INFO:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetPetView_InfoStandWidgetPetView,{petData:infoStandEvent,close:closeInfostand});}return null;},[infoStandEvent,closeInfostand]);if(!infoStandEvent)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{alignItems:\"end\",className:\"nitro-infostand-container animate__animated animate__backInRight\",style:{marginBottom:\"20px\"},children:getInfostandView()});};\n// CONCATENATED MODULE: ./src/components/room/widgets/room-thumbnail/RoomThumbnailWidgetView.tsx\nvar RoomThumbnailWidgetView_RoomThumbnailWidgetView=function RoomThumbnailWidgetView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS;var onNitroEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.SHOW_THUMBNAIL:setIsVisible(true);return;case RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.HIDE_THUMBNAIL:setIsVisible(false);return;case RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL:setIsVisible(function(value){return!value;});return;}},[]);UseUiEvent_UseUiEvent(RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.SHOW_THUMBNAIL,onNitroEvent);UseUiEvent_UseUiEvent(RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.HIDE_THUMBNAIL,onNitroEvent);UseUiEvent_UseUiEvent(RoomWidgetThumbnailEvent_RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL,onNitroEvent);var receiveTexture=Object(react[\"useCallback\"])(function(texture){GetRoomEngine().saveTextureAsScreenshot(texture,true);setIsVisible(false);},[]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutMiniCameraView_LayoutMiniCameraView,{roomId:roomSession.roomId,textureReceiver:receiveTexture,onClose:function onClose(){return setIsVisible(false);}});};\n// CONCATENATED MODULE: ./src/components/room/widgets/room-tools/RoomToolsWidgetView.tsx\nvar RoomToolsWidgetView_RoomToolsWidgetView=function RoomToolsWidgetView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isZoomedIn=_useState2[0],setIsZoomedIn=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),roomName=_useState4[0],setRoomName=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomOwner=_useState6[0],setRoomOwner=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),roomTags=_useState8[0],setRoomTags=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),roomInfoDisplay=_useState10[0],setRoomInfoDisplay=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isOpen=_useState12[0],setIsOpen=_useState12[1];var _useSharedNavigatorDa=useSharedNavigatorData_useSharedNavigatorData(),_useSharedNavigatorDa2=Object(slicedToArray[\"a\" /* default */])(_useSharedNavigatorDa,2),navigatorData=_useSharedNavigatorDa2[0],setNavigatorData=_useSharedNavigatorDa2[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var sso=new URLSearchParams(window.location.search).get('sso');function openBawTool(){fetch(\"https://int.ultrahabbo.fun/?type=builderTool&sso=\"+sso);}var handleToolClick=function handleToolClick(action){switch(action){case'settings':CreateLinkEvent('navigator/toggle-room-info');return;case'zoom':setIsZoomedIn(function(prevValue){var scale=GetRoomEngine().getRoomInstanceRenderingCanvasScale(roomSession.roomId,1);if(!prevValue)scale/=2;else scale*=2;GetRoomEngine().setRoomInstanceRenderingCanvasScale(roomSession.roomId,1,scale);return!prevValue;});return;case'chat_history':CreateLinkEvent('chat-history/toggle');return;case'like_room':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"zg\" /* RoomLikeRoomComposer */](1));return;case'toggle_room_link':CreateLinkEvent('navigator/toggle-room-link');return;}};var onGetGuestRoomResultEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!parser.roomEnter)return;if(roomName!==parser.data.roomName)setRoomName(parser.data.roomName);if(roomOwner!==parser.data.ownerName)setRoomOwner(parser.data.ownerName);if(roomTags!==parser.data.tags)setRoomTags(parser.data.tags);},[roomName,roomOwner,roomTags]);UseMessageEventHook(nitro_renderer[\"jc\" /* GetGuestRoomResultEvent */],onGetGuestRoomResultEvent);Object(react[\"useEffect\"])(function(){setIsOpen(true);var timeout=setTimeout(function(){return setIsOpen(false);},5000);return function(){return clearTimeout(timeout);};},[roomName,roomOwner,roomTags]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{className:\"nitro-room-tools-container\",gap:2,style:{marginBottom:\"45px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{center:true,className:\"nitro-room-tools p-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,title:LocalizeText('room.settings.button.text'),className:\"icon icon-cog\",onClick:function onClick(){return handleToolClick('settings');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,title:LocalizeText('room.zoom.button.text'),onClick:function onClick(){return handleToolClick('zoom');},className:'icon '+classnames_default()({'icon-zoom-less':!isZoomedIn,'icon-zoom-more':isZoomedIn})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,title:LocalizeText('room.chathistory.button.text'),onClick:function onClick(){return handleToolClick('chat_history');},className:\"icon icon-chat-history\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,title:LocalizeText('room.chathistory.button.text'),onClick:function onClick(e){return openBawTool();},className:\"icon icon-baw-tool\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,title:LocalizeText('room.chathistory.button.text'),onClick:function onClick(event){return CreateLinkEvent('ratecatalog/show');},className:\"icon icon-ltd-catalog\"}),navigatorData.canRate&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,title:LocalizeText('room.like.button.text'),onClick:function onClick(){return handleToolClick('like_room');},className:\"icon icon-like-room\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{justifyContent:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation_TransitionAnimation,{type:TransitionAnimationTypes_TransitionAnimationTypes.SLIDE_LEFT,inProp:isOpen,timeout:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{className:\"nitro-room-tools-info rounded py-2 px-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{wrap:true,variant:\"none\",style:{color:\"var(--test-galaxytext)\"},fontSize:4,children:roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},fontSize:5,children:roomOwner})]}),roomTags&&roomTags.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{gap:2,children:roomTags.map(function(tag,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{small:true,variant:\"white\",className:\"rounded bg-primary p-1\",children:[\"#\",tag]},index);})})]})})})})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/word-quiz/common/VoteValue.ts\nvar VALUE_KEY_DISLIKE='0';var VALUE_KEY_LIKE='1';\n// CONCATENATED MODULE: ./src/components/room/widgets/word-quiz/WordQuizQuestionView.tsx\nvar WordQuizQuestionView_WordQuizQuestionView=function WordQuizQuestionView(props){var _props$question=props.question,question=_props$question===void 0?null:_props$question,_props$canVote=props.canVote,canVote=_props$canVote===void 0?null:_props$canVote,_props$vote=props.vote,vote=_props$vote===void 0?null:_props$vote,_props$noVotes=props.noVotes,noVotes=_props$noVotes===void 0?null:_props$noVotes,_props$yesVotes=props.yesVotes,yesVotes=_props$yesVotes===void 0?null:_props$yesVotes;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:2,className:\"wordquiz-question p-2\",children:[!canVote&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"bg-danger rounded p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",children:noVotes})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",center:true,textBreak:true,children:question}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"bg-success rounded p-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",children:yesVotes})})]}),canVote&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"white\",center:true,textBreak:true,children:question}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,justifyContent:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"bg-danger rounded p-1\",onClick:function onClick(event){return vote(VALUE_KEY_DISLIKE);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"word-quiz-dislike\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"bg-success rounded p-1\",onClick:function onClick(event){return vote(VALUE_KEY_LIKE);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"word-quiz-like\"})})]})]})]});};\n// EXTERNAL MODULE: ./node_modules/@nitrots/nitro-renderer/src/index.ts + 2202 modules\nvar src = __webpack_require__(82);\n\n// CONCATENATED MODULE: ./src/components/room/widgets/word-quiz/WordQuizVoteView.tsx\nvar WordQuizVoteView_excluded=[\"userIndex\",\"vote\"];var WordQuizVoteView_WordQuizVoteView=function WordQuizVoteView(props){var _props$userIndex=props.userIndex,userIndex=_props$userIndex===void 0?null:_props$userIndex,_props$vote=props.vote,vote=_props$vote===void 0?null:_props$vote,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,WordQuizVoteView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ObjectLocationView_ObjectLocationView,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({objectId:userIndex,category:src[\"Eg\" /* RoomObjectCategory */].UNIT},rest),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,pointer:true,className:\"bg-\".concat(vote===VALUE_KEY_DISLIKE?'danger':'success',\" rounded p-1\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"word-quiz-\".concat(vote===VALUE_KEY_DISLIKE?'dislike':'like',\"-sm\")})})}));};\n// CONCATENATED MODULE: ./src/components/room/widgets/word-quiz/WordQuizWidgetView.tsx\nvar DEFAULT_DISPLAY_DELAY=4000;var SIGN_FADE_DELAY=3;var WordQuizWidgetView_WordQuizWidgetView=function WordQuizWidgetView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),pollId=_useState2[0],setPollId=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),question=_useState4[0],setQuestion=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),answerSent=_useState6[0],setAnswerSent=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),questionClearTimeout=_useState8[0],setQuestionClearTimeout=_useState8[1];var _useState9=Object(react[\"useState\"])(new Map()),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),answerCounts=_useState10[0],setAnswerCounts=_useState10[1];var _useState11=Object(react[\"useState\"])(new Map()),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),userAnswers=_useState12[0],setUserAnswers=_useState12[1];var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge,_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS;var clearQuestion=Object(react[\"useCallback\"])(function(){setPollId(-1);setQuestion(null);},[]);var onRoomWidgetWordQuizUpdateEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.NEW_QUESTION:setPollId(event.id);setQuestion(event.question);setAnswerSent(false);setAnswerCounts(new Map());setUserAnswers(new Map());setQuestionClearTimeout(function(prevValue){if(prevValue)clearTimeout(prevValue);if(event.duration>0){var delay=event.duration<1000?DEFAULT_DISPLAY_DELAY:event.duration;return setTimeout(function(){return clearQuestion();},delay);}return null;});break;case RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.QUESTION_ANSWERED:{var userData=roomSession.userDataManager.getUserData(event.userId);if(!userData)return;setAnswerCounts(event.answerCounts);setUserAnswers(function(prevValue){if(!prevValue.has(userData.roomIndex)){var newValue=new Map(userAnswers);newValue.set(userData.roomIndex,{value:event.value,secondsLeft:SIGN_FADE_DELAY});return newValue;}return prevValue;});break;}case RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.QUESTION_FINISHED:if(question&&question.id===event.questionId){setAnswerCounts(event.answerCounts);setAnswerSent(true);setQuestionClearTimeout(function(prevValue){if(prevValue)clearTimeout(prevValue);return setTimeout(function(){return clearQuestion();},DEFAULT_DISPLAY_DELAY);});}setUserAnswers(new Map());break;}},[question,roomSession.userDataManager,userAnswers,clearQuestion]);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.NEW_QUESTION,eventDispatcher,onRoomWidgetWordQuizUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.QUESTION_ANSWERED,eventDispatcher,onRoomWidgetWordQuizUpdateEvent);UseEventDispatcherHook_UseEventDispatcherHook(RoomWidgetWordQuizUpdateEvent_RoomWidgetWordQuizUpdateEvent.QUESTION_FINISHED,eventDispatcher,onRoomWidgetWordQuizUpdateEvent);var vote=Object(react[\"useCallback\"])(function(vote){if(answerSent||!question)return;var updateMessage=new RoomWidgetPollMessage_RoomWidgetPollMessage(RoomWidgetPollMessage_RoomWidgetPollMessage.ANSWER,pollId);updateMessage.questionId=question.id;updateMessage.answers=[vote];widgetHandler.processWidgetMessage(updateMessage);setAnswerSent(true);},[answerSent,pollId,question,widgetHandler]);var checkSignFade=Object(react[\"useCallback\"])(function(){setUserAnswers(function(prevValue){var keysToRemove=[];prevValue.forEach(function(value,key){value.secondsLeft--;if(value.secondsLeft<=0)keysToRemove.push(key);});if(keysToRemove.length===0)return prevValue;var copy=new Map(prevValue);keysToRemove.forEach(function(key){return copy.delete(key);});return copy;});},[]);Object(react[\"useEffect\"])(function(){var interval=setInterval(function(){return checkSignFade();},1000);return function(){return clearInterval(interval);};},[checkSignFade]);Object(react[\"useEffect\"])(function(){return function(){setQuestionClearTimeout(function(prev){if(prev)clearTimeout(prev);return null;});};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[question&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WordQuizQuestionView_WordQuizQuestionView,{question:question.content,canVote:!answerSent,vote:vote,noVotes:answerCounts.get(VALUE_KEY_DISLIKE)||0,yesVotes:answerCounts.get(VALUE_KEY_LIKE)||0}),userAnswers&&Array.from(userAnswers.entries()).map(function(_ref,index){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),key=_ref2[0],value=_ref2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WordQuizVoteView_WordQuizVoteView,{userIndex:key,vote:value.value},index);})]});};\n// CONCATENATED MODULE: ./src/components/room/widgets/RoomWidgetsView.tsx\nvar RoomWidgetsView_RoomWidgetsView=function RoomWidgetsView(props){var _useRoomContext=RoomContext_useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var onRoomEngineEvent=Object(react[\"useCallback\"])(function(event){if(!eventDispatcher||nitro_renderer[\"vg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;switch(event.type){case nitro_renderer[\"ig\" /* RoomEngineEvent */].NORMAL_MODE:eventDispatcher.dispatchEvent(new RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent(RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent.NORMAL_MODE,event.roomId));return;case nitro_renderer[\"ig\" /* RoomEngineEvent */].GAME_MODE:eventDispatcher.dispatchEvent(new RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent(RoomWidgetUpdateRoomEngineEvent_RoomWidgetUpdateRoomEngineEvent.GAME_MODE,event.roomId));return;case nitro_renderer[\"vh\" /* RoomZoomEvent */].ROOM_ZOOM:{var zoomEvent=event;GetRoomEngine().setRoomInstanceRenderingCanvasScale(event.roomId,1,zoomEvent.level,null,null,false,zoomEvent.asDelta);return;}}},[eventDispatcher]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ig\" /* RoomEngineEvent */].NORMAL_MODE,onRoomEngineEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ig\" /* RoomEngineEvent */].GAME_MODE,onRoomEngineEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"vh\" /* RoomZoomEvent */].ROOM_ZOOM,onRoomEngineEvent);var handleRoomAdClick=Object(react[\"useCallback\"])(function(event){},[]);var handleRoomAdTooltip=Object(react[\"useCallback\"])(function(event){},[]);var onRoomEngineObjectEvent=Object(react[\"useCallback\"])(function(event){if(!roomSession||!widgetHandler)return;var objectId=event.objectId;var category=event.category;var updateEvent=null;switch(event.type){case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].SELECTED:if(!IsFurnitureSelectionDisabled(event))updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_SELECTED,objectId,category,event.roomId);break;case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].DESELECTED:updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED,objectId,category,event.roomId);break;case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].ADDED:{var addedEventType=null;switch(category){case nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR:case nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:addedEventType=RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_ADDED;break;case nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT:addedEventType=RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_ADDED;break;}if(addedEventType)updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(addedEventType,objectId,category,event.roomId);break;}case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].REMOVED:{var removedEventType=null;switch(category){case nitro_renderer[\"Cg\" /* RoomObjectCategory */].FLOOR:case nitro_renderer[\"Cg\" /* RoomObjectCategory */].WALL:removedEventType=RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED;break;case nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT:removedEventType=RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.USER_REMOVED;break;}if(removedEventType)updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(removedEventType,objectId,category,event.roomId);break;}case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].REQUEST_MOVE:if(CanManipulateFurniture(roomSession,objectId,category))ProcessRoomObjectOperation(objectId,category,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_MOVE);break;case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].REQUEST_ROTATE:if(CanManipulateFurniture(roomSession,objectId,category))ProcessRoomObjectOperation(objectId,category,nitro_renderer[\"Eg\" /* RoomObjectOperationType */].OBJECT_ROTATE_POSITIVE);break;case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].REQUEST_MANIPULATION:if(CanManipulateFurniture(roomSession,objectId,category))updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_REQUEST_MANIPULATION,objectId,category,event.roomId);break;case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].MOUSE_ENTER:updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OVER,objectId,category,event.roomId);break;case nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].MOUSE_LEAVE:updateEvent=new RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent(RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent.OBJECT_ROLL_OUT,objectId,category,event.roomId);break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_CREDITFURNI:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_CREDITFURNI,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_STICKIE:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_STICKIE,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PRESENT:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_PRESENT,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TROPHY:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_TROPHY,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TEASER:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_TEASER,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ECOTRONBOX:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_ECOTRONBOX,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_DIMMER:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_DIMMER,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PLACEHOLDER:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_PLACEHOLDER,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_CLOTHING_CHANGE:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_CLOTHING_CHANGE,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PLAYLIST_EDITOR:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_PLAYLIST_EDITOR,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BADGE_DISPLAY_ENGRAVING:widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_BADGE_DISPLAY_ENGRAVING,objectId,category,event.roomId));break;case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ACHIEVEMENT_RESOLUTION_FAILED:{var roomObject=GetRoomEngine().getRoomObject(event.roomId,objectId,category);var ownerId=roomObject.model.getValue(nitro_renderer[\"Ig\" /* RoomObjectVariable */].FURNITURE_OWNER_ID);if(ownerId===GetSessionDataManager().userId){widgetHandler.processWidgetMessage(new RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage(RoomWidgetFurniToWidgetMessage_RoomWidgetFurniToWidgetMessage.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,objectId,category,event.roomId));}break;}case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_FURNI_CONTEXT_MENU:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_FURNI_CONTEXT_MENU:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REMOVE_DIMMER:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MANNEQUIN:case nitro_renderer[\"ng\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_INVENTORY:case nitro_renderer[\"ng\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_ROOM:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BACKGROUND_COLOR:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_FRIEND_FURNITURE_ENGRAVING:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIGH_SCORE_DISPLAY:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIDE_HIGH_SCORE_DISPLAY:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_INTERNAL_LINK:case nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ROOM_LINK:widgetHandler.processEvent(event);break;case nitro_renderer[\"lg\" /* RoomEngineRoomAdEvent */].FURNI_CLICK:case nitro_renderer[\"lg\" /* RoomEngineRoomAdEvent */].FURNI_DOUBLE_CLICK:handleRoomAdClick(event);break;case nitro_renderer[\"lg\" /* RoomEngineRoomAdEvent */].TOOLTIP_SHOW:case nitro_renderer[\"lg\" /* RoomEngineRoomAdEvent */].TOOLTIP_HIDE:handleRoomAdTooltip(event);break;}if(updateEvent){var dispatchEvent=true;if(updateEvent instanceof RoomWidgetUpdateRoomObjectEvent_RoomWidgetUpdateRoomObjectEvent)dispatchEvent=!nitro_renderer[\"vg\" /* RoomId */].isRoomPreviewerId(updateEvent.roomId);if(dispatchEvent)widgetHandler.eventDispatcher.dispatchEvent(updateEvent);}},[roomSession,widgetHandler,handleRoomAdClick,handleRoomAdTooltip]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].SELECTED,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].DESELECTED,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].ADDED,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].REMOVED,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].PLACED,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].REQUEST_MOVE,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].REQUEST_ROTATE,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].REQUEST_MANIPULATION,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].MOUSE_ENTER,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].MOUSE_LEAVE,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_CREDITFURNI,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_STICKIE,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PRESENT,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TROPHY,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_TEASER,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ECOTRONBOX,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_DIMMER,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PLACEHOLDER,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_CLOTHING_CHANGE,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_PLAYLIST_EDITOR,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BADGE_DISPLAY_ENGRAVING,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_WIDGET,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_WIDGET,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].OPEN_FURNI_CONTEXT_MENU,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].CLOSE_FURNI_CONTEXT_MENU,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REMOVE_DIMMER,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_MANNEQUIN,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ng\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_INVENTORY,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ng\" /* RoomEngineUseProductEvent */].USE_PRODUCT_FROM_ROOM,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_BACKGROUND_COLOR,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_FRIEND_FURNITURE_ENGRAVING,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIGH_SCORE_DISPLAY,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_HIDE_HIGH_SCORE_DISPLAY,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_INTERNAL_LINK,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"mg\" /* RoomEngineTriggerWidgetEvent */].REQUEST_ROOM_LINK,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"lg\" /* RoomEngineRoomAdEvent */].FURNI_CLICK,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"lg\" /* RoomEngineRoomAdEvent */].FURNI_DOUBLE_CLICK,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"lg\" /* RoomEngineRoomAdEvent */].TOOLTIP_SHOW,onRoomEngineObjectEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"lg\" /* RoomEngineRoomAdEvent */].TOOLTIP_HIDE,onRoomEngineObjectEvent);var onRoomSessionEvent=Object(react[\"useCallback\"])(function(event){if(!widgetHandler)return;widgetHandler.processEvent(event);},[widgetHandler]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].CHAT_EVENT,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Ng\" /* RoomSessionChatEvent */].FLOOD_EVENT,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Og\" /* RoomSessionDanceEvent */].RSDE_DANCE,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Yg\" /* RoomSessionUserBadgesEvent */].RSUBE_BADGES,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"ah\" /* RoomSessionUserFigureUpdateEvent */].USER_FIGURE,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Tg\" /* RoomSessionFavoriteGroupUpdateEvent */].FAVOURITE_GROUP_UPDATE,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Vg\" /* RoomSessionPetStatusUpdateEvent */].PET_STATUS_UPDATE,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].DOORBELL,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].RSDE_REJECTED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Qg\" /* RoomSessionDoorbellEvent */].RSDE_ACCEPTED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Pg\" /* RoomSessionDimmerPresetsEvent */].ROOM_DIMMER_PRESETS,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Xg\" /* RoomSessionPresentEvent */].RSPE_PRESENT_OPENED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Ug\" /* RoomSessionPetInfoUpdateEvent */].PET_INFO,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].ANSWERED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].FINISHED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"bh\" /* RoomSessionWordQuizEvent */].QUESTION,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].OFFER,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].ERROR,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Wg\" /* RoomSessionPollEvent */].CONTENT,onRoomSessionEvent);var onRoomSessionErrorMessageEvent=Object(react[\"useCallback\"])(function(event){if(!event)return;var errorTitle=LocalizeText('error.title');var errorMessage='';switch(event.type){case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_MAX_PETS:errorMessage=LocalizeText('room.error.max_pets');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_MAX_NUMBER_OF_OWN_PETS:errorMessage=LocalizeText('room.error.max_own_pets');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_KICKED:errorMessage=LocalizeText('room.error.kicked');errorTitle=LocalizeText('generic.alert.title');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_PETS_FORBIDDEN_IN_HOTEL:errorMessage=LocalizeText('room.error.pets.forbidden_in_hotel');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_PETS_FORBIDDEN_IN_FLAT:errorMessage=LocalizeText('room.error.pets.forbidden_in_flat');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_NO_FREE_TILES_FOR_PET:errorMessage=LocalizeText('room.error.pets.no_free_tiles');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_SELECTED_TILE_NOT_FREE_FOR_PET:errorMessage=LocalizeText('room.error.pets.selected_tile_not_free');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_BOTS_FORBIDDEN_IN_HOTEL:errorMessage=LocalizeText('room.error.bots.forbidden_in_hotel');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_BOTS_FORBIDDEN_IN_FLAT:errorMessage=LocalizeText('room.error.bots.forbidden_in_flat');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_BOT_LIMIT_REACHED:errorMessage=LocalizeText('room.error.max_bots');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT:errorMessage=LocalizeText('room.error.bots.selected_tile_not_free');break;case nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_BOT_NAME_NOT_ACCEPTED:errorMessage=LocalizeText('room.error.bots.name.not.accepted');break;default:return;}NotificationUtilities_NotificationUtilities.simpleAlert(errorMessage,NotificationAlertType_NotificationAlertType.DEFAULT,null,null,errorTitle);},[]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_KICKED,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_PETS_FORBIDDEN_IN_HOTEL,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_PETS_FORBIDDEN_IN_FLAT,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_MAX_PETS,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_MAX_NUMBER_OF_OWN_PETS,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_NO_FREE_TILES_FOR_PET,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_SELECTED_TILE_NOT_FREE_FOR_PET,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_BOTS_FORBIDDEN_IN_HOTEL,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_BOTS_FORBIDDEN_IN_FLAT,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_BOT_LIMIT_REACHED,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT,onRoomSessionErrorMessageEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Rg\" /* RoomSessionErrorMessageEvent */].RSEME_BOT_NAME_NOT_ACCEPTED,onRoomSessionErrorMessageEvent);if(!widgetHandler)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarInfoWidgetView_AvatarInfoWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatWidgetView_ChatWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatInputView_ChatInputView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DoorbellWidgetView_DoorbellWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurnitureWidgetsView_FurnitureWidgetsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoStandWidgetView_InfoStandWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomToolsWidgetView_RoomToolsWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomThumbnailWidgetView_RoomThumbnailWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FurniChooserWidgetView_FurniChooserWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserChooserWidgetView_UserChooserWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WordQuizWidgetView_WordQuizWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendRequestWidgetView_FriendRequestWidgetView,{})]});};\n// CONCATENATED MODULE: ./src/components/room/RoomView.tsx\nvar RoomView_RoomView=function RoomView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),roomSession=_useState2[0],setRoomSession=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),widgetHandler=_useState4[0],setWidgetHandler=_useState4[1];var elementRef=Object(react[\"useRef\"])();var onRoomEngineEvent=Object(react[\"useCallback\"])(function(event){if(nitro_renderer[\"vg\" /* RoomId */].isRoomPreviewerId(event.roomId))return;var session=GetRoomSession();if(!session)return;switch(event.type){case nitro_renderer[\"ig\" /* RoomEngineEvent */].INITIALIZED:SetActiveRoomId(event.roomId);setRoomSession(session);return;case nitro_renderer[\"ig\" /* RoomEngineEvent */].DISPOSED:setRoomSession(null);return;}},[]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ig\" /* RoomEngineEvent */].INITIALIZED,onRoomEngineEvent);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ig\" /* RoomEngineEvent */].DISPOSED,onRoomEngineEvent);var onRoomSessionEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED:StartRoomSession(event.session);return;case nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED:setRoomSession(null);return;}},[]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED,onRoomSessionEvent);var resize=Object(react[\"useCallback\"])(function(){var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var canvas=GetNitroInstance().renderer.view;if(!canvas)return;canvas.style.width=\"\".concat(Math.floor(window.innerWidth),\"px\");canvas.style.height=\"\".concat(Math.floor(window.innerHeight),\"px\");var nitroInstance=GetNitroInstance();nitroInstance.renderer.resolution=window.devicePixelRatio;nitroInstance.renderer.resize(window.innerWidth,window.innerHeight);InitializeRoomInstanceRenderingCanvas_InitializeRoomInstanceRenderingCanvas(window.innerWidth,window.innerHeight,1);nitroInstance.render();},[]);Object(react[\"useEffect\"])(function(){if(!roomSession){setWidgetHandler(null);return;}var widgetHandlerManager=new RoomWidgetHandlerManager_RoomWidgetHandlerManager(roomSession,new nitro_renderer[\"vb\" /* EventDispatcher */]());widgetHandlerManager.registerHandler(new RoomWidgetAvatarInfoHandler_RoomWidgetAvatarInfoHandler());widgetHandlerManager.registerHandler(new RoomWidgetInfostandHandler_RoomWidgetInfostandHandler());widgetHandlerManager.registerHandler(new RoomWidgetChatInputHandler_RoomWidgetChatInputHandler());widgetHandlerManager.registerHandler(new RoomWidgetChatHandler_RoomWidgetChatHandler());widgetHandlerManager.registerHandler(new UserChooserWidgetHandler_UserChooserWidgetHandler());widgetHandlerManager.registerHandler(new WordQuizWidgetHandler_WordQuizWidgetHandler());widgetHandlerManager.registerHandler(new PollWidgetHandler_PollWidgetHandler());widgetHandlerManager.registerHandler(new FurniChooserWidgetHandler_FurniChooserWidgetHandler());widgetHandlerManager.registerHandler(new FurnitureContextMenuWidgetHandler_FurnitureContextMenuWidgetHandler());widgetHandlerManager.registerHandler(new FurnitureCreditWidgetHandler_FurnitureCreditWidgetHandler());widgetHandlerManager.registerHandler(new FurnitureCustomStackHeightWidgetHandler_FurnitureCustomStackHeightWidgetHandler());widgetHandlerManager.registerHandler(new FurnitureExternalImageWidgetHandler_FurnitureExternalImageWidgetHandler());widgetHandlerManager.registerHandler(new FurniturePresentWidgetHandler_FurniturePresentWidgetHandler());widgetHandlerManager.registerHandler(new FurnitureDimmerWidgetHandler_FurnitureDimmerWidgetHandler());widgetHandlerManager.registerHandler(new FurnitureYoutubeDisplayWidgetHandler_FurnitureYoutubeDisplayWidgetHandler());widgetHandlerManager.registerHandler(new FurnitureMannequinWidgetHandler_FurnitureMannequinWidgetHandler());widgetHandlerManager.registerHandler(new FurnitureInternalLinkHandler_FurnitureInternalLinkHandler());widgetHandlerManager.registerHandler(new FurnitureRoomLinkHandler_FurnitureRoomLinkHandler());setWidgetHandler(widgetHandlerManager);var roomEngine=GetRoomEngine();var roomId=roomSession.roomId;var canvasId=1;resize();var displayObject=roomEngine.getRoomInstanceDisplay(roomId,canvasId,window.innerWidth,window.innerHeight,nitro_renderer[\"ug\" /* RoomGeometry */].SCALE_ZOOMED_IN);if(!displayObject)return;var geometry=roomEngine.getRoomInstanceGeometry(roomId,canvasId);if(geometry){var minX=roomEngine.getRoomInstanceVariable(roomId,nitro_renderer[\"ph\" /* RoomVariableEnum */].ROOM_MIN_X)||0;var maxX=roomEngine.getRoomInstanceVariable(roomId,nitro_renderer[\"ph\" /* RoomVariableEnum */].ROOM_MAX_X)||0;var minY=roomEngine.getRoomInstanceVariable(roomId,nitro_renderer[\"ph\" /* RoomVariableEnum */].ROOM_MIN_Y)||0;var maxY=roomEngine.getRoomInstanceVariable(roomId,nitro_renderer[\"ph\" /* RoomVariableEnum */].ROOM_MAX_Y)||0;var x=(minX+maxX)/2;var y=(minY+maxY)/2;var offset=20;x=x+(offset-1);y=y+(offset-1);var z=Math.sqrt(offset*offset+offset*offset)*Math.tan(30/180*Math.PI);geometry.location=new nitro_renderer[\"Oi\" /* Vector3d */](x,y,z);}var stage=GetNitroInstance().stage;if(!stage)return;stage.addChild(displayObject);SetActiveRoomId(roomSession.roomId);},[roomSession,resize]);Object(react[\"useEffect\"])(function(){var canvas=GetNitroInstance().renderer.view;if(!canvas)return;canvas.onclick=function(event){return DispatchMouseEvent_DispatchMouseEvent(event);};canvas.onmousemove=function(event){return DispatchMouseEvent_DispatchMouseEvent(event);};canvas.onmousedown=function(event){return DispatchMouseEvent_DispatchMouseEvent(event);};canvas.onmouseup=function(event){return DispatchMouseEvent_DispatchMouseEvent(event);};canvas.ontouchstart=function(event){return DispatchTouchEvent_DispatchTouchEvent(event);};canvas.ontouchmove=function(event){return DispatchTouchEvent_DispatchTouchEvent(event);};canvas.ontouchend=function(event){return DispatchTouchEvent_DispatchTouchEvent(event);};canvas.ontouchcancel=function(event){return DispatchTouchEvent_DispatchTouchEvent(event);};resize();var element=elementRef.current;if(element)element.appendChild(canvas);window.addEventListener('resize',resize);return function(){if(element)element.removeChild(canvas);window.removeEventListener('resize',resize);};},[resize]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomContext_RoomContextProvider,{value:{roomSession:roomSession,eventDispatcher:widgetHandler&&widgetHandler.eventDispatcher,widgetHandler:widgetHandler},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{fit:true,innerRef:elementRef,className:!roomSession&&'d-none',children:roomSession&&widgetHandler&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomColorView_RoomColorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomWidgetsView_RoomWidgetsView,{}),roomSession.isSpectator&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomSpectatorView_RoomSpectatorView,{})]})})});};\n// CONCATENATED MODULE: ./src/components/toolbar/ToolbarMeView.tsx\nvar ToolbarMeView_excluded=[\"useGuideTool\",\"unseenAchievementCount\",\"setMeExpanded\",\"children\"];var ToolbarMeView_ToolbarMeView=function ToolbarMeView(props){var _props$useGuideTool=props.useGuideTool,useGuideTool=_props$useGuideTool===void 0?false:_props$useGuideTool,_props$unseenAchievem=props.unseenAchievementCount,unseenAchievementCount=_props$unseenAchievem===void 0?0:_props$unseenAchievem,_props$setMeExpanded=props.setMeExpanded,setMeExpanded=_props$setMeExpanded===void 0?null:_props$setMeExpanded,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,ToolbarMeView_excluded);var elementRef=Object(react[\"useRef\"])();var sso=new URLSearchParams(window.location.search).get('sso');function openBattlePass(){fetch(\"https://int.ultrahabbo.fun/?type=openGalaxyPassEmu&sso=\"+sso);}Object(react[\"useEffect\"])(function(){var roomSession=GetRoomSession();if(!roomSession)return;GetRoomEngine().selectRoomObject(roomSession.roomId,roomSession.ownRoomIndex,nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT);},[]);Object(react[\"useEffect\"])(function(){var onClick=function onClick(event){return setMeExpanded(false);};document.addEventListener('click',onClick);return function(){return document.removeEventListener(nitro_renderer[\"xe\" /* MouseEventType */].MOUSE_CLICK,onClick);};},[setMeExpanded]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{innerRef:elementRef,alignItems:\"center\",className:\"nitro-toolbar-me p-2\",gap:2,style:{marginBottom:\"27px\"},children:[useGuideTool&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"navigation-item icon icon-me-helper-tool\",onClick:function onClick(event){return DispatchUiEvent_DispatchUiEvent(new GuideToolEvent_GuideToolEvent(GuideToolEvent_GuideToolEvent.TOGGLE_GUIDE_TOOL));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"navigation-item icon icon-me-achievements\",onClick:function onClick(event){return CreateLinkEvent('achievements/toggle');},children:unseenAchievementCount>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView_LayoutItemCountView,{count:unseenAchievementCount})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"navigation-item icon icon-me-profile\",onClick:function onClick(event){return GetUserProfile(GetSessionDataManager().userId);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"navigation-item icon icon-me-rooms\",onClick:function onClick(event){return CreateLinkEvent('navigator/search/myworld_view');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"navigation-item icon icon-me-clothing\",onClick:function onClick(event){return CreateLinkEvent('avatar-editor/toggle');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"navigation-item icon icon-battle-pass\",onClick:function onClick(event){return openBattlePass();}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"navigation-item icon icon-me-banners\",onClick:function onClick(event){return CreateLinkEvent('banners/show');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{pointer:true,className:\"navigation-item icon icon-me-settings\",onClick:function onClick(event){return CreateLinkEvent('user-settings/toggle');}}),children]})});};\n// CONCATENATED MODULE: ./src/components/toolbar/ToolbarView.tsx\nvar ToolbarView_ToolbarView=function ToolbarView(props){var isInRoom=props.isInRoom;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMeExpanded=_useState2[0],setMeExpanded=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),useGuideTool=_useState4[0],setUseGuideTool=_useState4[1];var _useSessionInfo=useSessionInfo_useSessionInfo(),_useSessionInfo$userF=_useSessionInfo.userFigure,userFigure=_useSessionInfo$userF===void 0?null:_useSessionInfo$userF;var _useInventoryUnseenTr=useInventoryUnseenTracker_useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.getFullCount,getFullCount=_useInventoryUnseenTr2===void 0?0:_useInventoryUnseenTr2;var _useAchievements=useAchievements(),_useAchievements$getT=_useAchievements.getTotalUnseen,getTotalUnseen=_useAchievements$getT===void 0?0:_useAchievements$getT;var _useFriends=useFriends_useFriends(),_useFriends$requests=_useFriends.requests,requests=_useFriends$requests===void 0?[]:_useFriends$requests;var _useMessenger=useMessenger_useMessenger(),_useMessenger$iconSta=_useMessenger.iconState,iconState=_useMessenger$iconSta===void 0?MessengerIconState_MessengerIconState.HIDDEN:_useMessenger$iconSta;var isMod=GetSessionDataManager().isModerator;var onPerkAllowancesMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setUseGuideTool(parser.isAllowed(nitro_renderer[\"gf\" /* PerkEnum */].USE_GUIDE_TOOL));},[setUseGuideTool]);UseMessageEventHook(nitro_renderer[\"ff\" /* PerkAllowancesMessageEvent */],onPerkAllowancesMessageEvent);var animationIconToToolbar=Object(react[\"useCallback\"])(function(iconName,image,x,y){var target=document.body.getElementsByClassName(iconName)[0];if(!target)return;image.className='toolbar-icon-animation';image.style.visibility='visible';image.style.left=x+'px';image.style.top=y+'px';document.body.append(image);var targetBounds=target.getBoundingClientRect();var imageBounds=image.getBoundingClientRect();var left=imageBounds.x-targetBounds.x;var top=imageBounds.y-targetBounds.y;var squared=Math.sqrt(left*left+top*top);var wait=500-Math.abs(1/squared*100*500*0.5);var height=20;var motionName=\"ToolbarBouncing[\".concat(iconName,\"]\");if(!nitro_renderer[\"we\" /* Motions */].getMotionByTag(motionName)){nitro_renderer[\"we\" /* Motions */].runMotion(new nitro_renderer[\"Bf\" /* Queue */](new nitro_renderer[\"Ri\" /* Wait */](wait+8),new nitro_renderer[\"tb\" /* DropBounce */](target,400,12))).tag=motionName;}var motion=new nitro_renderer[\"Bf\" /* Queue */](new nitro_renderer[\"ub\" /* EaseOut */](new nitro_renderer[\"Pd\" /* JumpBy */](image,wait,targetBounds.x-imageBounds.x+height,targetBounds.y-imageBounds.y,100,1),1),new nitro_renderer[\"sb\" /* Dispose */](image));nitro_renderer[\"we\" /* Motions */].runMotion(motion);},[]);var onNitroToolbarAnimateIconEvent=Object(react[\"useCallback\"])(function(event){animationIconToToolbar('icon-inventory',event.image,event.x,event.y);},[animationIconToToolbar]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"Ye\" /* NitroToolbarAnimateIconEvent */].ANIMATE_ICON,onNitroToolbarAnimateIconEvent);//<Flex alignItems=\"center\" gap={ 2 } style={{ backgroundColor: \"var(--test-galaxy)\", borderRadius: \"0.2rem\", marginBottom: \"3px\",\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation_TransitionAnimation,{type:TransitionAnimationTypes_TransitionAnimationTypes.FADE_IN,inProp:isMeExpanded,timeout:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToolbarMeView_ToolbarMeView,{useGuideTool:useGuideTool,unseenAchievementCount:getTotalUnseen,setMeExpanded:setMeExpanded})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",gap:3,className:\"nitro-toolbar py-1 px-3 animate__animated animate__backInUp\",style:{marginBottom:\"17px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{gap:2,alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,style:{marginBottom:\"3px\",paddingTop:2,paddingBottom:2,paddingLeft:10,paddingRight:10},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{style:{borderRadius:\"50%\",backgroundColor:\"var(--test-galaxytwo)\",padding:\"26px\"},center:true,pointer:true,className:'navigation-item item-avatar icon-border '+(isMeExpanded?'active ':''),onClick:function onClick(event){return setMeExpanded(!isMeExpanded);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:userFigure,direction:2,position:\"absolute\"})}),isInRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-habbo icon-border message-icon-show\",onClick:function onClick(event){return VisitDesktop_VisitDesktop();}}),!isInRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-house icon-border\",onClick:function onClick(event){return CreateLinkEvent('navigator/goto/home');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-rooms icon-border\",onClick:function onClick(event){return CreateLinkEvent('navigator/toggle');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-catalog icon-border\",onClick:function onClick(event){return CreateLinkEvent('catalog/toggle');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-inventory icon-border\",onClick:function onClick(event){return CreateLinkEvent('inventory/toggle');},children:getFullCount>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView_LayoutItemCountView,{count:getFullCount})}),isInRoom&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-camera icon-border\",onClick:function onClick(event){return CreateLinkEvent('camera/toggle');}}),isMod&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-modtools icon-border\",onClick:function onClick(event){return DispatchUiEvent_DispatchUiEvent(new ModToolsEvent_ModToolsEvent(ModToolsEvent_ModToolsEvent.TOGGLE_MOD_TOOLS));}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",id:\"toolbar-chat-input-container\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginBottom:\"3px\",paddingTop:6,paddingBottom:6,paddingLeft:10,paddingRight:10},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-friendall icon-border\",onClick:function onClick(event){return CreateLinkEvent('friends/toggle');},children:requests.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutItemCountView_LayoutItemCountView,{count:requests.length})}),(iconState===MessengerIconState_MessengerIconState.SHOW||iconState===MessengerIconState_MessengerIconState.UNREAD)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-border icon-message  \".concat(iconState===MessengerIconState_MessengerIconState.UNREAD&&'is-unseen'),onClick:function onClick(event){return OpenMessengerChat();}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{id:\"toolbar-friend-bar-container\",className:\"d-none d-lg-block\"})]})]})]});};\n// EXTERNAL MODULE: ./src/components/upside/UpsideView.scss\nvar upside_UpsideView = __webpack_require__(183);\n\n// CONCATENATED MODULE: ./src/components/upside/UpsideView.tsx\nvar UpsideView_UpsideView=function UpsideView(props){var isPlayed=false;var firstCheck=false;var radioUrl=\"https://stream2.svrdedicado.org:8130/stream\";var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),alerts=_useState4[0],setAlerts=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),answer=_useState6[0],setAnswer=_useState6[1];var _useState7=Object(react[\"useState\"])(new Audio(radioUrl)),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),audio=_useState8[0],setAudio=_useState8[1];var myRef=Object(react[\"useRef\"])();var sso=new URLSearchParams(window.location.search).get('sso');Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'o':addNewAlert(parts[2],parts[3]);return;}},eventUrlPrefix:'mal/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);Object(react[\"useEffect\"])(function(){var intervalId=setInterval(radioChecker,3000);function radioChecker(){return _radioChecker.apply(this,arguments);}function _radioChecker(){_radioChecker=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(audio.paused)audio.play();new Promise(function(resolve){return setTimeout(resolve,1000);});if(!audio.paused)clearInterval(intervalId);case 3:case\"end\":return _context.stop();}}},_callee);}));return _radioChecker.apply(this,arguments);}},[]);function startRadio(){audio.src=radioUrl;var resp=audio.play();if(resp!==undefined){resp.then(function(_){document.getElementById(\"startRadio\").style.display=\"none\";document.getElementById(\"pauseRadio\").style.display=\"inline-block\";isPlayed=true;}).catch(function(error){});}}function pauseRadio(){document.getElementById(\"startRadio\").style.display=\"inline-block\";document.getElementById(\"pauseRadio\").style.display=\"none\";audio.pause();audio.src=\"\";isPlayed=false;}function volumeUp(){if(isPlayed)if(audio.volume!=1)audio.volume=audio.volume+0.1;}function volumeDown(){if(isPlayed){if(audio.volume<0.1)return;if(audio.volume!=0.1)audio.volume=audio.volume-0.1;}}function getPlayersOnline(){fetch('https://hgalaxy.net/api/usersOnline').then(function(response){return response.text();}).then(function(result){document.getElementById(\"usersOnline\").innerHTML=result;});}function getAlert(name,text,identifier){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"animate__animated animate__fadeInDown\",style:{padding:\"10px\",backgroundColor:\"var(--test-galaxy)\",color:\"var(--test-galaxytext)\",borderRadius:\"5px\",width:\"270px\",marginBottom:\"20px\",wordBreak:\"break-all\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:\"left\",marginBottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-danger\",children:\"Nueva menci\\xF3n recibida\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{float:\"right\",cursor:\"pointer\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{onClick:function onClick(){return closeAlert(identifier);},className:\"badge bg-danger\",children:\"x\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginBottom:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[name,\":\"]}),\" \\xA0\",text]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:function onChange(e){return handleAnswer(e.target.value);},className:\"form-control\",type:\"text\",style:{marginBottom:\"4px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return sendResponse(name,identifier);},className:\"btn btn-success btn-sm w-100\",children:\"Responder\"})]});}var response=\"\";function handleAnswer(a){response=a;}function sendResponse(username,identifier){fetch(\"https://int.ultrahabbo.fun/?type=mentionUser&userToMention=\"+username+\"&message=\"+response+\"&sso=\"+sso);closeAlert(identifier);}function closeAlert(identifier){setAlerts(function(prev){return prev.filter(function(item){return item.id!==identifier;});});}function addNewAlert(_x,_x2){return _addNewAlert.apply(this,arguments);}function _addNewAlert(){_addNewAlert=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(name,text){var identifier,alert,audio;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:identifier=Math.random();alert=getAlert(name,text,identifier);setAlerts(function(oldArray){return[].concat(Object(toConsumableArray[\"a\" /* default */])(oldArray),[{id:identifier,alert:alert}]);});audio=new Audio('https://swfs.hgalaxy.net/sounds/plin.mp3');audio.play();case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _addNewAlert.apply(this,arguments);}getPlayersOnline();setInterval(getPlayersOnline,20000);audio.volume=0.1;audio.autoplay=true;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nitro-left-side animate__animated animate__backInDown\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"a\",{href:\"https://hgalaxy.net\",target:\"_blank\",className:\"nitro-left-side-button btn btn-sm rounded-pill border border-light\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/images/casa.png\",style:{marginTop:\"2px\",marginBottom:\"2px\"}}),\" Web\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{onClick:function onClick(event){return CreateLinkEvent('help/show');},style:{backgroundColor:\"var(--test-galaxytwo)\",marginLeft:\"7px\"},className:\"btn btn-sm rounded-pill border border-light nitro-left-side-button\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://swfs.hgalaxy.net/images/frank.gif\",style:{marginTop:\"2px\",marginBottom:\"2px\"}}),\" Ayuda\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{style:{backgroundColor:\"var(--test-galaxytwo)\",marginLeft:\"7px\"},className:\"btn btn-sm rounded-pill border border-light nitro-left-side-button\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{style:{transform:\"scale(0.9)\"},src:\"https://swfs.hgalaxy.net/images/ons.png\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{id:\"usersOnline\",children:\"0\"}),\" \\xA0\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{style:{backgroundColor:\"var(--test-galaxytwo)\",marginLeft:\"7px\"},className:\"btn btn-sm rounded-pill border border-light nitro-left-side-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:\"4px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{id:\"startRadio\",style:{display:\"none\",fontSize:\"17px\"},onClick:function onClick(e){return startRadio();},icon:\"play\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{id:\"pauseRadio\",style:{fontSize:\"17px\"},onClick:function onClick(e){return pauseRadio();},icon:\"pause\"}),\"\\xA0\\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{fontSize:\"17px\"},onClick:function onClick(e){return volumeUp();},icon:\"plus\"}),\" \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{fontSize:\"17px\"},onClick:function onClick(e){return volumeDown();},icon:\"minus\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"mentionAlerts\",style:{marginTop:\"20px\"},children:alerts!=null&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:alerts.map(function(alert){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:alert.alert});})})})]})})});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/BadgesContainerView.tsx\nvar BadgesContainerView_excluded=[\"badges\",\"gap\",\"justifyContent\"];var BadgesContainerView_BadgesContainerView=function BadgesContainerView(props){var _props$badges=props.badges,badges=_props$badges===void 0?null:_props$badges,_props$gap=props.gap,gap=_props$gap===void 0?1:_props$gap,_props$justifyContent=props.justifyContent,justifyContent=_props$justifyContent===void 0?'between':_props$justifyContent,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,BadgesContainerView_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:badges&&badges.length>0&&badges.map(function(badge,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:badge},badge)},badge);})});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/RelationshipsContainerView.tsx\nvar RelationshipsContainerView_RelationshipsContainerView=function RelationshipsContainerView(props){var _props$relationships=props.relationships,relationships=_props$relationships===void 0?null:_props$relationships;var RelationshipComponent=function RelationshipComponent(_ref){var type=_ref.type;var relationshipInfo=relationships&&relationships.relationshipStatusMap.hasKey(type)?relationships.relationshipStatusMap.getValue(type):null;var relationshipName=nitro_renderer[\"Ff\" /* RelationshipStatusEnum */].RELATIONSHIP_NAMES[type].toLocaleLowerCase();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,className:\"user-relationship\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"nitro-friends-spritesheet icon-\".concat(relationshipName)})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{grow:true,gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",justifyContent:\"between\",className:\"bg-white rounded px-2 py-1 user-relationship\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{small:true,underline:true,pointer:true,onClick:function onClick(event){return relationshipInfo&&relationshipInfo.randomFriendId>=1&&GetUserProfile(relationshipInfo.randomFriendId);},children:[(!relationshipInfo||relationshipInfo.friendCount===0)&&LocalizeText('extendedprofile.add.friends'),relationshipInfo&&relationshipInfo.friendCount>=1&&relationshipInfo.randomFriendName]}),relationshipInfo&&relationshipInfo.friendCount>=1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{center:true,position:\"relative\",className:\"avatar-image-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:relationshipInfo.randomFriendFigure,headOnly:true,direction:4})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{small:true,italics:true,className:\"user-relationship-count\",children:[(!relationshipInfo||relationshipInfo.friendCount===0)&&LocalizeText('extendedprofile.no.friends.in.this.category'),relationshipInfo&&relationshipInfo.friendCount>1&&LocalizeText(\"extendedprofile.relstatus.others.\".concat(relationshipName),['count'],[(relationshipInfo.friendCount-1).toString()]),\"\\xA0\"]})]})]});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"Ff\" /* RelationshipStatusEnum */].HEART}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"Ff\" /* RelationshipStatusEnum */].SMILE}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipComponent,{type:nitro_renderer[\"Ff\" /* RelationshipStatusEnum */].BOBBA})]});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/FriendsContainerView.tsx\nvar FriendsContainerView_FriendsContainerView=function FriendsContainerView(props){var _props$relationships=props.relationships,relationships=_props$relationships===void 0?null:_props$relationships,_props$friendsCount=props.friendsCount,friendsCount=_props$friendsCount===void 0?null:_props$friendsCount;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:LocalizeText('extendedprofile.friends.count')}),\" \",friendsCount]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,small:true,children:LocalizeText('extendedprofile.relstatus')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RelationshipsContainerView_RelationshipsContainerView,{relationships:relationships})})]});};\n// CONCATENATED MODULE: ./src/components/user-profile/views/GroupsContainerView.tsx\nvar GroupsContainerView_excluded=[\"itsMe\",\"groups\",\"onLeaveGroup\",\"overflow\",\"gap\"];var GroupsContainerView_GroupsContainerView=function GroupsContainerView(props){var _props$itsMe=props.itsMe,itsMe=_props$itsMe===void 0?null:_props$itsMe,_props$groups=props.groups,groups=_props$groups===void 0?null:_props$groups,_props$onLeaveGroup=props.onLeaveGroup,onLeaveGroup=_props$onLeaveGroup===void 0?null:_props$onLeaveGroup,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,_props$gap=props.gap,gap=_props$gap===void 0?2:_props$gap,rest=Object(objectWithoutProperties[\"a\" /* default */])(props,GroupsContainerView_excluded);var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedGroupId=_useState2[0],setSelectedGroupId=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),groupInformation=_useState4[0],setGroupInformation=_useState4[1];var onGroupInformationEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!selectedGroupId||selectedGroupId!==parser.id||parser.flag)return;setGroupInformation(parser);},[selectedGroupId]);UseMessageEventHook(nitro_renderer[\"Pc\" /* GroupInformationEvent */],onGroupInformationEvent);Object(react[\"useEffect\"])(function(){if(!selectedGroupId)return;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Oc\" /* GroupInformationComposer */](selectedGroupId,false));},[selectedGroupId]);Object(react[\"useEffect\"])(function(){setGroupInformation(null);if(groups.length>0){setSelectedGroupId(function(prevValue){if(prevValue===groups[0].groupId){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Oc\" /* GroupInformationComposer */](groups[0].groupId,false));}return groups[0].groupId;});}},[groups]);if(!groups||!groups.length){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,fullHeight:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"center\",gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"no-group-spritesheet image-1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"no-group-spritesheet image-2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{className:\"no-group-spritesheet image-3\"})]})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({overflow:overflow,gap:2},rest),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{alignItems:\"center\",size:2,overflow:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AutoGrid_AutoGrid,{overflow:null,columnCount:1,columnMinHeight:50,className:\"user-groups-container\",children:groups.map(function(group,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LayoutGridItem_LayoutGridItem,{overflow:\"unset\",itemActive:selectedGroupId===group.groupId,onClick:function onClick(){return setSelectedGroupId(group.groupId);},className:\"p-1\",children:[itsMe&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:'position-absolute end-0 top-0 z-index-1 icon icon-group-'+(group.favourite?'favorite':'not-favorite'),onClick:function onClick(){return ToggleFavoriteGroup_ToggleFavoriteGroup(group);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutBadgeImageView_LayoutBadgeImageView,{badgeCode:group.badgeCode,isGroup:true})]},index);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:10,overflow:\"hidden\",children:groupInformation&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupInformationView_GroupInformationView,{groupInformation:groupInformation,onClose:onLeaveGroup})})]}));};\n// CONCATENATED MODULE: ./src/components/user-profile/views/UserContainerView.tsx\nvar UserContainerView_UserContainerView=function UserContainerView(props){var _props$userProfile=props.userProfile,userProfile=_props$userProfile===void 0?null:_props$userProfile;var _useState=Object(react[\"useState\"])(userProfile.requestSent),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),requestSent=_useState2[0],setRequestSent=_useState2[1];var isOwnProfile=userProfile.id===GetSessionDataManager().userId;var canSendFriendRequest=!requestSent&&!isOwnProfile&&!userProfile.isMyFriend&&!userProfile.requestSent;var addFriend=function addFriend(){setRequestSent(true);SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Of\" /* RequestFriendComposer */](userProfile.username));};Object(react[\"useEffect\"])(function(){setRequestSent(userProfile.requestSent);},[userProfile]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{center:true,className:\"avatar-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:userProfile.figure,direction:2})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:userProfile.username}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",italics:true,textBreak:true,small:true,children:[userProfile.motto,\"\\xA0\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:LocalizeText('extendedprofile.created')}),\" \",userProfile.registration]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:LocalizeText('extendedprofile.last.login')}),\" \",nitro_renderer[\"Ib\" /* FriendlyTime */].format(userProfile.secondsSinceLastVisit,'.ago',2)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:LocalizeText('extendedprofile.achievementscore')}),\" \",userProfile.achievementPoints]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[userProfile.isOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-pf-online\"}),!userProfile.isOnline&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-pf-offline\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[canSendFriendRequest&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:addFriend,children:LocalizeText('extendedprofile.addasafriend')}),!canSendFriendRequest&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-pf-tick\"}),isOwnProfile&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('extendedprofile.me')}),userProfile.isMyFriend&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('extendedprofile.friend')}),(requestSent||userProfile.requestSent)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('extendedprofile.friendrequestsent')})]})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/user-profile/UserProfileView.tsx\nvar UserProfileView_UserProfileView=function UserProfileView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userProfile=_useState2[0],setUserProfile=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userBadges=_useState4[0],setUserBadges=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userRelationships=_useState6[0],setUserRelationships=_useState6[1];var onClose=function onClose(){setUserProfile(null);setUserBadges([]);setUserRelationships(null);};var onLeaveGroup=Object(react[\"useCallback\"])(function(){if(!userProfile||userProfile.id!==GetSessionDataManager().userId)return;GetUserProfile(userProfile.id);},[userProfile]);var onUserCurrentBadgesEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!userProfile||parser.userId!==userProfile.id)return;setUserBadges(parser.badges);},[userProfile]);UseMessageEventHook(nitro_renderer[\"wi\" /* UserCurrentBadgesEvent */],onUserCurrentBadgesEvent);var onUserRelationshipsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();if(!userProfile||parser.userId!==userProfile.id)return;setUserRelationships(parser);},[userProfile]);UseMessageEventHook(nitro_renderer[\"Gf\" /* RelationshipStatusInfoEvent */],onUserRelationshipsEvent);var onUserProfileEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var isSameProfile=false;setUserProfile(function(prevValue){if(prevValue&&prevValue.id)isSameProfile=prevValue.id===parser.id;return parser;});if(!isSameProfile){setUserBadges([]);setUserRelationships(null);}SendMessageComposer_SendMessageComposer(new nitro_renderer[\"vi\" /* UserCurrentBadgesComposer */](parser.id));SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ei\" /* UserRelationshipsComposer */](parser.id));},[]);UseMessageEventHook(nitro_renderer[\"Di\" /* UserProfileEvent */],onUserProfileEvent);var onRoomEngineObjectEvent=Object(react[\"useCallback\"])(function(event){if(!userProfile)return;if(event.category!==nitro_renderer[\"Cg\" /* RoomObjectCategory */].UNIT)return;var userData=GetRoomSession().userDataManager.getUserDataByIndex(event.objectId);if(userData.type!==nitro_renderer[\"Gg\" /* RoomObjectType */].USER)return;GetUserProfile(userData.webID);},[userProfile]);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"jg\" /* RoomEngineObjectEvent */].SELECTED,onRoomEngineObjectEvent);if(!userProfile)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"nitro-user-profile\",theme:\"primary-slim\",className:\"user-profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('extendedprofile.caption'),onCloseClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid_Grid,{fullHeight:false,gap:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{size:7,gap:1,className:\"user-container pe-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserContainerView_UserContainerView,{userProfile:userProfile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid_Grid,{columnCount:5,fullHeight:true,className:\"bg-muted rounded px-2 py-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BadgesContainerView_BadgesContainerView,{fullWidth:true,center:true,badges:userBadges})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{size:5,children:userRelationships&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsContainerView_FriendsContainerView,{relationships:userRelationships,friendsCount:userProfile.friendsCount})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{alignItems:\"center\",className:\"rooms-button-container px-2 py-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,onClick:function onClick(event){return CreateLinkEvent(\"navigator/search/hotel_view/owner:\".concat(userProfile.username));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-rooms\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,underline:true,pointer:true,children:LocalizeText('extendedprofile.rooms')})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupsContainerView_GroupsContainerView,{fullWidth:true,itsMe:userProfile.id===GetSessionDataManager().userId,groups:userProfile.groups,onLeaveGroup:onLeaveGroup})]})]});};\n// CONCATENATED MODULE: ./src/components/user-settings/UserSettingsView.tsx\nvar UserSettingsView_UserSettingsView=function UserSettingsView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userSettings=_useState4[0],setUserSettings=_useState4[1];var _useCatalogPlaceMulti=useCatalogPlaceMultipleItems_useCatalogPlaceMultipleItems(),_useCatalogPlaceMulti2=Object(slicedToArray[\"a\" /* default */])(_useCatalogPlaceMulti,2),catalogPlaceMultipleObjects=_useCatalogPlaceMulti2[0],setCatalogPlaceMultipleObjects=_useCatalogPlaceMulti2[1];var _useCatalogSkipPurcha=useCatalogSkipPurchaseConfirmation_useCatalogSkipPurchaseConfirmation(),_useCatalogSkipPurcha2=Object(slicedToArray[\"a\" /* default */])(_useCatalogSkipPurcha,2),catalogSkipPurchaseConfirmation=_useCatalogSkipPurcha2[0],setCatalogSkipPurchaseConfirmation=_useCatalogSkipPurcha2[1];var sso=new URLSearchParams(window.location.search).get('sso');var colorPrimary=\"\";var colorText=\"\";var colorSecondary=\"\";function saveColors(){var alertColor=document.getElementById(\"alertColor\");if(colorPrimary==\"\"||colorText==\"\"||colorSecondary==\"\"){alertColor.classList.remove(\"alert-warning\");alertColor.classList.add(\"alert-danger\");alertColor.innerHTML=\"Debes de seleccionar todos los colores para poder guardar los cambios.\";return;}fetch(\"https://int.ultrahabbo.fun/?type=setColors&sso=\"+sso+\"&colorPrimary=\"+colorPrimary+\"&colorText=\"+colorText+\"&colorSecondary=\"+colorSecondary);alertColor.classList.remove(\"alert-warning\");alertColor.classList.remove(\"alert-danger\");alertColor.classList.add(\"alert-success\");alertColor.innerHTML=\"Se han guardado los cambios con éxito\";}var onUserSettingsEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();var settingsEvent=new nitro_renderer[\"Ue\" /* NitroSettingsEvent */]();settingsEvent.volumeSystem=parser.volumeSystem;settingsEvent.volumeFurni=parser.volumeFurni;settingsEvent.volumeTrax=parser.volumeTrax;settingsEvent.oldChat=parser.oldChat;settingsEvent.roomInvites=parser.roomInvites;settingsEvent.cameraFollow=parser.cameraFollow;settingsEvent.flags=parser.flags;settingsEvent.chatType=parser.chatType;setUserSettings(settingsEvent);DispatchMainEvent_DispatchMainEvent(settingsEvent);},[]);UseMessageEventHook(nitro_renderer[\"Gi\" /* UserSettingsEvent */],onUserSettingsEvent);var processAction=Object(react[\"useCallback\"])(function(type,value){var doUpdate=true;var clone=userSettings.clone();switch(type){case'close_view':setIsVisible(false);doUpdate=false;return;case'oldchat':clone.oldChat=value;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Hi\" /* UserSettingsOldChatComposer */](clone.oldChat));break;case'room_invites':clone.roomInvites=value;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ii\" /* UserSettingsRoomInvitesComposer */](clone.roomInvites));break;case'camera_follow':clone.cameraFollow=value;SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Fi\" /* UserSettingsCameraFollowComposer */](clone.cameraFollow));break;case'system_volume':clone.volumeSystem=value;clone.volumeSystem=Math.max(0,clone.volumeSystem);clone.volumeSystem=Math.min(100,clone.volumeSystem);break;case'furni_volume':clone.volumeFurni=value;clone.volumeFurni=Math.max(0,clone.volumeFurni);clone.volumeFurni=Math.min(100,clone.volumeFurni);break;case'trax_volume':clone.volumeTrax=value;clone.volumeTrax=Math.max(0,clone.volumeTrax);clone.volumeTrax=Math.min(100,clone.volumeTrax);break;}if(doUpdate)setUserSettings(clone);DispatchMainEvent_DispatchMainEvent(clone);},[userSettings]);var saveRangeSlider=Object(react[\"useCallback\"])(function(type){switch(type){case'volume':SendMessageComposer_SendMessageComposer(new nitro_renderer[\"Ji\" /* UserSettingsSoundComposer */](Math.round(userSettings.volumeSystem),Math.round(userSettings.volumeFurni),Math.round(userSettings.volumeTrax)));break;}},[userSettings]);function setColor(color){var r=parseInt(color.substr(1,2),16);var g=parseInt(color.substr(3,2),16);var b=parseInt(color.substr(5,2),16);document.querySelector('html').style.setProperty('--test-galaxy',\"rgba(\".concat(r,\", \").concat(g,\", \").concat(b,\", .81)\"));colorPrimary=\"rgba(\".concat(r,\", \").concat(g,\", \").concat(b,\", .81)\");}function setColorText(color){var r=parseInt(color.substr(1,2),16);var g=parseInt(color.substr(3,2),16);var b=parseInt(color.substr(5,2),16);document.querySelector('html').style.setProperty('--test-galaxytext',\"rgba(\".concat(r,\", \").concat(g,\", \").concat(b,\")\"));colorText=\"rgba(\".concat(r,\", \").concat(g,\", \").concat(b,\")\");}function setColorTwo(color){var r=parseInt(color.substr(1,2),16);var g=parseInt(color.substr(3,2),16);var b=parseInt(color.substr(5,2),16);document.querySelector('html').style.setProperty('--test-galaxytwo',\"rgba(\".concat(r,\", \").concat(g,\", \").concat(b,\")\"));colorSecondary=\"rgba(\".concat(r,\", \").concat(g,\", \").concat(b,\")\");}Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;}},eventUrlPrefix:'user-settings/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[]);Object(react[\"useEffect\"])(function(){if(!userSettings)return;DispatchUiEvent_DispatchUiEvent(userSettings);},[userSettings]);if(!isVisible)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"user-settings\",className:\"user-settings-window\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('widget.memenu.settings.title'),onCloseClick:function onCloseClick(event){return processAction('close_view');}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{className:\"text-black\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:userSettings.oldChat,onChange:function onChange(event){return processAction('oldchat',event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('memenu.settings.chat.prefer.old.chat')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:userSettings.roomInvites,onChange:function onChange(event){return processAction('room_invites',event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('memenu.settings.other.ignore.room.invites')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:userSettings.cameraFollow,onChange:function onChange(event){return processAction('camera_follow',event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('memenu.settings.other.disable.room.camera.follow')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:catalogPlaceMultipleObjects,onChange:function onChange(event){return setCatalogPlaceMultipleObjects(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('memenu.settings.other.place.multiple.objects')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:catalogSkipPurchaseConfirmation,onChange:function onChange(event){return setCatalogSkipPurchaseConfirmation(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('memenu.settings.other.skip.purchase.confirmation')})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('widget.memenu.settings.volume')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('widget.memenu.settings.volume.ui')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{color:\"var(--test-galaxytext)\"},icon:userSettings.volumeSystem===0?'volume-mute':userSettings.volumeSystem>0?'volume-down':null,className:userSettings.volumeSystem>=50?'text-muted':''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeSystem\",value:userSettings.volumeSystem,onChange:function onChange(event){return processAction('system_volume',event.target.value);},onMouseUp:function onMouseUp(){return saveRangeSlider('volume');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{color:\"var(--test-galaxytext)\"},icon:\"volume-up\",className:userSettings.volumeSystem<50?'text-muted':''})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('widget.memenu.settings.volume.furni')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{color:\"var(--test-galaxytext)\"},icon:userSettings.volumeFurni===0?'volume-mute':userSettings.volumeFurni>0?'volume-down':null,className:userSettings.volumeFurni>=50?'text-muted':''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeFurni\",value:userSettings.volumeFurni,onChange:function onChange(event){return processAction('furni_volume',event.target.value);},onMouseUp:function onMouseUp(){return saveRangeSlider('volume');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{color:\"var(--test-galaxytext)\"},icon:\"volume-up\",className:userSettings.volumeFurni<50?'text-muted':''})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('widget.memenu.settings.volume.trax')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{color:\"var(--test-galaxytext)\"},icon:userSettings.volumeTrax===0?'volume-mute':userSettings.volumeTrax>0?'volume-down':null,className:userSettings.volumeTrax>=50?'text-muted':''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",className:\"custom-range w-100\",min:\"0\",max:\"100\",step:\"1\",id:\"volumeTrax\",value:userSettings.volumeTrax,onChange:function onChange(event){return processAction('trax_volume',event.target.value);},onMouseUp:function onMouseUp(){return saveRangeSlider('volume');}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{style:{color:\"var(--test-galaxytext)\"},icon:\"volume-up\",className:userSettings.volumeTrax<50?'text-muted':''})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Color de la interfaz\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"alertColor\",className:\"alert alert-warning\",children:\"Recuerda guardar los cambios para mantener siempre la misma configuraci\\xF3n.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Color principal\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-color\",type:\"color\",onChange:function onChange(e){return setColor(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Color del texto\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-color\",type:\"color\",onChange:function onChange(e){return setColorText(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"Color secundario\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control form-control-color\",type:\"color\",onChange:function onChange(e){return setColorTwo(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return saveColors();},className:\"btn btn-success btn-sm w-100\",children:\"Guardar\"})]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/welcome-wizard/WelcomeWizardView.tsx\nvar WelcomeWizardView_WelcomeWizardView=function WelcomeWizardView(props){var sso=new URLSearchParams(window.location.search).get('sso');var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=Object(react[\"useState\"])(\"home\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),currentTab=_useState4[0],setCurrentTab=_useState4[1];var password=\"\";function setPassword(pass){password=pass;}function changeLook(look){switch(look){case 1:fetch(\"https://hgalaxy.net/system/controllers/eha.php?changeLook=ch-215-1189.sh-305-92.hr-851-45.ea-987463055-62-62.hd-209-2.lg-710-82.wa-2007-1408.ca-3175-1408&sso=\"+sso);break;case 2:fetch(\"https://hgalaxy.net/system/controllers/eha.php?changeLook=hr-515-45.hd-629-2.ch-255-91.lg-710-1409.sh-906-80.he-1603-80&sso=\"+sso);break;case 3:fetch(\"https://hgalaxy.net/system/controllers/eha.php?changeLook=hr-989999875-1092.hd-629-2.ch-665-64.lg-3174-1195-1408.sh-305-92.he-1606-1408.ca-1807-1408&sso=\"+sso);break;case 4:fetch(\"https://hgalaxy.net/system/controllers/eha.php?changeLook=ch-250-64.sh-3016-110.hr-828-1028.ea-987463055-62-62.hd-180-1006.lg-3078-110.he-3071-92&sso=\"+sso);break;}setCurrentTab(\"rooms\");}function chooseWelcomeRoom(room){fetch(\"https://hgalaxy.net/system/controllers/eha.php?chooseWelcomeRoom=\"+room+\"&sso=\"+sso);setCurrentTab(\"furni\");}Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'welcomewizard/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:isVisible&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:\"Bienvenid@ a HGalaxy\",onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardContentView_NitroCardContentView,{className:\"text-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tabs[\"a\" /* default */],{defaultActiveKey:\"home\",id:\"uncontrolled-tab-example\",className:\"mb-3\",activeKey:currentTab,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */],{eventKey:\"home\",title:\"Bienvenida\",style:{width:\"630px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:12,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert bg-warning\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{textAlign:\"left\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xBFYa tienes cuenta?\"}),\" Inicia sesi\\xF3n para no empezar de 0.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://hgalaxy.net/logout\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"badge bg-success\",children:\"Iniciar sesi\\xF3n\"})})})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:7,style:{color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xA1Nos complace darte la bienvenida a HGalaxy!\"})}),\"Bienvenido a tu mundo virtual favorito. Aqu\\xED podr\\xE1s conocer \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"nuevas amistades, jugar o crear tus propios juegos, \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"participar en eventos organizados por el equipo...\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"\\xA1Y mucho mas!\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:[\"\\xBFEst\\xE1s listo para empezar?\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"\\xA1Estamos encantados de que est\\xE9s aqu\\xED!\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://images.habbo.com/c_images/WhatIsHabbo/ill_15.png\",style:{objectFit:\"contain\"}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(e){return setCurrentTab(\"changeName\");},children:\"Siguiente\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */],{eventKey:\"changeName\",title:\"Cambia tu nombre\",style:{width:\"630px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:9,style:{color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xA1Cambia tu nombre!\"})}),\"Para cambiar tu nombre, debes clickear encima de tu personaje\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\" y seleccionar un nombre.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"Si quieres mantener tu cuenta, te recomendamos que lo cambies\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\" ya que actualmente tienes un nombre gen\\xE9rico.\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Despu\\xE9s podr\\xE1s usar el nombre asignado para iniciar sesi\\xF3n.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Mas adelante te pediremos que crees una contrase\\xF1a.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xA1Recuerda, es muy importante que cambies tu nombre!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://cdn.discordapp.com/attachments/888286259850653737/1006174235439415396/7b80162084a09cf4927c0710494ac903.png\",style:{objectFit:\"contain\"}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(e){return setCurrentTab(\"appearance\");},children:\"Siguiente\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */],{eventKey:\"appearance\",title:\"Apariencia\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{color:\"var(--test-galaxytext)\"},children:\"\\xBFQu\\xE9 tal si empezamos por cambiarnos la apariencia?\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-white look-image card\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/ruled_paper.gif)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"mx-auto d-block\",src:\"https://habbo-imaging.hgalaxy.net/avatarimage/ch-215-1189.sh-305-92.hr-851-45.ea-987463055-62-62.hd-209-2.lg-710-82.wa-2007-1408.ca-3175-1408&gesture=sml&action=wav&direction=3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeLook(1);},className:\"btn btn-success btn-sm w-100\",children:\"Seleccionar\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-white look-image card\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/ruled_paper.gif)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"mx-auto d-block\",src:\"https://habbo-imaging.hgalaxy.net/avatarimage/hr-515-45.hd-629-2.ch-255-91.lg-710-1409.sh-906-80.he-1603-80&gesture=sml&action=wav&direction=3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeLook(2);},className:\"btn btn-success btn-sm w-100\",children:\"Seleccionar\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-white look-image card\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/ruled_paper.gif)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"mx-auto d-block\",src:\"https://habbo-imaging.hgalaxy.net/avatarimage/hr-989999875-1092.hd-629-2.ch-665-64.lg-3174-1195-1408.sh-305-92.he-1606-1408.ca-1807-1408&gesture=sml&action=wav&direction=3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeLook(3);},className:\"btn btn-success btn-sm w-100\",children:\"Seleccionar\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-white look-image card\",style:{backgroundImage:\"url(https://files.habboemotion.com/resources/images/homebgs/ruled_paper.gif)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"mx-auto d-block\",src:\"https://habbo-imaging.hgalaxy.net/avatarimage/ch-250-64.sh-3016-110.hr-828-1028.ea-987463055-62-62.hd-180-1006.lg-3078-110.he-3071-92&gesture=sml&action=wav&direction=3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return changeLook(4);},className:\"btn btn-success btn-sm w-100\",children:\"Seleccionar\"})]})})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:function onClick(e){return CreateLinkEvent('avatar-editor/show');},children:\"Abrir vestidor\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(e){return setCurrentTab(\"rooms\");},style:{marginTop:'5px'},children:\"Siguiente\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */],{eventKey:\"rooms\",title:\"Salas\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xBFContinuamos con tu primera sala?\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center\",style:{color:\"var(--test-galaxytext)\"},children:\"Hemos creado algunas salas predeterminadas, puedes seleccionar entre ellas.  Si no te gustan, \\xA1puedes crear la tuya!\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:4,className:\"text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://cdn.discordapp.com/attachments/1005777601723387934/1007205463525437541/unknown.png\",className:\"room-welcome-image rounded-circle\",style:{height:'130px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return chooseWelcomeRoom(1);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:4,className:\"text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://cdn.discordapp.com/attachments/1005777601723387934/1007205858679197766/unknown.png\",className:\"room-welcome-image rounded-circle\",style:{height:'130px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return chooseWelcomeRoom(2);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:4,className:\"text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://cdn.discordapp.com/attachments/1005777601723387934/1007208121422319627/unknown.png\",className:\"room-welcome-image rounded-circle\",style:{height:'130px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return chooseWelcomeRoom(3);},className:\"btn btn-success btn-sm\",children:\"Seleccionar\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:function onClick(e){return CreateLinkEvent('navigator/create');},children:\"\\xA1Prefiero crearme mi sala!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(e){return setCurrentTab(\"furni\");},style:{marginTop:'5px'},children:\"Siguiente\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */],{eventKey:\"furni\",title:\"Furni\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:7,style:{color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xBFQu\\xE9 son los furnis?\"})}),\"Furni es el nombre que recibe un mueble del hotel. \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Puedes encontrar furnis de distintas categor\\xEDas en el \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"el hotel, la mayor\\xEDa de ellos los puedes encontrar \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"en el cat\\xE1logo. Tambi\\xE9n existen algunos furnis \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"que solo podr\\xE1s ganar en eventos realizados por \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"el staff. Cuando compres un furni, este se guardar\\xE1 \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"en tu inventario, y desde ah\\xED podr\\xE1s colocarlo \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"en cualquiera de tus salas.\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:5,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://images.habbo.com/c_images/HabboWay/habboway_3b.png\",alt:\"\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:function onClick(e){return CreateLinkEvent('catalog/show');},style:{marginBottom:'5px'},children:\"Abrir cat\\xE1logo de furnis\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-danger w-100\",onClick:function onClick(e){return CreateLinkEvent('inventory/show');},style:{marginBottom:'5px'},children:\"Abrir inventario\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(e){return setCurrentTab(\"friends\");},children:\"Siguiente\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */],{eventKey:\"friends\",title:\"Amigos\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:7,style:{color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xBFC\\xF3mo agrego a amigos?\"})}),\"Para agregar a un amigo a consola, debes hacer click \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"en su personaje, al hacerlo se te abrir\\xE1 un men\\xFA\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"encima de su cabeza con varias opciones, selecciona\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"la opci\\xF3n de A\\xF1adir amig@ y una vez aceptado lo\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"tendr\\xE1s en la consola.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Tambi\\xE9n puedes recibir solicitudes de otros\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"usuarios y aceptarlos desde la consola.\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:5,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://cdn.discordapp.com/attachments/888286259850653737/974177651008880692/segs.png\",alt:\"\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary w-100\",onClick:function onClick(e){return CreateLinkEvent('friends/show');},children:\"Abrir consola\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(e){return setCurrentTab(\"security\");},style:{marginTop:'5px'},children:\"Siguiente\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */],{eventKey:\"security\",title:\"Seguridad\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */],{md:7,style:{color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{color:\"var(--test-galaxytext)\"},className:\"text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"\\xA1Crea una contrase\\xF1a!\"})}),\"Si no has creado una contrase\\xF1a a la hora de registrarte,\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"te damos la posibilidad de que lo hagas ahora.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Te recomendamos una contrase\\xF1a que tenga mas de 6 \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"car\\xE1cteres y contenga n\\xFAmeros y letras.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"Al darle click a crear nueva contrase\\xF1a se te abrir\\xE1\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"una pesta\\xF1a con la secci\\xF3n de configuraci\\xF3n.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Recuerda que es muy importante que establezcas una\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"contrase\\xF1a.\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{md:5,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://cdn.discordapp.com/attachments/888286259850653737/974908816787378206/elmayor1.png\",alt:\"\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://hgalaxy.net/me/settings\",onClick:function onClick(e){return setIsVisible(false);},target:\"_blank\",className:\"btn btn-primary w-100\",children:\"Crear nueva contrase\\xF1a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-danger w-100\",onClick:function onClick(e){return setIsVisible(false);},style:{marginTop:'5px'},children:\"Cerrar\"})]})]})})]})});};\n// CONCATENATED MODULE: ./src/components/wired/WiredContext.tsx\nvar WiredContext=/*#__PURE__*/Object(react[\"createContext\"])({trigger:null,setTrigger:null,intParams:null,setIntParams:null,stringParam:null,setStringParam:null,furniIds:null,setFurniIds:null,actionDelay:null,setActionDelay:null,saveWired:null});var WiredContext_WiredContextProvider=function WiredContextProvider(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredContext.Provider,{value:props.value,children:props.children});};var WiredContext_useWiredContext=function useWiredContext(){return Object(react[\"useContext\"])(WiredContext);};\n// CONCATENATED MODULE: ./src/components/wired/views/WiredFurniSelectorView.tsx\nvar WiredFurniSelectorView_WiredFurniSelectorView=function WiredFurniSelectorView(props){var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$furn=_useWiredContext.furniIds,furniIds=_useWiredContext$furn===void 0?[]:_useWiredContext$furn,_useWiredContext$setF=_useWiredContext.setFurniIds,setFurniIds=_useWiredContext$setF===void 0?null:_useWiredContext$setF;var onWiredSelectObjectEvent=Object(react[\"useCallback\"])(function(event){var furniId=event.objectId;if(furniId<=0)return;setFurniIds(function(prevValue){var newFurniIds=Object(toConsumableArray[\"a\" /* default */])(prevValue);var index=prevValue.indexOf(furniId);if(index>=0){newFurniIds.splice(index,1);WiredSelectionVisualizer_WiredSelectionVisualizer.hide(furniId);}else if(newFurniIds.length<trigger.maximumItemSelectionCount){newFurniIds.push(furniId);WiredSelectionVisualizer_WiredSelectionVisualizer.show(furniId);}return newFurniIds;});},[trigger,setFurniIds]);UseUiEvent_UseUiEvent(WiredSelectObjectEvent_WiredSelectObjectEvent.SELECT_OBJECT,onWiredSelectObjectEvent);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.pickfurnis.caption',['count','limit'],[furniIds.length.toString(),trigger.maximumItemSelectionCount.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,children:LocalizeText('wiredfurni.pickfurnis.desc')})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/WiredBaseView.tsx\nvar WiredBaseView_WiredBaseView=function WiredBaseView(props){var _props$wiredType=props.wiredType,wiredType=_props$wiredType===void 0?'':_props$wiredType,_props$requiresFurni=props.requiresFurni,requiresFurni=_props$requiresFurni===void 0?WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE:_props$requiresFurni,_props$save=props.save,save=_props$save===void 0?null:_props$save,_props$validate=props.validate,validate=_props$validate===void 0?null:_props$validate,_props$children=props.children,children=_props$children===void 0?null:_props$children,_props$hasSpecialInpu=props.hasSpecialInput,hasSpecialInput=_props$hasSpecialInpu===void 0?false:_props$hasSpecialInpu;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),wiredName=_useState2[0],setWiredName=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),wiredDescription=_useState4[0],setWiredDescription=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),needsSave=_useState6[0],setNeedsSave=_useState6[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setT=_useWiredContext.setTrigger,setTrigger=_useWiredContext$setT===void 0?null:_useWiredContext$setT,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS,_useWiredContext$setF=_useWiredContext.setFurniIds,setFurniIds=_useWiredContext$setF===void 0?null:_useWiredContext$setF,_useWiredContext$save=_useWiredContext.saveWired,saveWired=_useWiredContext$save===void 0?null:_useWiredContext$save;var close=function close(){return setTrigger(null);};var onSave=function onSave(){if(validate&&!validate())return;if(save)save();setNeedsSave(true);};Object(react[\"useEffect\"])(function(){if(!needsSave)return;saveWired();setNeedsSave(false);},[needsSave,saveWired]);Object(react[\"useEffect\"])(function(){if(!trigger)return;var spriteId=trigger.spriteId||-1;var furniData=GetSessionDataManager().getFloorItemData(spriteId);if(!furniData){setWiredName('NAME: '+spriteId);setWiredDescription('NAME: '+spriteId);}else{setWiredName(furniData.name);setWiredDescription(furniData.description);}if(hasSpecialInput){setIntParams(trigger.intData);setStringParam(trigger.stringData);}if(requiresFurni>WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE){setFurniIds(function(prevValue){if(prevValue&&prevValue.length)WiredSelectionVisualizer_WiredSelectionVisualizer.clearSelectionShaderFromFurni(prevValue);if(trigger.selectedItems&&trigger.selectedItems.length){WiredSelectionVisualizer_WiredSelectionVisualizer.applySelectionShaderToFurni(trigger.selectedItems);return trigger.selectedItems;}return[];});}return function(){setNeedsSave(false);setIntParams([]);setStringParam(null);setFurniIds(function(prevValue){if(prevValue&&prevValue.length)WiredSelectionVisualizer_WiredSelectionVisualizer.clearSelectionShaderFromFurni(prevValue);return[];});};},[trigger,hasSpecialInput,requiresFurni,setIntParams,setStringParam,setFurniIds]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardView_NitroCardView,{uniqueKey:\"nitro-wired\",className:\"nitro-wired\",theme:\"primary-slim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitroCardHeaderView_NitroCardHeaderView,{headerText:LocalizeText('wiredfurni.title'),onCloseClick:close}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(NitroCardContentView_NitroCardContentView,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-wired-\".concat(wiredType)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:wiredName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,children:wiredDescription})]}),!!children&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),children,requiresFurni>WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredFurniSelectorView_WiredFurniSelectorView,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"success\",onClick:onSave,children:LocalizeText('wiredfurni.ready')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{fullWidth:true,variant:\"secondary\",onClick:close,children:LocalizeText('cancel')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBaseView.tsx\nvar WiredActionBaseView_WiredActionBaseView=function WiredActionBaseView(props){var _props$requiresFurni=props.requiresFurni,requiresFurni=_props$requiresFurni===void 0?WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE:_props$requiresFurni,_props$save=props.save,save=_props$save===void 0?null:_props$save,_props$hasSpecialInpu=props.hasSpecialInput,hasSpecialInput=_props$hasSpecialInpu===void 0?false:_props$hasSpecialInpu,_props$children=props.children,children=_props$children===void 0?null:_props$children;var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$acti=_useWiredContext.actionDelay,actionDelay=_useWiredContext$acti===void 0?0:_useWiredContext$acti,_useWiredContext$setA=_useWiredContext.setActionDelay,setActionDelay=_useWiredContext$setA===void 0?null:_useWiredContext$setA;Object(react[\"useEffect\"])(function(){setActionDelay(trigger.delayInPulses);},[trigger,setActionDelay]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredBaseView_WiredBaseView,{wiredType:\"action\",requiresFurni:requiresFurni,save:save,hasSpecialInput:hasSpecialInput,children:[children,!!children&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.delay',['seconds'],[GetWiredTimeLocale(actionDelay)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:0,max:20,value:actionDelay,onChange:function onChange(event){return setActionDelay(event);}})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotChangeFigureView.tsx\nvar DEFAULT_FIGURE='hd-180-1.ch-210-66.lg-270-82.sh-290-81';var WiredActionBotChangeFigureView_WiredActionBotChangeFigureView=function WiredActionBotChangeFigureView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),figure=_useState4[0],setFigure=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(botName+WIRED_STRING_DELIMETER+figure);};Object(react[\"useEffect\"])(function(){var data=trigger.stringData.split(WIRED_STRING_DELIMETER);if(data.length>0)setBotName(data[0]);if(data.length>1)setFigure(data[1].length>0?data[1]:DEFAULT_FIGURE);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{center:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayoutAvatarImageView_LayoutAvatarImageView,{figure:figure,direction:4}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{onClick:function onClick(event){return setFigure(GetSessionDataManager().figure);},children:LocalizeText('wiredfurni.params.capture.figure')})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotFollowAvatarView.tsx\nvar WiredActionBotFollowAvatarView_WiredActionBotFollowAvatarView=function WiredActionBotFollowAvatarView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),followMode=_useState4[0],setFollowMode=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){setStringParam(botName);setIntParams([followMode]);};Object(react[\"useEffect\"])(function(){setBotName(trigger.stringData);setFollowMode(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"followMode\",id:\"followMode1\",checked:followMode===1,onChange:function onChange(event){return setFollowMode(1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.start.following')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"followMode\",id:\"followMode2\",checked:followMode===0,onChange:function onChange(event){return setFollowMode(0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.stop.following')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotGiveHandItemView.tsx\nvar ALLOWED_HAND_ITEM_IDS=[2,5,7,8,9,10,27];var WiredActionBotGiveHandItemView_WiredActionBotGiveHandItemView=function WiredActionBotGiveHandItemView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),handItemId=_useState4[0],setHandItemId=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){setStringParam(botName);setIntParams([handItemId]);};Object(react[\"useEffect\"])(function(){setBotName(trigger.stringData);setHandItemId(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.handitem')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm\",value:handItemId,onChange:function onChange(event){return setHandItemId(parseInt(event.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:\"------\"}),ALLOWED_HAND_ITEM_IDS.map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:value,children:LocalizeText(\"handitem\".concat(value))},value);})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotMoveView.tsx\nvar WiredActionBotMoveView_WiredActionBotMoveView=function WiredActionBotMoveView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(botName);};Object(react[\"useEffect\"])(function(){setBotName(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotTalkToAvatarView.tsx\nvar WiredActionBotTalkToAvatarView_WiredActionBotTalkToAvatarView=function WiredActionBotTalkToAvatarView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=Object(react[\"useState\"])(-1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),talkMode=_useState6[0],setTalkMode=_useState6[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){setStringParam(botName+WIRED_STRING_DELIMETER+message);setIntParams([talkMode]);};Object(react[\"useEffect\"])(function(){var data=trigger.stringData.split(WIRED_STRING_DELIMETER);if(data.length>0)setBotName(data[0]);if(data.length>1)setMessage(data[1].length>0?data[1]:'');setTalkMode(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:64,value:message,onChange:function onChange(event){return setMessage(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode1\",checked:talkMode===0,onChange:function onChange(event){return setTalkMode(0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.talk')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode2\",checked:talkMode===1,onChange:function onChange(event){return setTalkMode(1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.whisper')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotTalkView.tsx\nvar WiredActionBotTalkView_WiredActionBotTalkView=function WiredActionBotTalkView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=Object(react[\"useState\"])(-1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),talkMode=_useState6[0],setTalkMode=_useState6[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){setStringParam(botName+WIRED_STRING_DELIMETER+message);setIntParams([talkMode]);};Object(react[\"useEffect\"])(function(){var data=trigger.stringData.split(WIRED_STRING_DELIMETER);if(data.length>0)setBotName(data[0]);if(data.length>1)setMessage(data[1].length>0?data[1]:'');setTalkMode(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:64,value:message,onChange:function onChange(event){return setMessage(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode1\",checked:talkMode===0,onChange:function onChange(event){return setTalkMode(0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.talk')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"talkMode\",id:\"talkMode2\",checked:talkMode===1,onChange:function onChange(event){return setTalkMode(1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.shout')})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionBotTeleportView.tsx\nvar WiredActionBotTeleportView_WiredActionBotTeleportView=function WiredActionBotTeleportView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(botName);};Object(react[\"useEffect\"])(function(){setBotName(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionCallAnotherStackView.tsx\nvar WiredActionCallAnotherStackView_WiredActionCallAnotherStackView=function WiredActionCallAnotherStackView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionChaseView.tsx\nvar WiredActionChaseView_WiredActionChaseView=function WiredActionChaseView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionChatView.tsx\nvar WiredActionChatView_WiredActionChatView=function WiredActionChatView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(message);};Object(react[\"useEffect\"])(function(){setMessage(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:message,onChange:function onChange(event){return setMessage(event.target.value);},maxLength:100})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionFleeView.tsx\nvar WiredActionFleeView_WiredActionFleeView=function WiredActionFleeView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionGiveRewardView.tsx\nvar WiredActionGiveRewardView_WiredActionGiveRewardView=function WiredActionGiveRewardView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),limitEnabled=_useState2[0],setLimitEnabled=_useState2[1];var _useState3=Object(react[\"useState\"])(1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),rewardTime=_useState4[0],setRewardTime=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),uniqueRewards=_useState6[0],setUniqueRewards=_useState6[1];var _useState7=Object(react[\"useState\"])(1),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),rewardsLimit=_useState8[0],setRewardsLimit=_useState8[1];var _useState9=Object(react[\"useState\"])(1),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),limitationInterval=_useState10[0],setLimitationInterval=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),rewards=_useState12[0],setRewards=_useState12[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var addReward=Object(react[\"useCallback\"])(function(){setRewards(function(rewards){return[].concat(Object(toConsumableArray[\"a\" /* default */])(rewards),[{isBadge:false,itemCode:'',probability:null}]);});},[setRewards]);var removeReward=Object(react[\"useCallback\"])(function(index){setRewards(function(prevValue){var newValues=Array.from(prevValue);newValues.splice(index,1);return newValues;});},[setRewards]);var updateReward=Object(react[\"useCallback\"])(function(index,isBadge,itemCode,probability){var rewardsClone=Array.from(rewards);var reward=rewardsClone[index];if(!reward)return;reward.isBadge=isBadge;reward.itemCode=itemCode;reward.probability=probability;setRewards(rewardsClone);},[rewards,setRewards]);var save=Object(react[\"useCallback\"])(function(){var stringRewards=[];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(rewards),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var reward=_step.value;if(!reward.itemCode)continue;var rewardsString=[reward.isBadge?'0':'1',reward.itemCode,reward.probability.toString()];stringRewards.push(rewardsString.join(','));}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(stringRewards.length>0){setStringParam(stringRewards.join(';'));setIntParams([rewardTime,uniqueRewards?1:0,rewardsLimit,limitationInterval]);}},[rewardTime,uniqueRewards,rewardsLimit,limitationInterval,rewards,setIntParams,setStringParam]);Object(react[\"useEffect\"])(function(){var readRewards=[];if(trigger.stringData.length>0&&trigger.stringData.includes(';')){var splittedRewards=trigger.stringData.split(';');var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(splittedRewards),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var rawReward=_step2.value;var reward=rawReward.split(',');if(reward.length!==3)continue;readRewards.push({isBadge:reward[0]==='0',itemCode:reward[1],probability:Number(reward[2])});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}if(readRewards.length===0)readRewards.push({isBadge:false,itemCode:'',probability:null});setRewardTime(trigger.intData.length>0?trigger.intData[0]:0);setUniqueRewards(trigger.intData.length>1?trigger.intData[1]===1:false);setRewardsLimit(trigger.intData.length>2?trigger.intData[2]:0);setLimitationInterval(trigger.intData.length>3?trigger.intData[3]:0);setLimitEnabled(trigger.intData.length>3?trigger.intData[3]>0:false);setRewards(readRewards);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"limitEnabled\",onChange:function onChange(event){return setLimitEnabled(event.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.prizelimit',['amount'],[limitEnabled?rewardsLimit.toString():''])})]}),!limitEnabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,small:true,className:\"bg-muted rounded p-1\",children:\"Reward limit not set. Make sure rewards are badges or non-tradeable items.\"}),limitEnabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1000,value:rewardsLimit,onChange:function onChange(event){return setRewardsLimit(event);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:\"How often can a user be rewarded?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{className:\"form-select form-select-sm w-100\",value:rewardTime,onChange:function onChange(e){return setRewardTime(Number(e.target.value));},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"0\",children:\"Once\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:\"3\",children:[\"Once every \",limitationInterval,\" minutes\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:\"2\",children:[\"Once every \",limitationInterval,\" hours\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:\"1\",children:[\"Once every \",limitationInterval,\" days\"]})]}),rewardTime>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:limitationInterval,onChange:function onChange(event){return setLimitationInterval(Number(event.target.value));}})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"uniqueRewards\",checked:uniqueRewards,onChange:function onChange(e){return setUniqueRewards(e.target.checked);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:\"Unique rewards\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{center:true,small:true,className:\"bg-muted rounded p-1\",children:\"If checked each reward will be given once to each user. This will disable the probabilities option.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{justifyContent:\"between\",alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:\"Rewards\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"success\",onClick:addReward,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"plus\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Column_Column,{gap:1,children:rewards&&rewards.map(function(reward,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:reward.isBadge,onChange:function onChange(e){return updateReward(index,e.target.checked,reward.itemCode,reward.probability);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{small:true,children:\"Badge?\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:reward.itemCode,onChange:function onChange(e){return updateReward(index,reward.isBadge,e.target.value,reward.probability);},placeholder:\"Item Code\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:reward.probability,onChange:function onChange(e){return updateReward(index,reward.isBadge,reward.itemCode,Number(e.target.value));},placeholder:\"Probability\"}),index>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button,{variant:\"danger\",onClick:function onClick(event){return removeReward(index);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_fontawesome_index_es[\"a\" /* FontAwesomeIcon */],{icon:\"trash\"})})]},index);})})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionGiveScoreToPredefinedTeamView.tsx\nvar WiredActionGiveScoreToPredefinedTeamView_WiredActionGiveScoreToPredefinedTeamView=function WiredActionGiveScoreToPredefinedTeamView(props){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),points=_useState2[0],setPoints=_useState2[1];var _useState3=Object(react[\"useState\"])(1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),time=_useState4[0],setTime=_useState4[1];var _useState5=Object(react[\"useState\"])(1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedTeam=_useState6[0],setSelectedTeam=_useState6[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([points,time,selectedTeam]);};Object(react[\"useEffect\"])(function(){if(trigger.intData.length>=2){setPoints(trigger.intData[0]);setTime(trigger.intData[1]);setSelectedTeam(trigger.intData[2]);}else{setPoints(1);setTime(1);setSelectedTeam(1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.setpoints',['points'],[points.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:100,value:points,onChange:function onChange(event){return setPoints(event);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.settimesingame',['times'],[time.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:10,value:time,onChange:function onChange(event){return setTime(event);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.team')}),[1,2,3,4].map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"selectedTeam\".concat(value),checked:selectedTeam===value,onChange:function onChange(event){return setSelectedTeam(value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.team.'+value)})]},value);})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionGiveScoreView.tsx\nvar WiredActionGiveScoreView_WiredActionGiveScoreView=function WiredActionGiveScoreView(props){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),points=_useState2[0],setPoints=_useState2[1];var _useState3=Object(react[\"useState\"])(1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),time=_useState4[0],setTime=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([points,time]);};Object(react[\"useEffect\"])(function(){if(trigger.intData.length>=2){setPoints(trigger.intData[0]);setTime(trigger.intData[1]);}else{setPoints(1);setTime(1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.setpoints',['points'],[points.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:100,value:points,onChange:function onChange(event){return setPoints(event);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.settimesingame',['times'],[time.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:10,value:time,onChange:function onChange(event){return setTime(event);}})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionJoinTeamView.tsx\nvar WiredActionJoinTeamView_WiredActionJoinTeamView=function WiredActionJoinTeamView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedTeam=_useState2[0],setSelectedTeam=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([selectedTeam]);};Object(react[\"useEffect\"])(function(){setSelectedTeam(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.team')}),[1,2,3,4].map(function(team){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"selectedTeam\".concat(team),checked:selectedTeam===team,onChange:function onChange(event){return setSelectedTeam(team);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(\"wiredfurni.params.team.\".concat(team))})]},team);})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionKickFromRoomView.tsx\nvar WiredActionKickFromRoomView_WiredActionKickFromRoomView=function WiredActionKickFromRoomView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(message);};Object(react[\"useEffect\"])(function(){setMessage(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:message,onChange:function onChange(event){return setMessage(event.target.value);},maxLength:100})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionLeaveTeamView.tsx\nvar WiredActionLeaveTeamView_WiredActionLeaveTeamView=function WiredActionLeaveTeamView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionMoveAndRotateFurniView.tsx\nvar directionOptions=[{value:0,icon:'ne'},{value:2,icon:'se'},{value:4,icon:'sw'},{value:6,icon:'nw'}];var rotationOptions=[0,1,2,3,4,5,6];var WiredActionMoveAndRotateFurniView_WiredActionMoveAndRotateFurniView=function WiredActionMoveAndRotateFurniView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),movement=_useState2[0],setMovement=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),rotation=_useState4[0],setRotation=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([movement,rotation]);};Object(react[\"useEffect\"])(function(){if(trigger.intData.length>=2){setMovement(trigger.intData[0]);setRotation(trigger.intData[1]);}else{setMovement(-1);setRotation(-1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.startdir')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{gap:1,children:directionOptions.map(function(option){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:\"movement\".concat(option.value),checked:movement===option.value,onChange:function onChange(event){return setMovement(option.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-\".concat(option.icon)})})]},option.value);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.turn')}),rotationOptions.map(function(option){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"rotation\",id:\"rotation\".concat(option),checked:rotation===option,onChange:function onChange(event){return setRotation(option);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(\"wiredfurni.params.turn.\".concat(option))})]},option);})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionMoveFurniToView.tsx\nvar WiredActionMoveFurniToView_directionOptions=[{value:0,icon:'ne'},{value:2,icon:'se'},{value:4,icon:'sw'},{value:6,icon:'nw'}];var WiredActionMoveFurniToView_WiredActionMoveFurniToView=function WiredActionMoveFurniToView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),spacing=_useState2[0],setSpacing=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),movement=_useState4[0],setMovement=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([movement,spacing]);};Object(react[\"useEffect\"])(function(){if(trigger.intData.length>=2){setSpacing(trigger.intData[1]);setMovement(trigger.intData[0]);}else{setSpacing(-1);setMovement(-1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.emptytiles',['tiles'],[spacing.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:5,value:spacing,onChange:function onChange(event){return setSpacing(event);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.startdir')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flex_Flex,{gap:1,children:WiredActionMoveFurniToView_directionOptions.map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:\"movement\".concat(value.value),checked:movement===value.value,onChange:function onChange(event){return setMovement(value.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-\".concat(value.icon)})})]},value.value);})})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionMoveFurniView.tsx\nvar WiredActionMoveFurniView_directionOptions=[{value:4,icon:'ne'},{value:5,icon:'se'},{value:6,icon:'sw'},{value:7,icon:'nw'},{value:2,icon:'mv-2'},{value:3,icon:'mv-3'},{value:1,icon:'mv-1'}];var WiredActionMoveFurniView_rotationOptions=[0,1,2,3];var WiredActionMoveFurniView_WiredActionMoveFurniView=function WiredActionMoveFurniView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),movement=_useState2[0],setMovement=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),rotation=_useState4[0],setRotation=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([movement,rotation]);};Object(react[\"useEffect\"])(function(){if(trigger.intData.length>=2){setMovement(trigger.intData[0]);setRotation(trigger.intData[1]);}else{setMovement(-1);setRotation(-1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.movefurni')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"movement0\",checked:movement===0,onChange:function onChange(event){return setMovement(0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.movefurni.0')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,children:[WiredActionMoveFurniView_directionOptions.map(function(option){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"movement\",id:\"movement\".concat(option.value),checked:movement===option.value,onChange:function onChange(event){return setMovement(option.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-\".concat(option.icon)})]},option.value);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.rotatefurni')}),WiredActionMoveFurniView_rotationOptions.map(function(option){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"rotation\",id:\"rotation\".concat(option),checked:rotation===option,onChange:function onChange(event){return setRotation(option);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text_Text,{children:[[1,2].includes(option)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"icon icon-rot-\".concat(option)}),LocalizeText(\"wiredfurni.params.rotatefurni.\".concat(option))]})]},option);})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionMuteUserView.tsx\nvar WiredActionMuteUserView_WiredActionMuteUserView=function WiredActionMuteUserView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){setIntParams([time]);setStringParam(message);};Object(react[\"useEffect\"])(function(){setTime(trigger.intData.length>0?trigger.intData[0]:0);setMessage(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.length.minutes',['minutes'],[time.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:10,value:time,onChange:function onChange(event){return setTime(event);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.message')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:message,onChange:function onChange(event){return setMessage(event.target.value);},maxLength:100})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionResetView.tsx\nvar WiredActionResetView_WiredActionResetView=function WiredActionResetView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionSetFurniStateToView.tsx\nvar WiredActionSetFurniStateToView_WiredActionSetFurniStateToView=function WiredActionSetFurniStateToView(props){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),stateFlag=_useState2[0],setStateFlag=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),directionFlag=_useState4[0],setDirectionFlag=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),positionFlag=_useState6[0],setPositionFlag=_useState6[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([stateFlag,directionFlag,positionFlag]);};Object(react[\"useEffect\"])(function(){setStateFlag(trigger.getBoolean(0)?1:0);setDirectionFlag(trigger.getBoolean(1)?1:0);setPositionFlag(trigger.getBoolean(2)?1:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.conditions')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"stateFlag\",checked:!!stateFlag,onChange:function onChange(event){return setStateFlag(event.target.checked?1:0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.condition.state')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"directionFlag\",checked:!!directionFlag,onChange:function onChange(event){return setDirectionFlag(event.target.checked?1:0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.condition.direction')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"positionFlag\",checked:!!positionFlag,onChange:function onChange(event){return setPositionFlag(event.target.checked?1:0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.condition.position')})]})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionTeleportView.tsx\nvar WiredActionTeleportView_WiredActionTeleportView=function WiredActionTeleportView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/actions/WiredActionToggleFurniStateView.tsx\nvar WiredActionToggleFurniStateView_WiredActionToggleFurniStateView=function WiredActionToggleFurniStateView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBaseView_WiredActionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_BY_TYPE_OR_FROM_CONTEXT,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/common/GetWiredActionLayout.tsx\nvar GetWiredActionLayout_GetWiredActionLayout=function GetWiredActionLayout(code){switch(code){case WiredActionLayoutCode_WiredActionLayout.BOT_CHANGE_FIGURE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotChangeFigureView_WiredActionBotChangeFigureView,{});case WiredActionLayoutCode_WiredActionLayout.BOT_FOLLOW_AVATAR:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotFollowAvatarView_WiredActionBotFollowAvatarView,{});case WiredActionLayoutCode_WiredActionLayout.BOT_GIVE_HAND_ITEM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotGiveHandItemView_WiredActionBotGiveHandItemView,{});case WiredActionLayoutCode_WiredActionLayout.BOT_MOVE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotMoveView_WiredActionBotMoveView,{});case WiredActionLayoutCode_WiredActionLayout.BOT_TALK:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotTalkView_WiredActionBotTalkView,{});case WiredActionLayoutCode_WiredActionLayout.BOT_TALK_DIRECT_TO_AVTR:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotTalkToAvatarView_WiredActionBotTalkToAvatarView,{});case WiredActionLayoutCode_WiredActionLayout.BOT_TELEPORT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionBotTeleportView_WiredActionBotTeleportView,{});case WiredActionLayoutCode_WiredActionLayout.CALL_ANOTHER_STACK:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionCallAnotherStackView_WiredActionCallAnotherStackView,{});case WiredActionLayoutCode_WiredActionLayout.CHASE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionChaseView_WiredActionChaseView,{});case WiredActionLayoutCode_WiredActionLayout.CHAT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionChatView_WiredActionChatView,{});case WiredActionLayoutCode_WiredActionLayout.FLEE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionFleeView_WiredActionFleeView,{});case WiredActionLayoutCode_WiredActionLayout.GIVE_REWARD:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionGiveRewardView_WiredActionGiveRewardView,{});case WiredActionLayoutCode_WiredActionLayout.GIVE_SCORE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionGiveScoreView_WiredActionGiveScoreView,{});case WiredActionLayoutCode_WiredActionLayout.GIVE_SCORE_TO_PREDEFINED_TEAM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionGiveScoreToPredefinedTeamView_WiredActionGiveScoreToPredefinedTeamView,{});case WiredActionLayoutCode_WiredActionLayout.JOIN_TEAM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionJoinTeamView_WiredActionJoinTeamView,{});case WiredActionLayoutCode_WiredActionLayout.KICK_FROM_ROOM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionKickFromRoomView_WiredActionKickFromRoomView,{});case WiredActionLayoutCode_WiredActionLayout.LEAVE_TEAM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionLeaveTeamView_WiredActionLeaveTeamView,{});case WiredActionLayoutCode_WiredActionLayout.MOVE_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionMoveFurniView_WiredActionMoveFurniView,{});case WiredActionLayoutCode_WiredActionLayout.MOVE_AND_ROTATE_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionMoveAndRotateFurniView_WiredActionMoveAndRotateFurniView,{});case WiredActionLayoutCode_WiredActionLayout.MOVE_FURNI_TO:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionMoveFurniToView_WiredActionMoveFurniToView,{});case WiredActionLayoutCode_WiredActionLayout.MUTE_USER:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionMuteUserView_WiredActionMuteUserView,{});case WiredActionLayoutCode_WiredActionLayout.RESET:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionResetView_WiredActionResetView,{});case WiredActionLayoutCode_WiredActionLayout.SET_FURNI_STATE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionSetFurniStateToView_WiredActionSetFurniStateToView,{});case WiredActionLayoutCode_WiredActionLayout.TELEPORT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionTeleportView_WiredActionTeleportView,{});case WiredActionLayoutCode_WiredActionLayout.TOGGLE_FURNI_STATE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredActionToggleFurniStateView_WiredActionToggleFurniStateView,{});}return null;};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionBaseView.tsx\nvar WiredConditionBaseView_WiredConditionBaseView=function WiredConditionBaseView(props){var _props$requiresFurni=props.requiresFurni,requiresFurni=_props$requiresFurni===void 0?WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE:_props$requiresFurni,_props$save=props.save,save=_props$save===void 0?null:_props$save,_props$hasSpecialInpu=props.hasSpecialInput,hasSpecialInput=_props$hasSpecialInpu===void 0?false:_props$hasSpecialInpu,_props$children=props.children,children=_props$children===void 0?null:_props$children;var onSave=function onSave(){return save&&save();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredBaseView_WiredBaseView,{wiredType:\"condition\",requiresFurni:requiresFurni,hasSpecialInput:hasSpecialInput,save:onSave,children:children});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorHasHandItem.tsx\nvar WiredConditionActorHasHandItem_ALLOWED_HAND_ITEM_IDS=[2,5,7,8,9,10,27];var WiredConditionActorHasHandItem_WiredConditionActorHasHandItemView=function WiredConditionActorHasHandItemView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),handItemId=_useState2[0],setHandItemId=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([handItemId]);};Object(react[\"useEffect\"])(function(){setHandItemId(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.handitem')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"form-select form-select-sm\",value:handItemId,onChange:function onChange(event){return setHandItemId(parseInt(event.target.value));},children:WiredConditionActorHasHandItem_ALLOWED_HAND_ITEM_IDS.map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:value,children:LocalizeText(\"handitem\".concat(value))},value);})})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsGroupMemberView.tsx\nvar WiredConditionActorIsGroupMemberView_WiredConditionActorIsGroupMemberView=function WiredConditionActorIsGroupMemberView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsOnFurniView.tsx\nvar WiredConditionActorIsOnFurniView_WiredConditionActorIsOnFurniView=function WiredConditionActorIsOnFurniView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsTeamMemberView.tsx\nvar teamIds=[1,2,3,4];var WiredConditionActorIsTeamMemberView_WiredConditionActorIsTeamMemberView=function WiredConditionActorIsTeamMemberView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selectedTeam=_useState2[0],setSelectedTeam=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([selectedTeam]);};Object(react[\"useEffect\"])(function(){setSelectedTeam(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.team')}),teamIds.map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{gap:1,alignItems:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"selectedTeam\",id:\"selectedTeam\".concat(value),checked:selectedTeam===value,onChange:function onChange(event){return setSelectedTeam(value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(\"wiredfurni.params.team.\".concat(value))})]},value);})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsWearingBadgeView.tsx\nvar WiredConditionActorIsWearingBadgeView_WiredConditionActorIsWearingBadgeView=function WiredConditionActorIsWearingBadgeView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),badge=_useState2[0],setBadge=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(badge);};Object(react[\"useEffect\"])(function(){setBadge(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.badgecode')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:badge,onChange:function onChange(event){return setBadge(event.target.value);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionActorIsWearingEffectView.tsx\nvar WiredConditionActorIsWearingEffectView_WiredConditionActorIsWearingEffectView=function WiredConditionActorIsWearingEffectView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),effect=_useState2[0],setEffect=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([effect]);};Object(react[\"useEffect\"])(function(){setEffect(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.effectid')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:effect,onChange:function onChange(event){return setEffect(parseInt(event.target.value));}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionDateRangeView.tsx\nvar WiredConditionDateRangeView_WiredConditionDateRangeView=function WiredConditionDateRangeView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),endDate=_useState4[0],setEndDate=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){var startDateMili=0;var endDateMili=0;var startDateInstance=new Date(startDate);var endDateInstance=new Date(endDate);if(startDateInstance&&endDateInstance){startDateMili=startDateInstance.getTime()/1000;endDateMili=endDateInstance.getTime()/1000;}setIntParams([startDateMili,endDateMili]);};Object(react[\"useEffect\"])(function(){if(trigger.intData.length>=2){var _startDate=new Date();var _endDate=new Date();if(trigger.intData[0]>0)_startDate=new Date(trigger.intData[0]*1000);if(trigger.intData[1]>0)_endDate=new Date(trigger.intData[1]*1000);setStartDate(WiredDateToString(_startDate));setEndDate(WiredDateToString(_endDate));}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.startdate')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:startDate,onChange:function onChange(e){return setStartDate(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.enddate')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:endDate,onChange:function onChange(e){return setEndDate(e.target.value);}})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniHasAvatarOnView.tsx\nvar WiredConditionFurniHasAvatarOnView_WiredConditionFurniHasAvatarOnView=function WiredConditionFurniHasAvatarOnView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniHasFurniOnView.tsx\nvar WiredConditionFurniHasFurniOnView_WiredConditionFurniHasFurniOnView=function WiredConditionFurniHasFurniOnView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),requireAll=_useState2[0],setRequireAll=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([requireAll]);};Object(react[\"useEffect\"])(function(){setRequireAll(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.requireall')}),[0,1].map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"requireAll\",id:\"requireAll\".concat(value),checked:requireAll===value,onChange:function onChange(event){return setRequireAll(value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.requireall.'+value)})]},value);})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniHasNotFurniOnView.tsx\nvar WiredConditionFurniHasNotFurniOnView_WiredConditionFurniHasNotFurniOnView=function WiredConditionFurniHasNotFurniOnView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),requireAll=_useState2[0],setRequireAll=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([requireAll]);};Object(react[\"useEffect\"])(function(){setRequireAll(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.not_requireall')}),[0,1].map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"requireAll\",id:\"requireAll\".concat(value),checked:requireAll===value,onChange:function onChange(event){return setRequireAll(value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText(\"wiredfurni.params.not_requireall.\".concat(value))})]},value);})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniIsOfTypeView.tsx\nvar WiredConditionFurniIsOfTypeView_WiredConditionFurniIsOfTypeView=function WiredConditionFurniIsOfTypeView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionFurniMatchesSnapshotView.tsx\nvar WiredConditionFurniMatchesSnapshotView_WiredConditionFurniMatchesSnapshotView=function WiredConditionFurniMatchesSnapshotView(props){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),stateFlag=_useState2[0],setStateFlag=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),directionFlag=_useState4[0],setDirectionFlag=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),positionFlag=_useState6[0],setPositionFlag=_useState6[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([stateFlag,directionFlag,positionFlag]);};Object(react[\"useEffect\"])(function(){setStateFlag(trigger.getBoolean(0)?1:0);setDirectionFlag(trigger.getBoolean(1)?1:0);setPositionFlag(trigger.getBoolean(2)?1:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.conditions')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"stateFlag\",checked:!!stateFlag,onChange:function onChange(event){return setStateFlag(event.target.checked?1:0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.condition.state')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"directionFlag\",checked:!!directionFlag,onChange:function onChange(event){return setDirectionFlag(event.target.checked?1:0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.condition.direction')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"positionFlag\",checked:!!positionFlag,onChange:function onChange(event){return setPositionFlag(event.target.checked?1:0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.condition.position')})]})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionTimeElapsedLessView.tsx\nvar WiredConditionTimeElapsedLessView_WiredConditionTimeElapsedLessView=function WiredConditionTimeElapsedLessView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([time]);};Object(react[\"useEffect\"])(function(){setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.allowbefore',['seconds'],[GetWiredTimeLocale(time)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1200,value:time,onChange:function onChange(event){return setTime(event);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionTimeElapsedMoreView.tsx\nvar WiredConditionTimeElapsedMoreView_WiredConditionTimeElapsedMoreView=function WiredConditionTimeElapsedMoreView(props){var _useState=Object(react[\"useState\"])(-1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([time]);};Object(react[\"useEffect\"])(function(){setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.allowafter',['seconds'],[GetWiredTimeLocale(time)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1200,value:time,onChange:function onChange(event){return setTime(event);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/conditions/WiredConditionUserCountInRoomView.tsx\nvar WiredConditionUserCountInRoomView_WiredConditionUserCountInRoomView=function WiredConditionUserCountInRoomView(props){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),min=_useState2[0],setMin=_useState2[1];var _useState3=Object(react[\"useState\"])(1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),max=_useState4[0],setMax=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([min,max]);};Object(react[\"useEffect\"])(function(){if(trigger.intData.length>=2){setMin(trigger.intData[0]);setMax(trigger.intData[1]);}else{setMin(1);setMax(1);}},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredConditionBaseView_WiredConditionBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.usercountmin',['value'],[min.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:50,value:min,onChange:function onChange(event){return setMin(event);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.usercountmax',['value'],[max.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:50,value:max,onChange:function onChange(event){return setMax(event);}})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/common/GetWiredConditionLayout.tsx\nvar GetWiredConditionLayout_GetWiredConditionLayout=function GetWiredConditionLayout(code){switch(code){case WiredConditionLayoutCode_WiredConditionlayout.ACTOR_HAS_HANDITEM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorHasHandItem_WiredConditionActorHasHandItemView,{});case WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_GROUP_MEMBER:case WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_IN_GROUP:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsGroupMemberView_WiredConditionActorIsGroupMemberView,{});case WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_ON_FURNI:case WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_ON_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsOnFurniView_WiredConditionActorIsOnFurniView,{});case WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_IN_TEAM:case WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_IN_TEAM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsTeamMemberView_WiredConditionActorIsTeamMemberView,{});case WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_WEARING_BADGE:case WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_WEARS_BADGE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsWearingBadgeView_WiredConditionActorIsWearingBadgeView,{});case WiredConditionLayoutCode_WiredConditionlayout.ACTOR_IS_WEARING_EFFECT:case WiredConditionLayoutCode_WiredConditionlayout.NOT_ACTOR_WEARING_EFFECT:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionActorIsWearingEffectView_WiredConditionActorIsWearingEffectView,{});case WiredConditionLayoutCode_WiredConditionlayout.DATE_RANGE_ACTIVE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionDateRangeView_WiredConditionDateRangeView,{});case WiredConditionLayoutCode_WiredConditionlayout.FURNIS_HAVE_AVATARS:case WiredConditionLayoutCode_WiredConditionlayout.FURNI_NOT_HAVE_HABBO:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniHasAvatarOnView_WiredConditionFurniHasAvatarOnView,{});case WiredConditionLayoutCode_WiredConditionlayout.HAS_STACKED_FURNIS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniHasFurniOnView_WiredConditionFurniHasFurniOnView,{});case WiredConditionLayoutCode_WiredConditionlayout.NOT_HAS_STACKED_FURNIS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniHasNotFurniOnView_WiredConditionFurniHasNotFurniOnView,{});case WiredConditionLayoutCode_WiredConditionlayout.STUFF_TYPE_MATCHES:case WiredConditionLayoutCode_WiredConditionlayout.NOT_FURNI_IS_OF_TYPE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniIsOfTypeView_WiredConditionFurniIsOfTypeView,{});case WiredConditionLayoutCode_WiredConditionlayout.STATES_MATCH:case WiredConditionLayoutCode_WiredConditionlayout.NOT_STATES_MATCH:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionFurniMatchesSnapshotView_WiredConditionFurniMatchesSnapshotView,{});case WiredConditionLayoutCode_WiredConditionlayout.TIME_ELAPSED_LESS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionTimeElapsedLessView_WiredConditionTimeElapsedLessView,{});case WiredConditionLayoutCode_WiredConditionlayout.TIME_ELAPSED_MORE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionTimeElapsedMoreView_WiredConditionTimeElapsedMoreView,{});case WiredConditionLayoutCode_WiredConditionlayout.USER_COUNT_IN:case WiredConditionLayoutCode_WiredConditionlayout.NOT_USER_COUNT_IN:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredConditionUserCountInRoomView_WiredConditionUserCountInRoomView,{});}return null;};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerBaseView.tsx\nvar WiredTriggerBaseView_WiredTriggerBaseView=function WiredTriggerBaseView(props){var _props$requiresFurni=props.requiresFurni,requiresFurni=_props$requiresFurni===void 0?WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE:_props$requiresFurni,_props$save=props.save,save=_props$save===void 0?null:_props$save,_props$hasSpecialInpu=props.hasSpecialInput,hasSpecialInput=_props$hasSpecialInpu===void 0?false:_props$hasSpecialInpu,_props$children=props.children,children=_props$children===void 0?null:_props$children;var onSave=function onSave(){return save&&save();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredBaseView_WiredBaseView,{wiredType:\"trigger\",requiresFurni:requiresFurni,hasSpecialInput:hasSpecialInput,save:onSave,children:children});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerAvatarEnterRoomView.tsx\nvar WiredTriggerAvatarEnterRoomView_WiredTriggerAvatarEnterRoomView=function WiredTriggerAvatarEnterRoomView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),avatarMode=_useState4[0],setAvatarMode=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(avatarMode===1?username:'');};Object(react[\"useEffect\"])(function(){setUsername(trigger.stringData);setAvatarMode(trigger.stringData?1:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.picktriggerer')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"avatarMode\",id:\"avatarMode0\",checked:avatarMode===0,onChange:function onChange(event){return setAvatarMode(0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.anyavatar')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"avatarMode\",id:\"avatarMode1\",checked:avatarMode===1,onChange:function onChange(event){return setAvatarMode(1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.certainavatar')})]}),avatarMode===1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:username,onChange:function onChange(event){return setUsername(event.target.value);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerAvatarSaysSomethingView.tsx\nvar WiredTriggerAvatarSaysSomethingView_WiredTriggerAvatarSaysSomethingView=function WiredTriggerAvatarSaysSomethingView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),triggererAvatar=_useState4[0],setTriggererAvatar=_useState4[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){setStringParam(message);setIntParams([triggererAvatar]);};Object(react[\"useEffect\"])(function(){setMessage(trigger.stringData);setTriggererAvatar(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.whatissaid')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:message,onChange:function onChange(event){return setMessage(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.picktriggerer')}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"triggererAvatar\",id:\"triggererAvatar0\",checked:triggererAvatar===0,onChange:function onChange(event){return setTriggererAvatar(0);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:LocalizeText('wiredfurni.params.anyavatar')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Flex_Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"triggererAvatar\",id:\"triggererAvatar1\",checked:triggererAvatar===1,onChange:function onChange(event){return setTriggererAvatar(1);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{children:GetSessionDataManager().userName})]})]})]});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerAvatarWalksOffFurniView.tsx\nvar WiredTriggerAvatarWalksOffFurniView_WiredTriggerAvatarWalksOffFurniView=function WiredTriggerAvatarWalksOffFurniView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerAvatarWalksOnFurni.tsx\nvar WiredTriggerAvatarWalksOnFurni_WiredTriggerAvatarWalksOnFurniView=function WiredTriggerAvatarWalksOnFurniView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerBotReachedAvatarView.tsx\nvar WiredTriggerBotReachedAvatarView_WiredTriggerBotReachedAvatarView=function WiredTriggerBotReachedAvatarView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(botName);};Object(react[\"useEffect\"])(function(){setBotName(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerBotReachedStuffView.tsx\nvar WiredTriggerBotReachedStuffView_WiredTriggerBotReachedStuffView=function WiredTriggerBotReachedStuffView(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),botName=_useState2[0],setBotName=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS;var save=function save(){return setStringParam(botName);};Object(react[\"useEffect\"])(function(){setBotName(trigger.stringData);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.bot.name')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:32,value:botName,onChange:function onChange(event){return setBotName(event.target.value);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerCollisionView.tsx\nvar WiredTriggerCollisionView_WiredTriggerCollisionView=function WiredTriggerCollisionView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerExecuteOnceView.tsx\nvar WiredTriggerExecuteOnceView_WiredTriggeExecuteOnceView=function WiredTriggeExecuteOnceView(props){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([time]);};Object(react[\"useEffect\"])(function(){setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.settime',['seconds'],[GetWiredTimeLocale(time)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1200,value:time,onChange:function onChange(event){return setTime(event);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerExecutePeriodicallyLongView.tsx\nvar WiredTriggerExecutePeriodicallyLongView_WiredTriggeExecutePeriodicallyLongView=function WiredTriggeExecutePeriodicallyLongView(props){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([time]);};Object(react[\"useEffect\"])(function(){setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.setlongtime',['time'],[nitro_renderer[\"Ib\" /* FriendlyTime */].format(time*5).toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:120,value:time,onChange:function onChange(event){return setTime(event);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerExecutePeriodicallyView.tsx\nvar WiredTriggerExecutePeriodicallyView_WiredTriggeExecutePeriodicallyView=function WiredTriggeExecutePeriodicallyView(props){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([time]);};Object(react[\"useEffect\"])(function(){setTime(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.settime',['seconds'],[GetWiredTimeLocale(time)])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:60,value:time,onChange:function onChange(event){return setTime(event);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerGameEndsView.tsx\nvar WiredTriggerGameEndsView_WiredTriggerGameEndsView=function WiredTriggerGameEndsView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerGameStartsView.tsx\nvar WiredTriggerGameStartsView_WiredTriggerGameStartsView=function WiredTriggerGameStartsView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerScoreAchievedView.tsx\nvar WiredTriggerScoreAchievedView_WiredTriggeScoreAchievedView=function WiredTriggeScoreAchievedView(props){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),points=_useState2[0],setPoints=_useState2[1];var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI;var save=function save(){return setIntParams([points]);};Object(react[\"useEffect\"])(function(){setPoints(trigger.intData.length>0?trigger.intData[0]:0);},[trigger]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_NONE,hasSpecialInput:true,save:save,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Column_Column,{gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text_Text,{bold:true,children:LocalizeText('wiredfurni.params.setscore',['points'],[points.toString()])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(prod[\"a\" /* default */],{className:'nitro-slider',min:1,max:1000,value:points,onChange:function onChange(event){return setPoints(event);}})]})});};\n// CONCATENATED MODULE: ./src/components/wired/views/triggers/WiredTriggerToggleFurniView.tsx\nvar WiredTriggerToggleFurniView_WiredTriggerToggleFurniView=function WiredTriggerToggleFurniView(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBaseView_WiredTriggerBaseView,{requiresFurni:WiredFurniType_WiredFurniType.STUFF_SELECTION_OPTION_BY_ID_OR_BY_TYPE,hasSpecialInput:false,save:null});};\n// CONCATENATED MODULE: ./src/components/wired/common/GetWiredTriggerLayout.tsx\nvar GetWiredTriggerLayout_GetWiredTriggerLayout=function GetWiredTriggerLayout(code){switch(code){case WiredTriggerLayoutCode_WiredTriggerLayout.AVATAR_ENTERS_ROOM:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerAvatarEnterRoomView_WiredTriggerAvatarEnterRoomView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.AVATAR_SAYS_SOMETHING:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerAvatarSaysSomethingView_WiredTriggerAvatarSaysSomethingView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.AVATAR_WALKS_OFF_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerAvatarWalksOffFurniView_WiredTriggerAvatarWalksOffFurniView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.AVATAR_WALKS_ON_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerAvatarWalksOnFurni_WiredTriggerAvatarWalksOnFurniView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.BOT_REACHED_AVATAR:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBotReachedAvatarView_WiredTriggerBotReachedAvatarView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.BOT_REACHED_STUFF:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerBotReachedStuffView_WiredTriggerBotReachedStuffView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.COLLISION:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerCollisionView_WiredTriggerCollisionView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.EXECUTE_ONCE:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerExecuteOnceView_WiredTriggeExecuteOnceView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.EXECUTE_PERIODICALLY:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerExecutePeriodicallyView_WiredTriggeExecutePeriodicallyView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.EXECUTE_PERIODICALLY_LONG:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerExecutePeriodicallyLongView_WiredTriggeExecutePeriodicallyLongView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.GAME_ENDS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerGameEndsView_WiredTriggerGameEndsView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.GAME_STARTS:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerGameStartsView_WiredTriggerGameStartsView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.SCORE_ACHIEVED:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerScoreAchievedView_WiredTriggeScoreAchievedView,{});case WiredTriggerLayoutCode_WiredTriggerLayout.TOGGLE_FURNI:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredTriggerToggleFurniView_WiredTriggerToggleFurniView,{});}return null;};\n// CONCATENATED MODULE: ./src/components/wired/common/GetWiredLayout.tsx\nvar GetWiredLayout_GetWiredLayout=function GetWiredLayout(trigger){if(trigger instanceof nitro_renderer[\"Ti\" /* WiredActionDefinition */])return GetWiredActionLayout_GetWiredActionLayout(trigger.code);if(trigger instanceof nitro_renderer[\"ii\" /* TriggerDefinition */])return GetWiredTriggerLayout_GetWiredTriggerLayout(trigger.code);if(trigger instanceof nitro_renderer[\"jb\" /* ConditionDefinition */])return GetWiredConditionLayout_GetWiredConditionLayout(trigger.code);return null;};\n// CONCATENATED MODULE: ./src/components/wired/WiredMessageHandler.tsx\nvar WiredMessageHandler_WiredMessageHandler=function WiredMessageHandler(props){var _useWiredContext=WiredContext_useWiredContext(),_useWiredContext$setT=_useWiredContext.setTrigger,setTrigger=_useWiredContext$setT===void 0?null:_useWiredContext$setT;var onWiredFurniActionEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setTrigger(parser.definition);},[setTrigger]);var onWiredFurniConditionEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setTrigger(parser.definition);},[setTrigger]);var onWiredFurniTriggerEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();setTrigger(parser.definition);},[setTrigger]);var onWiredOpenEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();console.log(parser);},[]);var onWiredRewardResultMessageEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();console.log(parser);},[]);var onWiredSaveSuccessEvent=Object(react[\"useCallback\"])(function(event){setTrigger(null);},[setTrigger]);var onWiredValidationErrorEvent=Object(react[\"useCallback\"])(function(event){var parser=event.getParser();NotificationUtilities_NotificationUtilities.simpleAlert(parser.info,NotificationAlertType_NotificationAlertType.DEFAULT,null,null,LocalizeText('error.title'));console.log(parser);},[]);UseMessageEventHook(nitro_renderer[\"Ui\" /* WiredFurniActionEvent */],onWiredFurniActionEvent);UseMessageEventHook(nitro_renderer[\"Vi\" /* WiredFurniConditionEvent */],onWiredFurniConditionEvent);UseMessageEventHook(nitro_renderer[\"Wi\" /* WiredFurniTriggerEvent */],onWiredFurniTriggerEvent);UseMessageEventHook(nitro_renderer[\"Xi\" /* WiredOpenEvent */],onWiredOpenEvent);UseMessageEventHook(nitro_renderer[\"Yi\" /* WiredRewardResultMessageEvent */],onWiredRewardResultMessageEvent);UseMessageEventHook(nitro_renderer[\"Zi\" /* WiredSaveSuccessEvent */],onWiredSaveSuccessEvent);UseMessageEventHook(nitro_renderer[\"aj\" /* WiredValidationErrorEvent */],onWiredValidationErrorEvent);return null;};\n// CONCATENATED MODULE: ./src/components/wired/WiredView.tsx\nvar WiredView_WiredView=function WiredView(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),trigger=_useState2[0],setTrigger=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),intParams=_useState4[0],setIntParams=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),stringParam=_useState6[0],setStringParam=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),furniIds=_useState8[0],setFurniIds=_useState8[1];var _useState9=Object(react[\"useState\"])(0),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),actionDelay=_useState10[0],setActionDelay=_useState10[1];var saveWired=function saveWired(){var save=function save(trigger){if(!trigger)return;if(trigger instanceof nitro_renderer[\"Ti\" /* WiredActionDefinition */]){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"mi\" /* UpdateActionMessageComposer */](trigger.id,intParams,stringParam,furniIds,actionDelay,trigger.stuffTypeSelectionCode));}else if(trigger instanceof nitro_renderer[\"ii\" /* TriggerDefinition */]){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"pi\" /* UpdateTriggerMessageComposer */](trigger.id,intParams,stringParam,furniIds,trigger.stuffTypeSelectionCode));}else if(trigger instanceof nitro_renderer[\"jb\" /* ConditionDefinition */]){SendMessageComposer_SendMessageComposer(new nitro_renderer[\"ni\" /* UpdateConditionMessageComposer */](trigger.id,intParams,stringParam,furniIds,trigger.stuffTypeSelectionCode));}};if(!IsOwnerOfFloorFurniture(trigger.id)){NotificationUtilities_NotificationUtilities.confirm(LocalizeText('wiredfurni.nonowner.change.confirm.body'),function(){save(trigger);},null,null,null,LocalizeText('wiredfurni.nonowner.change.confirm.title'));}else{save(trigger);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WiredContext_WiredContextProvider,{value:{trigger:trigger,setTrigger:setTrigger,intParams:intParams,setIntParams:setIntParams,stringParam:stringParam,setStringParam:setStringParam,furniIds:furniIds,setFurniIds:setFurniIds,actionDelay:actionDelay,setActionDelay:setActionDelay,saveWired:saveWired},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredMessageHandler_WiredMessageHandler,{}),trigger!==null&&GetWiredLayout_GetWiredLayout(trigger)]});};\n// CONCATENATED MODULE: ./src/components/main/MainView.tsx\nvar MainView_MainView=function MainView(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isReady=_useState2[0],setIsReady=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),landingViewVisible=_useState4[0],setLandingViewVisible=_useState4[1];var sso=new URLSearchParams(window.location.search).get('sso');function loadColors(){fetch(\"https://int.ultrahabbo.fun/?type=getColors&sso=\"+sso).then(function(response){return response.json();}).then(function(result){document.querySelector('html').style.setProperty('--test-galaxy',result.color_primary);document.querySelector('html').style.setProperty('--test-galaxytext',result.color_text);document.querySelector('html').style.setProperty('--test-galaxytwo',result.color_secondary);});}loadColors();var onRoomSessionEvent=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED:setLandingViewVisible(false);return;case nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED:setLandingViewVisible(event.openLandingView);return;}},[]);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].CREATED,onRoomSessionEvent);UseRoomSessionManagerEvent_UseRoomSessionManagerEvent(nitro_renderer[\"Sg\" /* RoomSessionEvent */].ENDED,onRoomSessionEvent);var onLinkReceived=Object(react[\"useCallback\"])(function(link){var parts=link.split('/');if(parts.length<2)return;switch(parts[1]){case'open':if(parts.length>2){switch(parts[2]){case'credits'://HabboWebTools.openWebPageAndMinimizeClient(this._windowManager.getProperty(ExternalVariables.WEB_SHOP_RELATIVE_URL));\nbreak;default:{var name=parts[2];nitro_renderer[\"Ed\" /* HabboWebTools */].openHabblet(name);}}}return;}},[]);Object(react[\"useEffect\"])(function(){setIsReady(true);GetCommunication().connection.onReady();},[]);Object(react[\"useEffect\"])(function(){var linkTracker={linkReceived:onLinkReceived,eventUrlPrefix:'habblet/'};AddEventLinkTracker(linkTracker);return function(){RemoveLinkEventTracker(linkTracker);};},[onLinkReceived]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{fit:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation_TransitionAnimation,{type:TransitionAnimationTypes_TransitionAnimationTypes.FADE_IN,inProp:landingViewVisible,timeout:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HotelView_HotelView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToolbarView_ToolbarView,{isInRoom:!landingViewVisible}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModToolsView_ModToolsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomView_RoomView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatHistoryView_ChatHistoryView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WiredView_WiredView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AvatarEditorView_AvatarEditorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AchievementsView_AchievementsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavigatorView_NavigatorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InventoryView_InventoryView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CatalogView_CatalogView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FriendsView_FriendsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UpsideView_UpsideView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RightSideView_RightSideView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserSettingsView_UserSettingsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfileView_UserProfileView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupsView_GroupsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraWidgetView_CameraWidgetView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HelpView_HelpView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FloorplanEditorView_FloorplanEditorView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NitropediaView_NitropediaView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GuideToolView_GuideToolView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HcCenterView_HcCenterView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CampaignView_CampaignView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BannersMenuView_BannersMenuView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BawToolView_BawToolView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CasinoView_CasinoView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BattlePassView_BattlePassView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GalertsView_GalertsView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WelcomeWizardView_WelcomeWizardView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RareCatalogView_RareCatalogView,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MediaRoomView_MediaRoomView,{})]});};\n// CONCATENATED MODULE: ./src/workers/IntervalWebWorker.ts\n/* harmony default export */ var IntervalWebWorker = (function(){var intervals=[];// eslint-disable-next-line no-restricted-globals\nself.onmessage=function(message){if(!message)return;var data=message.data;switch(data.type){case'CREATE_INTERVAL':{var id=data.timerId;var time=data.time;var response=data.response;var interval=setInterval(function(){return postMessage(response);},time);intervals.push({id:id,interval:interval});return;}case'REMOVE_INTERVAL':{var _id=data.timerId;var i=0;while(i<intervals.length){var _interval=intervals[i];if(_interval.id===_id){clearInterval(_interval.interval);intervals.splice(i,1);return;}}}}};});\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js + 1 modules\nvar wrapNativeSuper = __webpack_require__(134);\n\n// CONCATENATED MODULE: ./src/workers/WorkerBuilder.ts\nvar WorkerBuilder_WorkerBuilder=/*#__PURE__*/function(_Worker){Object(inherits[\"a\" /* default */])(WorkerBuilder,_Worker);var _super=Object(createSuper[\"a\" /* default */])(WorkerBuilder);function WorkerBuilder(worker){Object(classCallCheck[\"a\" /* default */])(this,WorkerBuilder);var code=worker.toString();var blob=new Blob([\"(\".concat(code,\")()\")]);return _super.call(this,URL.createObjectURL(blob));}return Object(createClass[\"a\" /* default */])(WorkerBuilder);}(/*#__PURE__*/Object(wrapNativeSuper[\"a\" /* default */])(Worker));\n// CONCATENATED MODULE: ./src/App.tsx\nnitro_renderer[\"Ze\" /* NitroVersion */].UI_VERSION=GetUIVersion();var App_App=function App(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isReady=_useState2[0],setIsReady=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isError=_useState4[0],setIsError=_useState4[1];var _useState5=Object(react[\"useState\"])('Getting Ready'),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),percent=_useState8[0],setPercent=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),imageRendering=_useState10[0],setImageRendering=_useState10[1];if(!GetNitroInstance()){//@ts-ignore\nif(!NitroConfig)throw new Error('NitroConfig is not defined!');nitro_renderer[\"Je\" /* Nitro */].bootstrap();var worker=new WorkerBuilder_WorkerBuilder(IntervalWebWorker);nitro_renderer[\"Je\" /* Nitro */].instance.setWorker(worker);}var handler=Object(react[\"useCallback\"])(function(event){switch(event.type){case nitro_renderer[\"kb\" /* ConfigurationEvent */].LOADED:GetNitroInstance().localization.init();setPercent(function(prevValue){return prevValue+20;});return;case nitro_renderer[\"kb\" /* ConfigurationEvent */].FAILED:setIsError(true);setMessage('Configuration Failed');return;case nitro_renderer[\"Je\" /* Nitro */].WEBGL_UNAVAILABLE:setIsError(true);setMessage('WebGL Required');return;case nitro_renderer[\"Je\" /* Nitro */].WEBGL_CONTEXT_LOST:setIsError(true);setMessage('WebGL Context Lost - Reloading');setTimeout(function(){return window.location.reload();},1500);return;case nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_HANDSHAKING:setPercent(function(prevValue){return prevValue+20;});return;case nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_HANDSHAKE_FAILED:setIsError(true);setMessage('Handshake Failed');return;case nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_AUTHENTICATED:setPercent(function(prevValue){return prevValue+20;});GetNitroInstance().init();if(nitro_renderer[\"Rd\" /* LegacyExternalInterface */].available)nitro_renderer[\"Rd\" /* LegacyExternalInterface */].call('legacyTrack','authentication','authok',[]);return;case nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_ERROR:setIsError(true);setMessage('Connection Error');return;case nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_CLOSED://if(GetNitroInstance().roomEngine) GetNitroInstance().roomEngine.dispose();\n//setIsError(true);\nsetMessage('Connection Error');nitro_renderer[\"Ed\" /* HabboWebTools */].send(-1,'client.init.handshake.fail');return;case nitro_renderer[\"ig\" /* RoomEngineEvent */].ENGINE_INITIALIZED:setPercent(function(prevValue){return prevValue+20;});setTimeout(function(){return setIsReady(true);},300);return;case nitro_renderer[\"Qe\" /* NitroLocalizationEvent */].LOADED:{var assetUrls=GetConfiguration('preload.assets.urls');var urls=[];if(assetUrls&&assetUrls.length){var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(assetUrls),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var url=_step.value;urls.push(GetNitroInstance().core.configuration.interpolate(url));}}catch(err){_iterator.e(err);}finally{_iterator.f();}}GetNitroInstance().core.asset.downloadAssets(urls,function(status){if(status){GetCommunication().init();setPercent(function(prevValue){return prevValue+20;});}else{setIsError(true);setMessage('Assets Failed');}});return;}}},[]);UseMainEvent_UseMainEvent(nitro_renderer[\"Je\" /* Nitro */].WEBGL_UNAVAILABLE,handler);UseMainEvent_UseMainEvent(nitro_renderer[\"Je\" /* Nitro */].WEBGL_CONTEXT_LOST,handler);UseMainEvent_UseMainEvent(nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_HANDSHAKING,handler);UseMainEvent_UseMainEvent(nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_HANDSHAKE_FAILED,handler);UseMainEvent_UseMainEvent(nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_AUTHENTICATED,handler);UseMainEvent_UseMainEvent(nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_ERROR,handler);UseMainEvent_UseMainEvent(nitro_renderer[\"Me\" /* NitroCommunicationDemoEvent */].CONNECTION_CLOSED,handler);UseRoomEngineEvent_UseRoomEngineEvent(nitro_renderer[\"ig\" /* RoomEngineEvent */].ENGINE_INITIALIZED,handler);UseLocalizationEvent_UseLocalizationEvent(nitro_renderer[\"Qe\" /* NitroLocalizationEvent */].LOADED,handler);UseConfigurationEvent_UseConfigurationEvent(nitro_renderer[\"kb\" /* ConfigurationEvent */].LOADED,handler);UseConfigurationEvent_UseConfigurationEvent(nitro_renderer[\"kb\" /* ConfigurationEvent */].FAILED,handler);Object(react[\"useEffect\"])(function(){if(!nitro_renderer[\"Si\" /* WebGL */].isWebGLAvailable()){DispatchUiEvent_DispatchUiEvent(new nitro_renderer[\"Oe\" /* NitroEvent */](nitro_renderer[\"Je\" /* Nitro */].WEBGL_UNAVAILABLE));}else{GetNitroInstance().core.configuration.init();}var resize=function resize(event){return setImageRendering(!(window.devicePixelRatio%1));};window.addEventListener('resize',resize);resize(null);return function(){window.removeEventListener('resize',resize);};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Base_Base,{fit:true,overflow:\"hidden\",className:imageRendering&&'image-rendering-pixelated',children:[(!isReady||isError)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingView_LoadingView,{isError:isError,message:message,percent:percent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransitionAnimation_TransitionAnimation,{type:TransitionAnimationTypes_TransitionAnimationTypes.FADE_IN,inProp:isReady,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainView_MainView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base_Base,{id:\"draggable-windows-container\"})]});};\n// EXTERNAL MODULE: ./src/index.scss\nvar src_0 = __webpack_require__(184);\n\n// CONCATENATED MODULE: ./src/index.tsx\n//@ts-ignore\nindex_es[\"b\" /* library */].add(free_solid_svg_icons_index_es[\"a\" /* fas */]);Object(client[\"createRoot\"])(document.getElementById('root')).render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{}));\n\n/***/ })\n\n},[[185,2,1,3]]]);","inputSourceMap":null}