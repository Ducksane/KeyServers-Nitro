{"ast":null,"code":"import _objectSpread from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"itsMe\",\"groups\",\"onLeaveGroup\",\"overflow\",\"gap\"];import{GroupInformationComposer,GroupInformationEvent}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{SendMessageComposer,ToggleFavoriteGroup}from'../../../api';import{AutoGrid,Base,Column,Flex,Grid,LayoutBadgeImageView,LayoutGridItem}from'../../../common';import{UseMessageEventHook}from'../../../hooks';import{GroupInformationView}from'../../groups/views/GroupInformationView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var GroupsContainerView=function GroupsContainerView(props){var _props$itsMe=props.itsMe,itsMe=_props$itsMe===void 0?null:_props$itsMe,_props$groups=props.groups,groups=_props$groups===void 0?null:_props$groups,_props$onLeaveGroup=props.onLeaveGroup,onLeaveGroup=_props$onLeaveGroup===void 0?null:_props$onLeaveGroup,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,_props$gap=props.gap,gap=_props$gap===void 0?2:_props$gap,rest=_objectWithoutProperties(props,_excluded);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedGroupId=_useState2[0],setSelectedGroupId=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),groupInformation=_useState4[0],setGroupInformation=_useState4[1];var onGroupInformationEvent=useCallback(function(event){var parser=event.getParser();if(!selectedGroupId||selectedGroupId!==parser.id||parser.flag)return;setGroupInformation(parser);},[selectedGroupId]);UseMessageEventHook(GroupInformationEvent,onGroupInformationEvent);useEffect(function(){if(!selectedGroupId)return;SendMessageComposer(new GroupInformationComposer(selectedGroupId,false));},[selectedGroupId]);useEffect(function(){setGroupInformation(null);if(groups.length>0){setSelectedGroupId(function(prevValue){if(prevValue===groups[0].groupId){SendMessageComposer(new GroupInformationComposer(groups[0].groupId,false));}return groups[0].groupId;});}},[groups]);if(!groups||!groups.length){return/*#__PURE__*/_jsx(Column,{center:true,fullHeight:true,children:/*#__PURE__*/_jsxs(Flex,{justifyContent:\"center\",gap:2,children:[/*#__PURE__*/_jsx(Base,{className:\"no-group-spritesheet image-1\"}),/*#__PURE__*/_jsx(Base,{className:\"no-group-spritesheet image-2\"}),/*#__PURE__*/_jsx(Base,{className:\"no-group-spritesheet image-3\"})]})});}return/*#__PURE__*/_jsxs(Grid,_objectSpread(_objectSpread({overflow:overflow,gap:2},rest),{},{children:[/*#__PURE__*/_jsx(Column,{alignItems:\"center\",size:2,overflow:\"auto\",children:/*#__PURE__*/_jsx(AutoGrid,{overflow:null,columnCount:1,columnMinHeight:50,className:\"user-groups-container\",children:groups.map(function(group,index){return/*#__PURE__*/_jsxs(LayoutGridItem,{overflow:\"unset\",itemActive:selectedGroupId===group.groupId,onClick:function onClick(){return setSelectedGroupId(group.groupId);},className:\"p-1\",children:[itsMe&&/*#__PURE__*/_jsx(\"i\",{className:'position-absolute end-0 top-0 z-index-1 icon icon-group-'+(group.favourite?'favorite':'not-favorite'),onClick:function onClick(){return ToggleFavoriteGroup(group);}}),/*#__PURE__*/_jsx(LayoutBadgeImageView,{badgeCode:group.badgeCode,isGroup:true})]},index);})})}),/*#__PURE__*/_jsx(Column,{size:10,overflow:\"hidden\",children:groupInformation&&/*#__PURE__*/_jsx(GroupInformationView,{groupInformation:groupInformation,onClose:onLeaveGroup})})]}));};","map":null,"metadata":{},"sourceType":"module"}