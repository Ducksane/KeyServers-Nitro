{"ast":null,"code":"/*!\n * @pixi/filter-adjustment - v4.1.3\n * Compiled Thu, 17 Jun 2021 19:33:56 UTC\n *\n * @pixi/filter-adjustment is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */import{Filter}from'@pixi/core';/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ /* global Reflect, Promise */var _extendStatics=function extendStatics(d,b){_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(Object.prototype.hasOwnProperty.call(b,p)){d[p]=b[p];}}};return _extendStatics(d,b);};function __extends(d,b){_extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());}var vertex=\"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\";var fragment=\"varying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\n\\nuniform float gamma;\\nuniform float contrast;\\nuniform float saturation;\\nuniform float brightness;\\nuniform float red;\\nuniform float green;\\nuniform float blue;\\nuniform float alpha;\\n\\nvoid main(void)\\n{\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\n\\n    if (c.a > 0.0) {\\n        c.rgb /= c.a;\\n\\n        vec3 rgb = pow(c.rgb, vec3(1. / gamma));\\n        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);\\n        rgb.r *= red;\\n        rgb.g *= green;\\n        rgb.b *= blue;\\n        c.rgb = rgb * brightness;\\n\\n        c.rgb *= c.a;\\n    }\\n\\n    gl_FragColor = c * alpha;\\n}\\n\";/**\n * The ability to adjust gamma, contrast, saturation, brightness, alpha or color-channel shift.\n * This is a faster and much simpler to use than\n * {@link http://pixijs.download/release/docs/PIXI.filters.ColorMatrixFilter.html ColorMatrixFilter}\n * because it does not use a matrix.<br>\n * ![original](../tools/screenshots/dist/original.png)![filter](../tools/screenshots/dist/adjustment.png)\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n * @see {@link https://www.npmjs.com/package/@pixi/filter-adjustment|@pixi/filter-adjustment}\n * @see {@link https://www.npmjs.com/package/pixi-filters|pixi-filters}\n */var AdjustmentFilter=/** @class */function(_super){__extends(AdjustmentFilter,_super);/**\n     * @param {object|number} [options] - The optional parameters of the filter.\n     * @param {number} [options.gamma=1] - The amount of luminance\n     * @param {number} [options.saturation=1] - The amount of color saturation\n     * @param {number} [options.contrast=1] - The amount of contrast\n     * @param {number} [options.brightness=1] - The overall brightness\n     * @param {number} [options.red=1] - The multipled red channel\n     * @param {number} [options.green=1] - The multipled green channel\n     * @param {number} [options.blue=1] - The multipled blue channel\n     * @param {number} [options.alpha=1] - The overall alpha amount\n     */function AdjustmentFilter(options){var _this=_super.call(this,vertex,fragment)||this;/** The amount of luminance */_this.gamma=1;/** The amount of saturation */_this.saturation=1;/** The amount of contrast */_this.contrast=1;/** The amount of brightness */_this.brightness=1;/** The amount of red channel */_this.red=1;/** The amount of green channel */_this.green=1;/** The amount of blue channel */_this.blue=1;/** The amount of alpha channel */_this.alpha=1;Object.assign(_this,options);return _this;}/**\n     * Override existing apply method in PIXI.Filter\n     * @ignore\n     */AdjustmentFilter.prototype.apply=function(filterManager,input,output,clear){this.uniforms.gamma=Math.max(this.gamma,0.0001);this.uniforms.saturation=this.saturation;this.uniforms.contrast=this.contrast;this.uniforms.brightness=this.brightness;this.uniforms.red=this.red;this.uniforms.green=this.green;this.uniforms.blue=this.blue;this.uniforms.alpha=this.alpha;filterManager.applyFilter(this,input,output,clear);};return AdjustmentFilter;}(Filter);export{AdjustmentFilter};","map":null,"metadata":{},"sourceType":"module"}