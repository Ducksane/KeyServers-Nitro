{"ast":null,"code":"import _objectSpread from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"columnCount\"];import{StringDataType}from'@nitrots/nitro-renderer';import{useEffect,useMemo,useState}from'react';import{AutoGrid,LayoutBadgeImageView,LayoutGridItem}from'../../../../../common';import{useCatalog,useInventoryBadges}from'../../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";var EXCLUDED_BADGE_CODES=[];export var CatalogBadgeSelectorWidgetView=function CatalogBadgeSelectorWidgetView(props){var _props$columnCount=props.columnCount,columnCount=_props$columnCount===void 0?5:_props$columnCount,rest=_objectWithoutProperties(props,_excluded);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),currentBadgeCode=_useState4[0],setCurrentBadgeCode=_useState4[1];var _useCatalog=useCatalog(),_useCatalog$currentOf=_useCatalog.currentOffer,currentOffer=_useCatalog$currentOf===void 0?null:_useCatalog$currentOf,_useCatalog$setPurcha=_useCatalog.setPurchaseOptions,setPurchaseOptions=_useCatalog$setPurcha===void 0?null:_useCatalog$setPurcha;var _useInventoryBadges=useInventoryBadges(),_useInventoryBadges$b=_useInventoryBadges.badgeCodes,badgeCodes=_useInventoryBadges$b===void 0?[]:_useInventoryBadges$b,_useInventoryBadges$a=_useInventoryBadges.activate,activate=_useInventoryBadges$a===void 0?null:_useInventoryBadges$a,_useInventoryBadges$d=_useInventoryBadges.deactivate,deactivate=_useInventoryBadges$d===void 0?null:_useInventoryBadges$d;var previewStuffData=useMemo(function(){if(!currentBadgeCode)return null;var stuffData=new StringDataType();stuffData.setValue(['0',currentBadgeCode,'','']);return stuffData;},[currentBadgeCode]);useEffect(function(){if(!currentOffer)return;setPurchaseOptions(function(prevValue){var newValue=_objectSpread({},prevValue);newValue.extraParamRequired=true;newValue.extraData=previewStuffData&&previewStuffData.getValue(1)||null;newValue.previewStuffData=previewStuffData;return newValue;});},[currentOffer,previewStuffData,setPurchaseOptions]);useEffect(function(){if(!isVisible)return;var id=activate();return function(){return deactivate(id);};},[isVisible,activate,deactivate]);useEffect(function(){setIsVisible(true);return function(){return setIsVisible(false);};},[]);return/*#__PURE__*/_jsx(AutoGrid,_objectSpread(_objectSpread({columnCount:columnCount},rest),{},{children:badgeCodes&&badgeCodes.length>0&&badgeCodes.map(function(badgeCode,index){return/*#__PURE__*/_jsx(LayoutGridItem,{itemActive:currentBadgeCode===badgeCode,onClick:function onClick(event){return setCurrentBadgeCode(badgeCode);},children:/*#__PURE__*/_jsx(LayoutBadgeImageView,{badgeCode:badgeCode})},index);})}));};","map":null,"metadata":{},"sourceType":"module"}