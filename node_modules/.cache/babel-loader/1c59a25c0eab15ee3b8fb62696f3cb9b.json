{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"useGuideTool\",\"unseenAchievementCount\",\"setMeExpanded\",\"children\"];import{MouseEventType,RoomObjectCategory}from'@nitrots/nitro-renderer';import{useEffect,useRef}from'react';import{CreateLinkEvent,GetRoomEngine,GetRoomSession,GetSessionDataManager,GetUserProfile}from'../../api';import{Base,Flex,LayoutItemCountView}from'../../common';import{GuideToolEvent}from'../../events';import{DispatchUiEvent}from'../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ToolbarMeView=function ToolbarMeView(props){var _props$useGuideTool=props.useGuideTool,useGuideTool=_props$useGuideTool===void 0?false:_props$useGuideTool,_props$unseenAchievem=props.unseenAchievementCount,unseenAchievementCount=_props$unseenAchievem===void 0?0:_props$unseenAchievem,_props$setMeExpanded=props.setMeExpanded,setMeExpanded=_props$setMeExpanded===void 0?null:_props$setMeExpanded,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=_objectWithoutProperties(props,_excluded);var elementRef=useRef();var sso=new URLSearchParams(window.location.search).get('sso');function openBattlePass(){fetch(\"https://int.lavvos.eu/?type=openGalaxyPassEmu&sso=\"+sso);}useEffect(function(){var roomSession=GetRoomSession();if(!roomSession)return;GetRoomEngine().selectRoomObject(roomSession.roomId,roomSession.ownRoomIndex,RoomObjectCategory.UNIT);},[]);useEffect(function(){var onClick=function onClick(event){return setMeExpanded(false);};document.addEventListener('click',onClick);return function(){return document.removeEventListener(MouseEventType.MOUSE_CLICK,onClick);};},[setMeExpanded]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Flex,{innerRef:elementRef,alignItems:\"center\",className:\"nitro-toolbar-me p-2\",gap:2,style:{marginBottom:\"27px\"},children:[useGuideTool&&/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-helper-tool\",onClick:function onClick(event){return DispatchUiEvent(new GuideToolEvent(GuideToolEvent.TOGGLE_GUIDE_TOOL));}}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-achievements\",onClick:function onClick(event){return CreateLinkEvent('achievements/toggle');},children:unseenAchievementCount>0&&/*#__PURE__*/_jsx(LayoutItemCountView,{count:unseenAchievementCount})}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-profile\",onClick:function onClick(event){return GetUserProfile(GetSessionDataManager().userId);}}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-rooms\",onClick:function onClick(event){return CreateLinkEvent('navigator/search/myworld_view');}}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-clothing\",onClick:function onClick(event){return CreateLinkEvent('avatar-editor/toggle');}}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-battle-pass\",onClick:function onClick(event){return openBattlePass();}}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-banners\",onClick:function onClick(event){return CreateLinkEvent('banners/show');}}),/*#__PURE__*/_jsx(Base,{pointer:true,className:\"navigation-item icon icon-me-settings\",onClick:function onClick(event){return CreateLinkEvent('user-settings/toggle');}}),children]})});};","map":null,"metadata":{},"sourceType":"module"}