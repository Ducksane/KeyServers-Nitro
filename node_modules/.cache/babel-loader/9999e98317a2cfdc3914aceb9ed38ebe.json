{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AvatarDirectionAngle}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{Base,Column,LayoutAvatarImageView}from'../../../../common';import{AvatarEditorIcon}from'../AvatarEditorIcon';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AvatarEditorFigurePreviewView=function AvatarEditorFigurePreviewView(props){var _props$figureData=props.figureData,figureData=_props$figureData===void 0?null:_props$figureData;var _useState=useState(-1),_useState2=_slicedToArray(_useState,2),updateId=_useState2[0],setUpdateId=_useState2[1];var rerender=useCallback(function(){setUpdateId(function(prevValue){return prevValue+1;});},[]);var rotateFigure=useCallback(function(direction){if(direction<AvatarDirectionAngle.MIN_DIRECTION){direction=AvatarDirectionAngle.MAX_DIRECTION+(direction+1);}if(direction>AvatarDirectionAngle.MAX_DIRECTION){direction=direction-(AvatarDirectionAngle.MAX_DIRECTION+1);}figureData.direction=direction;},[figureData]);useEffect(function(){if(!figureData)return;figureData.notify=rerender;return function(){figureData.notify=null;};},[figureData,rerender]);return/*#__PURE__*/_jsxs(Column,{className:\"figure-preview-container\",overflow:\"hidden\",position:\"relative\",children:[/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:figureData.getFigureString(),direction:figureData.direction,scale:2}),/*#__PURE__*/_jsx(AvatarEditorIcon,{className:\"avatar-spotlight\",icon:\"spotlight\"}),/*#__PURE__*/_jsx(Base,{className:\"avatar-shadow\"}),/*#__PURE__*/_jsxs(Base,{className:\"arrow-container\",children:[/*#__PURE__*/_jsx(AvatarEditorIcon,{pointer:true,icon:\"arrow-left\",onClick:function onClick(event){return rotateFigure(figureData.direction+1);}}),/*#__PURE__*/_jsx(AvatarEditorIcon,{pointer:true,icon:\"arrow-right\",onClick:function onClick(event){return rotateFigure(figureData.direction-1);}})]})]});};","map":null,"metadata":{},"sourceType":"module"}