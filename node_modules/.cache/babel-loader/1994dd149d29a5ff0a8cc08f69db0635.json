{"ast":null,"code":"import _objectSpread from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{HabboSearchComposer,HabboSearchResultEvent}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{LocalizeText,OpenMessengerChat,SendMessageComposer}from'../../../../api';import{Base,Column,Flex,NitroCardAccordionItemView,NitroCardAccordionSetView,Text,UserProfileIconView}from'../../../../common';import{useFriends,UseMessageEventHook}from'../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var FriendsSearchView=function FriendsSearchView(props){var rest=Object.assign({},props);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),friendResults=_useState4[0],setFriendResults=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),otherResults=_useState6[0],setOtherResults=_useState6[1];var _useFriends=useFriends(),_useFriends$canReques=_useFriends.canRequestFriend,canRequestFriend=_useFriends$canReques===void 0?null:_useFriends$canReques,_useFriends$requestFr=_useFriends.requestFriend,requestFriend=_useFriends$requestFr===void 0?null:_useFriends$requestFr;var onHabboSearchResultEvent=useCallback(function(event){var parser=event.getParser();setFriendResults(parser.friends);setOtherResults(parser.others);},[]);UseMessageEventHook(HabboSearchResultEvent,onHabboSearchResultEvent);useEffect(function(){if(!searchValue||!searchValue.length)return;var timeout=setTimeout(function(){if(!searchValue||!searchValue.length)return;SendMessageComposer(new HabboSearchComposer(searchValue));},500);return function(){return clearTimeout(timeout);};},[searchValue]);return/*#__PURE__*/_jsxs(NitroCardAccordionSetView,_objectSpread(_objectSpread({},rest),{},{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-input form-control form-control-sm w-100 rounded-0\",placeholder:LocalizeText('generic.search'),value:searchValue,maxLength:50,onChange:function onChange(event){return setSearchValue(event.target.value);}}),/*#__PURE__*/_jsxs(Column,{children:[friendResults&&/*#__PURE__*/_jsxs(_Fragment,{children:[friendResults.length===0&&/*#__PURE__*/_jsx(Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.nofriendsfound')}),friendResults.length>0&&/*#__PURE__*/_jsxs(Column,{gap:0,children:[/*#__PURE__*/_jsx(Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.friendscaption',['cnt'],[friendResults.length.toString()])}),/*#__PURE__*/_jsx(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),/*#__PURE__*/_jsx(Column,{gap:0,children:friendResults.map(function(result){return/*#__PURE__*/_jsxs(NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(UserProfileIconView,{userId:result.avatarId}),/*#__PURE__*/_jsx(\"div\",{children:result.avatarName})]}),/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",gap:1,children:result.isAvatarOnline&&/*#__PURE__*/_jsx(Base,{className:\"nitro-friends-spritesheet icon-chat cursor-pointer\",onClick:function onClick(event){return OpenMessengerChat(result.avatarId);},title:LocalizeText('friendlist.tip.im')})})]},result.avatarId);})})]})]}),otherResults&&/*#__PURE__*/_jsxs(_Fragment,{children:[otherResults.length===0&&/*#__PURE__*/_jsx(Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.noothersfound')}),otherResults.length>0&&/*#__PURE__*/_jsxs(Column,{gap:0,children:[/*#__PURE__*/_jsx(Text,{bold:true,small:true,className:\"px-2 py-1\",children:LocalizeText('friendlist.search.otherscaption',['cnt'],[otherResults.length.toString()])}),/*#__PURE__*/_jsx(\"hr\",{className:\"mx-2 mt-0 mb-1 text-black\"}),/*#__PURE__*/_jsx(Column,{gap:0,children:otherResults.map(function(result){return/*#__PURE__*/_jsxs(NitroCardAccordionItemView,{justifyContent:\"between\",className:\"px-2 py-1\",children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(UserProfileIconView,{userId:result.avatarId}),/*#__PURE__*/_jsx(\"div\",{children:result.avatarName})]}),/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",gap:1,children:canRequestFriend(result.avatarId)&&/*#__PURE__*/_jsx(Base,{className:\"nitro-friends-spritesheet icon-add cursor-pointer\",onClick:function onClick(event){return requestFriend(result.avatarId,result.avatarName);},title:LocalizeText('friendlist.tip.addfriend')})})]},result.avatarId);})})]})]})]})]}));};","map":null,"metadata":{},"sourceType":"module"}