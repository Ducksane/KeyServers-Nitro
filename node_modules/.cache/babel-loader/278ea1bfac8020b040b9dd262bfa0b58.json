{"ast":null,"code":"import _objectSpread from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{RoomBannedUsersComposer,RoomDataParser,RoomSettingsEvent,SaveRoomSettingsComposer}from'@nitrots/nitro-renderer';import{useCallback,useState}from'react';import{LocalizeText,SendMessageComposer}from'../../../../api';import{NitroCardContentView,NitroCardHeaderView,NitroCardTabsItemView,NitroCardTabsView,NitroCardView}from'../../../../common';import{UseMessageEventHook}from'../../../../hooks';import{NavigatorRoomSettingsAccessTabView}from'./NavigatorRoomSettingsAccessTabView';import{NavigatorRoomSettingsBasicTabView}from'./NavigatorRoomSettingsBasicTabView';import{NavigatorRoomSettingsModTabView}from'./NavigatorRoomSettingsModTabView';import{NavigatorRoomSettingsRightsTabView}from'./NavigatorRoomSettingsRightsTabView';import{NavigatorRoomSettingsVipChatTabView}from'./NavigatorRoomSettingsVipChatTabView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TABS=['navigator.roomsettings.tab.1','navigator.roomsettings.tab.2','navigator.roomsettings.tab.3','navigator.roomsettings.tab.4','navigator.roomsettings.tab.5'];export var NavigatorRoomSettingsView=function NavigatorRoomSettingsView(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),roomData=_useState2[0],setRoomData=_useState2[1];var _useState3=useState(TABS[0]),_useState4=_slicedToArray(_useState3,2),currentTab=_useState4[0],setCurrentTab=_useState4[1];var onRoomSettingsEvent=useCallback(function(event){var parser=event.getParser();if(!parser)return;setRoomData({roomId:parser.roomId,roomName:parser.name,roomDescription:parser.description,categoryId:parser.categoryId,userCount:parser.userCount,tags:parser.tags,tradeState:parser.tradeMode,allowWalkthrough:parser.allowWalkthrough,lockState:parser.state,password:null,allowPets:parser.allowPets,allowPetsEat:parser.allowPetsEat,hideWalls:parser.hideWalls,wallThickness:parser.thicknessWall,floorThickness:parser.thicknessFloor,chatSettings:{mode:parser.chatSettings.mode,weight:parser.chatSettings.weight,speed:parser.chatSettings.speed,distance:parser.chatSettings.distance,protection:parser.chatSettings.protection},moderationSettings:{allowMute:parser.moderationSettings.allowMute,allowKick:parser.moderationSettings.allowKick,allowBan:parser.moderationSettings.allowBan}});SendMessageComposer(new RoomBannedUsersComposer(parser.roomId));},[]);UseMessageEventHook(RoomSettingsEvent,onRoomSettingsEvent);var close=function close(){setRoomData(null);setCurrentTab(TABS[0]);};var handleChange=function handleChange(field,value){setRoomData(function(prevValue){var newValue=_objectSpread({},prevValue);switch(field){case'name':newValue.roomName=String(value);break;case'description':newValue.roomDescription=String(value);break;case'category':newValue.categoryId=Number(value);break;case'max_visitors':newValue.userCount=Number(value);break;case'trade_state':newValue.tradeState=Number(value);break;case'allow_walkthrough':newValue.allowWalkthrough=Boolean(value);break;case'allow_pets':newValue.allowPets=Boolean(value);break;case'allow_pets_eat':newValue.allowPetsEat=Boolean(value);break;case'hide_walls':newValue.hideWalls=Boolean(value);break;case'wall_thickness':newValue.wallThickness=Number(value);break;case'floor_thickness':newValue.floorThickness=Number(value);break;case'lock_state':newValue.lockState=Number(value);break;case'password':newValue.lockState=RoomDataParser.PASSWORD_STATE;newValue.password=String(value);break;case'moderation_mute':newValue.moderationSettings.allowMute=Number(value);break;case'moderation_kick':newValue.moderationSettings.allowKick=Number(value);break;case'moderation_ban':newValue.moderationSettings.allowBan=Number(value);break;case'bubble_mode':newValue.chatSettings.mode=Number(value);break;case'chat_weight':newValue.chatSettings.weight=Number(value);break;case'bubble_speed':newValue.chatSettings.speed=Number(value);break;case'flood_protection':newValue.chatSettings.protection=Number(value);break;case'chat_distance':newValue.chatSettings.distance=Number(value);break;}SendMessageComposer(new SaveRoomSettingsComposer(newValue.roomId,newValue.roomName,newValue.roomDescription,newValue.lockState,newValue.password,newValue.userCount,newValue.categoryId,newValue.tags.length,newValue.tags,newValue.tradeState,newValue.allowPets,newValue.allowPetsEat,newValue.allowWalkthrough,newValue.hideWalls,newValue.wallThickness,newValue.floorThickness,newValue.moderationSettings.allowMute,newValue.moderationSettings.allowKick,newValue.moderationSettings.allowBan,newValue.chatSettings.mode,newValue.chatSettings.weight,newValue.chatSettings.speed,newValue.chatSettings.distance,newValue.chatSettings.protection));return newValue;});};if(!roomData)return null;return/*#__PURE__*/_jsxs(NitroCardView,{uniqueKey:\"nitro-room-settings\",className:\"nitro-room-settings\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:LocalizeText('navigator.roomsettings'),onCloseClick:close}),/*#__PURE__*/_jsx(NitroCardTabsView,{children:TABS.map(function(tab){return/*#__PURE__*/_jsx(NitroCardTabsItemView,{isActive:currentTab===tab,onClick:function onClick(event){return setCurrentTab(tab);},children:LocalizeText(tab)},tab);})}),/*#__PURE__*/_jsxs(NitroCardContentView,{children:[currentTab===TABS[0]&&/*#__PURE__*/_jsx(NavigatorRoomSettingsBasicTabView,{roomData:roomData,handleChange:handleChange,close:close}),currentTab===TABS[1]&&/*#__PURE__*/_jsx(NavigatorRoomSettingsAccessTabView,{roomData:roomData,handleChange:handleChange}),currentTab===TABS[2]&&/*#__PURE__*/_jsx(NavigatorRoomSettingsRightsTabView,{roomData:roomData,handleChange:handleChange}),currentTab===TABS[3]&&/*#__PURE__*/_jsx(NavigatorRoomSettingsVipChatTabView,{roomData:roomData,handleChange:handleChange}),currentTab===TABS[4]&&/*#__PURE__*/_jsx(NavigatorRoomSettingsModTabView,{roomData:roomData,handleChange:handleChange})]})]});};","map":null,"metadata":{},"sourceType":"module"}