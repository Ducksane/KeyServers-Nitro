{"ast":null,"code":"import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{RoomMuteComposer,RoomSettingsComposer,RoomStaffPickComposer,SecurityLevel,UserHomeRoomComposer}from'@nitrots/nitro-renderer';import classNames from'classnames';import{useEffect,useState}from'react';import{CreateLinkEvent,GetGroupInformation,GetSessionDataManager,LocalizeText,SendMessageComposer}from'../../../api';import{Button,Column,Flex,LayoutBadgeImageView,LayoutRoomThumbnailView,NitroCardContentView,NitroCardHeaderView,NitroCardView,Text,UserProfileIconView}from'../../../common';import{RoomWidgetThumbnailEvent}from'../../../events';import{DispatchUiEvent}from'../../../hooks';import{useNavigatorContext}from'../NavigatorContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var NavigatorRoomInfoViewProps=/*#__PURE__*/_createClass(function NavigatorRoomInfoViewProps(){_classCallCheck(this,NavigatorRoomInfoViewProps);this.onCloseClick=void 0;});export var NavigatorRoomInfoView=function NavigatorRoomInfoView(props){var _props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isRoomPicked=_useState2[0],setIsRoomPicked=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isRoomMuted=_useState4[0],setIsRoomMuted=_useState4[1];var _useNavigatorContext=useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.navigatorData,navigatorData=_useNavigatorContext$===void 0?null:_useNavigatorContext$;var hasPermission=function hasPermission(permission){switch(permission){case'settings':return GetSessionDataManager().userId===navigatorData.enteredGuestRoom.ownerId||GetSessionDataManager().isModerator;case'staff_pick':return GetSessionDataManager().securityLevel>=SecurityLevel.COMMUNITY;default:return false;}};var processAction=function processAction(action,value){if(!navigatorData||!navigatorData.enteredGuestRoom)return;switch(action){case'set_home_room':var newRoomId=-1;if(navigatorData.homeRoomId!==navigatorData.enteredGuestRoom.roomId){newRoomId=navigatorData.enteredGuestRoom.roomId;}if(newRoomId>0)SendMessageComposer(new UserHomeRoomComposer(newRoomId));return;case'navigator_search_tag':return;case'open_room_thumbnail_camera':DispatchUiEvent(new RoomWidgetThumbnailEvent(RoomWidgetThumbnailEvent.TOGGLE_THUMBNAIL));return;case'open_group_info':GetGroupInformation(navigatorData.enteredGuestRoom.habboGroupId);return;case'toggle_room_link':CreateLinkEvent('navigator/toggle-room-link');return;case'open_room_settings':SendMessageComposer(new RoomSettingsComposer(navigatorData.enteredGuestRoom.roomId));return;case'toggle_pick':setIsRoomPicked(function(value){return!value;});SendMessageComposer(new RoomStaffPickComposer(navigatorData.enteredGuestRoom.roomId));return;case'toggle_mute':setIsRoomMuted(function(value){return!value;});SendMessageComposer(new RoomMuteComposer());return;case'open_floorplan_editor':CreateLinkEvent('floor-editor/toggle');return;case'close':onCloseClick();return;}};useEffect(function(){if(!navigatorData)return;setIsRoomPicked(navigatorData.currentRoomIsStaffPick);if(navigatorData.enteredGuestRoom)setIsRoomMuted(navigatorData.enteredGuestRoom.allInRoomMuted);},[navigatorData]);if(!navigatorData.enteredGuestRoom)return null;return/*#__PURE__*/_jsxs(NitroCardView,{className:\"nitro-room-info\",theme:\"primary-slim\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:LocalizeText('navigator.roomsettings.roominfo'),onCloseClick:function onCloseClick(){return processAction('close');}}),/*#__PURE__*/_jsx(NitroCardContentView,{children:navigatorData.enteredGuestRoom&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Flex,{gap:2,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(LayoutRoomThumbnailView,{roomId:navigatorData.enteredGuestRoom.roomId,customUrl:navigatorData.enteredGuestRoom.officialRoomPicRef,children:hasPermission('settings')&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-camera-small position-absolute b-0 r-0 m-1 cursor-pointer top-0\",onClick:function onClick(){return processAction('open_room_thumbnail_camera');}})}),/*#__PURE__*/_jsxs(Column,{grow:true,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsxs(Column,{grow:true,gap:1,children:[/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return processAction('set_home_room');},className:'flex-shrink-0 icon icon-house-small cursor-pointer'+classNames({' gray':navigatorData.homeRoomId!==navigatorData.enteredGuestRoom.roomId})}),/*#__PURE__*/_jsx(Text,{bold:true,variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:navigatorData.enteredGuestRoom.roomName})]}),navigatorData.enteredGuestRoom.showOwner&&/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"muted\",children:LocalizeText('navigator.roomownercaption')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(UserProfileIconView,{userId:navigatorData.enteredGuestRoom.ownerId}),/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:navigatorData.enteredGuestRoom.ownerName})]})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"muted\",children:LocalizeText('navigator.roomrating')}),/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},children:navigatorData.currentRoomRating})]}),navigatorData.enteredGuestRoom.tags.length>0&&/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",gap:1,children:navigatorData.enteredGuestRoom.tags.map(function(tag){return/*#__PURE__*/_jsxs(Text,{pointer:true,className:\"bg-muted rounded p-1\",onClick:function onClick(event){return processAction('navigator_search_tag',tag);},children:[\"#\",tag]},tag);})})]}),/*#__PURE__*/_jsxs(Column,{alignItems:\"center\",gap:1,children:[hasPermission('settings')&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-cog cursor-pointer\",title:LocalizeText('navigator.room.popup.info.room.settings'),onClick:function onClick(event){return processAction('open_room_settings');}}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"link\",title:LocalizeText('navigator.embed.caption'),className:\"cursor-pointer\",onClick:function onClick(event){return CreateLinkEvent('navigator/toggle-room-link');}})]})]}),/*#__PURE__*/_jsx(Text,{overflow:\"auto\",style:{maxHeight:50},children:navigatorData.enteredGuestRoom.description}),navigatorData.enteredGuestRoom.habboGroupId>0&&/*#__PURE__*/_jsxs(Flex,{pointer:true,alignItems:\"center\",gap:1,onClick:function onClick(){return processAction('open_group_info');},children:[/*#__PURE__*/_jsx(LayoutBadgeImageView,{className:\"flex-none\",badgeCode:navigatorData.enteredGuestRoom.groupBadgeCode,isGroup:true}),/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"--var(test-galaxytext)\"},underline:true,children:LocalizeText('navigator.guildbase',['groupName'],[navigatorData.enteredGuestRoom.groupName])})]})]})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[hasPermission('staff_pick')&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return processAction('toggle_pick');},children:LocalizeText(isRoomPicked?'navigator.staffpicks.unpick':'navigator.staffpicks.pick')}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",disabled:true,children:LocalizeText('help.emergency.main.report.room')}),hasPermission('settings')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return processAction('toggle_mute');},children:LocalizeText(isRoomMuted?'navigator.muteall_on':'navigator.muteall_off')}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return processAction('open_floorplan_editor');},children:LocalizeText('open.floor.plan.editor')})]})]})]})})]});};","map":null,"metadata":{},"sourceType":"module"}