{"ast":null,"code":"import _objectSpread from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"objectId\",\"category\",\"noFollow\",\"position\"];import{useCallback,useEffect,useRef,useState}from'react';import{GetNitroInstance,GetRoomObjectBounds,GetRoomSession}from'../../../../api';import{Base}from'../../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";export var ObjectLocationView=function ObjectLocationView(props){var _props$objectId=props.objectId,objectId=_props$objectId===void 0?-1:_props$objectId,_props$category=props.category,category=_props$category===void 0?-1:_props$category,_props$noFollow=props.noFollow,noFollow=_props$noFollow===void 0?false:_props$noFollow,_props$position=props.position,position=_props$position===void 0?'absolute':_props$position,rest=_objectWithoutProperties(props,_excluded);var _useState=useState({x:-1,y:-1}),_useState2=_slicedToArray(_useState,2),pos=_useState2[0],setPos=_useState2[1];var elementRef=useRef();var getObjectLocation=useCallback(function(){var roomSession=GetRoomSession();var objectBounds=GetRoomObjectBounds(roomSession.roomId,objectId,category,1);return objectBounds;},[objectId,category]);var updatePosition=useCallback(function(){var bounds=getObjectLocation();if(!bounds||!elementRef.current)return;setPos({x:Math.round(bounds.left+bounds.width/2-elementRef.current.offsetWidth/2),y:Math.round(bounds.top-elementRef.current.offsetHeight+10)});},[getObjectLocation]);useEffect(function(){var remove=false;if(noFollow){updatePosition();}else{remove=true;GetNitroInstance().ticker.add(updatePosition);}return function(){if(remove)GetNitroInstance().ticker.remove(updatePosition);};},[updatePosition,noFollow]);return/*#__PURE__*/_jsx(Base,_objectSpread({innerRef:elementRef,position:position,visible:pos.x+(elementRef.current?elementRef.current.offsetWidth:0)>-1,className:\"object-location\",style:{left:pos.x,top:pos.y}},rest));};","map":null,"metadata":{},"sourceType":"module"}