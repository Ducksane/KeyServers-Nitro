{"ast":null,"code":"import{useEffect}from'react';import{AddEventLinkTracker,LocalizeText,RemoveLinkEventTracker}from'../../api';import{Column,Grid,NitroCardContentView,NitroCardHeaderView,NitroCardTabsItemView,NitroCardTabsView,NitroCardView}from'../../common';import{useCatalog}from'../../hooks';import{CatalogGiftView}from'./views/gift/CatalogGiftView';import{CatalogNavigationView}from'./views/navigation/CatalogNavigationView';import{GetCatalogLayout}from'./views/page/layout/GetCatalogLayout';import{MarketplacePostOfferView}from'./views/page/layout/marketplace/MarketplacePostOfferView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CatalogView=function CatalogView(props){var _useCatalog=useCatalog(),_useCatalog$isVisible=_useCatalog.isVisible,isVisible=_useCatalog$isVisible===void 0?false:_useCatalog$isVisible,_useCatalog$setIsVisi=_useCatalog.setIsVisible,setIsVisible=_useCatalog$setIsVisi===void 0?null:_useCatalog$setIsVisi,_useCatalog$rootNode=_useCatalog.rootNode,rootNode=_useCatalog$rootNode===void 0?null:_useCatalog$rootNode,_useCatalog$currentPa=_useCatalog.currentPage,currentPage=_useCatalog$currentPa===void 0?null:_useCatalog$currentPa,_useCatalog$navigatio=_useCatalog.navigationHidden,navigationHidden=_useCatalog$navigatio===void 0?false:_useCatalog$navigatio,_useCatalog$setNaviga=_useCatalog.setNavigationHidden,setNavigationHidden=_useCatalog$setNaviga===void 0?null:_useCatalog$setNaviga,_useCatalog$activeNod=_useCatalog.activeNodes,activeNodes=_useCatalog$activeNod===void 0?[]:_useCatalog$activeNod,_useCatalog$searchRes=_useCatalog.searchResult,searchResult=_useCatalog$searchRes===void 0?null:_useCatalog$searchRes,_useCatalog$setSearch=_useCatalog.setSearchResult,setSearchResult=_useCatalog$setSearch===void 0?null:_useCatalog$setSearch,_useCatalog$openPageB=_useCatalog.openPageByName,openPageByName=_useCatalog$openPageB===void 0?null:_useCatalog$openPageB,_useCatalog$openPageB2=_useCatalog.openPageByOfferId,openPageByOfferId=_useCatalog$openPageB2===void 0?null:_useCatalog$openPageB2,_useCatalog$activateN=_useCatalog.activateNode,activateNode=_useCatalog$activateN===void 0?null:_useCatalog$activateN;useEffect(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'show':setIsVisible(true);return;case'hide':setIsVisible(false);return;case'toggle':setIsVisible(function(prevValue){return!prevValue;});return;case'open':if(parts.length>2){if(parts.length===4){switch(parts[2]){case'offerId':openPageByOfferId(parseInt(parts[3]));return;}}else{openPageByName(parts[2]);}}else{setIsVisible(true);}return;}},eventUrlPrefix:'catalog/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible,openPageByOfferId,openPageByName]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isVisible&&/*#__PURE__*/_jsxs(NitroCardView,{uniqueKey:\"catalog\",className:\"nitro-catalog\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:LocalizeText('catalog.title'),onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/_jsx(NitroCardTabsView,{children:rootNode&&rootNode.children.length>0&&rootNode.children.map(function(child){if(!child.isVisible)return null;return/*#__PURE__*/_jsx(NitroCardTabsItemView,{isActive:child.isActive,onClick:function onClick(event){if(searchResult)setSearchResult(null);activateNode(child);},children:child.localization},child.pageId);})}),/*#__PURE__*/_jsx(NitroCardContentView,{children:/*#__PURE__*/_jsxs(Grid,{children:[!navigationHidden&&/*#__PURE__*/_jsx(Column,{size:3,overflow:\"hidden\",children:activeNodes&&activeNodes.length>0&&/*#__PURE__*/_jsx(CatalogNavigationView,{node:activeNodes[0]})}),/*#__PURE__*/_jsx(Column,{size:!navigationHidden?9:12,overflow:\"hidden\",children:GetCatalogLayout(currentPage,function(){return setNavigationHidden(true);})})]})})]}),/*#__PURE__*/_jsx(CatalogGiftView,{}),/*#__PURE__*/_jsx(MarketplacePostOfferView,{})]});};","map":null,"metadata":{},"sourceType":"module"}