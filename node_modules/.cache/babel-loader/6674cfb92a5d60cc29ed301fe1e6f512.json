{"ast":null,"code":"import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _get from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{RoomWidgetEnumItemExtradataParameter}from'../../../../ui';import{RoomObjectStateChangedEvent}from'../../../events';import{RoomObjectFurnitureActionEvent}from'../../../events/RoomObjectFurnitureActionEvent';import{RoomObjectWidgetRequestEvent}from'../../../events/RoomObjectWidgetRequestEvent';import{ObjectDataUpdateMessage}from'../../../messages';import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureMultiStateLogic}from'./FurnitureMultiStateLogic';export var FurnitureJukeboxLogic=/*#__PURE__*/function(_FurnitureMultiStateL){_inherits(FurnitureJukeboxLogic,_FurnitureMultiStateL);var _super=_createSuper(FurnitureJukeboxLogic);function FurnitureJukeboxLogic(){var _this;_classCallCheck(this,FurnitureJukeboxLogic);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._disposeEventsAllowed=false;_this._isInitialized=false;_this._currentState=-1;return _this;}_createClass(FurnitureJukeboxLogic,[{key:\"getEventTypes\",value:function getEventTypes(){var types=[RoomObjectFurnitureActionEvent.JUKEBOX_START,RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP,RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE,RoomObjectFurnitureActionEvent.JUKEBOX_INIT,RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR];return this.mergeTypes(_get(_getPrototypeOf(FurnitureJukeboxLogic.prototype),\"getEventTypes\",this).call(this),types);}},{key:\"onDispose\",value:function onDispose(){this.requestDispose();_get(_getPrototypeOf(FurnitureJukeboxLogic.prototype),\"onDispose\",this).call(this);}},{key:\"processUpdateMessage\",value:function processUpdateMessage(message){_get(_getPrototypeOf(FurnitureJukeboxLogic.prototype),\"processUpdateMessage\",this).call(this,message);if(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)!==1)return;if(!this._isInitialized)this.requestInit();this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.JUKEBOX);if(message instanceof ObjectDataUpdateMessage){var state=this.object.getState(0);if(state!==this._currentState){this._currentState=state;if(state===1)this.requestPlayList();else if(state===0)this.requestStopPlaying();}}}},{key:\"requestInit\",value:function requestInit(){if(!this.object||!this.eventDispatcher)return;this._disposeEventsAllowed=true;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.JUKEBOX_INIT,this.object));this._isInitialized=true;}},{key:\"requestPlayList\",value:function requestPlayList(){if(!this.object||!this.eventDispatcher)return;this._disposeEventsAllowed=true;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.JUKEBOX_START,this.object));}},{key:\"requestStopPlaying\",value:function requestStopPlaying(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP,this.object));}},{key:\"requestDispose\",value:function requestDispose(){if(!this._disposeEventsAllowed||!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE,this.object));}},{key:\"useObject\",value:function useObject(){if(!this.object||!this.eventDispatcher)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR,this.object));this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,-1));}}]);return FurnitureJukeboxLogic;}(FurnitureMultiStateLogic);","map":null,"metadata":{},"sourceType":"module"}