{"ast":null,"code":"import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{PollContentsEvent}from'../../communication/messages/incoming/poll/PollContentsEvent';import{PollErrorEvent}from'../../communication/messages/incoming/poll/PollErrorEvent';import{PollOfferEvent}from'../../communication/messages/incoming/poll/PollOfferEvent';import{RoomSessionPollEvent}from'../events/RoomSessionPollEvent';import{BaseHandler}from'./BaseHandler';export var PollHandler=/*#__PURE__*/function(_BaseHandler){_inherits(PollHandler,_BaseHandler);var _super=_createSuper(PollHandler);function PollHandler(connection,listener){var _this;_classCallCheck(this,PollHandler);_this=_super.call(this,connection,listener);connection.addMessageEvent(new PollContentsEvent(_this.onPollContentsEvent.bind(_assertThisInitialized(_this))));connection.addMessageEvent(new PollOfferEvent(_this.onPollOfferEvent.bind(_assertThisInitialized(_this))));connection.addMessageEvent(new PollErrorEvent(_this.onPollErrorEvent.bind(_assertThisInitialized(_this))));return _this;}_createClass(PollHandler,[{key:\"onPollContentsEvent\",value:function onPollContentsEvent(event){if(!this.listener)return;var session=this.listener.getSession(this.roomId);if(!session)return;var parser=event.getParser();if(!parser)return;var pollEvent=new RoomSessionPollEvent(RoomSessionPollEvent.CONTENT,session,parser.id);pollEvent.startMessage=parser.startMessage;pollEvent.endMessage=parser.endMessage;pollEvent.numQuestions=parser.numQuestions;pollEvent.questionArray=parser.questionArray;pollEvent.npsPoll=parser.npsPoll;this.listener.events.dispatchEvent(pollEvent);}},{key:\"onPollOfferEvent\",value:function onPollOfferEvent(event){if(!this.listener)return;var session=this.listener.getSession(this.roomId);if(!session)return;var parser=event.getParser();if(!parser)return;var pollEvent=new RoomSessionPollEvent(RoomSessionPollEvent.OFFER,session,parser.id);pollEvent.summary=parser.headline;pollEvent.summary=parser.summary;this.listener.events.dispatchEvent(pollEvent);}},{key:\"onPollErrorEvent\",value:function onPollErrorEvent(event){if(!this.listener)return;var session=this.listener.getSession(this.roomId);if(!session)return;var parser=event.getParser();if(!parser)return;var pollEvent=new RoomSessionPollEvent(RoomSessionPollEvent.ERROR,session,-1);pollEvent.headline='???';pollEvent.summary='???';this.listener.events.dispatchEvent(pollEvent);}}]);return PollHandler;}(BaseHandler);","map":null,"metadata":{},"sourceType":"module"}