{"ast":null,"code":"import{useMemo}from'react';import{GetGroupChatData,GetSessionDataManager,GroupType,LocalizeText,MessengerThreadChat}from'../../../../../api';import{Base,Flex,LayoutAvatarImageView}from'../../../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var FriendsMessengerThreadGroup=function FriendsMessengerThreadGroup(props){var _props$thread=props.thread,thread=_props$thread===void 0?null:_props$thread,_props$group=props.group,group=_props$group===void 0?null:_props$group;var groupChatData=useMemo(function(){return group.type===GroupType.GROUP_CHAT&&GetGroupChatData(group.chats[0].extraData);},[group]);var isOwnChat=useMemo(function(){if(!thread||!group)return false;if(group.type===GroupType.PRIVATE_CHAT&&group.userId===GetSessionDataManager().userId)return true;if(groupChatData&&group.chats.length&&groupChatData.userId===GetSessionDataManager().userId)return true;return false;},[thread,group,groupChatData]);if(!thread||!group)return null;if(!group.userId){return/*#__PURE__*/_jsx(_Fragment,{children:group.chats.map(function(chat,index){return/*#__PURE__*/_jsx(Flex,{fullWidth:true,gap:2,justifyContent:\"start\",children:/*#__PURE__*/_jsxs(Base,{className:\"w-100 text-break\",children:[chat.type===MessengerThreadChat.SECURITY_NOTIFICATION&&/*#__PURE__*/_jsxs(Flex,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-muted\",children:[/*#__PURE__*/_jsx(Base,{className:\"nitro-friends-spritesheet icon-warning flex-shrink-0\"}),/*#__PURE__*/_jsx(Base,{children:chat.message})]}),chat.type===MessengerThreadChat.ROOM_INVITE&&/*#__PURE__*/_jsxs(Flex,{gap:2,alignItems:\"center\",className:\"bg-light rounded mb-2 px-2 py-1 small text-black\",children:[/*#__PURE__*/_jsx(Base,{className:\"messenger-notification-icon flex-shrink-0\"}),/*#__PURE__*/_jsxs(Base,{children:[LocalizeText('messenger.invitation')+' ',chat.message]})]})]})},index);})});}return/*#__PURE__*/_jsxs(Flex,{fullWidth:true,justifyContent:isOwnChat?'end':'start',gap:2,children:[/*#__PURE__*/_jsxs(Base,{shrink:true,className:\"message-avatar\",children:[group.type===GroupType.PRIVATE_CHAT&&!isOwnChat&&/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:thread.participant.figure,direction:2}),groupChatData&&!isOwnChat&&/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:groupChatData.figure,direction:2})]}),/*#__PURE__*/_jsxs(Base,{className:'bg-light text-black border-radius mb-2 rounded py-1 px-2 messages-group-'+(isOwnChat?'right':'left'),children:[/*#__PURE__*/_jsxs(Base,{className:\"fw-bold\",children:[isOwnChat&&GetSessionDataManager().userName,!isOwnChat&&(groupChatData?groupChatData.username:thread.participant.name)]}),group.chats.map(function(chat,index){return/*#__PURE__*/_jsx(Base,{className:\"text-break\",children:chat.message},index);})]}),isOwnChat&&/*#__PURE__*/_jsx(Base,{shrink:true,className:\"message-avatar\",children:/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:GetSessionDataManager().figure,direction:4})})]});};","map":null,"metadata":{},"sourceType":"module"}