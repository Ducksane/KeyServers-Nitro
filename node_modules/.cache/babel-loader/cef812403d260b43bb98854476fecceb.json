{"ast":null,"code":"import{FurniturePlacePaintComposer,RoomObjectCategory,RoomObjectPlacementSource,RoomObjectType}from'@nitrots/nitro-renderer';import{FurniCategory}from'.';import{CreateLinkEvent,GetRoomEngine,GetRoomSessionManager,SendMessageComposer}from'..';var objectMoverRequested=false;var itemIdInPlacing=-1;export var isObjectMoverRequested=function isObjectMoverRequested(){return objectMoverRequested;};export var setObjectMoverRequested=function setObjectMoverRequested(flag){return objectMoverRequested=flag;};export var getPlacingItemId=function getPlacingItemId(){return itemIdInPlacing;};export var setPlacingItemId=function setPlacingItemId(id){return itemIdInPlacing=id;};export var cancelRoomObjectPlacement=function cancelRoomObjectPlacement(){if(getPlacingItemId()===-1)return;GetRoomEngine().cancelRoomObjectPlacement();setPlacingItemId(-1);setObjectMoverRequested(false);};export var attemptPetPlacement=function attemptPetPlacement(petItem){var flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var petData=petItem.petData;if(!petData)return false;var session=GetRoomSessionManager().getSession(1);if(!session)return false;if(!session.isRoomOwner&&!session.allowPets)return false;CreateLinkEvent('inventory/hide');if(GetRoomEngine().processRoomObjectPlacement(RoomObjectPlacementSource.INVENTORY,-petData.id,RoomObjectCategory.UNIT,RoomObjectType.PET,petData.figureData.figuredata)){setPlacingItemId(petData.id);setObjectMoverRequested(true);}return true;};export var attemptItemPlacement=function attemptItemPlacement(groupItem){var flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!groupItem||!groupItem.getUnlockedCount())return false;var item=groupItem.getLastItem();if(!item)return false;if(item.category===FurniCategory.FLOOR||item.category===FurniCategory.WALL_PAPER||item.category===FurniCategory.LANDSCAPE){if(flag)return false;SendMessageComposer(new FurniturePlacePaintComposer(item.id));return false;}else{CreateLinkEvent('inventory/hide');var category=0;var isMoving=false;if(item.isWallItem)category=RoomObjectCategory.WALL;else category=RoomObjectCategory.FLOOR;if(item.category===FurniCategory.POSTER)// or external image from furnidata\n{isMoving=GetRoomEngine().processRoomObjectPlacement(RoomObjectPlacementSource.INVENTORY,item.id,category,item.type,item.stuffData.getLegacyString());}else{isMoving=GetRoomEngine().processRoomObjectPlacement(RoomObjectPlacementSource.INVENTORY,item.id,category,item.type,item.extra.toString(),item.stuffData);}if(isMoving){setPlacingItemId(item.ref);setObjectMoverRequested(true);}}return true;};export var attemptBotPlacement=function attemptBotPlacement(botItem){var flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var botData=botItem.botData;if(!botData)return false;var session=GetRoomSessionManager().getSession(1);if(!session||!session.isRoomOwner)return false;CreateLinkEvent('inventory/hide');if(GetRoomEngine().processRoomObjectPlacement(RoomObjectPlacementSource.INVENTORY,-botData.id,RoomObjectCategory.UNIT,RoomObjectType.RENTABLE_BOT,botData.figure)){setPlacingItemId(botData.id);setObjectMoverRequested(true);}return true;};","map":null,"metadata":{},"sourceType":"module"}