{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{GetRoomEngine}from'../nitro';import{FurniCategory}from'./FurniCategory';import{GroupItem}from'./GroupItem';export var createGroupItem=function createGroupItem(type,category,stuffData){var extra=arguments.length>3&&arguments[3]!==undefined?arguments[3]:NaN;return new GroupItem(type,category,GetRoomEngine(),stuffData,extra);};var addSingleFurnitureItem=function addSingleFurnitureItem(set,item,unseen){var groupItems=[];var _iterator=_createForOfIteratorHelper(set),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _groupItem2=_step.value;if(_groupItem2.type===item.type)groupItems.push(_groupItem2);}}catch(err){_iterator.e(err);}finally{_iterator.f();}for(var _i=0,_groupItems=groupItems;_i<_groupItems.length;_i++){var _groupItem=_groupItems[_i];if(_groupItem.getItemById(item.id))return _groupItem;}var groupItem=createGroupItem(item.type,item.category,item.stuffData,item.extra);groupItem.push(item);if(unseen){groupItem.hasUnseenItems=true;set.unshift(groupItem);}else{set.push(groupItem);}return groupItem;};var addGroupableFurnitureItem=function addGroupableFurnitureItem(set,item,unseen){var existingGroup=null;var _iterator2=_createForOfIteratorHelper(set),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var groupItem=_step2.value;if(groupItem.type===item.type&&groupItem.isWallItem===item.isWallItem&&groupItem.isGroupable){if(item.category===FurniCategory.POSTER){if(groupItem.stuffData.getLegacyString()===item.stuffData.getLegacyString()){existingGroup=groupItem;break;}}else if(item.category===FurniCategory.GUILD_FURNI){if(item.stuffData.compare(groupItem.stuffData)){existingGroup=groupItem;break;}}else{existingGroup=groupItem;break;}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(existingGroup){existingGroup.push(item);if(unseen){existingGroup.hasUnseenItems=true;var index=set.indexOf(existingGroup);if(index>=0)set.splice(index,1);set.unshift(existingGroup);}return existingGroup;}existingGroup=createGroupItem(item.type,item.category,item.stuffData,item.extra);existingGroup.push(item);if(unseen){existingGroup.hasUnseenItems=true;set.unshift(existingGroup);}else{set.push(existingGroup);}return existingGroup;};export var addFurnitureItem=function addFurnitureItem(set,item,unseen){if(!item.isGroupable){addSingleFurnitureItem(set,item,unseen);}else{addGroupableFurnitureItem(set,item,unseen);}};export var mergeFurniFragments=function mergeFurniFragments(fragment,totalFragments,fragmentNumber,fragments){if(totalFragments===1)return fragment;fragments[fragmentNumber]=fragment;var _iterator3=_createForOfIteratorHelper(fragments),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var frag=_step3.value;if(!frag)return null;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}var merged=new Map();var _iterator4=_createForOfIteratorHelper(fragments),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _frag=_step4.value;var _iterator5=_createForOfIteratorHelper(_frag),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=_slicedToArray(_step5.value,2),key=_step5$value[0],value=_step5$value[1];merged.set(key,value);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}_frag.clear();}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}fragments=null;return merged;};export var getAllItemIds=function getAllItemIds(groupItems){var itemIds=[];var _iterator6=_createForOfIteratorHelper(groupItems),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var groupItem=_step6.value;var totalCount=groupItem.getTotalCount();if(groupItem.category===FurniCategory.POST_IT)totalCount=1;var i=0;while(i<totalCount){itemIds.push(groupItem.getItemByIndex(i).id);i++;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}return itemIds;};","map":null,"metadata":{},"sourceType":"module"}