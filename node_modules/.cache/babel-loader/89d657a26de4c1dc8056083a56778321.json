{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{PlaneVisualization}from'./PlaneVisualization';export var Plane=/*#__PURE__*/function(){function Plane(){_classCallCheck(this,Plane);this._planeVisualizations=void 0;this._sizes=void 0;this._lastPlaneVisualization=void 0;this._lastSize=void 0;this._planeVisualizations=new Map();this._sizes=[];this._lastPlaneVisualization=null;this._lastSize=-1;}_createClass(Plane,[{key:\"isStatic\",value:function isStatic(size){return true;}},{key:\"dispose\",value:function dispose(){var _iterator=_createForOfIteratorHelper(this._planeVisualizations.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var visualization=_step.value;if(!visualization)continue;visualization.dispose();}}catch(err){_iterator.e(err);}finally{_iterator.f();}this._planeVisualizations=null;this._lastPlaneVisualization=null;this._sizes=null;this._lastSize=-1;}},{key:\"clearCache\",value:function clearCache(){var _iterator2=_createForOfIteratorHelper(this._planeVisualizations.values()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var visualization=_step2.value;if(!visualization)continue;visualization.clearCache();}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}},{key:\"createPlaneVisualization\",value:function createPlaneVisualization(size,totalLayers,geometry){var existing=this._planeVisualizations.get(size.toString());if(existing)return null;var plane=new PlaneVisualization(size,totalLayers,geometry);this._planeVisualizations.set(size.toString(),plane);this._sizes.push(size);this._sizes.sort();return plane;}},{key:\"getSizeIndex\",value:function getSizeIndex(size){var sizeIndex=0;var i=1;while(i<this._sizes.length){if(this._sizes[i]>size){if(this._sizes[i]-size<size-this._sizes[i-1])sizeIndex=i;break;}sizeIndex=i;i++;}return sizeIndex;}},{key:\"getPlaneVisualization\",value:function getPlaneVisualization(size){if(size===this._lastSize)return this._lastPlaneVisualization;var sizeIndex=this.getSizeIndex(size);if(sizeIndex<this._sizes.length){this._lastPlaneVisualization=this._planeVisualizations.get(this._sizes[sizeIndex].toString());}else{this._lastPlaneVisualization=null;}this._lastSize=size;return this._lastPlaneVisualization;}},{key:\"getLayers\",value:function getLayers(){return this.getPlaneVisualization(this._lastSize).getLayers();}}]);return Plane;}();","map":null,"metadata":{},"sourceType":"module"}