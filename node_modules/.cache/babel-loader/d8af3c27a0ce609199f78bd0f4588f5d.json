{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{PlaneMaskVisualization}from'./PlaneMaskVisualization';export var PlaneMask=/*#__PURE__*/function(){function PlaneMask(){_classCallCheck(this,PlaneMask);this._maskVisualizations=void 0;this._sizes=void 0;this._assetNames=void 0;this._lastMaskVisualization=void 0;this._lastSize=void 0;this._sizes=[];this._maskVisualizations=new Map();this._assetNames=new Map();this._lastMaskVisualization=null;this._lastSize=-1;}_createClass(PlaneMask,[{key:\"dispose\",value:function dispose(){if(this._maskVisualizations){var _iterator=_createForOfIteratorHelper(this._maskVisualizations.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var mask=_step.value;if(!mask)continue;mask.dispose();}}catch(err){_iterator.e(err);}finally{_iterator.f();}this._maskVisualizations=null;}this._lastMaskVisualization=null;this._sizes=null;}},{key:\"createMaskVisualization\",value:function createMaskVisualization(size){var existing=this._maskVisualizations.get(size);if(existing)return null;var visualization=new PlaneMaskVisualization();this._maskVisualizations.set(size,visualization);this._sizes.push(size);this._sizes.sort();return visualization;}},{key:\"getSizeIndex\",value:function getSizeIndex(k){var sizeIndex=0;var index=1;while(index<this._sizes.length){if(this._sizes[index]>k){if(this._sizes[index]-k<k-this._sizes[index-1])sizeIndex=index;break;}sizeIndex=index;}return sizeIndex;}},{key:\"getMaskVisualization\",value:function getMaskVisualization(k){if(k===this._lastSize)return this._lastMaskVisualization;var sizeIndex=this.getSizeIndex(k);if(sizeIndex<this._sizes.length){this._lastMaskVisualization=this._maskVisualizations.get(this._sizes[sizeIndex]);}else{this._lastMaskVisualization=null;}this._lastSize=k;return this._lastMaskVisualization;}},{key:\"getGraphicAsset\",value:function getGraphicAsset(k,_arg_2){var visualization=this.getMaskVisualization(k);if(!visualization)return null;return visualization.getAsset(_arg_2);}},{key:\"getAssetName\",value:function getAssetName(k){if(!this._assetNames)return null;return this._assetNames.get(k)||null;}},{key:\"setAssetName\",value:function setAssetName(k,_arg_2){if(!this._assetNames)return;this._assetNames.set(k,_arg_2);}}]);return PlaneMask;}();","map":null,"metadata":{},"sourceType":"module"}