{"ast":null,"code":"import _classCallCheck from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _get from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{RoomToObjectOwnAvatarMoveEvent}from'../../../events/RoomToObjectOwnAvatarMoveEvent';import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureLogic}from'./FurnitureLogic';export var FurnitureChangeStateWhenStepOnLogic=/*#__PURE__*/function(_FurnitureLogic){_inherits(FurnitureChangeStateWhenStepOnLogic,_FurnitureLogic);var _super=_createSuper(FurnitureChangeStateWhenStepOnLogic);function FurnitureChangeStateWhenStepOnLogic(){var _this;_classCallCheck(this,FurnitureChangeStateWhenStepOnLogic);_this=_super.call(this);_this.onRoomToObjectOwnAvatarMoveEvent=_this.onRoomToObjectOwnAvatarMoveEvent.bind(_assertThisInitialized(_this));return _this;}_createClass(FurnitureChangeStateWhenStepOnLogic,[{key:\"initialize\",value:function initialize(asset){_get(_getPrototypeOf(FurnitureChangeStateWhenStepOnLogic.prototype),\"initialize\",this).call(this,asset);if(this.eventDispatcher)this.eventDispatcher.addEventListener(RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO,this.onRoomToObjectOwnAvatarMoveEvent);}},{key:\"tearDown\",value:function tearDown(){if(this.eventDispatcher)this.eventDispatcher.removeEventListener(RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO,this.onRoomToObjectOwnAvatarMoveEvent);_get(_getPrototypeOf(FurnitureChangeStateWhenStepOnLogic.prototype),\"tearDown\",this).call(this);}},{key:\"onRoomToObjectOwnAvatarMoveEvent\",value:function onRoomToObjectOwnAvatarMoveEvent(event){if(!event||!this.object)return;var location=this.object.getLocation();var targetLocation=event.targetLocation;if(!targetLocation)return;var sizeX=this.object.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X);var sizeY=this.object.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);var direction=(Math.floor(this.object.getDirection().x)+45)%360/90;if(direction===1||direction===3){var _ref=[sizeY,sizeX];sizeX=_ref[0];sizeY=_ref[1];}if(targetLocation.x>=location.x&&targetLocation.x<location.x+sizeX&&targetLocation.y>=location.y&&targetLocation.y<location.y+sizeY){this.object.setState(1,0);}else{this.object.setState(0,0);}}}]);return FurnitureChangeStateWhenStepOnLogic;}(FurnitureLogic);","map":null,"metadata":{},"sourceType":"module"}