{"ast":null,"code":"import _toArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/toArray.js\";import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{LocalizeText,SearchFilterOptions}from'../../../../api';import{Button,Flex}from'../../../../common';import{useNavigatorContext}from'../../NavigatorContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var NavigatorSearchView=function NavigatorSearchView(props){var _props$sendSearch=props.sendSearch,sendSearch=_props$sendSearch===void 0?null:_props$sendSearch;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),searchFilterIndex=_useState2[0],setSearchFilterIndex=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useNavigatorContext=useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.topLevelContext,topLevelContext=_useNavigatorContext$===void 0?null:_useNavigatorContext$,_useNavigatorContext$2=_useNavigatorContext.searchResult,searchResult=_useNavigatorContext$2===void 0?null:_useNavigatorContext$2;var processSearch=function processSearch(){if(!topLevelContext)return;var searchFilter=SearchFilterOptions[searchFilterIndex];if(!searchFilter)searchFilter=SearchFilterOptions[0];var searchQuery=(searchFilter.query?searchFilter.query+':':'')+searchValue;sendSearch(searchQuery||'',topLevelContext.code);};var handleKeyDown=function handleKeyDown(event){if(event.key!=='Enter')return;processSearch();};useEffect(function(){if(!searchResult)return;var split=searchResult.data.split(':');var filter=null;var value='';if(split.length>=2){var _split=_toArray(split),query=_split[0],rest=_split.slice(1);filter=SearchFilterOptions.find(function(option){return option.query===query;});value=rest.join(':');}else{value=searchResult.data;}if(!filter)filter=SearchFilterOptions[0];setSearchFilterIndex(SearchFilterOptions.findIndex(function(option){return option===filter;}));setSearchValue(value);},[searchResult]);return/*#__PURE__*/_jsxs(Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/_jsx(Flex,{shrink:true,children:/*#__PURE__*/_jsx(\"select\",{className:\"form-select form-select-sm\",value:searchFilterIndex,onChange:function onChange(event){return setSearchFilterIndex(parseInt(event.target.value));},children:SearchFilterOptions.map(function(filter,index){return/*#__PURE__*/_jsx(\"option\",{value:index,children:LocalizeText('navigator.filter.'+filter.name)},index);})})}),/*#__PURE__*/_jsxs(Flex,{fullWidth:true,gap:1,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('navigator.filter.input.placeholder'),value:searchValue,onChange:function onChange(event){return setSearchValue(event.target.value);},onKeyDown:function onKeyDown(event){return handleKeyDown(event);}}),/*#__PURE__*/_jsx(Button,{variant:\"none\",style:{backgroundColor:\"var(--test-galaxytwo)\"},onClick:processSearch,children:/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-searchroom\"})})]})]});};","map":null,"metadata":{},"sourceType":"module"}