{"ast":null,"code":"import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{ObjectDataFactory}from'../../../../room/object/data/ObjectDataFactory';import{LegacyDataType}from'../../../../room/object/data/type/LegacyDataType';import{MarketplaceOffer}from'../../incoming/marketplace/MarketplaceOffer';import{FurnitureDataParser}from'../room/furniture/FurnitureDataParser';export var MarketplaceOffersParser=/*#__PURE__*/function(){function MarketplaceOffersParser(){_classCallCheck(this,MarketplaceOffersParser);this.MAX_LIST_LENGTH=500;this._offers=void 0;this._totalItemsFound=void 0;}_createClass(MarketplaceOffersParser,[{key:\"flush\",value:function flush(){this._offers=[];this._totalItemsFound=0;return true;}},{key:\"parse\",value:function parse(wrapper){if(!wrapper)return false;var count=wrapper.readInt();var i=0;while(i<count){var offerId=wrapper.readInt();var status=wrapper.readInt();var furniType=wrapper.readInt();var furniId=-1;var extraData='';var stuffData=null;if(furniType===MarketplaceOffersParser.FURNITYPE_STUFF){furniId=wrapper.readInt();stuffData=FurnitureDataParser.parseObjectData(wrapper);}else if(furniType===MarketplaceOffersParser.FURNITYPE_WALL){furniId=wrapper.readInt();extraData=wrapper.readString();}else if(furniType==MarketplaceOffersParser.FAKE_FURNITYPE_UNIQUE){furniId=wrapper.readInt();stuffData=ObjectDataFactory.getData(LegacyDataType.FORMAT_KEY);stuffData.uniqueNumber=wrapper.readInt();stuffData.uniqueSeries=wrapper.readInt();furniType=MarketplaceOffersParser.FURNITYPE_STUFF;}var price=wrapper.readInt();var timeLeftMinutes=wrapper.readInt();var averagePrice=wrapper.readInt();var offerCount=wrapper.readInt();var offerItem=new MarketplaceOffer(offerId,furniId,furniType,extraData,stuffData,price,status,timeLeftMinutes,averagePrice,offerCount);if(i<this.MAX_LIST_LENGTH)this._offers.push(offerItem);i++;}this._totalItemsFound=wrapper.readInt();return true;}},{key:\"offers\",get:function get(){return this._offers;}},{key:\"totalItemsFound\",get:function get(){return this._totalItemsFound;}}]);return MarketplaceOffersParser;}();MarketplaceOffersParser.FURNITYPE_STUFF=1;MarketplaceOffersParser.FURNITYPE_WALL=2;MarketplaceOffersParser.FAKE_FURNITYPE_UNIQUE=3;","map":null,"metadata":{},"sourceType":"module"}