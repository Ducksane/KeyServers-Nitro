{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{AddEventLinkTracker,RemoveLinkEventTracker}from'../../api';import{NitroCardContentView,NitroCardHeaderView,NitroCardView}from'../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var GalertsView=function GalertsView(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),figure=_useState6[0],setFigure=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(\"NotificaciÃ³n\"),_useState10=_slicedToArray(_useState9,2),headerText=_useState10[0],setHeaderText=_useState10[1];var _useState11=useState(\"0\"),_useState12=_slicedToArray(_useState11,2),roomId=_useState12[0],setRoomId=_useState12[1];var _useState13=useState(\"gameAlert\"),_useState14=_slicedToArray(_useState13,2),actualTab=_useState14[0],setActualTab=_useState14[1];var _useState15=useState(\"url(https://files.habboemotion.com/resources/images/homebgs/nl_green_bg.gif)\"),_useState16=_slicedToArray(_useState15,2),background=_useState16[0],setBackground=_useState16[1];var _useState17=useState(\"primary\"),_useState18=_slicedToArray(_useState17,2),color=_useState18[0],setColor=_useState18[1];var _useState19=useState(\"undefined\"),_useState20=_slicedToArray(_useState19,2),alertText=_useState20[0],setAlertText=_useState20[1];var sso=new URLSearchParams(window.location.search).get('sso');function getHabboImaging(look){return\"https://habbo-imaging.hgalaxy.net/avatarimage/\"+look+\"&gesture=sml&direction=2&effect=6&img_format=gif\";}function goToRoom(){fetch(\"https://int.lavvos.eu/?type=goToRoom&roomId=\"+roomId+\"&sso=\"+sso);setIsVisible(false);}function getBadge(){return\"badge bg-\"+color;}function getAlert(){return\"alert alert-\"+color+\" text-center\";}useEffect(function(){var linkTracker={linkReceived:function linkReceived(url){var parts=url.split('/');if(parts.length<2)return;switch(parts[1]){case'@gm':setIsVisible(false);setHeaderText(\"Nuevo juego abierto\");setRoomId(parts[2]);setUsername(parts[3]);setMessage(parts[4]);setAlertText(\"ðŸ“¢ <b>Nuevo juego abierto.</b> Â¡Ãšnete si quieres ganar premios!\");setColor(\"warning\");setBackground(\"url(https://files.habboemotion.com/resources/images/homebgs/nl_green_bg.gif)\");fetch(\"https://int.lavvos.eu/?type=getFigure&getFigure=\"+parts[3]).then(function(response){return response.text();}).then(function(response){setFigure(response);setIsVisible(true);var audio=new Audio('https://lavvos.eu/swfs/sounds/ding.mp3');audio.play();});return;case'@ev':setIsVisible(false);setHeaderText(\"Nuevo evento abierto\");setRoomId(parts[2]);setUsername(parts[3]);setMessage(parts[4]);setAlertText(\"ðŸ“¢ <b>Nuevo evento abierto.</b> Â¡Ãšnete si quieres ganar premios!\");setColor(\"info\");setBackground(\"url(https://files.habboemotion.com/resources/images/homebgs/bg_pattern_bobbaskulls1.gif)\");fetch(\"https://int.lavvos.eu/?type=getFigure&getFigure=\"+parts[3]).then(function(response){return response.text();}).then(function(response){setFigure(response);setIsVisible(true);var audio=new Audio('https://lavvos.eu/swfs/sounds/ding.mp3');audio.play();});return;case'@pbl':setIsVisible(false);setHeaderText(\"Nueva oleada de publicidad abierta\");setRoomId(parts[2]);setUsername(parts[3]);setMessage(parts[4]);setAlertText(\"ðŸ“¢ <b>Nueva oleada de publicidad abierta.</b> Â¡Ãšnete si quieres ganar premios!\");setColor(\"danger\");setBackground(\"url(https://files.habboemotion.com/resources/images/homebgs/xmas_bgpattern_starsky.gif)\");fetch(\"https://int.lavvos.eu/?type=getFigure&getFigure=\"+parts[3]).then(function(response){return response.text();}).then(function(response){setFigure(response);setIsVisible(true);var audio=new Audio('https://lavvos.eu/swfs/sounds/ding.mp3');audio.play();});return;case'hide':setIsVisible(false);return;}},eventUrlPrefix:'galert/'};AddEventLinkTracker(linkTracker);return function(){return RemoveLinkEventTracker(linkTracker);};},[setIsVisible]);return/*#__PURE__*/_jsx(_Fragment,{children:isVisible&&/*#__PURE__*/_jsxs(NitroCardView,{style:{width:\"350px\"},className:\"animate__animated animate__flipInX\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:headerText,onCloseClick:function onCloseClick(event){return setIsVisible(false);}}),/*#__PURE__*/_jsx(NitroCardContentView,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{backgroundImage:background},children:[/*#__PURE__*/_jsx(\"div\",{className:getAlert(),dangerouslySetInnerHTML:{__html:alertText}}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:getHabboImaging(figure)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-primary\",style:{fontSize:\"12px\"},children:[\"Juego abierto por \",username]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:getBadge(),style:{fontSize:\"18px\"},children:message}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return goToRoom();},className:\"btn btn-success btn-sm rounded w-100\",children:\"Ir a sala\"})]})})})]})})})]})});};","map":null,"metadata":{},"sourceType":"module"}