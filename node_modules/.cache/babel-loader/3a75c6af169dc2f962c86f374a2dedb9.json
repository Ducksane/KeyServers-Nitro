{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{RoomDeleteComposer}from'@nitrots/nitro-renderer';import{useEffect,useState}from'react';import{CreateLinkEvent,GetMaxVisitorsList,LocalizeText,NotificationUtilities,SendMessageComposer}from'../../../../api';import{Base,Column,Flex,Text}from'../../../../common';import{useNavigatorContext}from'../../NavigatorContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ROOM_NAME_MIN_LENGTH=3;var ROOM_NAME_MAX_LENGTH=60;var DESC_MAX_LENGTH=255;export var NavigatorRoomSettingsBasicTabView=function NavigatorRoomSettingsBasicTabView(props){var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData,_props$handleChange=props.handleChange,handleChange=_props$handleChange===void 0?null:_props$handleChange,_props$close=props.close,close=_props$close===void 0?null:_props$close;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),roomName=_useState2[0],setRoomName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),roomDescription=_useState4[0],setRoomDescription=_useState4[1];var _useNavigatorContext=useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.categories,categories=_useNavigatorContext$===void 0?null:_useNavigatorContext$;var deleteRoom=function deleteRoom(){NotificationUtilities.confirm(LocalizeText('navigator.roomsettings.deleteroom.confirm.message',['room_name'],[roomData.roomName]),function(){SendMessageComposer(new RoomDeleteComposer(roomData.roomId));if(close)close();CreateLinkEvent('navigator/search/myworld_view');},null,null,null,LocalizeText('navigator.roomsettings.deleteroom.confirm.title'));};var saveRoomName=function saveRoomName(){if(roomName===roomData.roomName||roomName.length<ROOM_NAME_MIN_LENGTH||roomName.length>ROOM_NAME_MAX_LENGTH)return;handleChange('name',roomName);};var saveRoomDescription=function saveRoomDescription(){if(roomDescription===roomData.roomDescription||roomDescription.length>DESC_MAX_LENGTH)return;handleChange('description',roomDescription);};useEffect(function(){setRoomName(roomData.roomName);setRoomDescription(roomData.roomDescription);},[roomData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.roomname')}),/*#__PURE__*/_jsxs(Column,{fullWidth:true,gap:0,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",value:roomName,maxLength:ROOM_NAME_MAX_LENGTH,onChange:function onChange(event){return setRoomName(event.target.value);},onBlur:saveRoomName}),roomName.length<ROOM_NAME_MIN_LENGTH&&/*#__PURE__*/_jsx(Text,{bold:true,small:true,variant:\"danger\",children:LocalizeText('navigator.roomsettings.roomnameismandatory')})]})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.roomsettings.desc')}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control form-control-sm\",value:roomDescription,maxLength:DESC_MAX_LENGTH,onChange:function onChange(event){return setRoomDescription(event.target.value);},onBlur:saveRoomDescription})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.category')}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select form-select-sm\",value:roomData.categoryId,onChange:function onChange(event){return handleChange('category',event.target.value);},children:categories&&categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.id,children:LocalizeText(category.name)},category.id);})})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.maxvisitors')}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select form-select-sm\",value:roomData.userCount,onChange:function onChange(event){return handleChange('max_visitors',event.target.value);},children:GetMaxVisitorsList&&GetMaxVisitorsList.map(function(value){return/*#__PURE__*/_jsx(\"option\",{value:value,children:value},value);})})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},className:\"col-3\",children:LocalizeText('navigator.tradesettings')}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",value:roomData.tradeState,onChange:function onChange(event){return handleChange('trade_state',event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.trade_not_allowed')}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.trade_not_with_Controller')}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:LocalizeText('navigator.roomsettings.trade_allowed')})]})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Base,{className:\"col-3\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.allowWalkthrough,onChange:function onChange(event){return handleChange('allow_walkthrough',event.target.checked);}}),/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.allow_walk_through')})]}),/*#__PURE__*/_jsxs(Text,{variant:\"danger\",underline:true,bold:true,pointer:true,className:\"d-flex justify-content-center align-items-center gap-1\",onClick:deleteRoom,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"times\"}),LocalizeText('navigator.roomsettings.delete')]})]});};","map":null,"metadata":{},"sourceType":"module"}