{"ast":null,"code":"import _classCallCheck from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _get from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{PlaneBitmapData}from'../../utils/PlaneBitmapData';import{PlaneRasterizer}from'./PlaneRasterizer';import{WallPlane}from'./WallPlane';export var WallRasterizer=/*#__PURE__*/function(_PlaneRasterizer){_inherits(WallRasterizer,_PlaneRasterizer);var _super=_createSuper(WallRasterizer);function WallRasterizer(){_classCallCheck(this,WallRasterizer);return _super.apply(this,arguments);}_createClass(WallRasterizer,[{key:\"initializePlanes\",value:function initializePlanes(){if(!this.data)return;var walls=this.data.walls;if(walls&&walls.length)this.parseWalls(walls);}},{key:\"parseWalls\",value:function parseWalls(k){if(!k)return;for(var wallIndex in k){var wall=k[wallIndex];if(!wall)continue;var id=wall.id;var visualization=wall.visualizations;var plane=new WallPlane();this.parseVisualizations(plane,visualization);if(!this.addPlane(id,plane))plane.dispose();}}},{key:\"render\",value:function render(canvas,id,width,height,scale,normal,useTexture){var offsetX=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var offsetY=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;var maxX=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;var maxY=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;var timeSinceStartMs=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;var plane=this.getPlane(id);if(!plane)plane=this.getPlane(PlaneRasterizer.DEFAULT);if(!plane)return null;if(canvas){var rectangle=canvas.getBounds();canvas.clear();canvas.drawRect(rectangle.x,rectangle.y,rectangle.width,rectangle.height);}var graphic=plane.render(canvas,width,height,scale,normal,useTexture);if(graphic&&graphic!==canvas){graphic=graphic.clone();if(!graphic)return null;}return new PlaneBitmapData(graphic,-1);}},{key:\"getTextureIdentifier\",value:function getTextureIdentifier(k,normal){if(normal){return\"\".concat(k,\"_\").concat(normal.x,\"_\").concat(normal.y,\"_\").concat(normal.z);}return _get(_getPrototypeOf(WallRasterizer.prototype),\"getTextureIdentifier\",this).call(this,k,normal);}}]);return WallRasterizer;}(PlaneRasterizer);","map":null,"metadata":{},"sourceType":"module"}