{"ast":null,"code":"import _objectSpread from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"offer\",\"selectOffer\",\"itemActive\"];import{MouseEventType}from'@nitrots/nitro-renderer';import{useMemo,useState}from'react';import{Offer,ProductTypeEnum}from'../../../../../api';import{LayoutAvatarImageView,LayoutGridItem}from'../../../../../common';import{useCatalog,useInventoryFurni}from'../../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";export var CatalogGridOfferView=function CatalogGridOfferView(props){var _props$offer=props.offer,offer=_props$offer===void 0?null:_props$offer,_props$selectOffer=props.selectOffer,selectOffer=_props$selectOffer===void 0?null:_props$selectOffer,_props$itemActive=props.itemActive,itemActive=_props$itemActive===void 0?false:_props$itemActive,rest=_objectWithoutProperties(props,_excluded);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMouseDown=_useState2[0],setMouseDown=_useState2[1];var _useCatalog=useCatalog(),_useCatalog$requestOf=_useCatalog.requestOfferToMover,requestOfferToMover=_useCatalog$requestOf===void 0?null:_useCatalog$requestOf;var _useInventoryFurni=useInventoryFurni(),_useInventoryFurni$is=_useInventoryFurni.isVisible,isVisible=_useInventoryFurni$is===void 0?false:_useInventoryFurni$is;var iconUrl=useMemo(function(){if(offer.pricingModel===Offer.PRICING_MODEL_BUNDLE){return null;}return offer.product.getIconUrl(offer);},[offer]);var onMouseEvent=function onMouseEvent(event){switch(event.type){case MouseEventType.MOUSE_DOWN:selectOffer(offer);setMouseDown(true);return;case MouseEventType.MOUSE_UP:setMouseDown(false);return;case MouseEventType.ROLL_OUT:if(!isMouseDown||!itemActive||!isVisible)return;requestOfferToMover(offer);return;}};var product=offer.product;if(!product)return null;return/*#__PURE__*/_jsx(LayoutGridItem,_objectSpread(_objectSpread({itemImage:iconUrl,itemCount:offer.pricingModel===Offer.PRICING_MODEL_MULTI?product.productCount:1,itemUniqueSoldout:product.uniqueLimitedItemSeriesSize&&!product.uniqueLimitedItemsLeft,itemUniqueNumber:product.uniqueLimitedItemSeriesSize,itemActive:itemActive,onMouseDown:onMouseEvent,onMouseUp:onMouseEvent,onMouseOut:onMouseEvent},rest),{},{children:offer.product.productType===ProductTypeEnum.ROBOT&&/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:offer.product.extraParam,headOnly:true,direction:3})}));};","map":null,"metadata":{},"sourceType":"module"}