{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _get from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Vector3d}from'../../../../../room';import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureAnimatedVisualization}from'./FurnitureAnimatedVisualization';import{FurniturePlanetSystemVisualizationPlanetObject}from'./FurniturePlanetSystemVisualizationPlanetObject';export var FurniturePlanetSystemVisualization=/*#__PURE__*/function(_FurnitureAnimatedVis){_inherits(FurniturePlanetSystemVisualization,_FurnitureAnimatedVis);var _super=_createSuper(FurniturePlanetSystemVisualization);function FurniturePlanetSystemVisualization(){var _this;_classCallCheck(this,FurniturePlanetSystemVisualization);_this=_super.call(this);_this._planetIndex=void 0;_this._planetNameIndex=void 0;_this._offsetArray=void 0;_this._rootPosition=void 0;_this._offsetArray=[];_this._rootPosition=new Vector3d();return _this;}_createClass(FurniturePlanetSystemVisualization,[{key:\"dispose\",value:function dispose(){if(this._planetIndex){while(this._planetIndex.length>0){var planet=this._planetIndex.shift();planet.dispose();}}this._planetIndex=null;this._planetNameIndex=null;}},{key:\"updateAnimation\",value:function updateAnimation(scale){if(!this._planetIndex&&this.spriteCount>0){if(!this.processPlanets())return 0;}if(this._planetIndex){var _iterator=_createForOfIteratorHelper(this._planetIndex),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var planet=_step.value;planet.update(this._offsetArray,this._rootPosition,scale);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return _get(_getPrototypeOf(FurniturePlanetSystemVisualization.prototype),\"updateAnimation\",this).call(this,scale);}return 0;}},{key:\"getLayerXOffset\",value:function getLayerXOffset(scale,direction,layerId){if(this._offsetArray[layerId]){return this._offsetArray[layerId].x;}return _get(_getPrototypeOf(FurniturePlanetSystemVisualization.prototype),\"getLayerXOffset\",this).call(this,scale,direction,layerId);}},{key:\"getLayerYOffset\",value:function getLayerYOffset(scale,direction,layerId){if(this._offsetArray[layerId]){return this._offsetArray[layerId].y;}return _get(_getPrototypeOf(FurniturePlanetSystemVisualization.prototype),\"getLayerYOffset\",this).call(this,scale,direction,layerId);}},{key:\"getLayerZOffset\",value:function getLayerZOffset(scale,direction,layerId){if(this._offsetArray[layerId]){return this._offsetArray[layerId].z;}return _get(_getPrototypeOf(FurniturePlanetSystemVisualization.prototype),\"getLayerZOffset\",this).call(this,scale,direction,layerId);}},{key:\"processPlanets\",value:function processPlanets(){if(!this.object||!this.object.model)return;var planetSystems=this.object.model.getValue(RoomObjectVariable.FURNITURE_PLANETSYSTEM_DATA);if(!planetSystems)return false;this._planetIndex=[];this._planetNameIndex=[];var _iterator2=_createForOfIteratorHelper(planetSystems),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var planet=_step2.value;var sprite=this.getSprite(planet.id);if(sprite){this.addPlanet(planet.name,planet.id,planet.parent,planet.radius||0,planet.arcSpeed||0,planet.arcOffset||0,planet.height||0);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return true;}},{key:\"addPlanet\",value:function addPlanet(name,index,parentName,radius,arcSpeed,arcOffset,height){if(!this._planetIndex)return;var planet=new FurniturePlanetSystemVisualizationPlanetObject(name,index,radius,arcSpeed,arcOffset,height);var existingPlanet=this.getPlanet(parentName);if(existingPlanet)existingPlanet.addChild(planet);else{this._planetIndex.push(planet);this._planetNameIndex.push(name);}}},{key:\"getPlanet\",value:function getPlanet(name){var _iterator3=_createForOfIteratorHelper(this._planetIndex),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var planet=_step3.value;if(planet.name===name)return planet;if(planet.hasChild(name))return planet.getChild(name);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return null;}}]);return FurniturePlanetSystemVisualization;}(FurnitureAnimatedVisualization);","map":null,"metadata":{},"sourceType":"module"}