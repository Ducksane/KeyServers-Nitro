{"ast":null,"code":"import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{RedeemVoucherMessageComposer,VoucherRedeemErrorMessageEvent,VoucherRedeemOkMessageEvent}from'@nitrots/nitro-renderer';import{useCallback,useState}from'react';import{LocalizeText,NotificationUtilities,SendMessageComposer}from'../../../../../api';import{Button,Flex}from'../../../../../common';import{UseMessageEventHook}from'../../../../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CatalogRedeemVoucherView=function CatalogRedeemVoucherView(props){var _props$text=props.text,text=_props$text===void 0?null:_props$text;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),voucher=_useState2[0],setVoucher=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isWaiting=_useState4[0],setIsWaiting=_useState4[1];var redeemVoucher=function redeemVoucher(){if(!voucher||!voucher.length||isWaiting)return;SendMessageComposer(new RedeemVoucherMessageComposer(voucher));setIsWaiting(true);};var onVoucherRedeemOkMessageEvent=useCallback(function(event){var parser=event.getParser();var message=LocalizeText('catalog.alert.voucherredeem.ok.description');if(parser.productName)message=LocalizeText('catalog.alert.voucherredeem.ok.description.furni',['productName','productDescription'],[parser.productName,parser.productDescription]);NotificationUtilities.simpleAlert(message,null,null,null,LocalizeText('catalog.alert.voucherredeem.ok.title'));setIsWaiting(false);setVoucher('');},[]);UseMessageEventHook(VoucherRedeemOkMessageEvent,onVoucherRedeemOkMessageEvent);var onVoucherRedeemErrorMessageEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.simpleAlert(LocalizeText(\"catalog.alert.voucherredeem.error.description.\".concat(parser.errorCode)),null,null,null,LocalizeText('catalog.alert.voucherredeem.error.title'));setIsWaiting(false);},[]);UseMessageEventHook(VoucherRedeemErrorMessageEvent,onVoucherRedeemErrorMessageEvent);return/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:text,value:voucher,onChange:function onChange(event){return setVoucher(event.target.value);}}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:redeemVoucher,disabled:isWaiting,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"tag\"})})]});};","map":null,"metadata":{},"sourceType":"module"}