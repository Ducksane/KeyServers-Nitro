{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Luis\\\\Downloads\\\\Habboom\\\\Nitro-Edit\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{getStyleFromHsl}from\"tsparticles-engine\";var currentColorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d.]+%?\\))|currentcolor/gi;function replaceColorSvg(imageShape,color,opacity){var svgData=imageShape.svgData;if(!svgData){return\"\";}var colorStyle=getStyleFromHsl(color,opacity);if(svgData.includes(\"fill\")){return svgData.replace(currentColorRegex,function(){return colorStyle;});}var preFillIndex=svgData.indexOf(\">\");return\"\".concat(svgData.substring(0,preFillIndex),\" fill=\\\"\").concat(colorStyle,\"\\\"\").concat(svgData.substring(preFillIndex));}export function loadImage(_x){return _loadImage.apply(this,arguments);}function _loadImage(){_loadImage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(image){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",new Promise(function(resolve){image.loading=true;var img=new Image();img.addEventListener(\"load\",function(){image.element=img;image.loading=false;resolve();});img.addEventListener(\"error\",function(){image.error=true;image.loading=false;console.error(\"Error tsParticles - loading image: \".concat(image.source));resolve();});img.src=image.source;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return _loadImage.apply(this,arguments);}export function downloadSvgImage(_x2){return _downloadSvgImage.apply(this,arguments);}function _downloadSvgImage(){_downloadSvgImage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(image){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(image.type!==\"svg\")){_context2.next=4;break;}_context2.next=3;return loadImage(image);case 3:return _context2.abrupt(\"return\");case 4:image.loading=true;_context2.next=7;return fetch(image.source);case 7:response=_context2.sent;image.loading=false;if(!response.ok){console.error(\"Error tsParticles - Image not found\");image.error=true;}if(image.error){_context2.next=14;break;}_context2.next=13;return response.text();case 13:image.svgData=_context2.sent;case 14:case\"end\":return _context2.stop();}}},_callee2);}));return _downloadSvgImage.apply(this,arguments);}export function replaceImageColor(image,imageData,color,particle){var _a,_b,_c;var svgColoredData=replaceColorSvg(image,color,(_b=(_a=particle.opacity)===null||_a===void 0?void 0:_a.value)!==null&&_b!==void 0?_b:1),svg=new Blob([svgColoredData],{type:\"image/svg+xml\"}),domUrl=URL||window.URL||window.webkitURL||window,url=domUrl.createObjectURL(svg),img=new Image(),imageRes={data:Object.assign(Object.assign({},image),{svgData:svgColoredData}),ratio:imageData.width/imageData.height,replaceColor:(_c=imageData.replaceColor)!==null&&_c!==void 0?_c:imageData.replace_color,source:imageData.src};img.addEventListener(\"load\",function(){var pImage=particle.image;if(pImage){pImage.loaded=true;image.element=img;}domUrl.revokeObjectURL(url);});img.addEventListener(\"error\",function(){domUrl.revokeObjectURL(url);var img2=Object.assign(Object.assign({},image),{error:false,loading:true});loadImage(img2).then(function(){var pImage=particle.image;if(pImage){image.element=img2.element;pImage.loaded=true;}});});img.src=url;return imageRes;}","map":null,"metadata":{},"sourceType":"module"}