{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{FriendlyTime,HabboClubLevelEnum}from'@nitrots/nitro-renderer';import{useCallback,useMemo}from'react';import{CreateLinkEvent,GetConfiguration,LocalizeText}from'../../api';import{Column}from'../../common';import{usePurse}from'../../hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PurseView=function PurseView(props){var _usePurse=usePurse(),_usePurse$purse=_usePurse.purse,purse=_usePurse$purse===void 0?null:_usePurse$purse,_usePurse$hcDisabled=_usePurse.hcDisabled,hcDisabled=_usePurse$hcDisabled===void 0?false:_usePurse$hcDisabled;var displayedCurrencies=useMemo(function(){return GetConfiguration('system.currency.types',[]);},[]);var currencyDisplayNumberShort=useMemo(function(){return GetConfiguration('currency.display.number.short',false);},[]);var getClubText=useMemo(function(){if(!purse)return null;var totalDays=purse.clubPeriods*31+purse.clubDays;var minutesUntilExpiration=purse.minutesUntilExpiration;if(purse.clubLevel===HabboClubLevelEnum.NO_CLUB)return LocalizeText('purse.clubdays.zero.amount.text');else if(minutesUntilExpiration>-1&&minutesUntilExpiration<60*24)return FriendlyTime.shortFormat(minutesUntilExpiration*60);else return FriendlyTime.shortFormat(totalDays*86400);},[purse]);function getUrlCurrency(type){return\"https://lavvos.eu/swfs/monedas/\"+type+\".png\";}var getCurrencyElements=useCallback(function(offset){var limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;var seasonal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!purse||!purse.activityPoints||!purse.activityPoints.size)return null;var types=Array.from(purse.activityPoints.keys()).filter(function(type){return displayedCurrencies.indexOf(type)>=0;});var count=0;while(count<offset){types.shift();count++;}count=0;var elements=[];var _iterator=_createForOfIteratorHelper(types),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var type=_step.value;if(limit>-1&&count===limit)break;if(seasonal)elements.push(/*#__PURE__*/_jsx(\"div\",{className:\"currency-container\",children:/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-dark\",children:purse.activityPoints.get(type)}),/*#__PURE__*/_jsx(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/_jsx(\"img\",{src:getUrlCurrency(type)})})]})}));else elements.push(/*#__PURE__*/_jsx(\"div\",{className:\"currency-container\",children:/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-dark\",children:purse.activityPoints.get(type)}),/*#__PURE__*/_jsx(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/_jsx(\"img\",{style:{},src:getUrlCurrency(type)})})]})}));count++;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return elements;},[purse,displayedCurrencies,currencyDisplayNumberShort]);if(!purse)return null;return/*#__PURE__*/_jsxs(Column,{alignItems:\"end\",className:\"nitro-purse-container animate__animated animate__backInDown\",gap:1,style:{marginTop:\"10px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.imgur.com/yPUsiUF.gif\",style:{objectFit:\"contain\",height:\"45px\"},className:\"text-center\"}),/*#__PURE__*/_jsx(\"div\",{className:\"currency-container\",children:/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-dark\",children:purse.credits}),/*#__PURE__*/_jsx(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"https://lavvos.eu/swfs/images/wallet/-1.png\"})})]})}),getCurrencyElements(0,2),/*#__PURE__*/_jsx(\"div\",{className:\"currency-container\",children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"https://lavvos.eu\",children:/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:\"left\",color:\"var(--test-galaxytext)\"},children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-dark\",children:\"Tienda\"})}),/*#__PURE__*/_jsx(\"span\",{style:{float:\"right\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"https://images.habbo.com/c_images/catalogue/icon_69.png\"})})]})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return CreateLinkEvent('help/show');},className:\"btn btn-sm currency-container-button\",style:{width:\"62px\",display:\"inline-block\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-help\",style:{marginTop:\"5px\"}})}),\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return CreateLinkEvent('user-settings/toggle');},className:\"btn btn-sm currency-container-button\",style:{width:\"62px\",display:\"inline-block\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-cog\",style:{marginTop:\"5px\",marginBottom:\"2px\"}})})]})]});};","map":null,"metadata":{},"sourceType":"module"}