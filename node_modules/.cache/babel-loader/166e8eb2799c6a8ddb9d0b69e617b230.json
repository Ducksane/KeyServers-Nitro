{"ast":null,"code":"import _objectSpread from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"badgeCode\",\"isGroup\",\"showInfo\",\"customTitle\",\"isGrayscale\",\"scale\",\"classNames\",\"style\",\"children\"];import{BadgeImageReadyEvent,NitroSprite,TextureUtils}from'@nitrots/nitro-renderer';import{useEffect,useMemo,useState}from'react';import{GetConfiguration,GetSessionDataManager,LocalizeBadgeDescription,LocalizeBadgeName,LocalizeText}from'../../api';import{Base}from'../Base';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LayoutBadgeImageView=function LayoutBadgeImageView(props){var _props$badgeCode=props.badgeCode,badgeCode=_props$badgeCode===void 0?null:_props$badgeCode,_props$isGroup=props.isGroup,isGroup=_props$isGroup===void 0?false:_props$isGroup,_props$showInfo=props.showInfo,showInfo=_props$showInfo===void 0?false:_props$showInfo,_props$customTitle=props.customTitle,customTitle=_props$customTitle===void 0?null:_props$customTitle,_props$isGrayscale=props.isGrayscale,isGrayscale=_props$isGrayscale===void 0?false:_props$isGrayscale,_props$scale=props.scale,scale=_props$scale===void 0?1:_props$scale,_props$classNames=props.classNames,classNames=_props$classNames===void 0?[]:_props$classNames,_props$style=props.style,style=_props$style===void 0?{}:_props$style,_props$children=props.children,children=_props$children===void 0?null:_props$children,rest=_objectWithoutProperties(props,_excluded);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),imageElement=_useState2[0],setImageElement=_useState2[1];var getClassNames=useMemo(function(){var newClassNames=['badge-image'];if(isGroup)newClassNames.push('group-badge');if(isGrayscale)newClassNames.push('grayscale');if(classNames.length)newClassNames.push.apply(newClassNames,_toConsumableArray(classNames));return newClassNames;},[classNames,isGroup,isGrayscale]);var getStyle=useMemo(function(){var newStyle={};if(imageElement){newStyle.backgroundImage=\"url('\".concat(isGroup||isGrayscale?imageElement.src:location.protocol+'//swfs.hgalaxy.net/c_images/album1584/'+badgeCode,\".gif')\");newStyle.width=imageElement.width;newStyle.height=imageElement.height;if(scale!==1){newStyle.transform=\"scale(\".concat(scale,\")\");if(!(scale%1))newStyle.imageRendering='pixelated';newStyle.width=imageElement.width*scale;newStyle.height=imageElement.height*scale;}}if(Object.keys(style).length)newStyle=_objectSpread(_objectSpread({},newStyle),style);return newStyle;},[imageElement,scale,style]);useEffect(function(){if(!badgeCode||!badgeCode.length)return;var didSetBadge=false;var onBadgeImageReadyEvent=function onBadgeImageReadyEvent(event){if(event.badgeId!==badgeCode)return;var element=TextureUtils.generateImage(new NitroSprite(event.image));element.onload=function(){return setImageElement(element);};didSetBadge=true;GetSessionDataManager().events.removeEventListener(BadgeImageReadyEvent.IMAGE_READY,onBadgeImageReadyEvent);};GetSessionDataManager().events.addEventListener(BadgeImageReadyEvent.IMAGE_READY,onBadgeImageReadyEvent);var texture=isGroup?GetSessionDataManager().getGroupBadgeImage(badgeCode):GetSessionDataManager().getBadgeImage(badgeCode);if(texture&&!didSetBadge){var element=TextureUtils.generateImage(new NitroSprite(texture));element.onload=function(){return setImageElement(element);};}return function(){return GetSessionDataManager().events.removeEventListener(BadgeImageReadyEvent.IMAGE_READY,onBadgeImageReadyEvent);};},[badgeCode,isGroup]);return/*#__PURE__*/_jsxs(Base,_objectSpread(_objectSpread({classNames:getClassNames,style:getStyle},rest),{},{children:[showInfo&&GetConfiguration('badge.descriptions.enabled',true)&&/*#__PURE__*/_jsxs(Base,{className:\"badge-information text-black py-1 px-2 small\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold mb-1\",children:isGroup?customTitle:LocalizeBadgeName(badgeCode)}),/*#__PURE__*/_jsx(\"div\",{children:isGroup?LocalizeText('group.badgepopup.body'):LocalizeBadgeDescription(badgeCode)})]}),children]}));};","map":null,"metadata":{},"sourceType":"module"}