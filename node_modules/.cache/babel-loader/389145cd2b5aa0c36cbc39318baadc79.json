{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{ColorData}from'../data/ColorData';import{LayerData}from'../data/LayerData';import{SizeData}from'../data/SizeData';export var FurnitureVisualizationData=/*#__PURE__*/function(){function FurnitureVisualizationData(){_classCallCheck(this,FurnitureVisualizationData);this._type=void 0;this._sizes=void 0;this._sizeDatas=void 0;this._lastSize=void 0;this._lastSizeScale=void 0;this._lastSizeData=void 0;this._lastSizeDataScale=void 0;this._type='';this._sizes=[];this._sizeDatas=new Map();this._lastSize=-1;this._lastSizeScale=-1;this._lastSizeData=null;this._lastSizeDataScale=-1;}_createClass(FurnitureVisualizationData,[{key:\"initialize\",value:function initialize(asset){this.reset();if(!asset)return false;this._type=asset.name;if(!this.defineVisualizations(asset.visualizations)){this.reset();return false;}return true;}},{key:\"dispose\",value:function dispose(){if(this._sizeDatas&&this._sizeDatas.size){var _iterator=_createForOfIteratorHelper(this._sizeDatas.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var size=_step.value;size&&size.dispose();}}catch(err){_iterator.e(err);}finally{_iterator.f();}this._sizeDatas=null;}this._lastSizeData=null;this._sizes=null;}},{key:\"reset\",value:function reset(){this._type='';if(this._sizeDatas&&this._sizeDatas.size){var _iterator2=_createForOfIteratorHelper(this._sizeDatas.values()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var size=_step2.value;size&&size.dispose();}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}this._sizeDatas.clear();this._sizes=[];this._lastSizeData=null;this._lastSizeDataScale=-1;}},{key:\"createSizeData\",value:function createSizeData(scale,layerCount,angle){return new SizeData(layerCount,angle);}},{key:\"defineVisualizations\",value:function defineVisualizations(visualizations){if(!visualizations)return false;for(var visualizationId in visualizations){var visualization=visualizations[visualizationId];var layerCount=visualization.layerCount;var angle=visualization.angle;var size=visualization.size;if(size<1)size=1;if(this._sizeDatas.get(size))return false;var sizeData=this.createSizeData(size,layerCount,angle);if(!sizeData)return false;for(var key in visualization){//@ts-ignore\nvar data=visualization[key];if(!this.processVisualElement(sizeData,key,data)){sizeData.dispose();return false;}}this._sizeDatas.set(size,sizeData);this._sizes.push(size);}this._sizes.sort();return true;}},{key:\"processVisualElement\",value:function processVisualElement(sizeData,key,data){if(!sizeData||!key||!data)return false;switch(key){case'layers':if(!sizeData.processLayers(data))return false;break;case'directions':if(!sizeData.processDirections(data))return false;break;case'colors':if(!sizeData.processColors(data))return false;break;}return true;}},{key:\"getValidSize\",value:function getValidSize(scale){if(scale===this._lastSizeScale)return this._lastSize;var sizeIndex=this.getSizeIndex(scale);var newScale=-1;if(sizeIndex<this._sizes.length)newScale=this._sizes[sizeIndex];this._lastSizeScale=scale;this._lastSize=newScale;return newScale;}},{key:\"getSizeIndex\",value:function getSizeIndex(size){if(size<=0)return 0;var index=0;var iterator=1;while(iterator<this._sizes.length){if(this._sizes[iterator]>size){if(this._sizes[iterator]/size<size/this._sizes[iterator-1])index=iterator;break;}index=iterator;iterator++;}return index;}},{key:\"getSizeData\",value:function getSizeData(size){if(size===this._lastSizeDataScale)return this._lastSizeData;var sizeIndex=this.getSizeIndex(size);if(sizeIndex<this._sizes.length)this._lastSizeData=this._sizeDatas.get(this._sizes[sizeIndex]);else this._lastSizeData=null;this._lastSizeDataScale=size;return this._lastSizeData;}},{key:\"getLayerCount\",value:function getLayerCount(scale){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_COUNT;return size.layerCount;}},{key:\"getValidDirection\",value:function getValidDirection(scale,direction){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_DIRECTION;return size.getValidDirection(direction);}},{key:\"getLayerTag\",value:function getLayerTag(scale,direction,layerId){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_TAG;return size.getLayerTag(direction,layerId);}},{key:\"getLayerInk\",value:function getLayerInk(scale,direction,layerId){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_INK;return size.getLayerInk(direction,layerId);}},{key:\"getLayerAlpha\",value:function getLayerAlpha(scale,direction,layerId){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_ALPHA;return size.getLayerAlpha(direction,layerId);}},{key:\"getLayerColor\",value:function getLayerColor(scale,layerId,colorId){var size=this.getSizeData(scale);if(!size)return ColorData.DEFAULT_COLOR;return size.getLayerColor(layerId,colorId);}},{key:\"getLayerIgnoreMouse\",value:function getLayerIgnoreMouse(scale,direction,layerId){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_IGNORE_MOUSE;return size.getLayerIgnoreMouse(direction,layerId);}},{key:\"getLayerXOffset\",value:function getLayerXOffset(scale,direction,layerId){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_XOFFSET;return size.getLayerXOffset(direction,layerId);}},{key:\"getLayerYOffset\",value:function getLayerYOffset(scale,direction,layerId){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_YOFFSET;return size.getLayerYOffset(direction,layerId);}},{key:\"getLayerZOffset\",value:function getLayerZOffset(scale,direction,layerId){var size=this.getSizeData(scale);if(!size)return LayerData.DEFAULT_ZOFFSET;return size.getLayerZOffset(direction,layerId);}},{key:\"type\",get:function get(){return this._type;}}]);return FurnitureVisualizationData;}();FurnitureVisualizationData.LAYER_LETTERS=['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];","map":null,"metadata":{},"sourceType":"module"}