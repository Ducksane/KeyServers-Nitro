{"ast":null,"code":"import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useMemo,useState}from'react';import{AutoSizer,List}from'react-virtualized';import{RoomWidgetRoomObjectMessage}from'../../../../api';import{LocalizeText}from'../../../../api/utils';import{Column,Flex,NitroCardContentView,NitroCardHeaderView,NitroCardView,Text}from'../../../../common';import{useRoomContext}from'../../RoomContext';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ChooserWidgetView=function ChooserWidgetView(props){var _props$title=props.title,title=_props$title===void 0?null:_props$title,_props$items=props.items,items=_props$items===void 0?null:_props$items,_props$displayItemId=props.displayItemId,displayItemId=_props$displayItemId===void 0?false:_props$displayItemId,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedItem=_useState2[0],setSelectedItem=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useRoomContext=useRoomContext(),_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var filteredItems=useMemo(function(){if(!items)return[];if(!searchValue||!searchValue.length)return items;var value=searchValue.toLocaleLowerCase();return items.filter(function(item){return item.name.toLocaleLowerCase().includes(value);});},[items,searchValue]);var onItemClick=useCallback(function(item){setSelectedItem(item);widgetHandler.processWidgetMessage(new RoomWidgetRoomObjectMessage(RoomWidgetRoomObjectMessage.SELECT_OBJECT,item.id,item.category));},[widgetHandler,setSelectedItem]);var rowRenderer=function rowRenderer(props){var item=filteredItems[props.index];return/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",position:\"absolute\",className:'rounded px-1'+(selectedItem===item?' bg-muted':''),pointer:true,style:props.style,onClick:function onClick(event){return onItemClick(item);},children:/*#__PURE__*/_jsxs(Text,{truncate:true,children:[item.name,\" \",displayItemId&&' - '+item.id]})},props.key);};return/*#__PURE__*/_jsxs(NitroCardView,{className:\"nitro-chooser-widget\",theme:\"primary-slim\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:title,onCloseClick:onCloseClick}),/*#__PURE__*/_jsxs(NitroCardContentView,{overflow:\"hidden\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",placeholder:LocalizeText('generic.search'),value:searchValue,onChange:function onChange(event){return setSearchValue(event.target.value);}}),/*#__PURE__*/_jsx(Column,{fullHeight:true,overflow:\"auto\",children:/*#__PURE__*/_jsx(AutoSizer,{defaultWidth:0,defaultHeight:0,children:function children(_ref){var width=_ref.width,height=_ref.height;return/*#__PURE__*/_jsx(List,{width:width,height:height,rowCount:filteredItems.length,rowHeight:20,rowRenderer:rowRenderer});}})})]})]});};","map":null,"metadata":{},"sourceType":"module"}