{"ast":null,"code":"import _classCallCheck from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _get from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{RoomObjectVariable}from'../../RoomObjectVariable';import{ObjectDataBase}from'../ObjectDataBase';import{ObjectDataKey}from'../ObjectDataKey';import{HighScoreData}from'./HighScoreData';export var HighScoreDataType=/*#__PURE__*/function(_ObjectDataBase){_inherits(HighScoreDataType,_ObjectDataBase);var _super=_createSuper(HighScoreDataType);function HighScoreDataType(){var _this;_classCallCheck(this,HighScoreDataType);_this=_super.call(this);_this._state=void 0;_this._scoreType=void 0;_this._clearType=void 0;_this._entries=void 0;_this._state='';_this._scoreType=-1;_this._clearType=-1;_this._entries=[];return _this;}_createClass(HighScoreDataType,[{key:\"parseWrapper\",value:function parseWrapper(wrapper){if(!wrapper)return;this._state=wrapper.readString();this._scoreType=wrapper.readInt();this._clearType=wrapper.readInt();var totalScores=wrapper.readInt();while(totalScores>0){var data=new HighScoreData();data.score=wrapper.readInt();var totalUsers=wrapper.readInt();while(totalUsers>0){data.addUsername(wrapper.readString());totalUsers--;}this._entries.push(data);totalScores--;}_get(_getPrototypeOf(HighScoreDataType.prototype),\"parseWrapper\",this).call(this,wrapper);}},{key:\"initializeFromRoomObjectModel\",value:function initializeFromRoomObjectModel(model){this._scoreType=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE);this._clearType=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE);this._entries=[];var totalEntries=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT);var i=0;while(i<totalEntries){var data=new HighScoreData();data.score=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+i);data.users=model.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+i);this._entries.push(data);i++;}_get(_getPrototypeOf(HighScoreDataType.prototype),\"initializeFromRoomObjectModel\",this).call(this,model);}},{key:\"writeRoomObjectModel\",value:function writeRoomObjectModel(model){_get(_getPrototypeOf(HighScoreDataType.prototype),\"writeRoomObjectModel\",this).call(this,model);model.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,HighScoreDataType.FORMAT_KEY);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE,this._scoreType);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE,this._clearType);if(this._entries){model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT,this._entries.length);var i=0;while(i<this._entries.length){var entry=this._entries[i];model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+i,entry.score);model.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+i,entry.users);i++;}}}},{key:\"getLegacyString\",value:function getLegacyString(){return this._state;}},{key:\"entries\",get:function get(){return this._entries;}},{key:\"clearType\",get:function get(){return this._clearType;}},{key:\"scoreType\",get:function get(){return this._scoreType;}}]);return HighScoreDataType;}(ObjectDataBase);HighScoreDataType.FORMAT_KEY=ObjectDataKey.HIGHSCORE_KEY;","map":null,"metadata":{},"sourceType":"module"}