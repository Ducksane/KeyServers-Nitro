{"ast":null,"code":"import{NitroRectangle}from'@nitrots/nitro-renderer';import{useCallback,useRef}from'react';import{GetRoomEngine,LocalizeText,SoundNames}from'../../api';import{PlaySound}from'../../api/utils/PlaySound';import{DraggableWindow}from'../draggable-window';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LayoutMiniCameraView=function LayoutMiniCameraView(props){var _props$roomId=props.roomId,roomId=_props$roomId===void 0?-1:_props$roomId,_props$textureReceive=props.textureReceiver,textureReceiver=_props$textureReceive===void 0?null:_props$textureReceive,_props$onClose=props.onClose,onClose=_props$onClose===void 0?null:_props$onClose;var elementRef=useRef();var getCameraBounds=useCallback(function(){if(!elementRef||!elementRef.current)return null;var frameBounds=elementRef.current.getBoundingClientRect();return new NitroRectangle(Math.floor(frameBounds.x),Math.floor(frameBounds.y),Math.floor(frameBounds.width),Math.floor(frameBounds.height));},[]);var takePicture=useCallback(function(){PlaySound(SoundNames.CAMERA_SHUTTER);textureReceiver(GetRoomEngine().createTextureFromRoom(roomId,1,getCameraBounds()));},[roomId,getCameraBounds,textureReceiver]);return/*#__PURE__*/_jsx(DraggableWindow,{handleSelector:\".nitro-room-thumbnail-camera\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nitro-room-thumbnail-camera px-2\",children:[/*#__PURE__*/_jsx(\"div\",{ref:elementRef,className:'camera-frame'}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-end h-100 pb-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger w-100 mb-1 me-2\",onClick:onClose,children:LocalizeText('cancel')}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-success w-100 mb-1\",onClick:takePicture,children:LocalizeText('navigator.thumbeditor.save')})]})]})});};","map":null,"metadata":{},"sourceType":"module"}