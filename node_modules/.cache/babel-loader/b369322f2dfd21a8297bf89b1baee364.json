{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect,useState}from'react';import{Column}from'../../../../common/Column';import{Flex}from'../../../../common/Flex';import{Grid}from'../../../../common/Grid';import{FigureData}from'../../common/FigureData';import{AvatarEditorIcon}from'../AvatarEditorIcon';import{AvatarEditorFigureSetView}from'../figure-set/AvatarEditorFigureSetView';import{AvatarEditorPaletteSetView}from'../palette-set/AvatarEditorPaletteSetView';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AvatarEditorModelView=function AvatarEditorModelView(props){var _props$model=props.model,model=_props$model===void 0?null:_props$model,_props$gender=props.gender,gender=_props$gender===void 0?null:_props$gender,_props$setGender=props.setGender,setGender=_props$setGender===void 0?null:_props$setGender;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),activeCategory=_useState2[0],setActiveCategory=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),maxPaletteCount=_useState4[0],setMaxPaletteCount=_useState4[1];var selectCategory=useCallback(function(name){var category=model.categories.get(name);if(!category)return;category.init();setActiveCategory(category);var _iterator=_createForOfIteratorHelper(category.parts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;if(!part||!part.isSelected)continue;setMaxPaletteCount(part.maxColorIndex||1);break;}}catch(err){_iterator.e(err);}finally{_iterator.f();}},[model]);useEffect(function(){model.init();var _iterator2=_createForOfIteratorHelper(model.categories.keys()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var name=_step2.value;selectCategory(name);break;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}},[model,selectCategory]);if(!model||!activeCategory)return null;return/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsxs(Column,{size:2,children:[model.canSetGender&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Flex,{center:true,pointer:true,className:\"category-item\",onClick:function onClick(event){return setGender(FigureData.MALE);},children:/*#__PURE__*/_jsx(AvatarEditorIcon,{icon:\"male\",selected:gender===FigureData.MALE})}),/*#__PURE__*/_jsx(Flex,{center:true,pointer:true,className:\"category-item\",onClick:function onClick(event){return setGender(FigureData.FEMALE);},children:/*#__PURE__*/_jsx(AvatarEditorIcon,{icon:\"female\",selected:gender===FigureData.FEMALE})})]}),!model.canSetGender&&model.categories&&model.categories.size>0&&Array.from(model.categories.keys()).map(function(name){var category=model.categories.get(name);return/*#__PURE__*/_jsx(Flex,{center:true,pointer:true,className:\"category-item\",onClick:function onClick(event){return selectCategory(name);},children:/*#__PURE__*/_jsx(AvatarEditorIcon,{icon:category.name,selected:activeCategory===category})},name);})]}),/*#__PURE__*/_jsx(Column,{size:5,overflow:\"hidden\",children:/*#__PURE__*/_jsx(AvatarEditorFigureSetView,{model:model,category:activeCategory,setMaxPaletteCount:setMaxPaletteCount})}),/*#__PURE__*/_jsxs(Column,{size:5,overflow:\"hidden\",children:[maxPaletteCount>=1&&/*#__PURE__*/_jsx(AvatarEditorPaletteSetView,{model:model,category:activeCategory,paletteSet:activeCategory.getPalette(0),paletteIndex:0}),maxPaletteCount===2&&/*#__PURE__*/_jsx(AvatarEditorPaletteSetView,{model:model,category:activeCategory,paletteSet:activeCategory.getPalette(1),paletteIndex:1})]})]});};","map":null,"metadata":{},"sourceType":"module"}