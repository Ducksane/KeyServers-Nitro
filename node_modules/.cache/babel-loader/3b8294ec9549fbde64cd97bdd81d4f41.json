{"ast":null,"code":"import _objectSpread from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{SelectClubGiftComposer}from'@nitrots/nitro-renderer';import{useCallback}from'react';import{LocalizeText,NotificationUtilities,SendMessageComposer}from'../../../../../../api';import{AutoGrid,Text}from'../../../../../../common';import{useCatalog,usePurse}from'../../../../../../hooks';import{VipGiftItem}from'./VipGiftItemView';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CatalogLayoutVipGiftsView=function CatalogLayoutVipGiftsView(props){var _usePurse=usePurse(),_usePurse$purse=_usePurse.purse,purse=_usePurse$purse===void 0?null:_usePurse$purse;var _useCatalog=useCatalog(),_useCatalog$catalogOp=_useCatalog.catalogOptions,catalogOptions=_useCatalog$catalogOp===void 0?null:_useCatalog$catalogOp,_useCatalog$setCatalo=_useCatalog.setCatalogOptions,setCatalogOptions=_useCatalog$setCatalo===void 0?null:_useCatalog$setCatalo;var _catalogOptions$clubG=catalogOptions.clubGifts,clubGifts=_catalogOptions$clubG===void 0?null:_catalogOptions$clubG;var giftsAvailable=useCallback(function(){if(!clubGifts)return'';if(clubGifts.giftsAvailable>0)return LocalizeText('catalog.club_gift.available',['amount'],[clubGifts.giftsAvailable.toString()]);if(clubGifts.daysUntilNextGift>0)return LocalizeText('catalog.club_gift.days_until_next',['days'],[clubGifts.daysUntilNextGift.toString()]);if(purse.isVip)return LocalizeText('catalog.club_gift.not_available');return LocalizeText('catalog.club_gift.no_club');},[clubGifts,purse]);var selectGift=useCallback(function(localizationId){NotificationUtilities.confirm(LocalizeText('catalog.club_gift.confirm'),function(){SendMessageComposer(new SelectClubGiftComposer(localizationId));setCatalogOptions(function(prevValue){prevValue.clubGifts.giftsAvailable--;return _objectSpread({},prevValue);});},null);},[setCatalogOptions]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{truncate:true,shrink:true,fontWeight:\"bold\",children:giftsAvailable()}),/*#__PURE__*/_jsx(AutoGrid,{columnCount:1,className:\"nitro-catalog-layout-vip-gifts-grid\",children:clubGifts.offers.length>0&&clubGifts.offers.map(function(offer){return/*#__PURE__*/_jsx(VipGiftItem,{offer:offer,isAvailable:clubGifts.getOfferExtraData(offer.offerId).isSelectable&&clubGifts.giftsAvailable>0,onSelect:selectGift},offer.offerId);})})]});};","map":null,"metadata":{},"sourceType":"module"}