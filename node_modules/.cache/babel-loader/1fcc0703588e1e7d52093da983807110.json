{"ast":null,"code":"import e from\"../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js\";import t from\"react\";function s(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1;}function n(e){return null==e?[]:Array.isArray(e)?e.slice():[e];}function i(e){return null!==e&&1===e.length?e[0]:e.slice();}function o(e){Object.keys(e).forEach(function(t){\"undefined\"!=typeof document&&document.addEventListener(t,e[t],!1);});}function r(e,t){return a(function(e,t){var s=e;s<=t.min&&(s=t.min);s>=t.max&&(s=t.max);return s;}(e,t),t);}function a(e,t){var s=(e-t.min)%t.step;var n=e-s;return 2*Math.abs(s)>=t.step&&(n+=s>0?t.step:-t.step),parseFloat(n.toFixed(5));}var p=function(p){function u(e){var a;(a=p.call(this,e)||this).onKeyUp=function(){a.onEnd();},a.onMouseUp=function(){a.onEnd(a.getMouseEventMap());},a.onTouchEnd=function(){a.onEnd(a.getTouchEventMap());},a.onBlur=function(){a.setState({index:-1},a.onEnd(a.getKeyDownEventMap()));},a.onMouseMove=function(e){a.setState({pending:!0});var t=a.getMousePosition(e),s=a.getDiffPosition(t[0]),n=a.getValueFromPosition(s);a.move(n);},a.onTouchMove=function(e){if(e.touches.length>1)return;a.setState({pending:!0});var t=a.getTouchPosition(e);if(void 0===a.isScrolling){var _e=t[0]-a.startPosition[0],_s=t[1]-a.startPosition[1];a.isScrolling=Math.abs(_s)>Math.abs(_e);}if(a.isScrolling)return void a.setState({index:-1});var s=a.getDiffPosition(t[0]),n=a.getValueFromPosition(s);a.move(n);},a.onKeyDown=function(e){if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(a.setState({pending:!0}),e.key){case\"ArrowLeft\":case\"ArrowDown\":case\"Left\":case\"Down\":e.preventDefault(),a.moveDownByStep();break;case\"ArrowRight\":case\"ArrowUp\":case\"Right\":case\"Up\":e.preventDefault(),a.moveUpByStep();break;case\"Home\":e.preventDefault(),a.move(a.props.min);break;case\"End\":e.preventDefault(),a.move(a.props.max);break;case\"PageDown\":e.preventDefault(),a.moveDownByStep(a.props.pageFn(a.props.step));break;case\"PageUp\":e.preventDefault(),a.moveUpByStep(a.props.pageFn(a.props.step));}},a.onSliderMouseDown=function(e){if(!a.props.disabled&&2!==e.button){if(a.setState({pending:!0}),!a.props.snapDragDisabled){var _t=a.getMousePosition(e);a.forceValueFromPosition(_t[0],function(e){a.start(e,_t[0]),o(a.getMouseEventMap());});}s(e);}},a.onSliderClick=function(e){if(!a.props.disabled&&a.props.onSliderClick&&!a.hasMoved){var _t2=a.getMousePosition(e),_s2=r(a.calcValue(a.calcOffsetFromPosition(_t2[0])),a.props);a.props.onSliderClick(_s2);}},a.createOnKeyDown=function(e){return function(t){a.props.disabled||(a.start(e),o(a.getKeyDownEventMap()),s(t));};},a.createOnMouseDown=function(e){return function(t){if(a.props.disabled||2===t.button)return;a.setState({pending:!0});var n=a.getMousePosition(t);a.start(e,n[0]),o(a.getMouseEventMap()),s(t);};},a.createOnTouchStart=function(e){return function(t){if(a.props.disabled||t.touches.length>1)return;a.setState({pending:!0});var s=a.getTouchPosition(t);a.startPosition=s,a.isScrolling=void 0,a.start(e,s[0]),o(a.getTouchEventMap()),function(e){e.stopPropagation&&e.stopPropagation();}(t);};},a.handleResize=function(){var e=window.setTimeout(function(){a.pendingResizeTimeouts.shift(),a.resize();},0);a.pendingResizeTimeouts.push(e);},a.renderThumb=function(e,t){var s=a.props.thumbClassName+\" \"+a.props.thumbClassName+\"-\"+t+\" \"+(a.state.index===t?a.props.thumbActiveClassName:\"\"),n={ref:function ref(e){a[\"thumb\"+t]=e;},key:a.props.thumbClassName+\"-\"+t,className:s,style:e,onMouseDown:a.createOnMouseDown(t),onTouchStart:a.createOnTouchStart(t),onFocus:a.createOnKeyDown(t),tabIndex:0,role:\"slider\",\"aria-orientation\":a.props.orientation,\"aria-valuenow\":a.state.value[t],\"aria-valuemin\":a.props.min,\"aria-valuemax\":a.props.max,\"aria-label\":Array.isArray(a.props.ariaLabel)?a.props.ariaLabel[t]:a.props.ariaLabel,\"aria-labelledby\":Array.isArray(a.props.ariaLabelledby)?a.props.ariaLabelledby[t]:a.props.ariaLabelledby},o={index:t,value:i(a.state.value),valueNow:a.state.value[t]};return a.props.ariaValuetext&&(n[\"aria-valuetext\"]=\"string\"==typeof a.props.ariaValuetext?a.props.ariaValuetext:a.props.ariaValuetext(o)),a.props.renderThumb(n,o);},a.renderTrack=function(e,t,s){var n={key:a.props.trackClassName+\"-\"+e,className:a.props.trackClassName+\" \"+a.props.trackClassName+\"-\"+e,style:a.buildTrackStyle(t,a.state.upperBound-s)},o={index:e,value:i(a.state.value)};return a.props.renderTrack(n,o);};var u=n(e.value);u.length||(u=n(e.defaultValue)),a.pendingResizeTimeouts=[];var h=[];for(var _t3=0;_t3<u.length;_t3+=1){u[_t3]=r(u[_t3],e),h.push(_t3);}return a.resizeObserver=null,a.resizeElementRef=/*#__PURE__*/t.createRef(),a.state={index:-1,upperBound:0,sliderLength:0,value:u,zIndices:h},a;}e(u,p);var h=u.prototype;return h.componentDidMount=function(){\"undefined\"!=typeof window&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize());},u.getDerivedStateFromProps=function(e,t){var s=n(e.value);return s.length?t.pending?null:{value:s.map(function(t){return r(t,e);})}:null;},h.componentDidUpdate=function(){0===this.state.upperBound&&this.resize();},h.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect();},h.onEnd=function(e){e&&function(e){Object.keys(e).forEach(function(t){\"undefined\"!=typeof document&&document.removeEventListener(t,e[t],!1);});}(e),this.hasMoved&&this.fireChangeEvent(\"onAfterChange\"),this.setState({pending:!1}),this.hasMoved=!1;},h.getValue=function(){return i(this.state.value);},h.getClosestIndex=function(e){var t=Number.MAX_VALUE,s=-1;var n=this.state.value,i=n.length;for(var _o=0;_o<i;_o+=1){var _i=this.calcOffset(n[_o]),_r=Math.abs(e-_i);_r<t&&(t=_r,s=_o);}return s;},h.getMousePosition=function(e){return[e[\"page\"+this.axisKey()],e[\"page\"+this.orthogonalAxisKey()]];},h.getTouchPosition=function(e){var t=e.touches[0];return[t[\"page\"+this.axisKey()],t[\"page\"+this.orthogonalAxisKey()]];},h.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur};},h.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp};},h.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd};},h.getValueFromPosition=function(e){var t=e/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return r(this.state.startValue+t,this.props);},h.getDiffPosition=function(e){var t=e-this.state.startPosition;return this.props.invert&&(t*=-1),t;},h.resize=function(){var e=this.slider,t=this.thumb0;if(!e||!t)return;var s=this.sizeKey(),n=e.getBoundingClientRect(),i=e[s],o=n[this.posMaxKey()],r=n[this.posMinKey()],a=t.getBoundingClientRect()[s.replace(\"client\",\"\").toLowerCase()],p=i-a,u=Math.abs(o-r);this.state.upperBound===p&&this.state.sliderLength===u&&this.state.thumbSize===a||this.setState({upperBound:p,sliderLength:u,thumbSize:a});},h.calcOffset=function(e){var t=this.props.max-this.props.min;if(0===t)return 0;return(e-this.props.min)/t*this.state.upperBound;},h.calcValue=function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min;},h.calcOffsetFromPosition=function(e){var t=this.slider,s=t.getBoundingClientRect(),n=s[this.posMaxKey()],i=s[this.posMinKey()];var o=e-(window[\"page\"+this.axisKey()+\"Offset\"]+(this.props.invert?n:i));return this.props.invert&&(o=this.state.sliderLength-o),o-=this.state.thumbSize/2,o;},h.forceValueFromPosition=function(e,t){var _this=this;var s=this.calcOffsetFromPosition(e),n=this.getClosestIndex(s),i=r(this.calcValue(s),this.props),o=this.state.value.slice();o[n]=i;for(var _e2=0;_e2<o.length-1;_e2+=1){if(o[_e2+1]-o[_e2]<this.props.minDistance)return;}this.fireChangeEvent(\"onBeforeChange\"),this.hasMoved=!0,this.setState({value:o},function(){t(n),_this.fireChangeEvent(\"onChange\");});},h.clearPendingResizeTimeouts=function(){do{var _e3=this.pendingResizeTimeouts.shift();clearTimeout(_e3);}while(this.pendingResizeTimeouts.length);},h.start=function(e,t){var s=this[\"thumb\"+e];s&&s.focus();var n=this.state.zIndices;n.splice(n.indexOf(e),1),n.push(e),this.setState(function(s){return{startValue:s.value[e],startPosition:void 0!==t?t:s.startPosition,index:e,zIndices:n};});},h.moveUpByStep=function(e){void 0===e&&(e=this.props.step);var t=r(this.state.value[this.state.index]+e,this.props);this.move(Math.min(t,this.props.max));},h.moveDownByStep=function(e){void 0===e&&(e=this.props.step);var t=r(this.state.value[this.state.index]-e,this.props);this.move(Math.max(t,this.props.min));},h.move=function(e){var _this$state=this.state,t=_this$state.index,s=_this$state.value,n=s.length,i=s[t];if(e===i)return;this.hasMoved||this.fireChangeEvent(\"onBeforeChange\"),this.hasMoved=!0;var _this$props=this.props,o=_this$props.pearling,r=_this$props.max,a=_this$props.min,p=_this$props.minDistance;if(!o){if(t>0){var _n=s[t-1];e<_n+p&&(e=_n+p);}if(t<n-1){var _n2=s[t+1];e>_n2-p&&(e=_n2-p);}}s[t]=e,o&&n>1&&(e>i?(this.pushSucceeding(s,p,t),function(e,t,s,n){for(var _i2=0;_i2<e;_i2+=1){var _o2=n-_i2*s;t[e-1-_i2]>_o2&&(t[e-1-_i2]=_o2);}}(n,s,p,r)):e<i&&(this.pushPreceding(s,p,t),function(e,t,s,n){for(var _i3=0;_i3<e;_i3+=1){var _e4=n+_i3*s;t[_i3]<_e4&&(t[_i3]=_e4);}}(n,s,p,a))),this.setState({value:s},this.fireChangeEvent.bind(this,\"onChange\"));},h.pushSucceeding=function(e,t,s){var n,i;for(n=s,i=e[n]+t;null!==e[n+1]&&i>e[n+1];n+=1,i=e[n]+t){e[n+1]=a(i,this.props);}},h.pushPreceding=function(e,t,s){for(var _n3=s,_i4=e[_n3]-t;null!==e[_n3-1]&&_i4<e[_n3-1];_n3-=1,_i4=e[_n3]-t){e[_n3-1]=a(_i4,this.props);}},h.axisKey=function(){return\"vertical\"===this.props.orientation?\"Y\":\"X\";},h.orthogonalAxisKey=function(){return\"vertical\"===this.props.orientation?\"X\":\"Y\";},h.posMinKey=function(){return\"vertical\"===this.props.orientation?this.props.invert?\"bottom\":\"top\":this.props.invert?\"right\":\"left\";},h.posMaxKey=function(){return\"vertical\"===this.props.orientation?this.props.invert?\"top\":\"bottom\":this.props.invert?\"left\":\"right\";},h.sizeKey=function(){return\"vertical\"===this.props.orientation?\"clientHeight\":\"clientWidth\";},h.fireChangeEvent=function(e){this.props[e]&&this.props[e](i(this.state.value),this.state.index);},h.buildThumbStyle=function(e,t){var s={position:\"absolute\",touchAction:\"none\",willChange:this.state.index>=0?this.posMinKey():\"\",zIndex:this.state.zIndices.indexOf(t)+1};return s[this.posMinKey()]=e+\"px\",s;},h.buildTrackStyle=function(e,t){var s={position:\"absolute\",willChange:this.state.index>=0?this.posMinKey()+\",\"+this.posMaxKey():\"\"};return s[this.posMinKey()]=e,s[this.posMaxKey()]=t,s;},h.buildMarkStyle=function(e){var t;return(t={position:\"absolute\"})[this.posMinKey()]=e,t;},h.renderThumbs=function(e){var t=e.length,s=[];for(var _n4=0;_n4<t;_n4+=1){s[_n4]=this.buildThumbStyle(e[_n4],_n4);}var n=[];for(var _e5=0;_e5<t;_e5+=1){n[_e5]=this.renderThumb(s[_e5],_e5);}return n;},h.renderTracks=function(e){var t=[],s=e.length-1;t.push(this.renderTrack(0,0,e[0]));for(var _n5=0;_n5<s;_n5+=1){t.push(this.renderTrack(_n5+1,e[_n5],e[_n5+1]));}return t.push(this.renderTrack(s+1,e[s],this.state.upperBound)),t;},h.renderMarks=function(){var _this2=this;var e=this.props.marks;var t=this.props.max-this.props.min+1;return\"boolean\"==typeof e?e=Array.from({length:t}).map(function(e,t){return t;}):\"number\"==typeof e&&(e=Array.from({length:t}).map(function(e,t){return t;}).filter(function(t){return t%e==0;})),e.map(parseFloat).sort(function(e,t){return e-t;}).map(function(e){var t=_this2.calcOffset(e),s={key:e,className:_this2.props.markClassName,style:_this2.buildMarkStyle(t)};return _this2.props.renderMark(s);});},h.render=function(){var _this3=this;var e=[],s=this.state.value,n=s.length;for(var _t4=0;_t4<n;_t4+=1){e[_t4]=this.calcOffset(s[_t4],_t4);}var i=this.props.withTracks?this.renderTracks(e):null,o=this.renderThumbs(e),r=this.props.marks?this.renderMarks():null;return/*#__PURE__*/t.createElement(\"div\",{ref:function ref(e){_this3.slider=e,_this3.resizeElementRef.current=e;},style:{position:\"relative\"},className:this.props.className+(this.props.disabled?\" disabled\":\"\"),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},i,o,r);},u;}(t.Component);p.displayName=\"ReactSlider\",p.defaultProps={min:0,max:100,step:1,pageFn:function pageFn(e){return 10*e;},minDistance:0,defaultValue:0,orientation:\"horizontal\",className:\"slider\",thumbClassName:\"thumb\",thumbActiveClassName:\"active\",trackClassName:\"track\",markClassName:\"mark\",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:function renderThumb(e){return/*#__PURE__*/t.createElement(\"div\",e);},renderTrack:function renderTrack(e){return/*#__PURE__*/t.createElement(\"div\",e);},renderMark:function renderMark(e){return/*#__PURE__*/t.createElement(\"span\",e);}};var u=p;export{u as default};","map":null,"metadata":{},"sourceType":"module"}