{"ast":null,"code":"import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{RoomObjectVariable}from'@nitrots/nitro-renderer';import{useEffect,useState}from'react';import{attemptPetPlacement,GetRoomEngine,LocalizeText,UnseenItemCategory}from'../../../../api';import{AutoGrid,Button,Column,Grid,LayoutRoomPreviewerView,Text}from'../../../../common';import{useInventoryPets,useInventoryUnseenTracker}from'../../../../hooks';import{InventoryCategoryEmptyView}from'../InventoryCategoryEmptyView';import{InventoryPetItemView}from'./InventoryPetItemView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var InventoryPetView=function InventoryPetView(props){var _props$roomSession=props.roomSession,roomSession=_props$roomSession===void 0?null:_props$roomSession,_props$roomPreviewer=props.roomPreviewer,roomPreviewer=_props$roomPreviewer===void 0?null:_props$roomPreviewer;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useInventoryPets=useInventoryPets(),_useInventoryPets$pet=_useInventoryPets.petItems,petItems=_useInventoryPets$pet===void 0?null:_useInventoryPets$pet,_useInventoryPets$sel=_useInventoryPets.selectedPet,selectedPet=_useInventoryPets$sel===void 0?null:_useInventoryPets$sel,_useInventoryPets$act=_useInventoryPets.activate,activate=_useInventoryPets$act===void 0?null:_useInventoryPets$act,_useInventoryPets$dea=_useInventoryPets.deactivate,deactivate=_useInventoryPets$dea===void 0?null:_useInventoryPets$dea;var _useInventoryUnseenTr=useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.isUnseen,isUnseen=_useInventoryUnseenTr2===void 0?null:_useInventoryUnseenTr2,_useInventoryUnseenTr3=_useInventoryUnseenTr.removeUnseen,removeUnseen=_useInventoryUnseenTr3===void 0?null:_useInventoryUnseenTr3;useEffect(function(){if(!selectedPet||!roomPreviewer)return;var petData=selectedPet.petData;var roomEngine=GetRoomEngine();var wallType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,RoomObjectVariable.ROOM_WALL_TYPE);var floorType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,RoomObjectVariable.ROOM_FLOOR_TYPE);var landscapeType=roomEngine.getRoomInstanceVariable(roomEngine.activeRoomId,RoomObjectVariable.ROOM_LANDSCAPE_TYPE);wallType=wallType&&wallType.length?wallType:'101';floorType=floorType&&floorType.length?floorType:'101';landscapeType=landscapeType&&landscapeType.length?landscapeType:'1.1';roomPreviewer.reset(false);roomPreviewer.updateRoomWallsAndFloorVisibility(true,true);roomPreviewer.updateObjectRoom(floorType,wallType,landscapeType);roomPreviewer.addPetIntoRoom(petData.figureString);},[roomPreviewer,selectedPet]);useEffect(function(){if(!selectedPet||!isUnseen(UnseenItemCategory.PET,selectedPet.petData.id))return;removeUnseen(UnseenItemCategory.PET,selectedPet.petData.id);},[selectedPet,isUnseen,removeUnseen]);useEffect(function(){if(!isVisible)return;var id=activate();return function(){return deactivate(id);};},[isVisible,activate,deactivate]);useEffect(function(){setIsVisible(true);return function(){return setIsVisible(false);};},[]);if(!petItems||!petItems.length)return/*#__PURE__*/_jsx(InventoryCategoryEmptyView,{title:LocalizeText('inventory.empty.pets.title'),desc:LocalizeText('inventory.empty.pets.desc')});return/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(Column,{size:7,overflow:\"hidden\",children:/*#__PURE__*/_jsx(AutoGrid,{columnCount:5,children:petItems&&petItems.length>0&&petItems.map(function(item){return/*#__PURE__*/_jsx(InventoryPetItemView,{petItem:item},item.petData.id);})})}),/*#__PURE__*/_jsxs(Column,{size:5,overflow:\"auto\",children:[/*#__PURE__*/_jsx(Column,{overflow:\"hidden\",position:\"relative\",children:/*#__PURE__*/_jsx(LayoutRoomPreviewerView,{roomPreviewer:roomPreviewer,height:140})}),selectedPet&&selectedPet.petData&&/*#__PURE__*/_jsxs(Column,{grow:true,justifyContent:\"between\",gap:2,children:[/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",grow:true,truncate:true,children:selectedPet.petData.name}),!!roomSession&&/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:function onClick(event){return attemptPetPlacement(selectedPet);},children:LocalizeText('inventory.furni.placetoroom')})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}