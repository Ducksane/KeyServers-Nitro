{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _toConsumableArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useMemo,useState}from'react';import{NotificationAlertItem,NotificationBubbleItem,NotificationBubbleType,NotificationConfirmItem}from'../../api';import{Column}from'../../common';import{NotificationAlertEvent,NotificationBubbleEvent,NotificationConfirmEvent}from'../../events';import{UseUiEvent}from'../../hooks';import{NotificationCenterMessageHandler}from'./NotificationCenterMessageHandler';import{GetAlertLayout}from'./views/alert-layouts/GetAlertLayout';import{GetBubbleLayout}from'./views/bubble-layouts/GetBubbleLayout';import{GetConfirmLayout}from'./views/confirm-layouts/GetConfirmLayout';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var NotificationCenterView=function NotificationCenterView(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),alerts=_useState2[0],setAlerts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),bubbleAlerts=_useState4[0],setBubbleAlerts=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),confirms=_useState6[0],setConfirms=_useState6[1];var onNotificationAlertEvent=useCallback(function(event){var alertItem=new NotificationAlertItem(event.messages,event.alertType,event.clickUrl,event.clickUrlText,event.title,event.imageUrl);setAlerts(function(prevValue){return[alertItem].concat(_toConsumableArray(prevValue));});},[]);UseUiEvent(NotificationAlertEvent.ALERT,onNotificationAlertEvent);var onNotificationBubbleEvent=useCallback(function(event){var notificationItem=new NotificationBubbleItem(event.message,event.notificationType,event.imageUrl,event.linkUrl);setBubbleAlerts(function(prevValue){return[notificationItem].concat(_toConsumableArray(prevValue));});},[]);UseUiEvent(NotificationBubbleEvent.NEW_BUBBLE,onNotificationBubbleEvent);var onNotificationConfirmEvent=useCallback(function(event){var confirmItem=new NotificationConfirmItem(event.type,event.message,event.onConfirm,event.onCancel,event.confirmText,event.cancelText,event.title);setConfirms(function(prevValue){return[confirmItem].concat(_toConsumableArray(prevValue));});},[]);UseUiEvent(NotificationConfirmEvent.CONFIRM,onNotificationConfirmEvent);var closeAlert=useCallback(function(alert){setAlerts(function(prevValue){var newAlerts=_toConsumableArray(prevValue);var index=newAlerts.findIndex(function(value){return alert===value;});if(index>=0)newAlerts.splice(index,1);return newAlerts;});},[]);var closeBubbleAlert=useCallback(function(item){setBubbleAlerts(function(prevValue){var newAlerts=_toConsumableArray(prevValue);var index=newAlerts.findIndex(function(value){return item===value;});if(index>=0)newAlerts.splice(index,1);return newAlerts;});},[]);var closeConfirm=useCallback(function(item){setConfirms(function(prevValue){var newConfirms=_toConsumableArray(prevValue);var index=newConfirms.findIndex(function(value){return item===value;});if(index>=0)newConfirms.splice(index,1);return newConfirms;});},[]);var getAlerts=useMemo(function(){if(!alerts||!alerts.length)return null;var elements=[];var _iterator=_createForOfIteratorHelper(alerts),_step;try{var _loop=function _loop(){var alert=_step.value;var element=GetAlertLayout(alert,function(){return closeAlert(alert);});elements.push(element);};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}return elements;},[alerts,closeAlert]);var getBubbleAlerts=useMemo(function(){if(!bubbleAlerts||!bubbleAlerts.length)return null;var elements=[];var _iterator2=_createForOfIteratorHelper(bubbleAlerts),_step2;try{var _loop2=function _loop2(){var alert=_step2.value;var element=GetBubbleLayout(alert,function(){return closeBubbleAlert(alert);});if(alert.notificationType===NotificationBubbleType.CLUBGIFT){elements.unshift(element);return\"continue\";}elements.push(element);};for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ret=_loop2();if(_ret===\"continue\")continue;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return elements;},[bubbleAlerts,closeBubbleAlert]);var getConfirms=useMemo(function(){if(!confirms||!confirms.length)return null;var elements=[];var _iterator3=_createForOfIteratorHelper(confirms),_step3;try{var _loop3=function _loop3(){var confirm=_step3.value;var element=GetConfirmLayout(confirm,function(){return closeConfirm(confirm);});elements.push(element);};for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop3();}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return elements;},[confirms,closeConfirm]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NotificationCenterMessageHandler,{}),/*#__PURE__*/_jsx(Column,{gap:1,children:getBubbleAlerts}),getConfirms,getAlerts]});};","map":null,"metadata":{},"sourceType":"module"}