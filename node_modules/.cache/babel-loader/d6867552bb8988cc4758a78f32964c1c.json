{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{ActionType}from'./ActionType';export var ActionDefinition=/*#__PURE__*/function(){function ActionDefinition(data){_classCallCheck(this,ActionDefinition);this._id=void 0;this._state=void 0;this._precedence=void 0;this._activePartSet=void 0;this._assetPartDefinition=void 0;this._lay=void 0;this._geometryType=void 0;this._isMain=void 0;this._isDefault=void 0;this._isAnimation=void 0;this._startFromFrameZero=void 0;this._prevents=void 0;this._preventHeadTurn=void 0;this._types=void 0;this._params=void 0;this._defaultParameterValue=void 0;this._canvasOffsets=void 0;this._id=data.id;this._state=data.state;this._precedence=data.precedence;this._activePartSet=data.activePartSet;this._assetPartDefinition=data.assetPartDefinition;this._lay=data.lay;this._geometryType=data.geometryType;this._isMain=data.main||false;this._isDefault=data.isDefault||false;this._isAnimation=data.animation||false;this._startFromFrameZero=data.startFromFrameZero||false;this._prevents=data.prevents||[];this._preventHeadTurn=data.preventHeadTurn||false;this._types=new Map();this._params=new Map();this._defaultParameterValue='';this._canvasOffsets=null;if(data.params&&data.params.length>0){var _iterator=_createForOfIteratorHelper(data.params),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var param=_step.value;if(!param)continue;if(param.id==='default')this._defaultParameterValue=param.value;else this._params.set(param.id,param.value);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}if(data.types&&data.types.length>0){var _iterator2=_createForOfIteratorHelper(data.types),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var type=_step2.value;if(!type)continue;var action=new ActionType(type);this._types.set(action.id,action);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}_createClass(ActionDefinition,[{key:\"setOffsets\",value:function setOffsets(k,_arg_2,_arg_3){if(!this._canvasOffsets)this._canvasOffsets=new Map();var existing=this._canvasOffsets.get(k);if(!existing){existing=new Map();this._canvasOffsets.set(k,existing);}existing.set(_arg_2,_arg_3);}},{key:\"getOffsets\",value:function getOffsets(k,_arg_2){if(!this._canvasOffsets)return null;var existing=this._canvasOffsets.get(k);if(!existing)return null;return existing.get(_arg_2);}},{key:\"getType\",value:function getType(id){if(!id)return null;var existing=this._types.get(parseInt(id));if(!existing)return null;return existing;}},{key:\"getParameterValue\",value:function getParameterValue(id){if(!id)return'';var existing=this._params.get(id);if(!existing)return this._defaultParameterValue;return existing;}},{key:\"getPrevents\",value:function getPrevents(type){return this._prevents.concat(this.getTypePrevents(type));}},{key:\"getTypePrevents\",value:function getTypePrevents(type){if(!type)return[];var existing=this._types.get(parseInt(type));if(!existing)return[];return existing.prevents;}},{key:\"getPreventHeadTurn\",value:function getPreventHeadTurn(k){if(!k)return this._preventHeadTurn;var type=this.getType(k);if(!type)return this._preventHeadTurn;return type.preventHeadTurn;}},{key:\"isAnimated\",value:function isAnimated(k){if(!k)return true;var type=this.getType(k);if(!type)return true;return type.isAnimated;}},{key:\"id\",get:function get(){return this._id;}},{key:\"state\",get:function get(){return this._state;}},{key:\"precedence\",get:function get(){return this._precedence;}},{key:\"activePartSet\",get:function get(){return this._activePartSet;}},{key:\"assetPartDefinition\",get:function get(){return this._assetPartDefinition;}},{key:\"lay\",get:function get(){return this._lay;}},{key:\"geometryType\",get:function get(){return this._geometryType;}},{key:\"isMain\",get:function get(){return this._isMain;}},{key:\"isDefault\",get:function get(){return this._isDefault;}},{key:\"isAnimation\",get:function get(){return this._isAnimation;}},{key:\"startFromFrameZero\",get:function get(){return this._startFromFrameZero;}},{key:\"prevents\",get:function get(){return this._prevents;}},{key:\"preventHeadTurn\",get:function get(){return this._preventHeadTurn;}},{key:\"params\",get:function get(){return this._params;}}]);return ActionDefinition;}();","map":null,"metadata":{},"sourceType":"module"}