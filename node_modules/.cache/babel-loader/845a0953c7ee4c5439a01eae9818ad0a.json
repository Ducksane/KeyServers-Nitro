{"ast":null,"code":"import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{EventDispatcher}from'../../core/events/EventDispatcher';import{AvatarRenderLibraryEvent}from'./events/AvatarRenderLibraryEvent';export var AvatarAssetDownloadLibrary=/*#__PURE__*/function(_EventDispatcher){_inherits(AvatarAssetDownloadLibrary,_EventDispatcher);var _super=_createSuper(AvatarAssetDownloadLibrary);function AvatarAssetDownloadLibrary(id,revision,assets,assetUrl){var _this;_classCallCheck(this,AvatarAssetDownloadLibrary);_this=_super.call(this);_this._state=void 0;_this._libraryName=void 0;_this._revision=void 0;_this._downloadUrl=void 0;_this._assets=void 0;_this._state=AvatarAssetDownloadLibrary.NOT_LOADED;_this._libraryName=id;_this._revision=revision;_this._downloadUrl=assetUrl;_this._assets=assets;_this._downloadUrl=_this._downloadUrl.replace(/%libname%/gi,_this._libraryName);_this._downloadUrl=_this._downloadUrl.replace(/%revision%/gi,_this._revision);var asset=_this._assets.getCollection(_this._libraryName);if(asset)_this._state=AvatarAssetDownloadLibrary.LOADED;return _this;}_createClass(AvatarAssetDownloadLibrary,[{key:\"downloadAsset\",value:function downloadAsset(){var _this2=this;if(!this._assets||this._state===AvatarAssetDownloadLibrary.LOADING||this._state===AvatarAssetDownloadLibrary.LOADED)return;var asset=this._assets.getCollection(this._libraryName);if(asset){this._state=AvatarAssetDownloadLibrary.LOADED;this.dispatchEvent(new AvatarRenderLibraryEvent(AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE,this));return;}this._state=AvatarAssetDownloadLibrary.LOADING;this._assets.downloadAsset(this._downloadUrl,function(flag){if(flag){_this2._state=AvatarAssetDownloadLibrary.LOADED;_this2.dispatchEvent(new AvatarRenderLibraryEvent(AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE,_this2));}});}},{key:\"libraryName\",get:function get(){return this._libraryName;}},{key:\"isLoaded\",get:function get(){return this._state===AvatarAssetDownloadLibrary.LOADED;}}]);return AvatarAssetDownloadLibrary;}(EventDispatcher);AvatarAssetDownloadLibrary.DOWNLOAD_COMPLETE='AADL_DOWNLOAD_COMPLETE';AvatarAssetDownloadLibrary.NOT_LOADED=0;AvatarAssetDownloadLibrary.LOADING=1;AvatarAssetDownloadLibrary.LOADED=2;","map":null,"metadata":{},"sourceType":"module"}