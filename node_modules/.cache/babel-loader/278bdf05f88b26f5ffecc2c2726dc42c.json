{"ast":null,"code":"import _classCallCheck from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{Vector3d}from'../../utils/Vector3d';export var RoomObjectLocationCacheItem=/*#__PURE__*/function(){function RoomObjectLocationCacheItem(accurateZ){_classCallCheck(this,RoomObjectLocationCacheItem);this._roomObjectVariableAccurateZ=void 0;this._location=void 0;this._screenLocation=void 0;this._locationChanged=void 0;this._geometryUpdateId=void 0;this._objectUpdateId=void 0;this._roomObjectVariableAccurateZ=accurateZ||'';this._location=new Vector3d();this._screenLocation=new Vector3d();this._locationChanged=false;this._geometryUpdateId=-1;this._objectUpdateId=-1;}_createClass(RoomObjectLocationCacheItem,[{key:\"dispose\",value:function dispose(){this._screenLocation=null;}},{key:\"updateLocation\",value:function updateLocation(object,geometry){if(!object||!geometry)return null;var locationChanged=false;var location=object.getLocation();if(geometry.updateId!==this._geometryUpdateId||object.updateCounter!==this._objectUpdateId){this._objectUpdateId=object.updateCounter;if(geometry.updateId!==this._geometryUpdateId||location.x!==this._location.x||location.y!==this._location.y||location.z!==this._location.z){this._geometryUpdateId=geometry.updateId;this._location.assign(location);locationChanged=true;}}this._locationChanged=locationChanged;if(this._locationChanged){var screenLocation=geometry.getScreenPosition(location);if(!screenLocation)return null;var accurateZ=object.model.getValue(this._roomObjectVariableAccurateZ);if(isNaN(accurateZ)||accurateZ===0){var rounded=new Vector3d(Math.round(location.x),Math.round(location.y),location.z);if(rounded.x!==location.x||rounded.y!==location.y){var roundedScreen=geometry.getScreenPosition(rounded);this._screenLocation.assign(screenLocation);if(roundedScreen)this._screenLocation.z=roundedScreen.z;}else{this._screenLocation.assign(screenLocation);}}else{this._screenLocation.assign(screenLocation);}this._screenLocation.x=Math.round(this._screenLocation.x);this._screenLocation.y=Math.round(this._screenLocation.y);}return this._screenLocation;}},{key:\"locationChanged\",get:function get(){return this._locationChanged;}}]);return RoomObjectLocationCacheItem;}();","map":null,"metadata":{},"sourceType":"module"}