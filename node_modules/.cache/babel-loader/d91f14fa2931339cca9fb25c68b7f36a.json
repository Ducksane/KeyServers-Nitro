{"ast":null,"code":"import _classCallCheck from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{EventDispatcher}from'../../core/events/EventDispatcher';import{AvatarRenderEffectLibraryEvent}from'./events/AvatarRenderEffectLibraryEvent';export var EffectAssetDownloadLibrary=/*#__PURE__*/function(_EventDispatcher){_inherits(EffectAssetDownloadLibrary,_EventDispatcher);var _super=_createSuper(EffectAssetDownloadLibrary);function EffectAssetDownloadLibrary(id,revision,assets,assetUrl){var _this;_classCallCheck(this,EffectAssetDownloadLibrary);_this=_super.call(this);_this._state=void 0;_this._libraryName=void 0;_this._revision=void 0;_this._downloadUrl=void 0;_this._assets=void 0;_this._animation=void 0;_this._state=EffectAssetDownloadLibrary.NOT_LOADED;_this._libraryName=id;_this._revision=revision;_this._downloadUrl=assetUrl;_this._assets=assets;_this._animation=null;_this._downloadUrl=_this._downloadUrl.replace(/%libname%/gi,_this._libraryName);_this._downloadUrl=_this._downloadUrl.replace(/%revision%/gi,_this._revision);var asset=_this._assets.getCollection(_this._libraryName);if(asset)_this._state=EffectAssetDownloadLibrary.LOADED;return _this;}_createClass(EffectAssetDownloadLibrary,[{key:\"downloadAsset\",value:function downloadAsset(){var _this2=this;if(!this._assets||this._state===EffectAssetDownloadLibrary.LOADING||this._state===EffectAssetDownloadLibrary.LOADED)return;var asset=this._assets.getCollection(this._libraryName);if(asset){this._state=EffectAssetDownloadLibrary.LOADED;this.dispatchEvent(new AvatarRenderEffectLibraryEvent(AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE,this));return;}this._state=EffectAssetDownloadLibrary.LOADING;this._assets.downloadAsset(this._downloadUrl,function(flag){if(flag){_this2._state=EffectAssetDownloadLibrary.LOADED;var collection=_this2._assets.getCollection(_this2._libraryName);if(collection)_this2._animation=collection.data.animations;_this2.dispatchEvent(new AvatarRenderEffectLibraryEvent(AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE,_this2));}});}},{key:\"libraryName\",get:function get(){return this._libraryName;}},{key:\"animation\",get:function get(){return this._animation;}},{key:\"isLoaded\",get:function get(){return this._state===EffectAssetDownloadLibrary.LOADED;}}]);return EffectAssetDownloadLibrary;}(EventDispatcher);EffectAssetDownloadLibrary.DOWNLOAD_COMPLETE='EADL_DOWNLOAD_COMPLETE';EffectAssetDownloadLibrary.NOT_LOADED=0;EffectAssetDownloadLibrary.LOADING=1;EffectAssetDownloadLibrary.LOADED=2;","map":null,"metadata":{},"sourceType":"module"}