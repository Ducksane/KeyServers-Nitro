{"ast":null,"code":"import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{RoomObjectOperationType}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{ProcessRoomObjectOperation,RoomWidgetUpdateDecorateModeEvent,RoomWidgetUpdateRoomObjectEvent}from'../../../../../api';import{UseEventDispatcherHook}from'../../../../../hooks';import{useRoomContext}from'../../../RoomContext';import{ObjectLocationView}from'../../object-location/ObjectLocationView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FurnitureManipulationMenuView=function FurnitureManipulationMenuView(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useState3=useState(-1),_useState4=_slicedToArray(_useState3,2),objectId=_useState4[0],setObjectId=_useState4[1];var _useState5=useState(-1),_useState6=_slicedToArray(_useState5,2),objectType=_useState6[0],setObjectType=_useState6[1];var _useRoomContext=useRoomContext(),_useRoomContext$roomS=_useRoomContext.roomSession,roomSession=_useRoomContext$roomS===void 0?null:_useRoomContext$roomS,_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var rotateFurniture=useCallback(function(){ProcessRoomObjectOperation(objectId,objectType,RoomObjectOperationType.OBJECT_ROTATE_POSITIVE);},[objectId,objectType]);var moveFurniture=useCallback(function(){ProcessRoomObjectOperation(objectId,objectType,RoomObjectOperationType.OBJECT_MOVE);},[objectId,objectType]);var pickupFurniture=useCallback(function(){ProcessRoomObjectOperation(objectId,objectType,RoomObjectOperationType.OBJECT_PICKUP);},[objectId,objectType]);var onRoomWidgetRoomObjectUpdateEvent=useCallback(function(event){switch(event.type){case RoomWidgetUpdateRoomObjectEvent.OBJECT_REQUEST_MANIPULATION:{setIsVisible(true);setObjectId(event.id);setObjectType(event.category);return;}case RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:{if(event.id===objectId){setIsVisible(false);setObjectId(-1);setObjectType(-1);}return;}case RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED:{setIsVisible(false);setObjectId(-1);setObjectType(-1);return;}}},[objectId]);UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent.OBJECT_REQUEST_MANIPULATION,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent.OBJECT_DESELECTED,eventDispatcher,onRoomWidgetRoomObjectUpdateEvent);var onRoomWidgetUpdateDecorateModeEvent=useCallback(function(event){if(event.isDecorating)return;moveFurniture();setIsVisible(false);setObjectId(-1);setObjectType(-1);},[moveFurniture]);UseEventDispatcherHook(RoomWidgetUpdateDecorateModeEvent.UPDATE_DECORATE,eventDispatcher,onRoomWidgetUpdateDecorateModeEvent);useEffect(function(){if(!isVisible){eventDispatcher.dispatchEvent(new RoomWidgetUpdateDecorateModeEvent(false));return;}eventDispatcher.dispatchEvent(new RoomWidgetUpdateDecorateModeEvent(true));moveFurniture();},[eventDispatcher,isVisible,moveFurniture]);if(!isVisible)return null;return/*#__PURE__*/_jsx(ObjectLocationView,{objectId:objectId,category:objectType,children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",onClick:pickupFurniture,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"times\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",onClick:rotateFurniture,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"undo\"})})]})});};","map":null,"metadata":{},"sourceType":"module"}