{"ast":null,"code":"import _objectSpread from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"groupInformation\",\"onClose\",\"overflow\"];import{GroupRemoveMemberComposer}from'@nitrots/nitro-renderer';import{useCallback}from'react';import{CatalogPageName,CreateLinkEvent,GetGroupManager,GetGroupMembers,GetSessionDataManager,LocalizeText,NotificationUtilities,SendMessageComposer,TryJoinGroup,TryVisitRoom}from'../../../api';import{Button,Column,Flex,Grid,LayoutBadgeImageView,Text}from'../../../common';import{GroupMembershipType}from'../common/GroupMembershipType';import{GroupType}from'../common/GroupType';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var STATES=['regular','exclusive','private'];export var GroupInformationView=function GroupInformationView(props){var _props$groupInformati=props.groupInformation,groupInformation=_props$groupInformati===void 0?null:_props$groupInformati,_props$onClose=props.onClose,onClose=_props$onClose===void 0?null:_props$onClose,_props$overflow=props.overflow,overflow=_props$overflow===void 0?'hidden':_props$overflow,rest=_objectWithoutProperties(props,_excluded);var isRealOwner=groupInformation&&groupInformation.ownerName===GetSessionDataManager().userName;var joinGroup=function joinGroup(){return groupInformation&&TryJoinGroup(groupInformation.id);};var leaveGroup=function leaveGroup(){NotificationUtilities.confirm(LocalizeText('group.leaveconfirm.desc'),function(){SendMessageComposer(new GroupRemoveMemberComposer(groupInformation.id,GetSessionDataManager().userId));if(onClose)onClose();},null);};var getRoleIcon=function getRoleIcon(){if(groupInformation.membershipType===GroupMembershipType.NOT_MEMBER||groupInformation.membershipType===GroupMembershipType.REQUEST_PENDING)return null;if(isRealOwner)return/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-group-owner\",title:LocalizeText('group.youareowner')});if(groupInformation.isAdmin)return/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-group-admin\",title:LocalizeText('group.youareadmin')});return/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-group-member\",title:LocalizeText('group.youaremember')});};var getButtonText=function getButtonText(){if(isRealOwner)return'group.youareowner';if(groupInformation.type===GroupType.PRIVATE)return'';if(groupInformation.membershipType===GroupMembershipType.MEMBER)return'group.leave';if(groupInformation.membershipType===GroupMembershipType.NOT_MEMBER&&groupInformation.type===GroupType.REGULAR)return'group.join';if(groupInformation.membershipType===GroupMembershipType.REQUEST_PENDING)return'group.membershippending';if(groupInformation.membershipType===GroupMembershipType.NOT_MEMBER&&groupInformation.type===GroupType.EXCLUSIVE)return'group.requestmembership';};var handleButtonClick=function handleButtonClick(){if(groupInformation.type===GroupType.PRIVATE&&groupInformation.membershipType===GroupMembershipType.NOT_MEMBER)return;if(groupInformation.membershipType===GroupMembershipType.MEMBER){leaveGroup();return;}joinGroup();};var handleAction=useCallback(function(action){switch(action){case'members':GetGroupMembers(groupInformation.id);break;case'members_pending':GetGroupMembers(groupInformation.id,2);break;case'manage':GetGroupManager(groupInformation.id);break;case'homeroom':TryVisitRoom(groupInformation.roomId);break;case'furniture':CreateLinkEvent('catalog/open/'+CatalogPageName.GUILD_CUSTOM_FURNI);break;case'popular_groups':CreateLinkEvent('navigator/search/groups');break;}},[groupInformation]);if(!groupInformation)return null;return/*#__PURE__*/_jsxs(Grid,_objectSpread(_objectSpread({overflow:overflow},rest),{},{children:[/*#__PURE__*/_jsxs(Column,{center:true,size:3,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",overflow:\"hidden\",className:\"group-badge\",children:/*#__PURE__*/_jsx(LayoutBadgeImageView,{badgeCode:groupInformation.badge,isGroup:true,scale:2})}),/*#__PURE__*/_jsxs(Column,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('members');},children:LocalizeText('group.membercount',['totalMembers'],[groupInformation.membersCount.toString()])}),groupInformation.pendingRequestsCount>0&&/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('members_pending');},children:LocalizeText('group.pendingmembercount',['amount'],[groupInformation.pendingRequestsCount.toString()])}),groupInformation.isOwner&&/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('manage');},children:LocalizeText('group.manage')})]}),getRoleIcon()]}),/*#__PURE__*/_jsxs(Column,{size:9,justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/_jsxs(Column,{overflow:\"hidden\",children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:groupInformation.title}),/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsx(\"i\",{className:'icon icon-group-type-'+groupInformation.type,title:LocalizeText(\"group.edit.settings.type.\".concat(STATES[groupInformation.type],\".help\"))}),groupInformation.canMembersDecorate&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-group-decorate\",title:LocalizeText('group.memberscandecorate')})]})]}),/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:LocalizeText('group.created',['date','owner'],[groupInformation.createdAt,groupInformation.ownerName])})]}),/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,overflow:\"auto\",className:\"group-description\",children:groupInformation.description})]}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('homeroom');},children:LocalizeText('group.linktobase')}),/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('furniture');},children:LocalizeText('group.buyfurni')}),/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:function onClick(){return handleAction('popular_groups');},children:LocalizeText('group.showgroups')})]}),groupInformation.type!==GroupType.PRIVATE&&/*#__PURE__*/_jsx(Button,{disabled:groupInformation.membershipType===GroupMembershipType.REQUEST_PENDING||isRealOwner,onClick:handleButtonClick,children:LocalizeText(getButtonText())})]})]})]}));};","map":null,"metadata":{},"sourceType":"module"}