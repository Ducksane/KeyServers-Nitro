{"ast":null,"code":"import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{AnimationFrameData}from'./AnimationFrameData';import{AnimationFrameDirectionalData}from'./AnimationFrameDirectionalData';export var AnimationFrameSequenceData=/*#__PURE__*/function(){function AnimationFrameSequenceData(loopCount,isRandom){_classCallCheck(this,AnimationFrameSequenceData);this._frames=void 0;this._frameIndexes=void 0;this._frameRepeats=void 0;this._isRandom=void 0;this._loopCount=void 0;this._frames=[];this._frameIndexes=[];this._frameRepeats=[];this._isRandom=isRandom;this._loopCount=loopCount<1?1:loopCount;}_createClass(AnimationFrameSequenceData,[{key:\"isRandom\",get:function get(){return this._isRandom;}},{key:\"frameCount\",get:function get(){return this._frameIndexes.length*this._loopCount;}},{key:\"dispose\",value:function dispose(){this._frames=[];}},{key:\"initialize\",value:function initialize(){var frameIndex=this._frameIndexes.length-1;var realIndex=-1;var nextIndex=1;while(frameIndex>=0){if(this._frameIndexes[frameIndex]===realIndex){nextIndex++;}else{realIndex=this._frameIndexes[frameIndex];nextIndex=1;}this._frameRepeats[frameIndex]=nextIndex;frameIndex--;}}},{key:\"addFrame\",value:function addFrame(id,x,y,randomX,randomY,directionalOffset){var repeats=1;if(this._frames.length>0){var _frame=this._frames[this._frames.length-1];if(_frame.id===id&&!_frame.hasDirectionalOffsets()&&_frame.x===x&&_frame.y===y&&_frame.randomX===randomX&&randomX===0&&_frame.randomY===randomY&&randomY===0){repeats+=_frame.repeats;this._frames.pop();}}var frame=directionalOffset?new AnimationFrameDirectionalData(id,x,y,randomX,randomY,directionalOffset,repeats):new AnimationFrameData(id,x,y,randomX,randomY,repeats);this._frames.push(frame);this._frameIndexes.push(this._frames.length-1);this._frameRepeats.push(1);}},{key:\"getFrame\",value:function getFrame(frameCount){if(!this._frames.length||frameCount<0||frameCount>=this.frameCount)return null;return this._frames[this._frameIndexes[frameCount%this._frameIndexes.length]];}},{key:\"getFrameIndex\",value:function getFrameIndex(frameCount){if(frameCount<0||frameCount>=this.frameCount)return-1;if(this._isRandom){frameCount=Math.round(Math.random()*this._frameIndexes.length);if(frameCount===this._frameIndexes.length)frameCount--;}return frameCount;}},{key:\"getRepeats\",value:function getRepeats(frameCount){if(frameCount<0||frameCount>=this.frameCount)return 0;return this._frameRepeats[frameCount%this._frameRepeats.length];}}]);return AnimationFrameSequenceData;}();","map":null,"metadata":{},"sourceType":"module"}