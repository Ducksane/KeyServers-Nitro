{"ast":null,"code":"import _objectSpread from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{GroupDeleteComposer,GroupSaveInformationComposer}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{CreateLinkEvent,LocalizeText,NotificationUtilities,SendMessageComposer}from'../../../../api';import{Base,Button,Column,Flex,Text}from'../../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var GroupTabIdentityView=function GroupTabIdentityView(props){var _props$groupData=props.groupData,groupData=_props$groupData===void 0?null:_props$groupData,_props$setGroupData=props.setGroupData,setGroupData=_props$setGroupData===void 0?null:_props$setGroupData,_props$setCloseAction=props.setCloseAction,setCloseAction=_props$setCloseAction===void 0?null:_props$setCloseAction,_props$close=props.close,close=_props$close===void 0?null:_props$close,_props$isCreator=props.isCreator,isCreator=_props$isCreator===void 0?false:_props$isCreator,_props$availableRooms=props.availableRooms,availableRooms=_props$availableRooms===void 0?[]:_props$availableRooms;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),groupName=_useState2[0],setGroupName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),groupDescription=_useState4[0],setGroupDescription=_useState4[1];var _useState5=useState(-1),_useState6=_slicedToArray(_useState5,2),groupHomeroomId=_useState6[0],setGroupHomeroomId=_useState6[1];var deleteGroup=function deleteGroup(){if(!groupData||groupData.groupId<=0)return;NotificationUtilities.confirm(LocalizeText('group.deleteconfirm.desc'),function(){SendMessageComposer(new GroupDeleteComposer(groupData.groupId));if(close)close();},null,null,null,LocalizeText('group.deleteconfirm.title'));};var saveIdentity=useCallback(function(){if(!groupData||!groupName||!groupName.length)return false;if(groupName===groupData.groupName&&groupDescription===groupData.groupDescription)return true;if(groupData.groupId<=0){if(groupHomeroomId<=0)return false;setGroupData(function(prevValue){var newValue=_objectSpread({},prevValue);newValue.groupName=groupName;newValue.groupDescription=groupDescription;newValue.groupHomeroomId=groupHomeroomId;return newValue;});return true;}SendMessageComposer(new GroupSaveInformationComposer(groupData.groupId,groupName,groupDescription||''));return true;},[groupData,groupName,groupDescription,groupHomeroomId,setGroupData]);useEffect(function(){setGroupName(groupData.groupName||'');setGroupDescription(groupData.groupDescription||'');setGroupHomeroomId(groupData.groupHomeroomId);},[groupData]);useEffect(function(){setCloseAction({action:saveIdentity});return function(){return setCloseAction(null);};},[setCloseAction,saveIdentity]);if(!groupData)return null;return/*#__PURE__*/_jsxs(Column,{justifyContent:\"between\",overflow:\"auto\",children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.name')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",value:groupName,maxLength:29,onChange:function onChange(event){return setGroupName(event.target.value);}})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.desc')}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control form-control-sm\",value:groupDescription,maxLength:254,onChange:function onChange(event){return setGroupDescription(event.target.value);}})]}),isCreator&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Text,{center:true,className:\"col-3\",children:LocalizeText('group.edit.base')}),/*#__PURE__*/_jsx(Column,{fullWidth:true,gap:1,children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",value:groupHomeroomId,onChange:function onChange(event){return setGroupHomeroomId(parseInt(event.target.value));},children:[/*#__PURE__*/_jsx(\"option\",{value:-1,disabled:true,children:LocalizeText('group.edit.base.select.room')}),availableRooms&&availableRooms.map(function(room,index){return/*#__PURE__*/_jsx(\"option\",{value:room.id,children:room.name},index);})]})})]}),/*#__PURE__*/_jsxs(Flex,{gap:1,children:[/*#__PURE__*/_jsx(Base,{className:\"col-3\",children:\"\\xA0\"}),/*#__PURE__*/_jsx(Text,{small:true,children:LocalizeText('group.edit.base.warning')})]})]})]}),!isCreator&&/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:deleteGroup,children:LocalizeText('group.delete')}),isCreator&&/*#__PURE__*/_jsx(Text,{underline:true,center:true,fullWidth:true,pointer:true,onClick:function onClick(event){return CreateLinkEvent('navigator/create');},children:LocalizeText('group.createroom')})]});};","map":null,"metadata":{},"sourceType":"module"}