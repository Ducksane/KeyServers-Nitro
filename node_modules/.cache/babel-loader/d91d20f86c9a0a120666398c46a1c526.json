{"ast":null,"code":"import{AchievementNotificationMessageEvent,ActivityPointNotificationMessageEvent,ClubGiftNotificationEvent,ClubGiftSelectedEvent,HabboBroadcastMessageEvent,HotelClosedAndOpensEvent,HotelClosesAndWillOpenAtEvent,HotelWillCloseInMinutesEvent,InfoFeedEnableMessageEvent,MaintenanceStatusMessageEvent,ModeratorCautionEvent,ModeratorMessageEvent,MOTDNotificationEvent,NotificationDialogMessageEvent,PetLevelNotificationEvent,PetReceivedMessageEvent,RespectReceivedEvent,RoomEnterEvent,UserBannedMessageEvent,Vector3d}from'@nitrots/nitro-renderer';import{useCallback}from'react';import{GetConfiguration,GetRoomEngine,GetSessionDataManager,LocalizeBadgeName,LocalizeText,NotificationBubbleType,NotificationUtilities,ProductImageUtility}from'../../api';import{UseMessageEventHook}from'../../hooks';export var NotificationCenterMessageHandler=function NotificationCenterMessageHandler(props){var onRespectReceivedEvent=useCallback(function(event){var parser=event.getParser();if(parser.userId!==GetSessionDataManager().userId)return;var text1=LocalizeText('notifications.text.respect.1');var text2=LocalizeText('notifications.text.respect.2',['count'],[parser.respectsReceived.toString()]);NotificationUtilities.showSingleBubble(text1,NotificationBubbleType.RESPECT);NotificationUtilities.showSingleBubble(text2,NotificationBubbleType.RESPECT);},[]);UseMessageEventHook(RespectReceivedEvent,onRespectReceivedEvent);var onHabboBroadcastMessageEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.simpleAlert(parser.message.replace(/\\\\r/g,'\\r'),null,null,LocalizeText('notifications.broadcast.title'));},[]);UseMessageEventHook(HabboBroadcastMessageEvent,onHabboBroadcastMessageEvent);var onAchievementNotificationMessageEvent=useCallback(function(event){var parser=event.getParser();var text1=LocalizeText('achievements.levelup.desc');var badgeName=LocalizeBadgeName(parser.data.badgeCode);var badgeImage=GetSessionDataManager().getBadgeUrl(parser.data.badgeCode);var internalLink='questengine/achievements/'+parser.data.category;NotificationUtilities.showSingleBubble(text1+' '+badgeName,NotificationBubbleType.ACHIEVEMENT,badgeImage,internalLink);},[]);UseMessageEventHook(AchievementNotificationMessageEvent,onAchievementNotificationMessageEvent);var onClubGiftNotificationEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.showClubGiftNotification(parser.numGifts);},[]);UseMessageEventHook(ClubGiftNotificationEvent,onClubGiftNotificationEvent);var onModeratorMessageEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.handleModeratorMessage(parser.message,parser.url);},[]);UseMessageEventHook(ModeratorMessageEvent,onModeratorMessageEvent);var onActivityPointNotificationMessageEvent=useCallback(function(event){var parser=event.getParser();if(parser.amountChanged<=0||parser.type!==5)return;var imageUrl=GetConfiguration('currency.asset.icon.url','').replace('%type%',parser.type.toString());NotificationUtilities.showSingleBubble(LocalizeText('notifications.text.loyalty.received',['AMOUNT'],[parser.amountChanged.toString()]),NotificationBubbleType.INFO,imageUrl);},[]);UseMessageEventHook(ActivityPointNotificationMessageEvent,onActivityPointNotificationMessageEvent);var onUserBannedMessageEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.handleUserBannedMessage(parser.message);},[]);UseMessageEventHook(UserBannedMessageEvent,onUserBannedMessageEvent);var onHotelClosesAndWillOpenAtEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.handleHotelClosedMessage(parser.openHour,parser.openMinute,parser.userThrowOutAtClose);},[]);UseMessageEventHook(HotelClosesAndWillOpenAtEvent,onHotelClosesAndWillOpenAtEvent);var onPetReceivedMessageEvent=useCallback(function(event){var parser=event.getParser();var text=LocalizeText('notifications.text.'+(parser.boughtAsGift?'petbought':'petreceived'));var imageUrl=null;var imageResult=GetRoomEngine().getRoomObjectPetImage(parser.pet.typeId,parser.pet.paletteId,parseInt(parser.pet.color,16),new Vector3d(45*3),64,null,true);if(imageResult)imageUrl=imageResult.getImage().src;NotificationUtilities.showSingleBubble(text,NotificationBubbleType.PETLEVEL,imageUrl);},[]);UseMessageEventHook(PetReceivedMessageEvent,onPetReceivedMessageEvent);var onRoomEnterEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.showModerationDisclaimer();},[]);UseMessageEventHook(RoomEnterEvent,onRoomEnterEvent);var onMOTDNotificationEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.handleMOTD(parser.messages);},[]);UseMessageEventHook(MOTDNotificationEvent,onMOTDNotificationEvent);var onPetLevelNotificationEvent=useCallback(function(event){var parser=event.getParser();var imageUrl=null;var imageResult=GetRoomEngine().getRoomObjectPetImage(parser.figureData.typeId,parser.figureData.paletteId,parseInt(parser.figureData.color,16),new Vector3d(45*3),64,null,true);if(imageResult)imageUrl=imageResult.getImage().src;NotificationUtilities.showSingleBubble(LocalizeText('notifications.text.petlevel',['pet_name','level'],[parser.petName,parser.level.toString()]),NotificationBubbleType.PETLEVEL,imageUrl);},[]);UseMessageEventHook(PetLevelNotificationEvent,onPetLevelNotificationEvent);var onInfoFeedEnableMessageEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.BUBBLES_DISABLED=!parser.enabled;},[]);UseMessageEventHook(InfoFeedEnableMessageEvent,onInfoFeedEnableMessageEvent);var onClubGiftSelectedEvent=useCallback(function(event){var parser=event.getParser();if(!parser.products||!parser.products.length)return;var productData=parser.products[0];if(!productData)return;NotificationUtilities.showSingleBubble(LocalizeText('notifications.text.club_gift.selected'),NotificationBubbleType.INFO,ProductImageUtility.getProductImageUrl(productData.productType,productData.furniClassId,productData.extraParam));},[]);UseMessageEventHook(ClubGiftSelectedEvent,onClubGiftSelectedEvent);var onMaintenanceStatusMessageEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.handleHotelMaintenanceMessage(parser.minutesUntilMaintenance,parser.duration);},[]);UseMessageEventHook(MaintenanceStatusMessageEvent,onMaintenanceStatusMessageEvent);var onModeratorCautionEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.handleModeratorCaution(parser.message,parser.url);},[]);UseMessageEventHook(ModeratorCautionEvent,onModeratorCautionEvent);var onNotificationDialogMessageEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.showNotification(parser.type,parser.parameters);},[]);UseMessageEventHook(NotificationDialogMessageEvent,onNotificationDialogMessageEvent);var onHotelWillCloseInMinutesEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.handleHotelClosingMessage(parser.openMinute);},[]);UseMessageEventHook(HotelWillCloseInMinutesEvent,onHotelWillCloseInMinutesEvent);var onHotelClosedAndOpensEvent=useCallback(function(event){var parser=event.getParser();NotificationUtilities.handleLoginFailedHotelClosedMessage(parser.openHour,parser.openMinute);},[]);UseMessageEventHook(HotelClosedAndOpensEvent,onHotelClosedAndOpensEvent);return null;};","map":null,"metadata":{},"sourceType":"module"}