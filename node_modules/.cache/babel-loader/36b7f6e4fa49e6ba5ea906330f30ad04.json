{"ast":null,"code":"import _objectSpread from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{GroupSaveColorsComposer}from'@nitrots/nitro-renderer';import classNames from'classnames';import{useCallback,useEffect,useState}from'react';import{LocalizeText,SendMessageComposer}from'../../../../api';import{AutoGrid,Base,Column,Flex,Grid,Text}from'../../../../common';import{useGroupsContext}from'../../GroupsContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var GroupTabColorsView=function GroupTabColorsView(props){var _props$groupData=props.groupData,groupData=_props$groupData===void 0?null:_props$groupData,_props$setGroupData=props.setGroupData,setGroupData=_props$setGroupData===void 0?null:_props$setGroupData,_props$setCloseAction=props.setCloseAction,setCloseAction=_props$setCloseAction===void 0?null:_props$setCloseAction;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),colors=_useState2[0],setColors=_useState2[1];var _useGroupsContext=useGroupsContext(),_useGroupsContext$gro=_useGroupsContext.groupCustomize,groupCustomize=_useGroupsContext$gro===void 0?null:_useGroupsContext$gro;var getGroupColor=function getGroupColor(colorIndex){if(colorIndex===0)return groupCustomize.groupColorsA.find(function(color){return color.id===colors[colorIndex];}).color;return groupCustomize.groupColorsB.find(function(color){return color.id===colors[colorIndex];}).color;};var selectColor=function selectColor(colorIndex,colorId){setColors(function(prevValue){var newColors=_toConsumableArray(prevValue);newColors[colorIndex]=colorId;return newColors;});};var saveColors=useCallback(function(){if(!groupData||!colors||!colors.length)return false;if(groupData.groupColors===colors)return true;if(groupData.groupId<=0){setGroupData(function(prevValue){var newValue=_objectSpread({},prevValue);newValue.groupColors=_toConsumableArray(colors);return newValue;});return true;}SendMessageComposer(new GroupSaveColorsComposer(groupData.groupId,colors[0],colors[1]));return true;},[groupData,colors,setGroupData]);useEffect(function(){if(!groupCustomize.groupColorsA||!groupCustomize.groupColorsB||groupData.groupColors)return;var groupColors=[groupCustomize.groupColorsA[0].id,groupCustomize.groupColorsB[0].id];setGroupData(function(prevValue){return _objectSpread(_objectSpread({},prevValue),{},{groupColors:groupColors});});},[groupCustomize,groupData.groupColors,setGroupData]);useEffect(function(){if(groupData.groupId<=0){setColors(groupData.groupColors?_toConsumableArray(groupData.groupColors):null);return;}setColors(groupData.groupColors);},[groupData]);useEffect(function(){setCloseAction({action:saveColors});return function(){return setCloseAction(null);};},[setCloseAction,saveColors]);if(!colors)return null;return/*#__PURE__*/_jsxs(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/_jsxs(Column,{size:2,gap:1,children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('group.edit.color.guild.color')}),groupData.groupColors&&groupData.groupColors.length>0&&/*#__PURE__*/_jsxs(Flex,{overflow:\"hidden\",className:\"rounded border\",children:[/*#__PURE__*/_jsx(Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(0)}}),/*#__PURE__*/_jsx(Base,{className:\"group-color-swatch\",style:{backgroundColor:'#'+getGroupColor(1)}})]})]}),/*#__PURE__*/_jsxs(Column,{size:5,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('group.edit.color.primary.color')}),/*#__PURE__*/_jsx(AutoGrid,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:groupData.groupColors&&groupCustomize.groupColorsA&&groupCustomize.groupColorsA.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:'group-badge-color-swatch cursor-pointer'+classNames({' active':groupData.groupColors[0]===item.id}),style:{backgroundColor:'#'+item.color},onClick:function onClick(){return selectColor(0,item.id);}},index);})})]}),/*#__PURE__*/_jsxs(Column,{size:5,gap:1,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Text,{bold:true,children:LocalizeText('group.edit.color.secondary.color')}),/*#__PURE__*/_jsx(AutoGrid,{gap:1,columnCount:7,columnMinWidth:16,columnMinHeight:16,children:groupData.groupColors&&groupCustomize.groupColorsB&&groupCustomize.groupColorsB.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:'group-badge-color-swatch cursor-pointer'+classNames({' active':groupData.groupColors[1]===item.id}),style:{backgroundColor:'#'+item.color},onClick:function onClick(){return selectColor(1,item.id);}},index);})})]})]});};","map":null,"metadata":{},"sourceType":"module"}