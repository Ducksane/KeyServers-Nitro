{"ast":null,"code":"import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{GetRoomVisitsMessageComposer,RoomVisitsEvent}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{AutoSizer,List}from'react-virtualized';import{SendMessageComposer,TryVisitRoom}from'../../../../api';import{Base,Column,DraggableWindowPosition,Grid,NitroCardContentView,NitroCardHeaderView,NitroCardView,Text}from'../../../../common';import{UseMessageEventHook}from'../../../../hooks';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ModToolsUserRoomVisitsView=function ModToolsUserRoomVisitsView(props){var _props$userId=props.userId,userId=_props$userId===void 0?null:_props$userId,_props$onCloseClick=props.onCloseClick,onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),roomVisitData=_useState2[0],setRoomVisitData=_useState2[1];var onModtoolReceivedRoomsUserEvent=useCallback(function(event){var parser=event.getParser();if(!parser||parser.data.userId!==userId)return;setRoomVisitData(parser.data);},[userId]);UseMessageEventHook(RoomVisitsEvent,onModtoolReceivedRoomsUserEvent);var RowRenderer=function RowRenderer(props){var item=roomVisitData.rooms[props.index];return/*#__PURE__*/_jsxs(Grid,{fullHeight:false,style:props.style,gap:1,alignItems:\"center\",className:\"py-1 border-bottom\",children:[/*#__PURE__*/_jsxs(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-2\",children:[item.enterHour.toString().padStart(2,'0'),\": \",item.enterMinute.toString().padStart(2,'0')]}),/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",className:\"g-col-7\",children:item.roomName}),/*#__PURE__*/_jsx(Text,{bold:true,underline:true,pointer:true,variant:\"primary\",className:\"g-col-3\",onClick:function onClick(event){return TryVisitRoom(item.roomId);},children:\"Visit Room\"})]},props.key);};useEffect(function(){SendMessageComposer(new GetRoomVisitsMessageComposer(userId));},[userId]);if(!userId)return null;return/*#__PURE__*/_jsxs(NitroCardView,{className:\"nitro-mod-tools-user-visits\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:'User Visits',onCloseClick:onCloseClick}),/*#__PURE__*/_jsx(NitroCardContentView,{className:\"\",gap:1,children:/*#__PURE__*/_jsxs(Column,{fullHeight:true,gap:0,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Column,{gap:2,children:/*#__PURE__*/_jsxs(Grid,{gap:1,className:\"text-black fw-bold border-bottom pb-1\",children:[/*#__PURE__*/_jsx(Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-2\",children:\"Time\"}),/*#__PURE__*/_jsx(Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-7\",children:\"Room name\"}),/*#__PURE__*/_jsx(Base,{style:{color:\"var(--test-galaxytext)\"},className:\"g-col-3\",children:\"Visit\"})]})}),/*#__PURE__*/_jsx(Column,{className:\"log-container striped-children\",overflow:\"auto\",gap:0,children:roomVisitData&&/*#__PURE__*/_jsx(AutoSizer,{defaultWidth:400,defaultHeight:200,children:function children(_ref){var height=_ref.height,width=_ref.width;return/*#__PURE__*/_jsx(List,{width:width,height:height,rowCount:roomVisitData.rooms.length,rowHeight:25,className:'log-entry-container',rowRenderer:RowRenderer,style:{color:\"var(--test-galaxytext)\"}});}})})]})})]});};","map":null,"metadata":{},"sourceType":"module"}