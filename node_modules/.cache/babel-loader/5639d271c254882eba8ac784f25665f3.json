{"ast":null,"code":"import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect,useState}from'react';import{Overlay,Popover}from'react-bootstrap';import{RoomWidgetChatMessage}from'../../../../api';import{Base,Grid,NitroCardContentView}from'../../../../common';import{useRoomContext}from'../../RoomContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ChatInputEmojisSelectorView=function ChatInputEmojisSelectorView(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),target=_useState2[0],setTarget=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),selectorVisible=_useState4[0],setSelectorVisible=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),emojis=_useState6[0],setEmojis=_useState6[1];var _useRoomContext=useRoomContext(),_useRoomContext$event=_useRoomContext.eventDispatcher,eventDispatcher=_useRoomContext$event===void 0?null:_useRoomContext$event,_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;useEffect(function(){fetch(\"https://int.habbbo.net/?type=getEmojis\").then(function(response){return response.json();}).then(function(response){setEmojis(response);});},[]);function getEmojiImage(id){return\"https://swfs.hgalaxy.net/c_images/emojis/emoji\"+id+\".png\";}var sendEmoji=function sendEmoji(event,key){sendChat(key,RoomWidgetChatMessage.CHAT_DEFAULT,'',0);var visible=true;setSelectorVisible(function(prevValue){visible=!prevValue;return visible;});console.log(\"xdd\");if(visible)setTarget(event.target);};var sendChat=useCallback(function(text,chatType){var recipientName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var styleId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;widgetHandler.processWidgetMessage(new RoomWidgetChatMessage(RoomWidgetChatMessage.MESSAGE_CHAT,text,chatType,recipientName,styleId));setSelectorVisible(false);},[widgetHandler]);var toggleSelector=function toggleSelector(event){var visible=true;setSelectorVisible(function(prevValue){visible=!prevValue;return visible;});console.log(\"xdd\");if(visible)setTarget(event.target);};useEffect(function(){if(selectorVisible)return;setTarget(null);},[selectorVisible]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Base,{pointer:true,className:\"icon chatemojis-icon\",onClick:toggleSelector,style:{marginLeft:\"13px\",display:\"inline-block\"},children:/*#__PURE__*/_jsx(Overlay,{show:selectorVisible,target:target,placement:\"top\",children:/*#__PURE__*/_jsx(Popover,{className:\"nitro-chat-sticker-selector-container image-rendering-pixelated\",children:/*#__PURE__*/_jsx(NitroCardContentView,{overflow:\"hidden\",className:\"bg-transparent\",children:emojis!=null?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Grid,{columnCount:4,overflow:\"auto\",children:emojis.map(function(emoji){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Base,{className:\"text-center\",onClick:function onClick(e){return sendEmoji(e,emoji.key);},children:[/*#__PURE__*/_jsx(\"img\",{style:{height:\"22px\",width:\"22px\"},src:getEmojiImage(emoji.id)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-dark\",children:emoji.key})]},emoji.id)});})})}):/*#__PURE__*/_jsx(_Fragment,{})})})})})});};","map":null,"metadata":{},"sourceType":"module"}