{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _get from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{AdvancedMap,NitroLogger}from'../../../../../core';import{RoomObjectVariable}from'../../RoomObjectVariable';import{FurnitureAnimatedVisualization}from'./FurnitureAnimatedVisualization';import{FurnitureParticleSystem}from'./FurnitureParticleSystem';export var FurnitureFireworksVisualization=/*#__PURE__*/function(_FurnitureAnimatedVis){_inherits(FurnitureFireworksVisualization,_FurnitureAnimatedVis);var _super=_createSuper(FurnitureFireworksVisualization);function FurnitureFireworksVisualization(){var _this;_classCallCheck(this,FurnitureFireworksVisualization);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._particleSystems=void 0;_this._currentParticleSystem=void 0;return _this;}_createClass(FurnitureFireworksVisualization,[{key:\"dispose\",value:function dispose(){_get(_getPrototypeOf(FurnitureFireworksVisualization.prototype),\"dispose\",this).call(this);this._currentParticleSystem=null;if(this._particleSystems){var _iterator=_createForOfIteratorHelper(this._particleSystems.getValues()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var particleSystem=_step.value;particleSystem.dispose();}}catch(err){_iterator.e(err);}finally{_iterator.f();}this._particleSystems=null;}}},{key:\"updateObject\",value:function updateObject(scale,direction){if(_get(_getPrototypeOf(FurnitureFireworksVisualization.prototype),\"updateObject\",this).call(this,scale,direction)){if(!this._particleSystems){this._Str_18684();if(this._particleSystems)this._currentParticleSystem=this._particleSystems.getValue(scale);else NitroLogger.log('ERROR Particle systems could not be read! '+this.object.type);}else{if(scale!==this._scale||this._particleSystems.getValue(scale)!==this._currentParticleSystem){var particleSystem=this._particleSystems.getValue(scale);particleSystem._Str_17988(this._currentParticleSystem);if(this._currentParticleSystem)this._currentParticleSystem.reset();this._currentParticleSystem=particleSystem;}}return true;}return false;}},{key:\"updateSprites\",value:function updateSprites(scale,update,animation){_get(_getPrototypeOf(FurnitureFireworksVisualization.prototype),\"updateSprites\",this).call(this,scale,update,animation);if(this._currentParticleSystem)this._currentParticleSystem.updateSprites();}},{key:\"updateAnimation\",value:function updateAnimation(scale){if(this._currentParticleSystem)this._currentParticleSystem.updateAnimation();return _get(_getPrototypeOf(FurnitureFireworksVisualization.prototype),\"updateAnimation\",this).call(this,scale);}},{key:\"setAnimation\",value:function setAnimation(id){if(this._currentParticleSystem)this._currentParticleSystem.setAnimation(id);_get(_getPrototypeOf(FurnitureFireworksVisualization.prototype),\"setAnimation\",this).call(this,id);}},{key:\"getLayerYOffset\",value:function getLayerYOffset(scale,direction,layerId){if(this._currentParticleSystem&&this._currentParticleSystem.controlsSprite(layerId)){return this._currentParticleSystem.getLayerYOffset(scale,direction,layerId);}return _get(_getPrototypeOf(FurnitureFireworksVisualization.prototype),\"getLayerYOffset\",this).call(this,scale,direction,layerId);}},{key:\"_Str_18684\",value:function _Str_18684(){if(!this.object||!this.object.model)return false;var fireworksData=this.object.model.getValue(RoomObjectVariable.FURNITURE_FIREWORKS_DATA);if(!fireworksData||!fireworksData.length)return false;this._particleSystems=new AdvancedMap();var _iterator2=_createForOfIteratorHelper(fireworksData),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var particleData=_step2.value;var size=particleData.size;var particleSystem=new FurnitureParticleSystem(this);particleSystem.parseData(particleData);this._particleSystems.add(size,particleSystem);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return true;}}]);return FurnitureFireworksVisualization;}(FurnitureAnimatedVisualization);","map":null,"metadata":{},"sourceType":"module"}