{"ast":null,"code":"import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{RoomEngineTriggerWidgetEvent,StringDataType}from'@nitrots/nitro-renderer';import{useCallback,useState}from'react';import{GetRoomEngine,LocalizeBadgeDescription,LocalizeBadgeName,RoomWidgetUpdateRoomObjectEvent}from'../../../../../api';import{LayoutTrophyView}from'../../../../../common';import{UseEventDispatcherHook,UseRoomEngineEvent}from'../../../../../hooks';import{useRoomContext}from'../../../RoomContext';import{FurnitureTrophyData}from'../trophy/FurnitureTrophyData';import{jsx as _jsx}from\"react/jsx-runtime\";export var FurnitureBadgeDisplayView=function FurnitureBadgeDisplayView(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),trophyData=_useState2[0],setTrophyData=_useState2[1];var _useRoomContext=useRoomContext(),_useRoomContext$widge=_useRoomContext.widgetHandler,widgetHandler=_useRoomContext$widge===void 0?null:_useRoomContext$widge;var onNitroEvent=useCallback(function(event){switch(event.type){case RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING:case RoomEngineTriggerWidgetEvent.REQUEST_BADGE_DISPLAY_ENGRAVING:{var widgetEvent=event;var roomObject=GetRoomEngine().getRoomObject(widgetEvent.roomId,widgetEvent.objectId,widgetEvent.category);if(!roomObject)return;var stringStuff=new StringDataType();stringStuff.initializeFromRoomObjectModel(roomObject.model);var badgeName=LocalizeBadgeName(stringStuff.getValue(1));var badgeDesc=LocalizeBadgeDescription(stringStuff.getValue(1));var date=stringStuff.getValue(2);var senderName=stringStuff.getValue(3);setTrophyData(new FurnitureTrophyData(widgetEvent.objectId,widgetEvent.category,'1',senderName,date,badgeDesc,badgeName));return;}case RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED:{var _widgetEvent=event;setTrophyData(function(prevState){if(!prevState||_widgetEvent.id!==prevState.objectId||_widgetEvent.category!==prevState.category)return prevState;return null;});return;}}},[]);UseRoomEngineEvent(RoomEngineTriggerWidgetEvent.REQUEST_BADGE_DISPLAY_ENGRAVING,onNitroEvent);UseRoomEngineEvent(RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,onNitroEvent);UseEventDispatcherHook(RoomWidgetUpdateRoomObjectEvent.FURNI_REMOVED,widgetHandler.eventDispatcher,onNitroEvent);var processAction=useCallback(function(type){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;switch(type){case'close':setTrophyData(null);return;}},[]);if(!trophyData)return null;return/*#__PURE__*/_jsx(LayoutTrophyView,{color:trophyData.color,message:trophyData.message,date:trophyData.date,senderName:trophyData.ownerName,customTitle:trophyData.customTitle,onCloseClick:function onCloseClick(){return processAction('close');}});};","map":null,"metadata":{},"sourceType":"module"}