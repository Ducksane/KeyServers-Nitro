{"ast":null,"code":"import _objectSpread from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"productType\",\"productClassId\",\"direction\",\"extraData\",\"scale\",\"style\"];import{TextureUtils,Vector3d}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useMemo,useState}from'react';import{GetRoomEngine,ProductTypeEnum}from'../../api';import{Base}from'../Base';import{jsx as _jsx}from\"react/jsx-runtime\";export var LayoutFurniImageView=function LayoutFurniImageView(props){var _props$productType=props.productType,productType=_props$productType===void 0?'s':_props$productType,_props$productClassId=props.productClassId,productClassId=_props$productClassId===void 0?-1:_props$productClassId,_props$direction=props.direction,direction=_props$direction===void 0?2:_props$direction,_props$extraData=props.extraData,extraData=_props$extraData===void 0?'':_props$extraData,_props$scale=props.scale,scale=_props$scale===void 0?1:_props$scale,_props$style=props.style,style=_props$style===void 0?{}:_props$style,rest=_objectWithoutProperties(props,_excluded);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),imageElement=_useState2[0],setImageElement=_useState2[1];var getStyle=useMemo(function(){var _imageElement$src;var newStyle={};if(imageElement!==null&&imageElement!==void 0&&(_imageElement$src=imageElement.src)!==null&&_imageElement$src!==void 0&&_imageElement$src.length){newStyle.backgroundImage=\"url('\".concat(imageElement.src,\"')\");newStyle.width=imageElement.width;newStyle.height=imageElement.height;}if(scale!==1){newStyle.transform=\"scale(\".concat(scale,\")\");if(!(scale%1))newStyle.imageRendering='pixelated';}if(Object.keys(style).length)newStyle=_objectSpread(_objectSpread({},newStyle),style);return newStyle;},[imageElement,scale,style]);var buildImage=useCallback(function(){var imageResult=null;var listener={imageReady:function imageReady(id,texture,image){if(!image&&texture){image=TextureUtils.generateImage(texture);}image.onload=function(){return setImageElement(image);};},imageFailed:null};switch(productType.toLocaleLowerCase()){case ProductTypeEnum.FLOOR:imageResult=GetRoomEngine().getFurnitureFloorImage(productClassId,new Vector3d(direction),64,listener,0,extraData);break;case ProductTypeEnum.WALL:imageResult=GetRoomEngine().getFurnitureWallImage(productClassId,new Vector3d(direction),64,listener,0,extraData);break;}if(imageResult){var image=imageResult.getImage();image.onload=function(){return setImageElement(image);};}},[productType,productClassId,direction,extraData]);useEffect(function(){buildImage();},[buildImage]);if(!imageElement)return null;return/*#__PURE__*/_jsx(Base,_objectSpread({classNames:['furni-image'],style:getStyle},rest));};","map":null,"metadata":{},"sourceType":"module"}