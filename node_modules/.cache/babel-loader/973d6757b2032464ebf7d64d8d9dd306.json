{"ast":null,"code":"import _classCallCheck from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _get from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{ObjectDataUpdateMessage}from'../../../messages/ObjectDataUpdateMessage';import{LegacyDataType}from'../../data/type/LegacyDataType';import{FurnitureMultiStateLogic}from'./FurnitureMultiStateLogic';export var FurnitureIceStormLogic=/*#__PURE__*/function(_FurnitureMultiStateL){_inherits(FurnitureIceStormLogic,_FurnitureMultiStateL);var _super=_createSuper(FurnitureIceStormLogic);function FurnitureIceStormLogic(){var _this;_classCallCheck(this,FurnitureIceStormLogic);_this=_super.call(this);_this._nextState=void 0;_this._nextStateExtra=void 0;_this._nextStateTimestamp=void 0;_this._nextState=0;_this._nextStateTimestamp=0;return _this;}_createClass(FurnitureIceStormLogic,[{key:\"update\",value:function update(totalTimeRunning){if(this._nextStateTimestamp>0&&totalTimeRunning>=this._nextStateTimestamp){this._nextStateTimestamp=0;var data=new LegacyDataType();data.setString(this._nextState.toString());_get(_getPrototypeOf(FurnitureIceStormLogic.prototype),\"processUpdateMessage\",this).call(this,new ObjectDataUpdateMessage(this._nextState,data,this._nextStateExtra));}_get(_getPrototypeOf(FurnitureIceStormLogic.prototype),\"update\",this).call(this,totalTimeRunning);}},{key:\"processUpdateMessage\",value:function processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage){this.processUpdate(message);return;}_get(_getPrototypeOf(FurnitureIceStormLogic.prototype),\"processUpdateMessage\",this).call(this,message);}},{key:\"processUpdate\",value:function processUpdate(message){if(!message)return;var state=~~(message.state/1000);var time=~~(message.state%1000);if(!time){this._nextStateTimestamp=0;var data=new LegacyDataType();data.setString(state.toString());_get(_getPrototypeOf(FurnitureIceStormLogic.prototype),\"processUpdateMessage\",this).call(this,new ObjectDataUpdateMessage(state,data,message.extra));}else{this._nextState=state;this._nextStateExtra=message.extra;this._nextStateTimestamp=this.time+time;}}}]);return FurnitureIceStormLogic;}(FurnitureMultiStateLogic);","map":null,"metadata":{},"sourceType":"module"}