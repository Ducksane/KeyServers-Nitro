{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable no-template-curly-in-string */import{HabboClubLevelEnum,RoomCreateComposer}from'@nitrots/nitro-renderer';import{useEffect,useState}from'react';import{GetClubMemberLevel,GetConfiguration,LocalizeText,SendMessageComposer}from'../../../api';import{Button,Column,Flex,Grid,LayoutCurrencyIcon,LayoutGridItem,Text}from'../../../common';import{useNavigatorContext}from'../NavigatorContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var NavigatorRoomCreatorView=function NavigatorRoomCreatorView(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),maxVisitorsList=_useState2[0],setMaxVisitorsList=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),visitorsCount=_useState10[0],setVisitorsCount=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),tradesSetting=_useState12[0],setTradesSetting=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),roomModels=_useState14[0],setRoomModels=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),selectedModelName=_useState16[0],setSelectedModelName=_useState16[1];var _useNavigatorContext=useNavigatorContext(),_useNavigatorContext$=_useNavigatorContext.categories,categories=_useNavigatorContext$===void 0?null:_useNavigatorContext$;var hcDisabled=GetConfiguration('hc.disabled',false);var getRoomModelImage=function getRoomModelImage(name){return GetConfiguration('images.url')+\"/navigator/models/model_\".concat(name,\".png\");};var selectModel=function selectModel(model,index){if(!model||model.clubLevel>GetClubMemberLevel())return;setSelectedModelName(roomModels[index].name);};var createRoom=function createRoom(){SendMessageComposer(new RoomCreateComposer(name,description,'model_'+selectedModelName,Number(category),Number(visitorsCount),tradesSetting));};useEffect(function(){if(!maxVisitorsList){var list=[];for(var i=10;i<=100;i=i+10){list.push(i);}setMaxVisitorsList(list);setVisitorsCount(list[0]);}},[maxVisitorsList]);useEffect(function(){if(categories&&categories.length)setCategory(categories[0].id);},[categories]);useEffect(function(){var models=GetConfiguration('navigator.room.models');if(models&&models.length){setRoomModels(models);setSelectedModelName(models[0].name);}},[]);return/*#__PURE__*/_jsxs(Column,{overflow:\"hidden\",children:[/*#__PURE__*/_jsxs(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/_jsxs(Column,{size:6,gap:1,overflow:\"auto\",children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.createroom.roomnameinfo')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",maxLength:60,onChange:function onChange(event){return setName(event.target.value);},placeholder:LocalizeText('navigator.createroom.roomnameinfo')})]}),/*#__PURE__*/_jsxs(Column,{grow:true,gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.createroom.roomdescinfo')}),/*#__PURE__*/_jsx(\"textarea\",{className:\"flex-grow-1 form-control form-control-sm w-100\",maxLength:255,onChange:function onChange(event){return setDescription(event.target.value);},placeholder:LocalizeText('navigator.createroom.roomdescinfo')})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.category')}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select form-select-sm\",onChange:function onChange(event){return setCategory(Number(event.target.value));},children:categories&&categories.length>0&&categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.id,children:LocalizeText(category.name)},category.id);})})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.maxvisitors')}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select form-select-sm\",onChange:function onChange(event){return setVisitorsCount(Number(event.target.value));},children:maxVisitorsList&&maxVisitorsList.map(function(value){return/*#__PURE__*/_jsx(\"option\",{value:value,children:value},value);})})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.tradesettings')}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",onChange:function onChange(event){return setTradesSetting(Number(event.target.value));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:LocalizeText('navigator.roomsettings.trade_not_allowed')}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:LocalizeText('navigator.roomsettings.trade_not_with_Controller')}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:LocalizeText('navigator.roomsettings.trade_allowed')})]})]})]}),/*#__PURE__*/_jsx(Column,{size:6,gap:1,overflow:\"auto\",children:roomModels.map(function(model,index){return/*#__PURE__*/_jsxs(LayoutGridItem,{fullHeight:true,onClick:function onClick(){return selectModel(model,index);},itemActive:selectedModelName===model.name,overflow:\"unset\",gap:0,className:\"p-1\",disabled:GetClubMemberLevel()<model.clubLevel,children:[/*#__PURE__*/_jsx(Flex,{fullHeight:true,center:true,overflow:\"hidden\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:getRoomModelImage(model.name)})}),/*#__PURE__*/_jsxs(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:[model.tileSize,\" \",LocalizeText('navigator.createroom.tilesize')]}),!hcDisabled&&model.clubLevel>HabboClubLevelEnum.NO_CLUB&&/*#__PURE__*/_jsx(LayoutCurrencyIcon,{position:\"absolute\",className:\"top-1 end-1\",type:\"hc\"})]},model.name);})})]}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:!name||name.length<3?'danger':'success',onClick:createRoom,disabled:!name||name.length<3,children:LocalizeText('navigator.createroom.create')})]});};","map":null,"metadata":{},"sourceType":"module"}