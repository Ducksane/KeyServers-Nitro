{"ast":null,"code":"import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FriendlyTime,GetModeratorUserInfoMessageComposer,ModeratorUserInfoEvent}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useMemo,useState}from'react';import{LocalizeText,SendMessageComposer}from'../../../../api';import{Button,Column,DraggableWindowPosition,Grid,NitroCardContentView,NitroCardHeaderView,NitroCardView}from'../../../../common';import{ModToolsOpenUserChatlogEvent}from'../../../../events';import{DispatchUiEvent,UseMessageEventHook}from'../../../../hooks';import{ModToolsUserModActionView}from'./ModToolsUserModActionView';import{ModToolsUserRoomVisitsView}from'./ModToolsUserRoomVisitsView';import{ModToolsUserSendMessageView}from'./ModToolsUserSendMessageView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ModToolsUserView=function ModToolsUserView(props){var _props$onCloseClick=props.onCloseClick,_onCloseClick=_props$onCloseClick===void 0?null:_props$onCloseClick,_props$userId=props.userId,userId=_props$userId===void 0?null:_props$userId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),sendMessageVisible=_useState4[0],setSendMessageVisible=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modActionVisible=_useState6[0],setModActionVisible=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),roomVisitsVisible=_useState8[0],setRoomVisitsVisible=_useState8[1];var onModtoolUserInfoEvent=useCallback(function(event){var parser=event.getParser();if(!parser||parser.data.userId!==userId)return;setUserInfo(parser.data);},[userId]);UseMessageEventHook(ModeratorUserInfoEvent,onModtoolUserInfoEvent);var userProperties=useMemo(function(){if(!userInfo)return null;return[{localeKey:'modtools.userinfo.userName',value:userInfo.userName,showOnline:true},{localeKey:'modtools.userinfo.cfhCount',value:userInfo.cfhCount.toString()},{localeKey:'modtools.userinfo.abusiveCfhCount',value:userInfo.abusiveCfhCount.toString()},{localeKey:'modtools.userinfo.cautionCount',value:userInfo.cautionCount.toString()},{localeKey:'modtools.userinfo.banCount',value:userInfo.banCount.toString()},{localeKey:'modtools.userinfo.lastSanctionTime',value:userInfo.lastSanctionTime},{localeKey:'modtools.userinfo.tradingLockCount',value:userInfo.tradingLockCount.toString()},{localeKey:'modtools.userinfo.tradingExpiryDate',value:userInfo.tradingExpiryDate},{localeKey:'modtools.userinfo.minutesSinceLastLogin',value:FriendlyTime.format(userInfo.minutesSinceLastLogin*60,'.ago',2)},{localeKey:'modtools.userinfo.lastPurchaseDate',value:userInfo.lastPurchaseDate},{localeKey:'modtools.userinfo.primaryEmailAddress',value:userInfo.primaryEmailAddress},{localeKey:'modtools.userinfo.identityRelatedBanCount',value:userInfo.identityRelatedBanCount.toString()},{localeKey:'modtools.userinfo.registrationAgeInMinutes',value:FriendlyTime.format(userInfo.registrationAgeInMinutes*60,'.ago',2)},{localeKey:'modtools.userinfo.userClassification',value:userInfo.userClassification}];},[userInfo]);useEffect(function(){SendMessageComposer(new GetModeratorUserInfoMessageComposer(userId));},[userId]);if(!userInfo)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(NitroCardView,{className:\"nitro-mod-tools-user\",theme:\"primary-slim\",windowPosition:DraggableWindowPosition.TOP_LEFT,children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:LocalizeText('modtools.userinfo.title',['username'],[userInfo.userName]),onCloseClick:function onCloseClick(){return _onCloseClick();}}),/*#__PURE__*/_jsx(NitroCardContentView,{className:\"text-black\",children:/*#__PURE__*/_jsxs(Grid,{overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Column,{size:8,overflow:\"auto\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-striped table-sm table-text-small text-black m-0\",children:/*#__PURE__*/_jsx(\"tbody\",{children:userProperties.map(function(property,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{color:\"var(--test-galaxytext)\"},scope:\"row\",children:LocalizeText(property.localeKey)}),/*#__PURE__*/_jsxs(\"td\",{style:{color:\"var(--test-galaxytext)\"},children:[property.value,property.showOnline&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-pf-\".concat(userInfo.online?'online':'offline',\" ms-2\")})]})]},index);})})})}),/*#__PURE__*/_jsxs(Column,{size:4,gap:1,children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(event){return DispatchUiEvent(new ModToolsOpenUserChatlogEvent(userId));},children:\"Room Chat\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(event){return setSendMessageVisible(!sendMessageVisible);},children:\"Send Message\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(event){return setRoomVisitsVisible(!roomVisitsVisible);},children:\"Room Visits\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(event){return setModActionVisible(!modActionVisible);},children:\"Mod Action\"})]})]})})]}),sendMessageVisible&&/*#__PURE__*/_jsx(ModToolsUserSendMessageView,{user:{userId:userId,username:userInfo.userName},onCloseClick:function onCloseClick(){return setSendMessageVisible(false);}}),modActionVisible&&/*#__PURE__*/_jsx(ModToolsUserModActionView,{user:{userId:userId,username:userInfo.userName},onCloseClick:function onCloseClick(){return setModActionVisible(false);}}),roomVisitsVisible&&/*#__PURE__*/_jsx(ModToolsUserRoomVisitsView,{userId:userId,onCloseClick:function onCloseClick(){return setRoomVisitsVisible(false);}})]});};","map":null,"metadata":{},"sourceType":"module"}