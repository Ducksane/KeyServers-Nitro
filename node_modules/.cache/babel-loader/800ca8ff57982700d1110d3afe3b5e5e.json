{"ast":null,"code":"import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{AvatarAction}from'../../../../../avatar/enum/AvatarAction';import{Nitro}from'../../../../../Nitro';import{ExpressionAddition}from'./ExpressionAddition';export var FloatingHeartAddition=/*#__PURE__*/function(_ExpressionAddition){_inherits(FloatingHeartAddition,_ExpressionAddition);var _super=_createSuper(FloatingHeartAddition);function FloatingHeartAddition(id,type,visualization){var _this;_classCallCheck(this,FloatingHeartAddition);_this=_super.call(this,id,type,visualization);_this._asset=void 0;_this._startTime=void 0;_this._delta=void 0;_this._offsetY=void 0;_this._scale=void 0;_this._state=void 0;_this._asset=null;_this._startTime=Nitro.instance.time;_this._delta=0;_this._offsetY=0;_this._scale=0;_this._state=0;return _this;}_createClass(FloatingHeartAddition,[{key:\"update\",value:function update(sprite,scale){if(!sprite)return;this._scale=scale;var additionScale=64;var offsetX=0;if(scale<48){this._asset=this.visualization.getAvatarRenderAsset('avatar_addition_user_blowkiss_small');if(this.visualization.angle===90||this.visualization.angle===270){offsetX=0;}else if(this.visualization.angle===135||this.visualization.angle===180||this.visualization.angle===225){offsetX=6;}else offsetX=-6;this._offsetY=-38;additionScale=32;}else{this._asset=this.visualization.getAvatarRenderAsset('avatar_addition_user_blowkiss');if(this.visualization.angle===90||this.visualization.angle===270){offsetX=-3;}else if(this.visualization.angle===135||this.visualization.angle===180||this.visualization.angle===225){offsetX=22;}else offsetX=-30;this._offsetY=-70;}if(this.visualization.posture===AvatarAction.POSTURE_SIT){this._offsetY+=additionScale/2;}else if(this.visualization.posture===AvatarAction.POSTURE_LAY){this._offsetY+=additionScale;}if(this._asset){sprite.texture=this._asset;sprite.offsetX=offsetX;sprite.offsetY=this._offsetY;sprite.relativeDepth=-0.02;sprite.alpha=0;var delta=this._delta;this.animate(sprite);this._delta=delta;}}},{key:\"animate\",value:function animate(sprite){if(!sprite)return false;if(this._asset)sprite.texture=this._asset;if(this._state===FloatingHeartAddition.STATE_DELAY){if(Nitro.instance.time-this._startTime<FloatingHeartAddition.DELAY_BEFORE_ANIMATION)return false;this._state=FloatingHeartAddition.STATE_FADE_IN;sprite.alpha=0;sprite.visible=true;this._delta=0;return true;}if(this._state===FloatingHeartAddition.STATE_FADE_IN){this._delta+=0.1;sprite.offsetY=this._offsetY;sprite.alpha=Math.pow(this._delta,0.9)*255;if(this._delta>=1){sprite.alpha=255;this._delta=0;this._state=FloatingHeartAddition.STATE_FLOAT;}return true;}if(this._state===FloatingHeartAddition.STATE_FLOAT){var alpha=Math.pow(this._delta,0.9);this._delta+=0.05;var offset=this._scale<48?-30:-40;sprite.offsetY=this._offsetY+(this._delta<1?alpha:1)*offset;sprite.alpha=(1-alpha)*255;if(sprite.alpha<=0){sprite.visible=false;this._state=FloatingHeartAddition.STATE_COMPLETE;}return true;}return false;}}]);return FloatingHeartAddition;}(ExpressionAddition);FloatingHeartAddition.DELAY_BEFORE_ANIMATION=300;FloatingHeartAddition.STATE_DELAY=0;FloatingHeartAddition.STATE_FADE_IN=1;FloatingHeartAddition.STATE_FLOAT=2;FloatingHeartAddition.STATE_COMPLETE=3;","map":null,"metadata":{},"sourceType":"module"}