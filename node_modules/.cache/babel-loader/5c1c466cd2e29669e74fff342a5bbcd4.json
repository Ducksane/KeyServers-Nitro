{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{AnimationFrame}from'./AnimationFrame';export var AnimationStateData=/*#__PURE__*/function(){function AnimationStateData(){_classCallCheck(this,AnimationStateData);this._animationId=void 0;this._animationAfterTransitionId=void 0;this._animationOver=void 0;this._frameCounter=void 0;this._frames=void 0;this._lastFramePlayed=void 0;this._animationPlayed=void 0;this._layerCount=void 0;this._animationId=-1;this._animationAfterTransitionId=0;this._animationOver=false;this._frameCounter=0;this._frames=[];this._lastFramePlayed=[];this._animationPlayed=[];this._layerCount=0;}_createClass(AnimationStateData,[{key:\"animationOver\",get:function get(){return this._animationOver;},set:function set(k){this._animationOver=k;}},{key:\"frameCounter\",get:function get(){return this._frameCounter;},set:function set(k){this._frameCounter=k;}},{key:\"animationId\",get:function get(){return this._animationId;},set:function set(animationId){if(animationId===this._animationId)return;this._animationId=animationId;this.resetAnimationFrames(false);}},{key:\"animationAfterTransitionId\",get:function get(){return this._animationAfterTransitionId;},set:function set(k){this._animationAfterTransitionId=k;}},{key:\"dispose\",value:function dispose(){this.recycleFrames();this._frames=null;this._lastFramePlayed=null;this._animationPlayed=null;}},{key:\"setLayerCount\",value:function setLayerCount(k){this._layerCount=k;this.resetAnimationFrames();}},{key:\"resetAnimationFrames\",value:function resetAnimationFrames(){var k=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(k||!this._frames){this.recycleFrames();this._frames=[];}this._lastFramePlayed=[];this._animationPlayed=[];this._animationOver=false;this._frameCounter=0;var layerId=0;while(layerId<this._layerCount){if(k||this._frames.length<=layerId){this._frames[layerId]=null;}else{var frame=this._frames[layerId];if(frame){frame.recycle();this._frames[layerId]=AnimationFrame.allocate(frame.id,frame.x,frame.y,frame.repeats,0,frame.isLastFrame);}}this._lastFramePlayed[layerId]=false;this._animationPlayed[layerId]=false;layerId++;}}},{key:\"recycleFrames\",value:function recycleFrames(){if(!this._frames||!this._frames.length)return;var _iterator=_createForOfIteratorHelper(this._frames),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var frame=_step.value;if(!frame)continue;frame.recycle();}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},{key:\"getFrame\",value:function getFrame(layerId){if(layerId<0||layerId>=this._layerCount)return null;return this._frames[layerId];}},{key:\"setFrame\",value:function setFrame(layerId,frame){if(layerId<0||layerId>=this._layerCount)return;var existingFrame=this._frames[layerId];if(existingFrame)existingFrame.recycle();this._frames[layerId]=frame;}},{key:\"getAnimationPlayed\",value:function getAnimationPlayed(layerId){if(layerId<0||layerId>=this._layerCount)return true;return this._animationPlayed[layerId];}},{key:\"setAnimationPlayed\",value:function setAnimationPlayed(layerId,flag){if(layerId<0||layerId>=this._layerCount)return;this._animationPlayed[layerId]=flag;}},{key:\"getLastFramePlayed\",value:function getLastFramePlayed(layerId){if(layerId<0||layerId>=this._layerCount)return true;return this._lastFramePlayed[layerId];}},{key:\"setLastFramePlayed\",value:function setLastFramePlayed(layerId,flag){if(layerId<0||layerId>=this._layerCount)return;this._lastFramePlayed[layerId]=flag;}}]);return AnimationStateData;}();","map":null,"metadata":{},"sourceType":"module"}