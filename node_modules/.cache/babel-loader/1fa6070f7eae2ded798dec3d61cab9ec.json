{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Dispose,DropBounce,EaseOut,JumpBy,Motions,NitroToolbarAnimateIconEvent,PerkAllowancesMessageEvent,PerkEnum,Queue,Wait}from'@nitrots/nitro-renderer';import{useCallback,useState}from'react';import{CreateLinkEvent,GetSessionDataManager,MessengerIconState,OpenMessengerChat,VisitDesktop}from'../../api';import{Base,Flex,LayoutAvatarImageView,LayoutItemCountView,TransitionAnimation,TransitionAnimationTypes}from'../../common';import{ModToolsEvent}from'../../events';import{DispatchUiEvent,useAchievements,useFriends,useInventoryUnseenTracker,UseMessageEventHook,useMessenger,UseRoomEngineEvent,useSessionInfo}from'../../hooks';import{ToolbarMeView}from'./ToolbarMeView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ToolbarView=function ToolbarView(props){var isInRoom=props.isInRoom;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMeExpanded=_useState2[0],setMeExpanded=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),useGuideTool=_useState4[0],setUseGuideTool=_useState4[1];var _useSessionInfo=useSessionInfo(),_useSessionInfo$userF=_useSessionInfo.userFigure,userFigure=_useSessionInfo$userF===void 0?null:_useSessionInfo$userF;var _useInventoryUnseenTr=useInventoryUnseenTracker(),_useInventoryUnseenTr2=_useInventoryUnseenTr.getFullCount,getFullCount=_useInventoryUnseenTr2===void 0?0:_useInventoryUnseenTr2;var _useAchievements=useAchievements(),_useAchievements$getT=_useAchievements.getTotalUnseen,getTotalUnseen=_useAchievements$getT===void 0?0:_useAchievements$getT;var _useFriends=useFriends(),_useFriends$requests=_useFriends.requests,requests=_useFriends$requests===void 0?[]:_useFriends$requests;var _useMessenger=useMessenger(),_useMessenger$iconSta=_useMessenger.iconState,iconState=_useMessenger$iconSta===void 0?MessengerIconState.HIDDEN:_useMessenger$iconSta;var isMod=GetSessionDataManager().isModerator;var onPerkAllowancesMessageEvent=useCallback(function(event){var parser=event.getParser();setUseGuideTool(parser.isAllowed(PerkEnum.USE_GUIDE_TOOL));},[setUseGuideTool]);UseMessageEventHook(PerkAllowancesMessageEvent,onPerkAllowancesMessageEvent);var animationIconToToolbar=useCallback(function(iconName,image,x,y){var target=document.body.getElementsByClassName(iconName)[0];if(!target)return;image.className='toolbar-icon-animation';image.style.visibility='visible';image.style.left=x+'px';image.style.top=y+'px';document.body.append(image);var targetBounds=target.getBoundingClientRect();var imageBounds=image.getBoundingClientRect();var left=imageBounds.x-targetBounds.x;var top=imageBounds.y-targetBounds.y;var squared=Math.sqrt(left*left+top*top);var wait=500-Math.abs(1/squared*100*500*0.5);var height=20;var motionName=\"ToolbarBouncing[\".concat(iconName,\"]\");if(!Motions.getMotionByTag(motionName)){Motions.runMotion(new Queue(new Wait(wait+8),new DropBounce(target,400,12))).tag=motionName;}var motion=new Queue(new EaseOut(new JumpBy(image,wait,targetBounds.x-imageBounds.x+height,targetBounds.y-imageBounds.y,100,1),1),new Dispose(image));Motions.runMotion(motion);},[]);var onNitroToolbarAnimateIconEvent=useCallback(function(event){animationIconToToolbar('icon-inventory',event.image,event.x,event.y);},[animationIconToToolbar]);UseRoomEngineEvent(NitroToolbarAnimateIconEvent.ANIMATE_ICON,onNitroToolbarAnimateIconEvent);//<Flex alignItems=\"center\" gap={ 2 } style={{ backgroundColor: \"var(--test-galaxy)\", borderRadius: \"0.2rem\", marginBottom: \"3px\",\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TransitionAnimation,{type:TransitionAnimationTypes.FADE_IN,inProp:isMeExpanded,timeout:300,children:/*#__PURE__*/_jsx(ToolbarMeView,{useGuideTool:useGuideTool,unseenAchievementCount:getTotalUnseen,setMeExpanded:setMeExpanded})}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"between\",gap:3,className:\"nitro-toolbar py-1 px-3 animate__animated animate__backInUp\",style:{marginBottom:\"17px\"},children:[/*#__PURE__*/_jsx(Flex,{gap:2,alignItems:\"center\",children:/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:2,style:{marginBottom:\"3px\",paddingTop:2,paddingBottom:2,paddingLeft:10,paddingRight:10},children:[/*#__PURE__*/_jsx(Flex,{style:{borderRadius:\"50%\",backgroundColor:\"var(--test-galaxytwo)\",padding:\"26px\"},center:true,pointer:true,className:'navigation-item item-avatar icon-border '+(isMeExpanded?'active ':''),onClick:function onClick(event){return setMeExpanded(!isMeExpanded);},children:/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:userFigure,direction:2,position:\"absolute\"})}),isInRoom&&/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-habbo icon-border message-icon-show\",onClick:function onClick(event){return VisitDesktop();}}),!isInRoom&&/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-house icon-border\",onClick:function onClick(event){return CreateLinkEvent('navigator/goto/home');}}),/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-rooms icon-border\",onClick:function onClick(event){return CreateLinkEvent('navigator/toggle');}}),/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-catalog icon-border\",onClick:function onClick(event){return CreateLinkEvent('catalog/toggle');}}),/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-inventory icon-border\",onClick:function onClick(event){return CreateLinkEvent('inventory/toggle');},children:getFullCount>0&&/*#__PURE__*/_jsx(LayoutItemCountView,{count:getFullCount})}),isInRoom&&/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-camera icon-border\",onClick:function onClick(event){return CreateLinkEvent('camera/toggle');}}),isMod&&/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-modtools icon-border\",onClick:function onClick(event){return DispatchUiEvent(new ModToolsEvent(ModToolsEvent.TOGGLE_MOD_TOOLS));}})]})}),/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",id:\"toolbar-chat-input-container\"}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:2,children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"3px\",paddingTop:6,paddingBottom:6,paddingLeft:10,paddingRight:10},children:/*#__PURE__*/_jsxs(Flex,{gap:2,children:[/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-friendall icon-border\",onClick:function onClick(event){return CreateLinkEvent('friends/toggle');},children:requests.length>0&&/*#__PURE__*/_jsx(LayoutItemCountView,{count:requests.length})}),(iconState===MessengerIconState.SHOW||iconState===MessengerIconState.UNREAD)&&/*#__PURE__*/_jsx(Base,{style:{borderRadius:\"16px\",backgroundColor:\"var(--test-galaxy)\",padding:\"25px\"},pointer:true,className:\"navigation-item icon icon-border icon-message  \".concat(iconState===MessengerIconState.UNREAD&&'is-unseen'),onClick:function onClick(event){return OpenMessengerChat();}})]})}),/*#__PURE__*/_jsx(Base,{id:\"toolbar-friend-bar-container\",className:\"d-none d-lg-block\"})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}