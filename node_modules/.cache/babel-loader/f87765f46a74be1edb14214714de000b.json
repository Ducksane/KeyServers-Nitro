{"ast":null,"code":"import _classCallCheck from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _get from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Nitro}from'../../../../Nitro';import{ObjectDataUpdateMessage}from'../../../messages/ObjectDataUpdateMessage';import{FurnitureLogic}from'./FurnitureLogic';export var FurnitureScoreLogic=/*#__PURE__*/function(_FurnitureLogic){_inherits(FurnitureScoreLogic,_FurnitureLogic);var _super=_createSuper(FurnitureScoreLogic);function FurnitureScoreLogic(){var _this;_classCallCheck(this,FurnitureScoreLogic);_this=_super.call(this);_this._score=void 0;_this._scoreIncreaser=void 0;_this._scoreTimer=void 0;_this._score=0;_this._scoreIncreaser=50;_this._scoreTimer=0;return _this;}_createClass(FurnitureScoreLogic,[{key:\"processUpdateMessage\",value:function processUpdateMessage(message){if(message instanceof ObjectDataUpdateMessage)return this.updateScore(message.state);_get(_getPrototypeOf(FurnitureScoreLogic.prototype),\"processUpdateMessage\",this).call(this,message);}},{key:\"updateScore\",value:function updateScore(count){this._score=count;var currentScore=this.object.getState(0);if(this._score!==currentScore){var difference=this._score-currentScore;if(difference<0)difference=-difference;if(difference*FurnitureScoreLogic.UPDATE_INTERVAL>FurnitureScoreLogic.MAX_UPDATE_TIME)this._scoreIncreaser=FurnitureScoreLogic.MAX_UPDATE_TIME/difference;else this._scoreIncreaser=FurnitureScoreLogic.UPDATE_INTERVAL;this._scoreTimer=Nitro.instance.time;}}},{key:\"update\",value:function update(time){_get(_getPrototypeOf(FurnitureScoreLogic.prototype),\"update\",this).call(this,time);var currentScore=this.object.getState(0);if(currentScore!==this._score&&time>=this._scoreTimer+this._scoreIncreaser){var _local_3=time-this._scoreTimer;var _local_4=_local_3/this._scoreIncreaser;var _local_5=1;if(this._score<currentScore)_local_5=-1;if(_local_4>_local_5*(this._score-currentScore))_local_4=_local_5*(this._score-currentScore);this.object.setState(currentScore+_local_5*_local_4,0);this._scoreTimer=time-(_local_3-_local_4*this._scoreIncreaser);}}}]);return FurnitureScoreLogic;}(FurnitureLogic);FurnitureScoreLogic.UPDATE_INTERVAL=50;FurnitureScoreLogic.MAX_UPDATE_TIME=3000;","map":null,"metadata":{},"sourceType":"module"}