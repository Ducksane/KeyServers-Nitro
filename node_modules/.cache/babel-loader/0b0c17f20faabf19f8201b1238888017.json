{"ast":null,"code":"import _toConsumableArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/muphy/Documents/habboom/Nitro-Edit-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{BannedUsersFromRoomEvent,RoomBannedUsersComposer,RoomUnbanUserComposer}from'@nitrots/nitro-renderer';import{useCallback,useEffect,useState}from'react';import{LocalizeText,SendMessageComposer}from'../../../../api';import{Button,Column,Flex,Grid,Text,UserProfileIconView}from'../../../../common';import{UseMessageEventHook}from'../../../../hooks';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var NavigatorRoomSettingsModTabView=function NavigatorRoomSettingsModTabView(props){var _bannedUsers$find;var _props$roomData=props.roomData,roomData=_props$roomData===void 0?null:_props$roomData,_props$handleChange=props.handleChange,handleChange=_props$handleChange===void 0?null:_props$handleChange;var _useState=useState(-1),_useState2=_slicedToArray(_useState,2),selectedUserId=_useState2[0],setSelectedUserId=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),bannedUsers=_useState4[0],setBannedUsers=_useState4[1];var onBannedUsersFromRoomEvent=useCallback(function(event){var parser=event.getParser();if(!roomData||roomData.roomId!==parser.roomId)return;setBannedUsers(parser.bannedUsers);},[roomData]);UseMessageEventHook(BannedUsersFromRoomEvent,onBannedUsersFromRoomEvent);var unBanUser=useCallback(function(userId){setBannedUsers(function(prevValue){var newValue=_toConsumableArray(prevValue);var index=newValue.findIndex(function(value){return value.userId===userId;});if(index>=0)newValue.splice(index,1);return newValue;});SendMessageComposer(new RoomUnbanUserComposer(userId,roomData.roomId));setSelectedUserId(-1);},[roomData]);useEffect(function(){SendMessageComposer(new RoomBannedUsersComposer(roomData.roomId));},[roomData.roomId]);return/*#__PURE__*/_jsxs(Grid,{overflow:\"auto\",children:[/*#__PURE__*/_jsxs(Column,{size:6,children:[/*#__PURE__*/_jsxs(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:[LocalizeText('navigator.roomsettings.moderation.banned.users'),\" (\",bannedUsers.length,\")\"]}),/*#__PURE__*/_jsx(Flex,{overflow:\"hidden\",className:\"bg-white rounded list-container p-2\",children:/*#__PURE__*/_jsx(Column,{fullWidth:true,overflow:\"auto\",gap:1,children:bannedUsers&&bannedUsers.length>0&&bannedUsers.map(function(user,index){return/*#__PURE__*/_jsxs(Flex,{shrink:true,alignItems:\"center\",gap:1,overflow:\"hidden\",children:[/*#__PURE__*/_jsx(UserProfileIconView,{userName:user.userName}),/*#__PURE__*/_jsxs(Text,{pointer:true,grow:true,onClick:function onClick(event){return setSelectedUserId(user.userId);},children:[\" \",user.userName]})]},index);})})}),/*#__PURE__*/_jsxs(Button,{disabled:selectedUserId<=0,onClick:function onClick(event){return unBanUser(selectedUserId);},children:[LocalizeText('navigator.roomsettings.moderation.unban'),\" \",selectedUserId>0&&((_bannedUsers$find=bannedUsers.find(function(user){return user.userId===selectedUserId;}))===null||_bannedUsers$find===void 0?void 0:_bannedUsers$find.userName)]})]}),/*#__PURE__*/_jsxs(Column,{size:6,children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.moderation.mute.header')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowMute===1,onChange:function onChange(event){return handleChange('moderation_mute',event.target.checked?1:0);}}),/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.moderation.kick.header')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowKick===0,onChange:function onChange(event){return handleChange('moderation_kick',event.target.checked?0:2);}}),/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.moderation.all')})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowKick===1||roomData.moderationSettings.allowKick===0,disabled:roomData.moderationSettings.allowKick===0,onChange:function onChange(event){return handleChange('moderation_kick',event.target.checked?1:2);}}),/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},bold:true,children:LocalizeText('navigator.roomsettings.moderation.ban.header')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:roomData.moderationSettings.allowBan===1,onChange:function onChange(event){return handleChange('moderation_ban',event.target.checked?1:0);}}),/*#__PURE__*/_jsx(Text,{variant:\"none\",style:{color:\"var(--test-galaxytext)\"},children:LocalizeText('navigator.roomsettings.moderation.rights')})]})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}