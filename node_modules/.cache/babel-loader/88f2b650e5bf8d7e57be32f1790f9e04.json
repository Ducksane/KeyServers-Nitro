{"ast":null,"code":"import _slicedToArray from\"C:/Users/Administrator/Desktop/nitro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FriendlyTime,RequestFriendComposer}from'@nitrots/nitro-renderer';import{useEffect,useState}from'react';import{GetSessionDataManager,LocalizeText,SendMessageComposer}from'../../../api';import{Column,Flex,LayoutAvatarImageView,Text}from'../../../common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var UserContainerView=function UserContainerView(props){var _props$userProfile=props.userProfile,userProfile=_props$userProfile===void 0?null:_props$userProfile;var _useState=useState(userProfile.requestSent),_useState2=_slicedToArray(_useState,2),requestSent=_useState2[0],setRequestSent=_useState2[1];var isOwnProfile=userProfile.id===GetSessionDataManager().userId;var canSendFriendRequest=!requestSent&&!isOwnProfile&&!userProfile.isMyFriend&&!userProfile.requestSent;var addFriend=function addFriend(){setRequestSent(true);SendMessageComposer(new RequestFriendComposer(userProfile.username));};useEffect(function(){setRequestSent(userProfile.requestSent);},[userProfile]);return/*#__PURE__*/_jsxs(Flex,{gap:2,children:[/*#__PURE__*/_jsx(Column,{center:true,className:\"avatar-container\",children:/*#__PURE__*/_jsx(LayoutAvatarImageView,{figure:userProfile.figure,direction:2})}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Column,{gap:0,children:[/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",bold:true,children:userProfile.username}),/*#__PURE__*/_jsxs(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",italics:true,textBreak:true,small:true,children:[userProfile.motto,\"\\xA0\"]})]}),/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsxs(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:[/*#__PURE__*/_jsx(\"b\",{children:LocalizeText('extendedprofile.created')}),\" \",userProfile.registration]}),/*#__PURE__*/_jsxs(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:[/*#__PURE__*/_jsx(\"b\",{children:LocalizeText('extendedprofile.last.login')}),\" \",FriendlyTime.format(userProfile.secondsSinceLastVisit,'.ago',2)]}),/*#__PURE__*/_jsxs(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,children:[/*#__PURE__*/_jsx(\"b\",{children:LocalizeText('extendedprofile.achievementscore')}),\" \",userProfile.achievementPoints]})]}),/*#__PURE__*/_jsxs(Flex,{gap:1,children:[userProfile.isOnline&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-pf-online\"}),!userProfile.isOnline&&/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-pf-offline\"}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[canSendFriendRequest&&/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",small:true,underline:true,pointer:true,onClick:addFriend,children:LocalizeText('extendedprofile.addasafriend')}),!canSendFriendRequest&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-pf-tick\"}),isOwnProfile&&/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('extendedprofile.me')}),userProfile.isMyFriend&&/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('extendedprofile.friend')}),(requestSent||userProfile.requestSent)&&/*#__PURE__*/_jsx(Text,{style:{color:\"var(--test-galaxytext)\"},variant:\"none\",children:LocalizeText('extendedprofile.friendrequestsent')})]})]})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}