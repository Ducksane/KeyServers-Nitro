{"ast":null,"code":"import _slicedToArray from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{GetSessionDataManager,LocalizeText,WiredFurniType,WiredSelectionVisualizer}from'../../../api';import{Button,Column,Flex,NitroCardContentView,NitroCardHeaderView,NitroCardView,Text}from'../../../common';import{useWiredContext}from'../WiredContext';import{WiredFurniSelectorView}from'./WiredFurniSelectorView';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var WiredBaseView=function WiredBaseView(props){var _props$wiredType=props.wiredType,wiredType=_props$wiredType===void 0?'':_props$wiredType,_props$requiresFurni=props.requiresFurni,requiresFurni=_props$requiresFurni===void 0?WiredFurniType.STUFF_SELECTION_OPTION_NONE:_props$requiresFurni,_props$save=props.save,save=_props$save===void 0?null:_props$save,_props$validate=props.validate,validate=_props$validate===void 0?null:_props$validate,_props$children=props.children,children=_props$children===void 0?null:_props$children,_props$hasSpecialInpu=props.hasSpecialInput,hasSpecialInput=_props$hasSpecialInpu===void 0?false:_props$hasSpecialInpu;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),wiredName=_useState2[0],setWiredName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),wiredDescription=_useState4[0],setWiredDescription=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),needsSave=_useState6[0],setNeedsSave=_useState6[1];var _useWiredContext=useWiredContext(),_useWiredContext$trig=_useWiredContext.trigger,trigger=_useWiredContext$trig===void 0?null:_useWiredContext$trig,_useWiredContext$setT=_useWiredContext.setTrigger,setTrigger=_useWiredContext$setT===void 0?null:_useWiredContext$setT,_useWiredContext$setI=_useWiredContext.setIntParams,setIntParams=_useWiredContext$setI===void 0?null:_useWiredContext$setI,_useWiredContext$setS=_useWiredContext.setStringParam,setStringParam=_useWiredContext$setS===void 0?null:_useWiredContext$setS,_useWiredContext$setF=_useWiredContext.setFurniIds,setFurniIds=_useWiredContext$setF===void 0?null:_useWiredContext$setF,_useWiredContext$save=_useWiredContext.saveWired,saveWired=_useWiredContext$save===void 0?null:_useWiredContext$save;var close=function close(){return setTrigger(null);};var onSave=function onSave(){if(validate&&!validate())return;if(save)save();setNeedsSave(true);};useEffect(function(){if(!needsSave)return;saveWired();setNeedsSave(false);},[needsSave,saveWired]);useEffect(function(){if(!trigger)return;var spriteId=trigger.spriteId||-1;var furniData=GetSessionDataManager().getFloorItemData(spriteId);if(!furniData){setWiredName('NAME: '+spriteId);setWiredDescription('NAME: '+spriteId);}else{setWiredName(furniData.name);setWiredDescription(furniData.description);}if(hasSpecialInput){setIntParams(trigger.intData);setStringParam(trigger.stringData);}if(requiresFurni>WiredFurniType.STUFF_SELECTION_OPTION_NONE){setFurniIds(function(prevValue){if(prevValue&&prevValue.length)WiredSelectionVisualizer.clearSelectionShaderFromFurni(prevValue);if(trigger.selectedItems&&trigger.selectedItems.length){WiredSelectionVisualizer.applySelectionShaderToFurni(trigger.selectedItems);return trigger.selectedItems;}return[];});}return function(){setNeedsSave(false);setIntParams([]);setStringParam(null);setFurniIds(function(prevValue){if(prevValue&&prevValue.length)WiredSelectionVisualizer.clearSelectionShaderFromFurni(prevValue);return[];});};},[trigger,hasSpecialInput,requiresFurni,setIntParams,setStringParam,setFurniIds]);return/*#__PURE__*/_jsxs(NitroCardView,{uniqueKey:\"nitro-wired\",className:\"nitro-wired\",theme:\"primary-slim\",children:[/*#__PURE__*/_jsx(NitroCardHeaderView,{headerText:LocalizeText('wiredfurni.title'),onCloseClick:close}),/*#__PURE__*/_jsxs(NitroCardContentView,{children:[/*#__PURE__*/_jsxs(Column,{gap:1,children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(\"i\",{className:\"icon icon-wired-\".concat(wiredType)}),/*#__PURE__*/_jsx(Text,{bold:true,children:wiredName})]}),/*#__PURE__*/_jsx(Text,{small:true,children:wiredDescription})]}),!!children&&/*#__PURE__*/_jsx(\"hr\",{className:\"m-0 bg-dark\"}),children,requiresFurni>WiredFurniType.STUFF_SELECTION_OPTION_NONE&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{className:\"m-0 bg-dark\"}),/*#__PURE__*/_jsx(WiredFurniSelectorView,{})]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"success\",onClick:onSave,children:LocalizeText('wiredfurni.ready')}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"secondary\",onClick:close,children:LocalizeText('cancel')})]})]})]});};","map":null,"metadata":{},"sourceType":"module"}