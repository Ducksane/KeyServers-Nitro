{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Luis/Downloads/Habboom/Nitro-Edit/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Disposable}from'../common/disposable/Disposable';import{SocketConnection}from'./connections/SocketConnection';export var CommunicationManager=/*#__PURE__*/function(_Disposable){_inherits(CommunicationManager,_Disposable);var _super=_createSuper(CommunicationManager);function CommunicationManager(){var _this;_classCallCheck(this,CommunicationManager);_this=_super.call(this);_this._connections=void 0;_this._connections=[];return _this;}_createClass(CommunicationManager,[{key:\"onDispose\",value:function onDispose(){if(!this._connections||!this._connections.length)return;var _iterator=_createForOfIteratorHelper(this._connections.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var connection=_step.value;connection&&connection.dispose();}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},{key:\"createConnection\",value:function createConnection(){var stateListener=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var connection=new SocketConnection(this,stateListener);if(!connection)return;this._connections.push(connection);return connection;}},{key:\"update\",value:function update(time){var index=0;while(index<this._connections.length){var connection=this._connections[index];connection.processReceivedData();if(this.disposed)return;if(connection.disposed)this._connections.splice(index,1);else index++;}}}]);return CommunicationManager;}(Disposable);","map":null,"metadata":{},"sourceType":"module"}