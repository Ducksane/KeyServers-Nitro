/*!
 * @pixi/canvas-extract - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
import{RenderTexture as e}from"@pixi/core";import{CanvasRenderTarget as t}from"@pixi/utils";import{Rectangle as r}from"@pixi/math";var n=new r,a=function(){function r(e){this.renderer=e}return r.prototype.image=function(e,t,r){var n=new Image;return n.src=this.base64(e,t,r),n},r.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},r.prototype.canvas=function(r){var a,o,i,s,h=this.renderer;r&&(s=r instanceof e?r:h.generateTexture(r)),s?(a=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,i=s.frame):(a=h.rootContext,o=h.resolution,(i=n).width=this.renderer.width,i.height=this.renderer.height);var u=Math.floor(i.width*o+1e-4),c=Math.floor(i.height*o+1e-4),g=new t(u,c,1),p=a.getImageData(i.x*o,i.y*o,u,c);return g.context.putImageData(p,0,0),g.canvas},r.prototype.pixels=function(t){var r,a,o,i,s=this.renderer;t&&(i=t instanceof e?t:s.generateTexture(t)),i?(r=i.baseTexture._canvasRenderTarget.context,a=i.baseTexture._canvasRenderTarget.resolution,o=i.frame):(r=s.rootContext,a=s.resolution,(o=n).width=s.width,o.height=s.height);var h=o.x*a,u=o.y*a,c=o.width*a,g=o.height*a;return r.getImageData(h,u,c,g).data},r.prototype.destroy=function(){this.renderer=null},r}();export{a as CanvasExtract};
//# sourceMappingURL=canvas-extract.min.js.map
