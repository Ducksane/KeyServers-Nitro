/*!
 * @pixi/canvas-extract - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var core=require("@pixi/core"),utils=require("@pixi/utils"),math=require("@pixi/math"),TEMP_RECT=new math.Rectangle,CanvasExtract=function(){function e(e){this.renderer=e}return e.prototype.image=function(e,t,r){var a=new Image;return a.src=this.base64(e,t,r),a},e.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},e.prototype.canvas=function(e){var t,r,a,n,o=this.renderer;e&&(n=e instanceof core.RenderTexture?e:o.generateTexture(e)),n?(t=n.baseTexture._canvasRenderTarget.context,r=n.baseTexture._canvasRenderTarget.resolution,a=n.frame):(t=o.rootContext,r=o.resolution,(a=TEMP_RECT).width=this.renderer.width,a.height=this.renderer.height);var i=Math.floor(a.width*r+1e-4),s=Math.floor(a.height*r+1e-4),u=new utils.CanvasRenderTarget(i,s,1),h=t.getImageData(a.x*r,a.y*r,i,s);return u.context.putImageData(h,0,0),u.canvas},e.prototype.pixels=function(e){var t,r,a,n,o=this.renderer;e&&(n=e instanceof core.RenderTexture?e:o.generateTexture(e)),n?(t=n.baseTexture._canvasRenderTarget.context,r=n.baseTexture._canvasRenderTarget.resolution,a=n.frame):(t=o.rootContext,r=o.resolution,(a=TEMP_RECT).width=o.width,a.height=o.height);var i=a.x*r,s=a.y*r,u=a.width*r,h=a.height*r;return t.getImageData(i,s,u,h).data},e.prototype.destroy=function(){this.renderer=null},e}();exports.CanvasExtract=CanvasExtract;
//# sourceMappingURL=canvas-extract.min.js.map
